!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=303)}([function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(34),a=function(){function e(e){this.logger=e,this.taskName="BaseTask",this.parentTask=null,this.status=o.default.IDLE,this.run=this.baseRun.bind(this,this.run),this.cancel=this.baseCancel.bind(this,this.cancel)}return e.prototype.cancel=function(){},e.prototype.name=function(){return this.parentTask?this.parentTask.name()+"/"+this.taskName:this.taskName},e.prototype.setParent=function(e){this.parentTask=e},e.prototype.getStatus=function(){return this.status},e.prototype.logAndThrow=function(e){throw this.logger.info(e),new Error(e)},e.prototype.baseRun=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:switch(n.trys.push([0,2,3,4]),t=Date.now(),this.logger.info("running task "+this.name()),this.status){case o.default.RUNNING:this.logAndThrow(this.name()+" is already running");case o.default.CANCELED:this.logAndThrow(this.name()+" was canceled before running");case o.default.FINISHED:this.logAndThrow(this.name()+" was already finished")}return this.status=o.default.RUNNING,[4,e.call(this)];case 1:return n.sent(),this.logger.info(this.name()+" took "+Math.round(Date.now()-t)+" ms"),[3,4];case 2:throw n.sent();case 3:return this.status!==o.default.CANCELED&&(this.status=o.default.FINISHED),[7];case 4:return[2]}}))}))},e.prototype.baseCancel=function(e){this.status!==o.default.CANCELED&&this.status!==o.default.FINISHED&&(this.logger.info("canceling task "+this.name()),this.status=o.default.CANCELED,e.call(this))},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(95),i=n(96),o=function(){function e(){}return e.of=function(e){return null==e?r.default.of():i.default.of(e)},e}();t.default=o},function(e,t,n){"use strict";var r,i,o=n(109),a=o.Reader,s=o.Writer,c=o.util,u=o.roots.default||(o.roots.default={});u.SdkSignalFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.timestampMs=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.type=1,e.prototype.error=null,e.prototype.join=null,e.prototype.joinack=null,e.prototype.sub=null,e.prototype.suback=null,e.prototype.index=null,e.prototype.pause=null,e.prototype.leave=null,e.prototype.leaveAck=null,e.prototype.bitrates=null,e.prototype.audioControl=null,e.prototype.audioMetadata=null,e.prototype.audioStreamIdInfo=null,e.prototype.pingPong=null,e.prototype.audioStatus=null,e.prototype.clientMetric=null,e.prototype.dataMessage=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).uint64(e.timestampMs),t.uint32(16).int32(e.type),null!=e.error&&e.hasOwnProperty("error")&&u.SdkErrorFrame.encode(e.error,t.uint32(26).fork()).ldelim(),null!=e.join&&e.hasOwnProperty("join")&&u.SdkJoinFrame.encode(e.join,t.uint32(34).fork()).ldelim(),null!=e.joinack&&e.hasOwnProperty("joinack")&&u.SdkJoinAckFrame.encode(e.joinack,t.uint32(42).fork()).ldelim(),null!=e.sub&&e.hasOwnProperty("sub")&&u.SdkSubscribeFrame.encode(e.sub,t.uint32(50).fork()).ldelim(),null!=e.suback&&e.hasOwnProperty("suback")&&u.SdkSubscribeAckFrame.encode(e.suback,t.uint32(58).fork()).ldelim(),null!=e.index&&e.hasOwnProperty("index")&&u.SdkIndexFrame.encode(e.index,t.uint32(66).fork()).ldelim(),null!=e.pause&&e.hasOwnProperty("pause")&&u.SdkPauseResumeFrame.encode(e.pause,t.uint32(82).fork()).ldelim(),null!=e.leave&&e.hasOwnProperty("leave")&&u.SdkLeaveFrame.encode(e.leave,t.uint32(90).fork()).ldelim(),null!=e.leaveAck&&e.hasOwnProperty("leaveAck")&&u.SdkLeaveAckFrame.encode(e.leaveAck,t.uint32(98).fork()).ldelim(),null!=e.bitrates&&e.hasOwnProperty("bitrates")&&u.SdkBitrateFrame.encode(e.bitrates,t.uint32(114).fork()).ldelim(),null!=e.audioControl&&e.hasOwnProperty("audioControl")&&u.SdkAudioControlFrame.encode(e.audioControl,t.uint32(138).fork()).ldelim(),null!=e.audioMetadata&&e.hasOwnProperty("audioMetadata")&&u.SdkAudioMetadataFrame.encode(e.audioMetadata,t.uint32(146).fork()).ldelim(),null!=e.audioStreamIdInfo&&e.hasOwnProperty("audioStreamIdInfo")&&u.SdkAudioStreamIdInfoFrame.encode(e.audioStreamIdInfo,t.uint32(154).fork()).ldelim(),null!=e.pingPong&&e.hasOwnProperty("pingPong")&&u.SdkPingPongFrame.encode(e.pingPong,t.uint32(162).fork()).ldelim(),null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&u.SdkAudioStatusFrame.encode(e.audioStatus,t.uint32(170).fork()).ldelim(),null!=e.clientMetric&&e.hasOwnProperty("clientMetric")&&u.SdkClientMetricFrame.encode(e.clientMetric,t.uint32(178).fork()).ldelim(),null!=e.dataMessage&&e.hasOwnProperty("dataMessage")&&u.SdkDataMessageFrame.encode(e.dataMessage,t.uint32(186).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkSignalFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.timestampMs=e.uint64();break;case 2:r.type=e.int32();break;case 3:r.error=u.SdkErrorFrame.decode(e,e.uint32());break;case 4:r.join=u.SdkJoinFrame.decode(e,e.uint32());break;case 5:r.joinack=u.SdkJoinAckFrame.decode(e,e.uint32());break;case 6:r.sub=u.SdkSubscribeFrame.decode(e,e.uint32());break;case 7:r.suback=u.SdkSubscribeAckFrame.decode(e,e.uint32());break;case 8:r.index=u.SdkIndexFrame.decode(e,e.uint32());break;case 10:r.pause=u.SdkPauseResumeFrame.decode(e,e.uint32());break;case 11:r.leave=u.SdkLeaveFrame.decode(e,e.uint32());break;case 12:r.leaveAck=u.SdkLeaveAckFrame.decode(e,e.uint32());break;case 14:r.bitrates=u.SdkBitrateFrame.decode(e,e.uint32());break;case 17:r.audioControl=u.SdkAudioControlFrame.decode(e,e.uint32());break;case 18:r.audioMetadata=u.SdkAudioMetadataFrame.decode(e,e.uint32());break;case 19:r.audioStreamIdInfo=u.SdkAudioStreamIdInfoFrame.decode(e,e.uint32());break;case 20:r.pingPong=u.SdkPingPongFrame.decode(e,e.uint32());break;case 21:r.audioStatus=u.SdkAudioStatusFrame.decode(e,e.uint32());break;case 22:r.clientMetric=u.SdkClientMetricFrame.decode(e,e.uint32());break;case 23:r.dataMessage=u.SdkDataMessageFrame.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!r.hasOwnProperty("timestampMs"))throw c.ProtocolError("missing required 'timestampMs'",{instance:r});if(!r.hasOwnProperty("type"))throw c.ProtocolError("missing required 'type'",{instance:r});return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(!(c.isInteger(e.timestampMs)||e.timestampMs&&c.isInteger(e.timestampMs.low)&&c.isInteger(e.timestampMs.high)))return"timestampMs: integer|Long expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case 10:case 13:case 16:case 17:case 18:case 19:case 20:case 21:case 22:}var t;if(null!=e.error&&e.hasOwnProperty("error")&&(t=u.SdkErrorFrame.verify(e.error)))return"error."+t;if(null!=e.join&&e.hasOwnProperty("join")&&(t=u.SdkJoinFrame.verify(e.join)))return"join."+t;if(null!=e.joinack&&e.hasOwnProperty("joinack")&&(t=u.SdkJoinAckFrame.verify(e.joinack)))return"joinack."+t;if(null!=e.sub&&e.hasOwnProperty("sub")&&(t=u.SdkSubscribeFrame.verify(e.sub)))return"sub."+t;if(null!=e.suback&&e.hasOwnProperty("suback")&&(t=u.SdkSubscribeAckFrame.verify(e.suback)))return"suback."+t;if(null!=e.index&&e.hasOwnProperty("index")&&(t=u.SdkIndexFrame.verify(e.index)))return"index."+t;if(null!=e.pause&&e.hasOwnProperty("pause")&&(t=u.SdkPauseResumeFrame.verify(e.pause)))return"pause."+t;if(null!=e.leave&&e.hasOwnProperty("leave")&&(t=u.SdkLeaveFrame.verify(e.leave)))return"leave."+t;if(null!=e.leaveAck&&e.hasOwnProperty("leaveAck")&&(t=u.SdkLeaveAckFrame.verify(e.leaveAck)))return"leaveAck."+t;if(null!=e.bitrates&&e.hasOwnProperty("bitrates")&&(t=u.SdkBitrateFrame.verify(e.bitrates)))return"bitrates."+t;if(null!=e.audioControl&&e.hasOwnProperty("audioControl")&&(t=u.SdkAudioControlFrame.verify(e.audioControl)))return"audioControl."+t;if(null!=e.audioMetadata&&e.hasOwnProperty("audioMetadata")&&(t=u.SdkAudioMetadataFrame.verify(e.audioMetadata)))return"audioMetadata."+t;if(null!=e.audioStreamIdInfo&&e.hasOwnProperty("audioStreamIdInfo")&&(t=u.SdkAudioStreamIdInfoFrame.verify(e.audioStreamIdInfo)))return"audioStreamIdInfo."+t;if(null!=e.pingPong&&e.hasOwnProperty("pingPong")&&(t=u.SdkPingPongFrame.verify(e.pingPong)))return"pingPong."+t;if(null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&(t=u.SdkAudioStatusFrame.verify(e.audioStatus)))return"audioStatus."+t;if(null!=e.clientMetric&&e.hasOwnProperty("clientMetric")&&(t=u.SdkClientMetricFrame.verify(e.clientMetric)))return"clientMetric."+t;if(null!=e.dataMessage&&e.hasOwnProperty("dataMessage")&&(t=u.SdkDataMessageFrame.verify(e.dataMessage)))return"dataMessage."+t;return null},e.fromObject=function(e){if(e instanceof u.SdkSignalFrame)return e;var t=new u.SdkSignalFrame;switch(null!=e.timestampMs&&(c.Long?(t.timestampMs=c.Long.fromValue(e.timestampMs)).unsigned=!0:"string"==typeof e.timestampMs?t.timestampMs=parseInt(e.timestampMs,10):"number"==typeof e.timestampMs?t.timestampMs=e.timestampMs:"object"==typeof e.timestampMs&&(t.timestampMs=new c.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0))),e.type){case"JOIN":case 1:t.type=1;break;case"JOIN_ACK":case 2:t.type=2;break;case"SUBSCRIBE":case 3:t.type=3;break;case"SUBSCRIBE_ACK":case 4:t.type=4;break;case"INDEX":case 5:t.type=5;break;case"PAUSE":case 7:t.type=7;break;case"RESUME":case 8:t.type=8;break;case"LEAVE":case 9:t.type=9;break;case"LEAVE_ACK":case 10:t.type=10;break;case"BITRATES":case 13:t.type=13;break;case"AUDIO_CONTROL":case 16:t.type=16;break;case"AUDIO_METADATA":case 17:t.type=17;break;case"AUDIO_STREAM_ID_INFO":case 18:t.type=18;break;case"PING_PONG":case 19:t.type=19;break;case"AUDIO_STATUS":case 20:t.type=20;break;case"CLIENT_METRIC":case 21:t.type=21;break;case"DATA_MESSAGE":case 22:t.type=22}if(null!=e.error){if("object"!=typeof e.error)throw TypeError(".SdkSignalFrame.error: object expected");t.error=u.SdkErrorFrame.fromObject(e.error)}if(null!=e.join){if("object"!=typeof e.join)throw TypeError(".SdkSignalFrame.join: object expected");t.join=u.SdkJoinFrame.fromObject(e.join)}if(null!=e.joinack){if("object"!=typeof e.joinack)throw TypeError(".SdkSignalFrame.joinack: object expected");t.joinack=u.SdkJoinAckFrame.fromObject(e.joinack)}if(null!=e.sub){if("object"!=typeof e.sub)throw TypeError(".SdkSignalFrame.sub: object expected");t.sub=u.SdkSubscribeFrame.fromObject(e.sub)}if(null!=e.suback){if("object"!=typeof e.suback)throw TypeError(".SdkSignalFrame.suback: object expected");t.suback=u.SdkSubscribeAckFrame.fromObject(e.suback)}if(null!=e.index){if("object"!=typeof e.index)throw TypeError(".SdkSignalFrame.index: object expected");t.index=u.SdkIndexFrame.fromObject(e.index)}if(null!=e.pause){if("object"!=typeof e.pause)throw TypeError(".SdkSignalFrame.pause: object expected");t.pause=u.SdkPauseResumeFrame.fromObject(e.pause)}if(null!=e.leave){if("object"!=typeof e.leave)throw TypeError(".SdkSignalFrame.leave: object expected");t.leave=u.SdkLeaveFrame.fromObject(e.leave)}if(null!=e.leaveAck){if("object"!=typeof e.leaveAck)throw TypeError(".SdkSignalFrame.leaveAck: object expected");t.leaveAck=u.SdkLeaveAckFrame.fromObject(e.leaveAck)}if(null!=e.bitrates){if("object"!=typeof e.bitrates)throw TypeError(".SdkSignalFrame.bitrates: object expected");t.bitrates=u.SdkBitrateFrame.fromObject(e.bitrates)}if(null!=e.audioControl){if("object"!=typeof e.audioControl)throw TypeError(".SdkSignalFrame.audioControl: object expected");t.audioControl=u.SdkAudioControlFrame.fromObject(e.audioControl)}if(null!=e.audioMetadata){if("object"!=typeof e.audioMetadata)throw TypeError(".SdkSignalFrame.audioMetadata: object expected");t.audioMetadata=u.SdkAudioMetadataFrame.fromObject(e.audioMetadata)}if(null!=e.audioStreamIdInfo){if("object"!=typeof e.audioStreamIdInfo)throw TypeError(".SdkSignalFrame.audioStreamIdInfo: object expected");t.audioStreamIdInfo=u.SdkAudioStreamIdInfoFrame.fromObject(e.audioStreamIdInfo)}if(null!=e.pingPong){if("object"!=typeof e.pingPong)throw TypeError(".SdkSignalFrame.pingPong: object expected");t.pingPong=u.SdkPingPongFrame.fromObject(e.pingPong)}if(null!=e.audioStatus){if("object"!=typeof e.audioStatus)throw TypeError(".SdkSignalFrame.audioStatus: object expected");t.audioStatus=u.SdkAudioStatusFrame.fromObject(e.audioStatus)}if(null!=e.clientMetric){if("object"!=typeof e.clientMetric)throw TypeError(".SdkSignalFrame.clientMetric: object expected");t.clientMetric=u.SdkClientMetricFrame.fromObject(e.clientMetric)}if(null!=e.dataMessage){if("object"!=typeof e.dataMessage)throw TypeError(".SdkSignalFrame.dataMessage: object expected");t.dataMessage=u.SdkDataMessageFrame.fromObject(e.dataMessage)}return t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.timestampMs=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.timestampMs=t.longs===String?"0":0;n.type=t.enums===String?"JOIN":1,n.error=null,n.join=null,n.joinack=null,n.sub=null,n.suback=null,n.index=null,n.pause=null,n.leave=null,n.leaveAck=null,n.bitrates=null,n.audioControl=null,n.audioMetadata=null,n.audioStreamIdInfo=null,n.pingPong=null,n.audioStatus=null,n.clientMetric=null,n.dataMessage=null}return null!=e.timestampMs&&e.hasOwnProperty("timestampMs")&&("number"==typeof e.timestampMs?n.timestampMs=t.longs===String?String(e.timestampMs):e.timestampMs:n.timestampMs=t.longs===String?c.Long.prototype.toString.call(e.timestampMs):t.longs===Number?new c.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0):e.timestampMs),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?u.SdkSignalFrame.Type[e.type]:e.type),null!=e.error&&e.hasOwnProperty("error")&&(n.error=u.SdkErrorFrame.toObject(e.error,t)),null!=e.join&&e.hasOwnProperty("join")&&(n.join=u.SdkJoinFrame.toObject(e.join,t)),null!=e.joinack&&e.hasOwnProperty("joinack")&&(n.joinack=u.SdkJoinAckFrame.toObject(e.joinack,t)),null!=e.sub&&e.hasOwnProperty("sub")&&(n.sub=u.SdkSubscribeFrame.toObject(e.sub,t)),null!=e.suback&&e.hasOwnProperty("suback")&&(n.suback=u.SdkSubscribeAckFrame.toObject(e.suback,t)),null!=e.index&&e.hasOwnProperty("index")&&(n.index=u.SdkIndexFrame.toObject(e.index,t)),null!=e.pause&&e.hasOwnProperty("pause")&&(n.pause=u.SdkPauseResumeFrame.toObject(e.pause,t)),null!=e.leave&&e.hasOwnProperty("leave")&&(n.leave=u.SdkLeaveFrame.toObject(e.leave,t)),null!=e.leaveAck&&e.hasOwnProperty("leaveAck")&&(n.leaveAck=u.SdkLeaveAckFrame.toObject(e.leaveAck,t)),null!=e.bitrates&&e.hasOwnProperty("bitrates")&&(n.bitrates=u.SdkBitrateFrame.toObject(e.bitrates,t)),null!=e.audioControl&&e.hasOwnProperty("audioControl")&&(n.audioControl=u.SdkAudioControlFrame.toObject(e.audioControl,t)),null!=e.audioMetadata&&e.hasOwnProperty("audioMetadata")&&(n.audioMetadata=u.SdkAudioMetadataFrame.toObject(e.audioMetadata,t)),null!=e.audioStreamIdInfo&&e.hasOwnProperty("audioStreamIdInfo")&&(n.audioStreamIdInfo=u.SdkAudioStreamIdInfoFrame.toObject(e.audioStreamIdInfo,t)),null!=e.pingPong&&e.hasOwnProperty("pingPong")&&(n.pingPong=u.SdkPingPongFrame.toObject(e.pingPong,t)),null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&(n.audioStatus=u.SdkAudioStatusFrame.toObject(e.audioStatus,t)),null!=e.clientMetric&&e.hasOwnProperty("clientMetric")&&(n.clientMetric=u.SdkClientMetricFrame.toObject(e.clientMetric,t)),null!=e.dataMessage&&e.hasOwnProperty("dataMessage")&&(n.dataMessage=u.SdkDataMessageFrame.toObject(e.dataMessage,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Type=(t={},(n=Object.create(t))[t[1]="JOIN"]=1,n[t[2]="JOIN_ACK"]=2,n[t[3]="SUBSCRIBE"]=3,n[t[4]="SUBSCRIBE_ACK"]=4,n[t[5]="INDEX"]=5,n[t[7]="PAUSE"]=7,n[t[8]="RESUME"]=8,n[t[9]="LEAVE"]=9,n[t[10]="LEAVE_ACK"]=10,n[t[13]="BITRATES"]=13,n[t[16]="AUDIO_CONTROL"]=16,n[t[17]="AUDIO_METADATA"]=17,n[t[18]="AUDIO_STREAM_ID_INFO"]=18,n[t[19]="PING_PONG"]=19,n[t[20]="AUDIO_STATUS"]=20,n[t[21]="CLIENT_METRIC"]=21,n[t[22]="DATA_MESSAGE"]=22,n),e}(),u.SdkErrorFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.status=0,e.prototype.description="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.status&&e.hasOwnProperty("status")&&t.uint32(8).uint32(e.status),null!=e.description&&e.hasOwnProperty("description")&&t.uint32(18).string(e.description),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkErrorFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.status=e.uint32();break;case 2:r.description=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.status&&e.hasOwnProperty("status")&&!c.isInteger(e.status)?"status: integer expected":null!=e.description&&e.hasOwnProperty("description")&&!c.isString(e.description)?"description: string expected":null},e.fromObject=function(e){if(e instanceof u.SdkErrorFrame)return e;var t=new u.SdkErrorFrame;return null!=e.status&&(t.status=e.status>>>0),null!=e.description&&(t.description=String(e.description)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.status=0,n.description=""),null!=e.status&&e.hasOwnProperty("status")&&(n.status=e.status),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkJoinFlags=(r={},(i=Object.create(r))[r[1]="SEND_BITRATES"]=1,i[r[2]="HAS_STREAM_UPDATE"]=2,i[r[8]="USE_SEND_SIDE_BWE"]=8,i),u.SdkClientDetails=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.appVersionName="",e.prototype.appVersionCode="",e.prototype.deviceModel="",e.prototype.deviceMake="",e.prototype.platformName="",e.prototype.platformVersion="",e.prototype.clientSource="",e.prototype.chimeSdkVersion="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.appVersionName&&e.hasOwnProperty("appVersionName")&&t.uint32(10).string(e.appVersionName),null!=e.appVersionCode&&e.hasOwnProperty("appVersionCode")&&t.uint32(18).string(e.appVersionCode),null!=e.deviceModel&&e.hasOwnProperty("deviceModel")&&t.uint32(26).string(e.deviceModel),null!=e.deviceMake&&e.hasOwnProperty("deviceMake")&&t.uint32(34).string(e.deviceMake),null!=e.platformName&&e.hasOwnProperty("platformName")&&t.uint32(42).string(e.platformName),null!=e.platformVersion&&e.hasOwnProperty("platformVersion")&&t.uint32(50).string(e.platformVersion),null!=e.clientSource&&e.hasOwnProperty("clientSource")&&t.uint32(58).string(e.clientSource),null!=e.chimeSdkVersion&&e.hasOwnProperty("chimeSdkVersion")&&t.uint32(66).string(e.chimeSdkVersion),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkClientDetails;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.appVersionName=e.string();break;case 2:r.appVersionCode=e.string();break;case 3:r.deviceModel=e.string();break;case 4:r.deviceMake=e.string();break;case 5:r.platformName=e.string();break;case 6:r.platformVersion=e.string();break;case 7:r.clientSource=e.string();break;case 8:r.chimeSdkVersion=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.appVersionName&&e.hasOwnProperty("appVersionName")&&!c.isString(e.appVersionName)?"appVersionName: string expected":null!=e.appVersionCode&&e.hasOwnProperty("appVersionCode")&&!c.isString(e.appVersionCode)?"appVersionCode: string expected":null!=e.deviceModel&&e.hasOwnProperty("deviceModel")&&!c.isString(e.deviceModel)?"deviceModel: string expected":null!=e.deviceMake&&e.hasOwnProperty("deviceMake")&&!c.isString(e.deviceMake)?"deviceMake: string expected":null!=e.platformName&&e.hasOwnProperty("platformName")&&!c.isString(e.platformName)?"platformName: string expected":null!=e.platformVersion&&e.hasOwnProperty("platformVersion")&&!c.isString(e.platformVersion)?"platformVersion: string expected":null!=e.clientSource&&e.hasOwnProperty("clientSource")&&!c.isString(e.clientSource)?"clientSource: string expected":null!=e.chimeSdkVersion&&e.hasOwnProperty("chimeSdkVersion")&&!c.isString(e.chimeSdkVersion)?"chimeSdkVersion: string expected":null},e.fromObject=function(e){if(e instanceof u.SdkClientDetails)return e;var t=new u.SdkClientDetails;return null!=e.appVersionName&&(t.appVersionName=String(e.appVersionName)),null!=e.appVersionCode&&(t.appVersionCode=String(e.appVersionCode)),null!=e.deviceModel&&(t.deviceModel=String(e.deviceModel)),null!=e.deviceMake&&(t.deviceMake=String(e.deviceMake)),null!=e.platformName&&(t.platformName=String(e.platformName)),null!=e.platformVersion&&(t.platformVersion=String(e.platformVersion)),null!=e.clientSource&&(t.clientSource=String(e.clientSource)),null!=e.chimeSdkVersion&&(t.chimeSdkVersion=String(e.chimeSdkVersion)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.appVersionName="",n.appVersionCode="",n.deviceModel="",n.deviceMake="",n.platformName="",n.platformVersion="",n.clientSource="",n.chimeSdkVersion=""),null!=e.appVersionName&&e.hasOwnProperty("appVersionName")&&(n.appVersionName=e.appVersionName),null!=e.appVersionCode&&e.hasOwnProperty("appVersionCode")&&(n.appVersionCode=e.appVersionCode),null!=e.deviceModel&&e.hasOwnProperty("deviceModel")&&(n.deviceModel=e.deviceModel),null!=e.deviceMake&&e.hasOwnProperty("deviceMake")&&(n.deviceMake=e.deviceMake),null!=e.platformName&&e.hasOwnProperty("platformName")&&(n.platformName=e.platformName),null!=e.platformVersion&&e.hasOwnProperty("platformVersion")&&(n.platformVersion=e.platformVersion),null!=e.clientSource&&e.hasOwnProperty("clientSource")&&(n.clientSource=e.clientSource),null!=e.chimeSdkVersion&&e.hasOwnProperty("chimeSdkVersion")&&(n.chimeSdkVersion=e.chimeSdkVersion),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkJoinFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.protocolVersion=2,e.prototype.maxNumOfVideos=8,e.prototype.flags=0,e.prototype.clientDetails=null,e.prototype.audioSessionId=c.Long?c.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.protocolVersion&&e.hasOwnProperty("protocolVersion")&&t.uint32(8).uint32(e.protocolVersion),null!=e.maxNumOfVideos&&e.hasOwnProperty("maxNumOfVideos")&&t.uint32(16).uint32(e.maxNumOfVideos),null!=e.flags&&e.hasOwnProperty("flags")&&t.uint32(24).uint32(e.flags),null!=e.clientDetails&&e.hasOwnProperty("clientDetails")&&u.SdkClientDetails.encode(e.clientDetails,t.uint32(34).fork()).ldelim(),null!=e.audioSessionId&&e.hasOwnProperty("audioSessionId")&&t.uint32(48).uint64(e.audioSessionId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkJoinFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.protocolVersion=e.uint32();break;case 2:r.maxNumOfVideos=e.uint32();break;case 3:r.flags=e.uint32();break;case 4:r.clientDetails=u.SdkClientDetails.decode(e,e.uint32());break;case 6:r.audioSessionId=e.uint64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.protocolVersion&&e.hasOwnProperty("protocolVersion")&&!c.isInteger(e.protocolVersion))return"protocolVersion: integer expected";if(null!=e.maxNumOfVideos&&e.hasOwnProperty("maxNumOfVideos")&&!c.isInteger(e.maxNumOfVideos))return"maxNumOfVideos: integer expected";if(null!=e.flags&&e.hasOwnProperty("flags")&&!c.isInteger(e.flags))return"flags: integer expected";if(null!=e.clientDetails&&e.hasOwnProperty("clientDetails")){var t=u.SdkClientDetails.verify(e.clientDetails);if(t)return"clientDetails."+t}return null!=e.audioSessionId&&e.hasOwnProperty("audioSessionId")&&!(c.isInteger(e.audioSessionId)||e.audioSessionId&&c.isInteger(e.audioSessionId.low)&&c.isInteger(e.audioSessionId.high))?"audioSessionId: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.SdkJoinFrame)return e;var t=new u.SdkJoinFrame;if(null!=e.protocolVersion&&(t.protocolVersion=e.protocolVersion>>>0),null!=e.maxNumOfVideos&&(t.maxNumOfVideos=e.maxNumOfVideos>>>0),null!=e.flags&&(t.flags=e.flags>>>0),null!=e.clientDetails){if("object"!=typeof e.clientDetails)throw TypeError(".SdkJoinFrame.clientDetails: object expected");t.clientDetails=u.SdkClientDetails.fromObject(e.clientDetails)}return null!=e.audioSessionId&&(c.Long?(t.audioSessionId=c.Long.fromValue(e.audioSessionId)).unsigned=!0:"string"==typeof e.audioSessionId?t.audioSessionId=parseInt(e.audioSessionId,10):"number"==typeof e.audioSessionId?t.audioSessionId=e.audioSessionId:"object"==typeof e.audioSessionId&&(t.audioSessionId=new c.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.protocolVersion=2,n.maxNumOfVideos=8,n.flags=0,n.clientDetails=null,c.Long){var r=new c.Long(0,0,!0);n.audioSessionId=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.audioSessionId=t.longs===String?"0":0;return null!=e.protocolVersion&&e.hasOwnProperty("protocolVersion")&&(n.protocolVersion=e.protocolVersion),null!=e.maxNumOfVideos&&e.hasOwnProperty("maxNumOfVideos")&&(n.maxNumOfVideos=e.maxNumOfVideos),null!=e.flags&&e.hasOwnProperty("flags")&&(n.flags=e.flags),null!=e.clientDetails&&e.hasOwnProperty("clientDetails")&&(n.clientDetails=u.SdkClientDetails.toObject(e.clientDetails,t)),null!=e.audioSessionId&&e.hasOwnProperty("audioSessionId")&&("number"==typeof e.audioSessionId?n.audioSessionId=t.longs===String?String(e.audioSessionId):e.audioSessionId:n.audioSessionId=t.longs===String?c.Long.prototype.toString.call(e.audioSessionId):t.longs===Number?new c.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0):e.audioSessionId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkJoinAckFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.turnCredentials=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.turnCredentials&&e.hasOwnProperty("turnCredentials")&&u.SdkTurnCredentials.encode(e.turnCredentials,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkJoinAckFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.turnCredentials=u.SdkTurnCredentials.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.turnCredentials&&e.hasOwnProperty("turnCredentials")){var t=u.SdkTurnCredentials.verify(e.turnCredentials);if(t)return"turnCredentials."+t}return null},e.fromObject=function(e){if(e instanceof u.SdkJoinAckFrame)return e;var t=new u.SdkJoinAckFrame;if(null!=e.turnCredentials){if("object"!=typeof e.turnCredentials)throw TypeError(".SdkJoinAckFrame.turnCredentials: object expected");t.turnCredentials=u.SdkTurnCredentials.fromObject(e.turnCredentials)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.turnCredentials=null),null!=e.turnCredentials&&e.hasOwnProperty("turnCredentials")&&(n.turnCredentials=u.SdkTurnCredentials.toObject(e.turnCredentials,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkLeaveFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkLeaveFrame;e.pos<n;){var i=e.uint32();e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof u.SdkLeaveFrame?e:new u.SdkLeaveFrame},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkLeaveAckFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkLeaveAckFrame;e.pos<n;){var i=e.uint32();e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof u.SdkLeaveAckFrame?e:new u.SdkLeaveAckFrame},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkStreamServiceType=function(){var e={},t=Object.create(e);return t[e[1]="RX"]=1,t[e[2]="TX"]=2,t[e[3]="DUPLEX"]=3,t}(),u.SdkStreamMediaType=function(){var e={},t=Object.create(e);return t[e[1]="AUDIO"]=1,t[e[2]="VIDEO"]=2,t}(),u.SdkSubscribeFrame=function(){function e(e){if(this.sendStreams=[],this.receiveStreamIds=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.duplex=1,e.prototype.sendStreams=c.emptyArray,e.prototype.receiveStreamIds=c.emptyArray,e.prototype.sdpOffer="",e.prototype.audioHost="",e.prototype.audioCheckin=!1,e.prototype.audioMuted=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.duplex&&e.hasOwnProperty("duplex")&&t.uint32(8).int32(e.duplex),null!=e.sendStreams&&e.sendStreams.length)for(var n=0;n<e.sendStreams.length;++n)u.SdkStreamDescriptor.encode(e.sendStreams[n],t.uint32(18).fork()).ldelim();if(null!=e.receiveStreamIds&&e.receiveStreamIds.length)for(n=0;n<e.receiveStreamIds.length;++n)t.uint32(24).uint32(e.receiveStreamIds[n]);return null!=e.sdpOffer&&e.hasOwnProperty("sdpOffer")&&t.uint32(34).string(e.sdpOffer),null!=e.audioHost&&e.hasOwnProperty("audioHost")&&t.uint32(42).string(e.audioHost),null!=e.audioCheckin&&e.hasOwnProperty("audioCheckin")&&t.uint32(48).bool(e.audioCheckin),null!=e.audioMuted&&e.hasOwnProperty("audioMuted")&&t.uint32(56).bool(e.audioMuted),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkSubscribeFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.duplex=e.int32();break;case 2:r.sendStreams&&r.sendStreams.length||(r.sendStreams=[]),r.sendStreams.push(u.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(r.receiveStreamIds&&r.receiveStreamIds.length||(r.receiveStreamIds=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)r.receiveStreamIds.push(e.uint32());else r.receiveStreamIds.push(e.uint32());break;case 4:r.sdpOffer=e.string();break;case 5:r.audioHost=e.string();break;case 6:r.audioCheckin=e.bool();break;case 7:r.audioMuted=e.bool();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.duplex&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:}if(null!=e.sendStreams&&e.hasOwnProperty("sendStreams")){if(!Array.isArray(e.sendStreams))return"sendStreams: array expected";for(var t=0;t<e.sendStreams.length;++t){var n=u.SdkStreamDescriptor.verify(e.sendStreams[t]);if(n)return"sendStreams."+n}}if(null!=e.receiveStreamIds&&e.hasOwnProperty("receiveStreamIds")){if(!Array.isArray(e.receiveStreamIds))return"receiveStreamIds: array expected";for(t=0;t<e.receiveStreamIds.length;++t)if(!c.isInteger(e.receiveStreamIds[t]))return"receiveStreamIds: integer[] expected"}return null!=e.sdpOffer&&e.hasOwnProperty("sdpOffer")&&!c.isString(e.sdpOffer)?"sdpOffer: string expected":null!=e.audioHost&&e.hasOwnProperty("audioHost")&&!c.isString(e.audioHost)?"audioHost: string expected":null!=e.audioCheckin&&e.hasOwnProperty("audioCheckin")&&"boolean"!=typeof e.audioCheckin?"audioCheckin: boolean expected":null!=e.audioMuted&&e.hasOwnProperty("audioMuted")&&"boolean"!=typeof e.audioMuted?"audioMuted: boolean expected":null},e.fromObject=function(e){if(e instanceof u.SdkSubscribeFrame)return e;var t=new u.SdkSubscribeFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3}if(e.sendStreams){if(!Array.isArray(e.sendStreams))throw TypeError(".SdkSubscribeFrame.sendStreams: array expected");t.sendStreams=[];for(var n=0;n<e.sendStreams.length;++n){if("object"!=typeof e.sendStreams[n])throw TypeError(".SdkSubscribeFrame.sendStreams: object expected");t.sendStreams[n]=u.SdkStreamDescriptor.fromObject(e.sendStreams[n])}}if(e.receiveStreamIds){if(!Array.isArray(e.receiveStreamIds))throw TypeError(".SdkSubscribeFrame.receiveStreamIds: array expected");t.receiveStreamIds=[];for(n=0;n<e.receiveStreamIds.length;++n)t.receiveStreamIds[n]=e.receiveStreamIds[n]>>>0}return null!=e.sdpOffer&&(t.sdpOffer=String(e.sdpOffer)),null!=e.audioHost&&(t.audioHost=String(e.audioHost)),null!=e.audioCheckin&&(t.audioCheckin=Boolean(e.audioCheckin)),null!=e.audioMuted&&(t.audioMuted=Boolean(e.audioMuted)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.sendStreams=[],n.receiveStreamIds=[]),t.defaults&&(n.duplex=t.enums===String?"RX":1,n.sdpOffer="",n.audioHost="",n.audioCheckin=!1,n.audioMuted=!1),null!=e.duplex&&e.hasOwnProperty("duplex")&&(n.duplex=t.enums===String?u.SdkStreamServiceType[e.duplex]:e.duplex),e.sendStreams&&e.sendStreams.length){n.sendStreams=[];for(var r=0;r<e.sendStreams.length;++r)n.sendStreams[r]=u.SdkStreamDescriptor.toObject(e.sendStreams[r],t)}if(e.receiveStreamIds&&e.receiveStreamIds.length){n.receiveStreamIds=[];for(r=0;r<e.receiveStreamIds.length;++r)n.receiveStreamIds[r]=e.receiveStreamIds[r]}return null!=e.sdpOffer&&e.hasOwnProperty("sdpOffer")&&(n.sdpOffer=e.sdpOffer),null!=e.audioHost&&e.hasOwnProperty("audioHost")&&(n.audioHost=e.audioHost),null!=e.audioCheckin&&e.hasOwnProperty("audioCheckin")&&(n.audioCheckin=e.audioCheckin),null!=e.audioMuted&&e.hasOwnProperty("audioMuted")&&(n.audioMuted=e.audioMuted),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkSubscribeAckFrame=function(){function e(e){if(this.allocations=[],this.tracks=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.duplex=1,e.prototype.allocations=c.emptyArray,e.prototype.sdpAnswer="",e.prototype.tracks=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.duplex&&e.hasOwnProperty("duplex")&&t.uint32(8).int32(e.duplex),null!=e.allocations&&e.allocations.length)for(var n=0;n<e.allocations.length;++n)u.SdkStreamAllocation.encode(e.allocations[n],t.uint32(18).fork()).ldelim();if(null!=e.sdpAnswer&&e.hasOwnProperty("sdpAnswer")&&t.uint32(26).string(e.sdpAnswer),null!=e.tracks&&e.tracks.length)for(n=0;n<e.tracks.length;++n)u.SdkTrackMapping.encode(e.tracks[n],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkSubscribeAckFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.duplex=e.int32();break;case 2:r.allocations&&r.allocations.length||(r.allocations=[]),r.allocations.push(u.SdkStreamAllocation.decode(e,e.uint32()));break;case 3:r.sdpAnswer=e.string();break;case 4:r.tracks&&r.tracks.length||(r.tracks=[]),r.tracks.push(u.SdkTrackMapping.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.duplex&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:}if(null!=e.allocations&&e.hasOwnProperty("allocations")){if(!Array.isArray(e.allocations))return"allocations: array expected";for(var t=0;t<e.allocations.length;++t){if(n=u.SdkStreamAllocation.verify(e.allocations[t]))return"allocations."+n}}if(null!=e.sdpAnswer&&e.hasOwnProperty("sdpAnswer")&&!c.isString(e.sdpAnswer))return"sdpAnswer: string expected";if(null!=e.tracks&&e.hasOwnProperty("tracks")){if(!Array.isArray(e.tracks))return"tracks: array expected";for(t=0;t<e.tracks.length;++t){var n;if(n=u.SdkTrackMapping.verify(e.tracks[t]))return"tracks."+n}}return null},e.fromObject=function(e){if(e instanceof u.SdkSubscribeAckFrame)return e;var t=new u.SdkSubscribeAckFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3}if(e.allocations){if(!Array.isArray(e.allocations))throw TypeError(".SdkSubscribeAckFrame.allocations: array expected");t.allocations=[];for(var n=0;n<e.allocations.length;++n){if("object"!=typeof e.allocations[n])throw TypeError(".SdkSubscribeAckFrame.allocations: object expected");t.allocations[n]=u.SdkStreamAllocation.fromObject(e.allocations[n])}}if(null!=e.sdpAnswer&&(t.sdpAnswer=String(e.sdpAnswer)),e.tracks){if(!Array.isArray(e.tracks))throw TypeError(".SdkSubscribeAckFrame.tracks: array expected");t.tracks=[];for(n=0;n<e.tracks.length;++n){if("object"!=typeof e.tracks[n])throw TypeError(".SdkSubscribeAckFrame.tracks: object expected");t.tracks[n]=u.SdkTrackMapping.fromObject(e.tracks[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.allocations=[],n.tracks=[]),t.defaults&&(n.duplex=t.enums===String?"RX":1,n.sdpAnswer=""),null!=e.duplex&&e.hasOwnProperty("duplex")&&(n.duplex=t.enums===String?u.SdkStreamServiceType[e.duplex]:e.duplex),e.allocations&&e.allocations.length){n.allocations=[];for(var r=0;r<e.allocations.length;++r)n.allocations[r]=u.SdkStreamAllocation.toObject(e.allocations[r],t)}if(null!=e.sdpAnswer&&e.hasOwnProperty("sdpAnswer")&&(n.sdpAnswer=e.sdpAnswer),e.tracks&&e.tracks.length){n.tracks=[];for(r=0;r<e.tracks.length;++r)n.tracks[r]=u.SdkTrackMapping.toObject(e.tracks[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkIndexFrame=function(){function e(e){if(this.sources=[],this.pausedAtSourceIds=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.atCapacity=!1,e.prototype.sources=c.emptyArray,e.prototype.pausedAtSourceIds=c.emptyArray,e.prototype.numParticipants=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.atCapacity&&e.hasOwnProperty("atCapacity")&&t.uint32(8).bool(e.atCapacity),null!=e.sources&&e.sources.length)for(var n=0;n<e.sources.length;++n)u.SdkStreamDescriptor.encode(e.sources[n],t.uint32(18).fork()).ldelim();if(null!=e.pausedAtSourceIds&&e.pausedAtSourceIds.length)for(n=0;n<e.pausedAtSourceIds.length;++n)t.uint32(24).uint32(e.pausedAtSourceIds[n]);return null!=e.numParticipants&&e.hasOwnProperty("numParticipants")&&t.uint32(32).uint32(e.numParticipants),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkIndexFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.atCapacity=e.bool();break;case 2:r.sources&&r.sources.length||(r.sources=[]),r.sources.push(u.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(r.pausedAtSourceIds&&r.pausedAtSourceIds.length||(r.pausedAtSourceIds=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)r.pausedAtSourceIds.push(e.uint32());else r.pausedAtSourceIds.push(e.uint32());break;case 4:r.numParticipants=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.atCapacity&&e.hasOwnProperty("atCapacity")&&"boolean"!=typeof e.atCapacity)return"atCapacity: boolean expected";if(null!=e.sources&&e.hasOwnProperty("sources")){if(!Array.isArray(e.sources))return"sources: array expected";for(var t=0;t<e.sources.length;++t){var n=u.SdkStreamDescriptor.verify(e.sources[t]);if(n)return"sources."+n}}if(null!=e.pausedAtSourceIds&&e.hasOwnProperty("pausedAtSourceIds")){if(!Array.isArray(e.pausedAtSourceIds))return"pausedAtSourceIds: array expected";for(t=0;t<e.pausedAtSourceIds.length;++t)if(!c.isInteger(e.pausedAtSourceIds[t]))return"pausedAtSourceIds: integer[] expected"}return null!=e.numParticipants&&e.hasOwnProperty("numParticipants")&&!c.isInteger(e.numParticipants)?"numParticipants: integer expected":null},e.fromObject=function(e){if(e instanceof u.SdkIndexFrame)return e;var t=new u.SdkIndexFrame;if(null!=e.atCapacity&&(t.atCapacity=Boolean(e.atCapacity)),e.sources){if(!Array.isArray(e.sources))throw TypeError(".SdkIndexFrame.sources: array expected");t.sources=[];for(var n=0;n<e.sources.length;++n){if("object"!=typeof e.sources[n])throw TypeError(".SdkIndexFrame.sources: object expected");t.sources[n]=u.SdkStreamDescriptor.fromObject(e.sources[n])}}if(e.pausedAtSourceIds){if(!Array.isArray(e.pausedAtSourceIds))throw TypeError(".SdkIndexFrame.pausedAtSourceIds: array expected");t.pausedAtSourceIds=[];for(n=0;n<e.pausedAtSourceIds.length;++n)t.pausedAtSourceIds[n]=e.pausedAtSourceIds[n]>>>0}return null!=e.numParticipants&&(t.numParticipants=e.numParticipants>>>0),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.sources=[],n.pausedAtSourceIds=[]),t.defaults&&(n.atCapacity=!1,n.numParticipants=0),null!=e.atCapacity&&e.hasOwnProperty("atCapacity")&&(n.atCapacity=e.atCapacity),e.sources&&e.sources.length){n.sources=[];for(var r=0;r<e.sources.length;++r)n.sources[r]=u.SdkStreamDescriptor.toObject(e.sources[r],t)}if(e.pausedAtSourceIds&&e.pausedAtSourceIds.length){n.pausedAtSourceIds=[];for(r=0;r<e.pausedAtSourceIds.length;++r)n.pausedAtSourceIds[r]=e.pausedAtSourceIds[r]}return null!=e.numParticipants&&e.hasOwnProperty("numParticipants")&&(n.numParticipants=e.numParticipants),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkPauseResumeFrame=function(){function e(e){if(this.streamIds=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.streamIds=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.streamIds&&e.streamIds.length)for(var n=0;n<e.streamIds.length;++n)t.uint32(8).uint32(e.streamIds[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkPauseResumeFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:if(r.streamIds&&r.streamIds.length||(r.streamIds=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)r.streamIds.push(e.uint32());else r.streamIds.push(e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.streamIds&&e.hasOwnProperty("streamIds")){if(!Array.isArray(e.streamIds))return"streamIds: array expected";for(var t=0;t<e.streamIds.length;++t)if(!c.isInteger(e.streamIds[t]))return"streamIds: integer[] expected"}return null},e.fromObject=function(e){if(e instanceof u.SdkPauseResumeFrame)return e;var t=new u.SdkPauseResumeFrame;if(e.streamIds){if(!Array.isArray(e.streamIds))throw TypeError(".SdkPauseResumeFrame.streamIds: array expected");t.streamIds=[];for(var n=0;n<e.streamIds.length;++n)t.streamIds[n]=e.streamIds[n]>>>0}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.streamIds=[]),e.streamIds&&e.streamIds.length){n.streamIds=[];for(var r=0;r<e.streamIds.length;++r)n.streamIds[r]=e.streamIds[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkBitrateFrame=function(){function e(e){if(this.bitrates=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.bitrates=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.bitrates&&e.bitrates.length)for(var n=0;n<e.bitrates.length;++n)u.SdkBitrate.encode(e.bitrates[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkBitrateFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.bitrates&&r.bitrates.length||(r.bitrates=[]),r.bitrates.push(u.SdkBitrate.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.bitrates&&e.hasOwnProperty("bitrates")){if(!Array.isArray(e.bitrates))return"bitrates: array expected";for(var t=0;t<e.bitrates.length;++t){var n=u.SdkBitrate.verify(e.bitrates[t]);if(n)return"bitrates."+n}}return null},e.fromObject=function(e){if(e instanceof u.SdkBitrateFrame)return e;var t=new u.SdkBitrateFrame;if(e.bitrates){if(!Array.isArray(e.bitrates))throw TypeError(".SdkBitrateFrame.bitrates: array expected");t.bitrates=[];for(var n=0;n<e.bitrates.length;++n){if("object"!=typeof e.bitrates[n])throw TypeError(".SdkBitrateFrame.bitrates: object expected");t.bitrates[n]=u.SdkBitrate.fromObject(e.bitrates[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.bitrates=[]),e.bitrates&&e.bitrates.length){n.bitrates=[];for(var r=0;r<e.bitrates.length;++r)n.bitrates[r]=u.SdkBitrate.toObject(e.bitrates[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkStreamDescriptor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.streamId=0,e.prototype.framerate=0,e.prototype.maxBitrateKbps=0,e.prototype.trackLabel="",e.prototype.groupId=0,e.prototype.avgBitrateBps=0,e.prototype.attendeeId="",e.prototype.mediaType=1,e.prototype.externalUserId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.streamId&&e.hasOwnProperty("streamId")&&t.uint32(8).uint32(e.streamId),null!=e.framerate&&e.hasOwnProperty("framerate")&&t.uint32(16).uint32(e.framerate),null!=e.maxBitrateKbps&&e.hasOwnProperty("maxBitrateKbps")&&t.uint32(24).uint32(e.maxBitrateKbps),null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&t.uint32(34).string(e.trackLabel),null!=e.groupId&&e.hasOwnProperty("groupId")&&t.uint32(48).uint32(e.groupId),null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&t.uint32(56).uint32(e.avgBitrateBps),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&t.uint32(66).string(e.attendeeId),null!=e.mediaType&&e.hasOwnProperty("mediaType")&&t.uint32(72).int32(e.mediaType),null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&t.uint32(82).string(e.externalUserId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkStreamDescriptor;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.streamId=e.uint32();break;case 2:r.framerate=e.uint32();break;case 3:r.maxBitrateKbps=e.uint32();break;case 4:r.trackLabel=e.string();break;case 6:r.groupId=e.uint32();break;case 7:r.avgBitrateBps=e.uint32();break;case 8:r.attendeeId=e.string();break;case 9:r.mediaType=e.int32();break;case 10:r.externalUserId=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.streamId&&e.hasOwnProperty("streamId")&&!c.isInteger(e.streamId))return"streamId: integer expected";if(null!=e.framerate&&e.hasOwnProperty("framerate")&&!c.isInteger(e.framerate))return"framerate: integer expected";if(null!=e.maxBitrateKbps&&e.hasOwnProperty("maxBitrateKbps")&&!c.isInteger(e.maxBitrateKbps))return"maxBitrateKbps: integer expected";if(null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&!c.isString(e.trackLabel))return"trackLabel: string expected";if(null!=e.groupId&&e.hasOwnProperty("groupId")&&!c.isInteger(e.groupId))return"groupId: integer expected";if(null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&!c.isInteger(e.avgBitrateBps))return"avgBitrateBps: integer expected";if(null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&!c.isString(e.attendeeId))return"attendeeId: string expected";if(null!=e.mediaType&&e.hasOwnProperty("mediaType"))switch(e.mediaType){default:return"mediaType: enum value expected";case 1:case 2:}return null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&!c.isString(e.externalUserId)?"externalUserId: string expected":null},e.fromObject=function(e){if(e instanceof u.SdkStreamDescriptor)return e;var t=new u.SdkStreamDescriptor;switch(null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.framerate&&(t.framerate=e.framerate>>>0),null!=e.maxBitrateKbps&&(t.maxBitrateKbps=e.maxBitrateKbps>>>0),null!=e.trackLabel&&(t.trackLabel=String(e.trackLabel)),null!=e.groupId&&(t.groupId=e.groupId>>>0),null!=e.avgBitrateBps&&(t.avgBitrateBps=e.avgBitrateBps>>>0),null!=e.attendeeId&&(t.attendeeId=String(e.attendeeId)),e.mediaType){case"AUDIO":case 1:t.mediaType=1;break;case"VIDEO":case 2:t.mediaType=2}return null!=e.externalUserId&&(t.externalUserId=String(e.externalUserId)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.streamId=0,n.framerate=0,n.maxBitrateKbps=0,n.trackLabel="",n.groupId=0,n.avgBitrateBps=0,n.attendeeId="",n.mediaType=t.enums===String?"AUDIO":1,n.externalUserId=""),null!=e.streamId&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),null!=e.framerate&&e.hasOwnProperty("framerate")&&(n.framerate=e.framerate),null!=e.maxBitrateKbps&&e.hasOwnProperty("maxBitrateKbps")&&(n.maxBitrateKbps=e.maxBitrateKbps),null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),null!=e.groupId&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&(n.avgBitrateBps=e.avgBitrateBps),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),null!=e.mediaType&&e.hasOwnProperty("mediaType")&&(n.mediaType=t.enums===String?u.SdkStreamMediaType[e.mediaType]:e.mediaType),null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkStreamAllocation=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.trackLabel="",e.prototype.streamId=0,e.prototype.groupId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&t.uint32(10).string(e.trackLabel),null!=e.streamId&&e.hasOwnProperty("streamId")&&t.uint32(16).uint32(e.streamId),null!=e.groupId&&e.hasOwnProperty("groupId")&&t.uint32(24).uint32(e.groupId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkStreamAllocation;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.trackLabel=e.string();break;case 2:r.streamId=e.uint32();break;case 3:r.groupId=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&!c.isString(e.trackLabel)?"trackLabel: string expected":null!=e.streamId&&e.hasOwnProperty("streamId")&&!c.isInteger(e.streamId)?"streamId: integer expected":null!=e.groupId&&e.hasOwnProperty("groupId")&&!c.isInteger(e.groupId)?"groupId: integer expected":null},e.fromObject=function(e){if(e instanceof u.SdkStreamAllocation)return e;var t=new u.SdkStreamAllocation;return null!=e.trackLabel&&(t.trackLabel=String(e.trackLabel)),null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.groupId&&(t.groupId=e.groupId>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.trackLabel="",n.streamId=0,n.groupId=0),null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),null!=e.streamId&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),null!=e.groupId&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkTrackMapping=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.streamId=0,e.prototype.ssrc=0,e.prototype.trackLabel="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.streamId&&e.hasOwnProperty("streamId")&&t.uint32(8).uint32(e.streamId),null!=e.ssrc&&e.hasOwnProperty("ssrc")&&t.uint32(16).uint32(e.ssrc),null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&t.uint32(26).string(e.trackLabel),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkTrackMapping;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.streamId=e.uint32();break;case 2:r.ssrc=e.uint32();break;case 3:r.trackLabel=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.streamId&&e.hasOwnProperty("streamId")&&!c.isInteger(e.streamId)?"streamId: integer expected":null!=e.ssrc&&e.hasOwnProperty("ssrc")&&!c.isInteger(e.ssrc)?"ssrc: integer expected":null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&!c.isString(e.trackLabel)?"trackLabel: string expected":null},e.fromObject=function(e){if(e instanceof u.SdkTrackMapping)return e;var t=new u.SdkTrackMapping;return null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.ssrc&&(t.ssrc=e.ssrc>>>0),null!=e.trackLabel&&(t.trackLabel=String(e.trackLabel)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.streamId=0,n.ssrc=0,n.trackLabel=""),null!=e.streamId&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),null!=e.ssrc&&e.hasOwnProperty("ssrc")&&(n.ssrc=e.ssrc),null!=e.trackLabel&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkBitrate=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sourceStreamId=0,e.prototype.avgBitrateBps=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.sourceStreamId&&e.hasOwnProperty("sourceStreamId")&&t.uint32(8).uint32(e.sourceStreamId),null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&t.uint32(16).uint32(e.avgBitrateBps),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkBitrate;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.sourceStreamId=e.uint32();break;case 2:r.avgBitrateBps=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.sourceStreamId&&e.hasOwnProperty("sourceStreamId")&&!c.isInteger(e.sourceStreamId)?"sourceStreamId: integer expected":null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&!c.isInteger(e.avgBitrateBps)?"avgBitrateBps: integer expected":null},e.fromObject=function(e){if(e instanceof u.SdkBitrate)return e;var t=new u.SdkBitrate;return null!=e.sourceStreamId&&(t.sourceStreamId=e.sourceStreamId>>>0),null!=e.avgBitrateBps&&(t.avgBitrateBps=e.avgBitrateBps>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.sourceStreamId=0,n.avgBitrateBps=0),null!=e.sourceStreamId&&e.hasOwnProperty("sourceStreamId")&&(n.sourceStreamId=e.sourceStreamId),null!=e.avgBitrateBps&&e.hasOwnProperty("avgBitrateBps")&&(n.avgBitrateBps=e.avgBitrateBps),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkAudioControlFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.muted=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.muted&&e.hasOwnProperty("muted")&&t.uint32(8).bool(e.muted),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkAudioControlFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.muted=e.bool();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!=typeof e.muted?"muted: boolean expected":null},e.fromObject=function(e){if(e instanceof u.SdkAudioControlFrame)return e;var t=new u.SdkAudioControlFrame;return null!=e.muted&&(t.muted=Boolean(e.muted)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.muted=!1),null!=e.muted&&e.hasOwnProperty("muted")&&(n.muted=e.muted),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkAudioMetadataFrame=function(){function e(e){if(this.attendeeStates=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.attendeeStates=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.attendeeStates&&e.attendeeStates.length)for(var n=0;n<e.attendeeStates.length;++n)u.SdkAudioAttendeeState.encode(e.attendeeStates[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkAudioMetadataFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.attendeeStates&&r.attendeeStates.length||(r.attendeeStates=[]),r.attendeeStates.push(u.SdkAudioAttendeeState.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.attendeeStates&&e.hasOwnProperty("attendeeStates")){if(!Array.isArray(e.attendeeStates))return"attendeeStates: array expected";for(var t=0;t<e.attendeeStates.length;++t){var n=u.SdkAudioAttendeeState.verify(e.attendeeStates[t]);if(n)return"attendeeStates."+n}}return null},e.fromObject=function(e){if(e instanceof u.SdkAudioMetadataFrame)return e;var t=new u.SdkAudioMetadataFrame;if(e.attendeeStates){if(!Array.isArray(e.attendeeStates))throw TypeError(".SdkAudioMetadataFrame.attendeeStates: array expected");t.attendeeStates=[];for(var n=0;n<e.attendeeStates.length;++n){if("object"!=typeof e.attendeeStates[n])throw TypeError(".SdkAudioMetadataFrame.attendeeStates: object expected");t.attendeeStates[n]=u.SdkAudioAttendeeState.fromObject(e.attendeeStates[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.attendeeStates=[]),e.attendeeStates&&e.attendeeStates.length){n.attendeeStates=[];for(var r=0;r<e.attendeeStates.length;++r)n.attendeeStates[r]=u.SdkAudioAttendeeState.toObject(e.attendeeStates[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkAudioAttendeeState=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.audioStreamId=0,e.prototype.volume=0,e.prototype.muted=!1,e.prototype.signalStrength=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),null!=e.volume&&e.hasOwnProperty("volume")&&t.uint32(16).uint32(e.volume),null!=e.muted&&e.hasOwnProperty("muted")&&t.uint32(24).bool(e.muted),null!=e.signalStrength&&e.hasOwnProperty("signalStrength")&&t.uint32(32).uint32(e.signalStrength),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkAudioAttendeeState;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.audioStreamId=e.uint32();break;case 2:r.volume=e.uint32();break;case 3:r.muted=e.bool();break;case 4:r.signalStrength=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&!c.isInteger(e.audioStreamId)?"audioStreamId: integer expected":null!=e.volume&&e.hasOwnProperty("volume")&&!c.isInteger(e.volume)?"volume: integer expected":null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!=typeof e.muted?"muted: boolean expected":null!=e.signalStrength&&e.hasOwnProperty("signalStrength")&&!c.isInteger(e.signalStrength)?"signalStrength: integer expected":null},e.fromObject=function(e){if(e instanceof u.SdkAudioAttendeeState)return e;var t=new u.SdkAudioAttendeeState;return null!=e.audioStreamId&&(t.audioStreamId=e.audioStreamId>>>0),null!=e.volume&&(t.volume=e.volume>>>0),null!=e.muted&&(t.muted=Boolean(e.muted)),null!=e.signalStrength&&(t.signalStrength=e.signalStrength>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStreamId=0,n.volume=0,n.muted=!1,n.signalStrength=0),null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&(n.audioStreamId=e.audioStreamId),null!=e.volume&&e.hasOwnProperty("volume")&&(n.volume=e.volume),null!=e.muted&&e.hasOwnProperty("muted")&&(n.muted=e.muted),null!=e.signalStrength&&e.hasOwnProperty("signalStrength")&&(n.signalStrength=e.signalStrength),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkAudioStreamIdInfoFrame=function(){function e(e){if(this.streams=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.streams=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.streams&&e.streams.length)for(var n=0;n<e.streams.length;++n)u.SdkAudioStreamIdInfo.encode(e.streams[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkAudioStreamIdInfoFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.streams&&r.streams.length||(r.streams=[]),r.streams.push(u.SdkAudioStreamIdInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.streams&&e.hasOwnProperty("streams")){if(!Array.isArray(e.streams))return"streams: array expected";for(var t=0;t<e.streams.length;++t){var n=u.SdkAudioStreamIdInfo.verify(e.streams[t]);if(n)return"streams."+n}}return null},e.fromObject=function(e){if(e instanceof u.SdkAudioStreamIdInfoFrame)return e;var t=new u.SdkAudioStreamIdInfoFrame;if(e.streams){if(!Array.isArray(e.streams))throw TypeError(".SdkAudioStreamIdInfoFrame.streams: array expected");t.streams=[];for(var n=0;n<e.streams.length;++n){if("object"!=typeof e.streams[n])throw TypeError(".SdkAudioStreamIdInfoFrame.streams: object expected");t.streams[n]=u.SdkAudioStreamIdInfo.fromObject(e.streams[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.streams=[]),e.streams&&e.streams.length){n.streams=[];for(var r=0;r<e.streams.length;++r)n.streams[r]=u.SdkAudioStreamIdInfo.toObject(e.streams[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkAudioStreamIdInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.audioStreamId=0,e.prototype.attendeeId="",e.prototype.muted=!1,e.prototype.externalUserId="",e.prototype.dropped=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&t.uint32(18).string(e.attendeeId),null!=e.muted&&e.hasOwnProperty("muted")&&t.uint32(24).bool(e.muted),null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&t.uint32(34).string(e.externalUserId),null!=e.dropped&&e.hasOwnProperty("dropped")&&t.uint32(40).bool(e.dropped),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkAudioStreamIdInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.audioStreamId=e.uint32();break;case 2:r.attendeeId=e.string();break;case 3:r.muted=e.bool();break;case 4:r.externalUserId=e.string();break;case 5:r.dropped=e.bool();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&!c.isInteger(e.audioStreamId)?"audioStreamId: integer expected":null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&!c.isString(e.attendeeId)?"attendeeId: string expected":null!=e.muted&&e.hasOwnProperty("muted")&&"boolean"!=typeof e.muted?"muted: boolean expected":null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&!c.isString(e.externalUserId)?"externalUserId: string expected":null!=e.dropped&&e.hasOwnProperty("dropped")&&"boolean"!=typeof e.dropped?"dropped: boolean expected":null},e.fromObject=function(e){if(e instanceof u.SdkAudioStreamIdInfo)return e;var t=new u.SdkAudioStreamIdInfo;return null!=e.audioStreamId&&(t.audioStreamId=e.audioStreamId>>>0),null!=e.attendeeId&&(t.attendeeId=String(e.attendeeId)),null!=e.muted&&(t.muted=Boolean(e.muted)),null!=e.externalUserId&&(t.externalUserId=String(e.externalUserId)),null!=e.dropped&&(t.dropped=Boolean(e.dropped)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStreamId=0,n.attendeeId="",n.muted=!1,n.externalUserId="",n.dropped=!1),null!=e.audioStreamId&&e.hasOwnProperty("audioStreamId")&&(n.audioStreamId=e.audioStreamId),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),null!=e.muted&&e.hasOwnProperty("muted")&&(n.muted=e.muted),null!=e.externalUserId&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),null!=e.dropped&&e.hasOwnProperty("dropped")&&(n.dropped=e.dropped),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkPingPongType=function(){var e={},t=Object.create(e);return t[e[1]="PING"]=1,t[e[2]="PONG"]=2,t}(),u.SdkPingPongFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.pingId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.type),t.uint32(16).uint32(e.pingId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkPingPongFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.pingId=e.uint32();break;default:e.skipType(7&i)}}if(!r.hasOwnProperty("type"))throw c.ProtocolError("missing required 'type'",{instance:r});if(!r.hasOwnProperty("pingId"))throw c.ProtocolError("missing required 'pingId'",{instance:r});return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:}return c.isInteger(e.pingId)?null:"pingId: integer expected"},e.fromObject=function(e){if(e instanceof u.SdkPingPongFrame)return e;var t=new u.SdkPingPongFrame;switch(e.type){case"PING":case 1:t.type=1;break;case"PONG":case 2:t.type=2}return null!=e.pingId&&(t.pingId=e.pingId>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"PING":1,n.pingId=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?u.SdkPingPongType[e.type]:e.type),null!=e.pingId&&e.hasOwnProperty("pingId")&&(n.pingId=e.pingId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkAudioStatusFrame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.audioStatus=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&t.uint32(8).uint32(e.audioStatus),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkAudioStatusFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.audioStatus=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&!c.isInteger(e.audioStatus)?"audioStatus: integer expected":null},e.fromObject=function(e){if(e instanceof u.SdkAudioStatusFrame)return e;var t=new u.SdkAudioStatusFrame;return null!=e.audioStatus&&(t.audioStatus=e.audioStatus>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStatus=0),null!=e.audioStatus&&e.hasOwnProperty("audioStatus")&&(n.audioStatus=e.audioStatus),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkMetric=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.value=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(17).double(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkMetric;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.value=e.double();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:}return null!=e.value&&e.hasOwnProperty("value")&&"number"!=typeof e.value?"value: number expected":null},e.fromObject=function(e){if(e instanceof u.SdkMetric)return e;var t=new u.SdkMetric;switch(e.type){case"VIDEO_ACTUAL_ENCODER_BITRATE":case 1:t.type=1;break;case"VIDEO_AVAILABLE_SEND_BANDWIDTH":case 2:t.type=2;break;case"VIDEO_RETRANSMIT_BITRATE":case 3:t.type=3;break;case"VIDEO_AVAILABLE_RECEIVE_BANDWIDTH":case 4:t.type=4;break;case"VIDEO_TARGET_ENCODER_BITRATE":case 5:t.type=5;break;case"VIDEO_BUCKET_DELAY_MS":case 6:t.type=6;break;case"STUN_RTT_MS":case 7:t.type=7;break;case"SOCKET_DISCARDED_PPS":case 8:t.type=8;break;case"RTC_MIC_JITTER_MS":case 9:t.type=9;break;case"RTC_MIC_PPS":case 10:t.type=10;break;case"RTC_MIC_FRACTION_PACKET_LOST_PERCENT":case 11:t.type=11;break;case"RTC_MIC_BITRATE":case 12:t.type=12;break;case"RTC_MIC_RTT_MS":case 13:t.type=13;break;case"RTC_SPK_PPS":case 14:t.type=14;break;case"RTC_SPK_FRACTION_PACKET_LOST_PERCENT":case 15:t.type=15;break;case"RTC_SPK_JITTER_MS":case 16:t.type=16;break;case"RTC_SPK_FRACTION_DECODER_LOSS_PERCENT":case 17:t.type=17;break;case"RTC_SPK_BITRATE":case 18:t.type=18;break;case"RTC_SPK_CURRENT_DELAY_MS":case 19:t.type=19;break;case"RTC_SPK_JITTER_BUFFER_MS":case 20:t.type=20;break;case"VIDEO_SENT_RTT_MS":case 21:t.type=21;break;case"VIDEO_ENCODE_USAGE_PERCENT":case 22:t.type=22;break;case"VIDEO_NACKS_RECEIVED":case 23:t.type=23;break;case"VIDEO_PLIS_RECEIVED":case 24:t.type=24;break;case"VIDEO_AVERAGE_ENCODE_MS":case 25:t.type=25;break;case"VIDEO_INPUT_FPS":case 26:t.type=26;break;case"VIDEO_ENCODE_FPS":case 27:t.type=27;break;case"VIDEO_SENT_FPS":case 28:t.type=28;break;case"VIDEO_FIRS_RECEIVED":case 29:t.type=29;break;case"VIDEO_SENT_PPS":case 30:t.type=30;break;case"VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT":case 31:t.type=31;break;case"VIDEO_SENT_BITRATE":case 32:t.type=32;break;case"VIDEO_DROPPED_FPS":case 33:t.type=33;break;case"VIDEO_TARGET_DELAY_MS":case 34:t.type=34;break;case"VIDEO_DECODE_MS":case 35:t.type=35;break;case"VIDEO_OUTPUT_FPS":case 36:t.type=36;break;case"VIDEO_RECEIVED_PPS":case 37:t.type=37;break;case"VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT":case 38:t.type=38;break;case"VIDEO_RENDER_DELAY_MS":case 39:t.type=39;break;case"VIDEO_RECEIVED_FPS":case 40:t.type=40;break;case"VIDEO_DECODE_FPS":case 41:t.type=41;break;case"VIDEO_NACKS_SENT":case 42:t.type=42;break;case"VIDEO_FIRS_SENT":case 43:t.type=43;break;case"VIDEO_RECEIVED_BITRATE":case 44:t.type=44;break;case"VIDEO_CURRENT_DELAY_MS":case 45:t.type=45;break;case"VIDEO_JITTER_BUFFER_MS":case 46:t.type=46;break;case"VIDEO_DISCARDED_PPS":case 47:t.type=47;break;case"VIDEO_PLIS_SENT":case 48:t.type=48;break;case"VIDEO_RECEIVED_JITTER_MS":case 49:t.type=49}return null!=e.value&&(t.value=Number(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"VIDEO_ACTUAL_ENCODER_BITRATE":1,n.value=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?u.SdkMetric.Type[e.type]:e.type),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.json&&!isFinite(e.value)?String(e.value):e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[1]="VIDEO_ACTUAL_ENCODER_BITRATE"]=1,t[e[2]="VIDEO_AVAILABLE_SEND_BANDWIDTH"]=2,t[e[3]="VIDEO_RETRANSMIT_BITRATE"]=3,t[e[4]="VIDEO_AVAILABLE_RECEIVE_BANDWIDTH"]=4,t[e[5]="VIDEO_TARGET_ENCODER_BITRATE"]=5,t[e[6]="VIDEO_BUCKET_DELAY_MS"]=6,t[e[7]="STUN_RTT_MS"]=7,t[e[8]="SOCKET_DISCARDED_PPS"]=8,t[e[9]="RTC_MIC_JITTER_MS"]=9,t[e[10]="RTC_MIC_PPS"]=10,t[e[11]="RTC_MIC_FRACTION_PACKET_LOST_PERCENT"]=11,t[e[12]="RTC_MIC_BITRATE"]=12,t[e[13]="RTC_MIC_RTT_MS"]=13,t[e[14]="RTC_SPK_PPS"]=14,t[e[15]="RTC_SPK_FRACTION_PACKET_LOST_PERCENT"]=15,t[e[16]="RTC_SPK_JITTER_MS"]=16,t[e[17]="RTC_SPK_FRACTION_DECODER_LOSS_PERCENT"]=17,t[e[18]="RTC_SPK_BITRATE"]=18,t[e[19]="RTC_SPK_CURRENT_DELAY_MS"]=19,t[e[20]="RTC_SPK_JITTER_BUFFER_MS"]=20,t[e[21]="VIDEO_SENT_RTT_MS"]=21,t[e[22]="VIDEO_ENCODE_USAGE_PERCENT"]=22,t[e[23]="VIDEO_NACKS_RECEIVED"]=23,t[e[24]="VIDEO_PLIS_RECEIVED"]=24,t[e[25]="VIDEO_AVERAGE_ENCODE_MS"]=25,t[e[26]="VIDEO_INPUT_FPS"]=26,t[e[27]="VIDEO_ENCODE_FPS"]=27,t[e[28]="VIDEO_SENT_FPS"]=28,t[e[29]="VIDEO_FIRS_RECEIVED"]=29,t[e[30]="VIDEO_SENT_PPS"]=30,t[e[31]="VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT"]=31,t[e[32]="VIDEO_SENT_BITRATE"]=32,t[e[33]="VIDEO_DROPPED_FPS"]=33,t[e[34]="VIDEO_TARGET_DELAY_MS"]=34,t[e[35]="VIDEO_DECODE_MS"]=35,t[e[36]="VIDEO_OUTPUT_FPS"]=36,t[e[37]="VIDEO_RECEIVED_PPS"]=37,t[e[38]="VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT"]=38,t[e[39]="VIDEO_RENDER_DELAY_MS"]=39,t[e[40]="VIDEO_RECEIVED_FPS"]=40,t[e[41]="VIDEO_DECODE_FPS"]=41,t[e[42]="VIDEO_NACKS_SENT"]=42,t[e[43]="VIDEO_FIRS_SENT"]=43,t[e[44]="VIDEO_RECEIVED_BITRATE"]=44,t[e[45]="VIDEO_CURRENT_DELAY_MS"]=45,t[e[46]="VIDEO_JITTER_BUFFER_MS"]=46,t[e[47]="VIDEO_DISCARDED_PPS"]=47,t[e[48]="VIDEO_PLIS_SENT"]=48,t[e[49]="VIDEO_RECEIVED_JITTER_MS"]=49,t}(),e}(),u.SdkStreamMetricFrame=function(){function e(e){if(this.metrics=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.streamId=0,e.prototype.groupId=0,e.prototype.metrics=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.streamId&&e.hasOwnProperty("streamId")&&t.uint32(24).uint32(e.streamId),null!=e.groupId&&e.hasOwnProperty("groupId")&&t.uint32(32).uint32(e.groupId),null!=e.metrics&&e.metrics.length)for(var n=0;n<e.metrics.length;++n)u.SdkMetric.encode(e.metrics[n],t.uint32(42).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkStreamMetricFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 3:r.streamId=e.uint32();break;case 4:r.groupId=e.uint32();break;case 5:r.metrics&&r.metrics.length||(r.metrics=[]),r.metrics.push(u.SdkMetric.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.streamId&&e.hasOwnProperty("streamId")&&!c.isInteger(e.streamId))return"streamId: integer expected";if(null!=e.groupId&&e.hasOwnProperty("groupId")&&!c.isInteger(e.groupId))return"groupId: integer expected";if(null!=e.metrics&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var t=0;t<e.metrics.length;++t){var n=u.SdkMetric.verify(e.metrics[t]);if(n)return"metrics."+n}}return null},e.fromObject=function(e){if(e instanceof u.SdkStreamMetricFrame)return e;var t=new u.SdkStreamMetricFrame;if(null!=e.streamId&&(t.streamId=e.streamId>>>0),null!=e.groupId&&(t.groupId=e.groupId>>>0),e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".SdkStreamMetricFrame.metrics: array expected");t.metrics=[];for(var n=0;n<e.metrics.length;++n){if("object"!=typeof e.metrics[n])throw TypeError(".SdkStreamMetricFrame.metrics: object expected");t.metrics[n]=u.SdkMetric.fromObject(e.metrics[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.metrics=[]),t.defaults&&(n.streamId=0,n.groupId=0),null!=e.streamId&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),null!=e.groupId&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),e.metrics&&e.metrics.length){n.metrics=[];for(var r=0;r<e.metrics.length;++r)n.metrics[r]=u.SdkMetric.toObject(e.metrics[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkClientMetricFrame=function(){function e(e){if(this.globalMetrics=[],this.streamMetricFrames=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.globalMetrics=c.emptyArray,e.prototype.streamMetricFrames=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.globalMetrics&&e.globalMetrics.length)for(var n=0;n<e.globalMetrics.length;++n)u.SdkMetric.encode(e.globalMetrics[n],t.uint32(10).fork()).ldelim();if(null!=e.streamMetricFrames&&e.streamMetricFrames.length)for(n=0;n<e.streamMetricFrames.length;++n)u.SdkStreamMetricFrame.encode(e.streamMetricFrames[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkClientMetricFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.globalMetrics&&r.globalMetrics.length||(r.globalMetrics=[]),r.globalMetrics.push(u.SdkMetric.decode(e,e.uint32()));break;case 2:r.streamMetricFrames&&r.streamMetricFrames.length||(r.streamMetricFrames=[]),r.streamMetricFrames.push(u.SdkStreamMetricFrame.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.globalMetrics&&e.hasOwnProperty("globalMetrics")){if(!Array.isArray(e.globalMetrics))return"globalMetrics: array expected";for(var t=0;t<e.globalMetrics.length;++t){if(n=u.SdkMetric.verify(e.globalMetrics[t]))return"globalMetrics."+n}}if(null!=e.streamMetricFrames&&e.hasOwnProperty("streamMetricFrames")){if(!Array.isArray(e.streamMetricFrames))return"streamMetricFrames: array expected";for(t=0;t<e.streamMetricFrames.length;++t){var n;if(n=u.SdkStreamMetricFrame.verify(e.streamMetricFrames[t]))return"streamMetricFrames."+n}}return null},e.fromObject=function(e){if(e instanceof u.SdkClientMetricFrame)return e;var t=new u.SdkClientMetricFrame;if(e.globalMetrics){if(!Array.isArray(e.globalMetrics))throw TypeError(".SdkClientMetricFrame.globalMetrics: array expected");t.globalMetrics=[];for(var n=0;n<e.globalMetrics.length;++n){if("object"!=typeof e.globalMetrics[n])throw TypeError(".SdkClientMetricFrame.globalMetrics: object expected");t.globalMetrics[n]=u.SdkMetric.fromObject(e.globalMetrics[n])}}if(e.streamMetricFrames){if(!Array.isArray(e.streamMetricFrames))throw TypeError(".SdkClientMetricFrame.streamMetricFrames: array expected");t.streamMetricFrames=[];for(n=0;n<e.streamMetricFrames.length;++n){if("object"!=typeof e.streamMetricFrames[n])throw TypeError(".SdkClientMetricFrame.streamMetricFrames: object expected");t.streamMetricFrames[n]=u.SdkStreamMetricFrame.fromObject(e.streamMetricFrames[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.globalMetrics=[],n.streamMetricFrames=[]),e.globalMetrics&&e.globalMetrics.length){n.globalMetrics=[];for(var r=0;r<e.globalMetrics.length;++r)n.globalMetrics[r]=u.SdkMetric.toObject(e.globalMetrics[r],t)}if(e.streamMetricFrames&&e.streamMetricFrames.length){n.streamMetricFrames=[];for(r=0;r<e.streamMetricFrames.length;++r)n.streamMetricFrames[r]=u.SdkStreamMetricFrame.toObject(e.streamMetricFrames[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkDataMessageFrame=function(){function e(e){if(this.messages=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.messages=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.messages&&e.messages.length)for(var n=0;n<e.messages.length;++n)u.SdkDataMessagePayload.encode(e.messages[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkDataMessageFrame;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.messages&&r.messages.length||(r.messages=[]),r.messages.push(u.SdkDataMessagePayload.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.messages&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var n=u.SdkDataMessagePayload.verify(e.messages[t]);if(n)return"messages."+n}}return null},e.fromObject=function(e){if(e instanceof u.SdkDataMessageFrame)return e;var t=new u.SdkDataMessageFrame;if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".SdkDataMessageFrame.messages: array expected");t.messages=[];for(var n=0;n<e.messages.length;++n){if("object"!=typeof e.messages[n])throw TypeError(".SdkDataMessageFrame.messages: object expected");t.messages[n]=u.SdkDataMessagePayload.fromObject(e.messages[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messages=[]),e.messages&&e.messages.length){n.messages=[];for(var r=0;r<e.messages.length;++r)n.messages[r]=u.SdkDataMessagePayload.toObject(e.messages[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkDataMessagePayload=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.topic="",e.prototype.data=c.newBuffer([]),e.prototype.lifetimeMs=0,e.prototype.senderAttendeeId="",e.prototype.ingestTimeNs=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.senderExternalUserId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.topic&&e.hasOwnProperty("topic")&&t.uint32(10).string(e.topic),null!=e.data&&e.hasOwnProperty("data")&&t.uint32(18).bytes(e.data),null!=e.lifetimeMs&&e.hasOwnProperty("lifetimeMs")&&t.uint32(24).uint32(e.lifetimeMs),null!=e.senderAttendeeId&&e.hasOwnProperty("senderAttendeeId")&&t.uint32(34).string(e.senderAttendeeId),null!=e.ingestTimeNs&&e.hasOwnProperty("ingestTimeNs")&&t.uint32(40).int64(e.ingestTimeNs),null!=e.senderExternalUserId&&e.hasOwnProperty("senderExternalUserId")&&t.uint32(50).string(e.senderExternalUserId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkDataMessagePayload;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.topic=e.string();break;case 2:r.data=e.bytes();break;case 3:r.lifetimeMs=e.uint32();break;case 4:r.senderAttendeeId=e.string();break;case 5:r.ingestTimeNs=e.int64();break;case 6:r.senderExternalUserId=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.topic&&e.hasOwnProperty("topic")&&!c.isString(e.topic)?"topic: string expected":null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"==typeof e.data.length||c.isString(e.data))?"data: buffer expected":null!=e.lifetimeMs&&e.hasOwnProperty("lifetimeMs")&&!c.isInteger(e.lifetimeMs)?"lifetimeMs: integer expected":null!=e.senderAttendeeId&&e.hasOwnProperty("senderAttendeeId")&&!c.isString(e.senderAttendeeId)?"senderAttendeeId: string expected":null!=e.ingestTimeNs&&e.hasOwnProperty("ingestTimeNs")&&!(c.isInteger(e.ingestTimeNs)||e.ingestTimeNs&&c.isInteger(e.ingestTimeNs.low)&&c.isInteger(e.ingestTimeNs.high))?"ingestTimeNs: integer|Long expected":null!=e.senderExternalUserId&&e.hasOwnProperty("senderExternalUserId")&&!c.isString(e.senderExternalUserId)?"senderExternalUserId: string expected":null},e.fromObject=function(e){if(e instanceof u.SdkDataMessagePayload)return e;var t=new u.SdkDataMessagePayload;return null!=e.topic&&(t.topic=String(e.topic)),null!=e.data&&("string"==typeof e.data?c.base64.decode(e.data,t.data=c.newBuffer(c.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),null!=e.lifetimeMs&&(t.lifetimeMs=e.lifetimeMs>>>0),null!=e.senderAttendeeId&&(t.senderAttendeeId=String(e.senderAttendeeId)),null!=e.ingestTimeNs&&(c.Long?(t.ingestTimeNs=c.Long.fromValue(e.ingestTimeNs)).unsigned=!1:"string"==typeof e.ingestTimeNs?t.ingestTimeNs=parseInt(e.ingestTimeNs,10):"number"==typeof e.ingestTimeNs?t.ingestTimeNs=e.ingestTimeNs:"object"==typeof e.ingestTimeNs&&(t.ingestTimeNs=new c.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber())),null!=e.senderExternalUserId&&(t.senderExternalUserId=String(e.senderExternalUserId)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.topic="",t.bytes===String?n.data="":(n.data=[],t.bytes!==Array&&(n.data=c.newBuffer(n.data))),n.lifetimeMs=0,n.senderAttendeeId="",c.Long){var r=new c.Long(0,0,!1);n.ingestTimeNs=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.ingestTimeNs=t.longs===String?"0":0;n.senderExternalUserId=""}return null!=e.topic&&e.hasOwnProperty("topic")&&(n.topic=e.topic),null!=e.data&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?c.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.lifetimeMs&&e.hasOwnProperty("lifetimeMs")&&(n.lifetimeMs=e.lifetimeMs),null!=e.senderAttendeeId&&e.hasOwnProperty("senderAttendeeId")&&(n.senderAttendeeId=e.senderAttendeeId),null!=e.ingestTimeNs&&e.hasOwnProperty("ingestTimeNs")&&("number"==typeof e.ingestTimeNs?n.ingestTimeNs=t.longs===String?String(e.ingestTimeNs):e.ingestTimeNs:n.ingestTimeNs=t.longs===String?c.Long.prototype.toString.call(e.ingestTimeNs):t.longs===Number?new c.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber():e.ingestTimeNs),null!=e.senderExternalUserId&&e.hasOwnProperty("senderExternalUserId")&&(n.senderExternalUserId=e.senderExternalUserId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),u.SdkTurnCredentials=function(){function e(e){if(this.uris=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.username="",e.prototype.password="",e.prototype.ttl=0,e.prototype.uris=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.username&&e.hasOwnProperty("username")&&t.uint32(10).string(e.username),null!=e.password&&e.hasOwnProperty("password")&&t.uint32(18).string(e.password),null!=e.ttl&&e.hasOwnProperty("ttl")&&t.uint32(24).uint32(e.ttl),null!=e.uris&&e.uris.length)for(var n=0;n<e.uris.length;++n)t.uint32(34).string(e.uris[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.SdkTurnCredentials;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.username=e.string();break;case 2:r.password=e.string();break;case 3:r.ttl=e.uint32();break;case 4:r.uris&&r.uris.length||(r.uris=[]),r.uris.push(e.string());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.username&&e.hasOwnProperty("username")&&!c.isString(e.username))return"username: string expected";if(null!=e.password&&e.hasOwnProperty("password")&&!c.isString(e.password))return"password: string expected";if(null!=e.ttl&&e.hasOwnProperty("ttl")&&!c.isInteger(e.ttl))return"ttl: integer expected";if(null!=e.uris&&e.hasOwnProperty("uris")){if(!Array.isArray(e.uris))return"uris: array expected";for(var t=0;t<e.uris.length;++t)if(!c.isString(e.uris[t]))return"uris: string[] expected"}return null},e.fromObject=function(e){if(e instanceof u.SdkTurnCredentials)return e;var t=new u.SdkTurnCredentials;if(null!=e.username&&(t.username=String(e.username)),null!=e.password&&(t.password=String(e.password)),null!=e.ttl&&(t.ttl=e.ttl>>>0),e.uris){if(!Array.isArray(e.uris))throw TypeError(".SdkTurnCredentials.uris: array expected");t.uris=[];for(var n=0;n<e.uris.length;++n)t.uris[n]=String(e.uris[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.uris=[]),t.defaults&&(n.username="",n.password="",n.ttl=0),null!=e.username&&e.hasOwnProperty("username")&&(n.username=e.username),null!=e.password&&e.hasOwnProperty("password")&&(n.password=e.password),null!=e.ttl&&e.hasOwnProperty("ttl")&&(n.ttl=e.ttl),e.uris&&e.uris.length){n.uris=[];for(var r=0;r<e.uris.length;++r)n.uris[r]=e.uris[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.exports=u},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(225),s=function(){function e(e){var t=(void 0===e?{}:e).enableUnifiedPlanForChromiumBasedBrowsers,n=void 0!==t&&t;this.browser=a.detect(),this.browserSupport={chrome:78,"edge-chromium":79,electron:7,firefox:60,ios:12,safari:12,opera:66},this.browserName={chrome:"Google Chrome","edge-chromium":"Microsoft Edge",electron:"Electron",firefox:"Mozilla Firefox",ios:"Safari iOS",safari:"Safari",opera:"Opera"},this.chromeLike=["chrome","edge-chromium","chromium-webview","opera"],this.enableUnifiedPlanForChromiumBasedBrowsers=n}return e.prototype.version=function(){return this.browser.version},e.prototype.majorVersion=function(){return parseInt(this.version().split(".")[0])},e.prototype.name=function(){return this.browser.name},e.prototype.hasChromiumWebRTC=function(){var e,t;try{for(var n=o(this.chromeLike),r=n.next();!r.done;r=n.next()){if(r.value===this.browser.name)return!0}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return!1},e.prototype.hasFirefoxWebRTC=function(){return this.isFirefox()},e.prototype.screenShareSendsOnlyKeyframes=function(){return this.isFirefox()},e.prototype.requiresUnifiedPlan=function(){var e=this.isSafari()&&this.isUnifiedPlanSupported()||this.isFirefox();return this.enableUnifiedPlanForChromiumBasedBrowsers&&(e=e||this.hasChromiumWebRTC()),e},e.prototype.requiresResolutionAlignment=function(e,t){return this.isAndroid()&&this.isPixel3()?[64*Math.ceil(e/64),64*Math.ceil(t/64)]:[e,t]},e.prototype.requiresCheckForSdpConnectionAttributes=function(){return!this.isIOSSafari()},e.prototype.requiresIceCandidateGatheringTimeoutWorkaround=function(){return this.hasChromiumWebRTC()},e.prototype.requiresUnifiedPlanMunging=function(){var e=this.isSafari()&&this.isUnifiedPlanSupported();return this.enableUnifiedPlanForChromiumBasedBrowsers&&(e=e||this.hasChromiumWebRTC()),e},e.prototype.requiresSortCodecPreferencesForSdpAnswer=function(){return this.isFirefox()&&this.majorVersion()<=68},e.prototype.requiresSimulcastMunging=function(){return this.isSafari()},e.prototype.requiresBundlePolicy=function(){return"max-bundle"},e.prototype.requiresPromiseBasedWebRTCGetStats=function(){return!this.hasChromiumWebRTC()},e.prototype.requiresVideoElementWorkaround=function(){return this.isSafari()},e.prototype.requiresNoExactMediaStreamConstraints=function(){return this.isIOSSafari()&&("12.0.0"===this.version()||"12.1.0"===this.version())},e.prototype.getDisplayMediaAudioCaptureSupport=function(){return this.isChrome()||this.isEdge()},e.prototype.screenShareUnsupported=function(){return!!this.isSafari()},e.prototype.isSupported=function(){return!(!this.browserSupport[this.browser.name]||this.majorVersion()<this.browserSupport[this.browser.name])&&("firefox"!==this.browser.name||!this.isAndroid())},e.prototype.supportString=function(){if(this.isAndroid())return this.browserName.chrome+" "+this.browserSupport.chrome+"+";var e=[];for(var t in this.browserSupport)e.push(this.browserName[t]+" "+this.browserSupport[t]+"+");return e.join(", ")},e.prototype.supportedVideoCodecs=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return(e=new RTCPeerConnection).addTransceiver("video",{direction:"inactive",streams:[]}),[4,e.createOffer({offerToReceiveVideo:!0})];case 1:return[2,t.sent().sdp.split("\r\n").filter((function(e){return e.includes("a=rtpmap:")})).map((function(e){return e.replace(/.* /,"").replace(/\/.*/,"")})).filter((function(e,t,n){return n.indexOf(e)===t})).filter((function(e){return"rtx"!==e&&"red"!==e&&"ulpfec"!==e}))]}}))}))},e.prototype.isIOSSafari=function(){return"ios"===this.browser.name},e.prototype.isSafari=function(){return"safari"===this.browser.name||"ios"===this.browser.name},e.prototype.isFirefox=function(){return"firefox"===this.browser.name},e.prototype.isChrome=function(){return"chrome"===this.browser.name},e.prototype.isEdge=function(){return"edge-chromium"===this.browser.name},e.prototype.isAndroid=function(){return/(android)/i.test(navigator.userAgent)},e.prototype.isPixel3=function(){return/( pixel 3)/i.test(navigator.userAgent)},e.prototype.isUnifiedPlanSupported=function(){return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")},e}();t.default=s},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SignalingClientEventType=void 0,function(e){e[e.WebSocketConnecting=0]="WebSocketConnecting",e[e.WebSocketOpen=1]="WebSocketOpen",e[e.WebSocketError=2]="WebSocketError",e[e.WebSocketClosing=3]="WebSocketClosing",e[e.WebSocketClosed=4]="WebSocketClosed",e[e.WebSocketFailed=5]="WebSocketFailed",e[e.WebSocketMessage=6]="WebSocketMessage",e[e.WebSocketSendMessageFailure=7]="WebSocketSendMessageFailure",e[e.WebSocketSentMessage=8]="WebSocketSentMessage",e[e.ProtocolDecodeFailure=9]="ProtocolDecodeFailure",e[e.ReceivedSignalFrame=10]="ReceivedSignalFrame",e[e.WebSocketSkippedMessage=11]="WebSocketSkippedMessage"}(r=t.SignalingClientEventType||(t.SignalingClientEventType={})),t.default=r},function(e,t,n){"use strict";var r=n(206),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingSessionStatusCode=void 0,function(e){e[e.OK=0]="OK",e[e.Left=1]="Left",e[e.AudioJoinedFromAnotherDevice=2]="AudioJoinedFromAnotherDevice",e[e.AudioDisconnectAudio=3]="AudioDisconnectAudio",e[e.AudioAuthenticationRejected=4]="AudioAuthenticationRejected",e[e.AudioCallAtCapacity=5]="AudioCallAtCapacity",e[e.AudioCallEnded=6]="AudioCallEnded",e[e.TURNMeetingEnded=6]="TURNMeetingEnded",e[e.MeetingEnded=6]="MeetingEnded",e[e.AudioInternalServerError=7]="AudioInternalServerError",e[e.AudioServiceUnavailable=8]="AudioServiceUnavailable",e[e.AudioDisconnected=9]="AudioDisconnected",e[e.VideoCallSwitchToViewOnly=10]="VideoCallSwitchToViewOnly",e[e.VideoCallAtSourceCapacity=11]="VideoCallAtSourceCapacity",e[e.SignalingBadRequest=12]="SignalingBadRequest",e[e.SignalingInternalServerError=13]="SignalingInternalServerError",e[e.SignalingRequestFailed=14]="SignalingRequestFailed",e[e.StateMachineTransitionFailed=15]="StateMachineTransitionFailed",e[e.ICEGatheringTimeoutWorkaround=16]="ICEGatheringTimeoutWorkaround",e[e.ConnectionHealthReconnect=17]="ConnectionHealthReconnect",e[e.RealtimeApiFailed=18]="RealtimeApiFailed",e[e.TaskFailed=19]="TaskFailed",e[e.AudioDeviceSwitched=20]="AudioDeviceSwitched",e[e.IncompatibleSDP=21]="IncompatibleSDP",e[e.TURNCredentialsForbidden=22]="TURNCredentialsForbidden",e[e.NoAttendeePresent=23]="NoAttendeePresent"}(r=t.MeetingSessionStatusCode||(t.MeetingSessionStatusCode={})),t.default=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,0)||this}return i(t,e),t}(n(8).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.timeoutMs=e,this.timer=null}return e.prototype.start=function(e){var t=this;this.stop(),this.timer=setTimeout((function(){clearTimeout(t.timer),e()}),this.timeoutMs)},e.prototype.stop=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},e}();t.default=r},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.intervalMs=e,this.timer=null}return e.prototype.start=function(e){this.stop(),this.timer=setInterval(e,this.intervalMs)},e.prototype.stop=function(){null!==this.timer&&clearInterval(this.timer)},e}();t.default=r},function(e,t,n){"use strict";(function(e){var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function o(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(231),r.base64=n(232),r.EventEmitter=n(233),r.float=n(234),r.inquire=n(235),r.utf8=n(236),r.pool=n(237),r.LongBits=n(238),r.global="undefined"!=typeof window&&window||void 0!==e&&e||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isNode=Boolean(r.global.process&&r.global.process.versions&&r.global.process.versions.node),r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.ids=new Set(e)}return e.prototype.add=function(e){this.ids.add(e)},e.prototype.array=function(){return Array.from(this.ids.values()).sort((function(e,t){return e-t}))},e.prototype.contain=function(e){return this.ids.has(e)},e.prototype.empty=function(){return 0===this.ids.size},e.prototype.size=function(){return this.ids.size},e.prototype.equal=function(e){if(!e)return 0===this.ids.size;var t=this.array(),n=e.array();if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0},e.prototype.clone=function(){return new e(this.array())},e.prototype.remove=function(e){this.ids.delete(e)},e.prototype.toJSON=function(){return this.array()},e}();t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0,function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.OFF=4]="OFF"}(r=t.LogLevel||(t.LogLevel={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(229),o=function(){function e(){}return Object.defineProperty(e,"sdkName",{get:function(){return"amazon-chime-sdk-js"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"sdkVersion",{get:function(){return i.default.semverString},enumerable:!1,configurable:!0}),Object.defineProperty(e,"buildSHA",{get:function(){return i.default.hash.substr(1)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"sdkUserAgentLowResolution",{get:function(){var e=new r.default;return e.name()+"-"+e.majorVersion()},enumerable:!1,configurable:!0}),e.urlWithVersion=function(t){var n=new URL(t);return n.searchParams.append(e.X_AMZN_VERSION,e.sdkVersion),n.searchParams.append(e.X_AMZN_USER_AGENT,e.sdkUserAgentLowResolution),n.toString()},e.X_AMZN_VERSION="X-Amzn-Version",e.X_AMZN_USER_AGENT="X-Amzn-User-Agent",e}();t.default=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenSharingMessageType=void 0,function(e){e.UnknownType="Unknown",e.HeartbeatRequestType="HeartbeatRequest",e.HeartbeatResponseType="HeartbeatResponse",e.StreamStart="StreamStart",e.StreamEnd="StreamEnd",e.StreamStop="StreamStop",e.StreamPause="StreamPause",e.StreamUnpause="StreamUnpause",e.WebM="WebM",e.PresenterSwitch="PresenterSwitch",e.KeyRequest="KeyRequest"}(r=t.ScreenSharingMessageType||(t.ScreenSharingMessageType={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketReadyState=t.WebMMediaRecordingFactory=t.WebMMediaRecording=t.WaitForAttendeePresenceTask=t.VideoTileState=t.VideoStreamDescription=t.VideoSource=t.VideoQualitySettings=t.VideoLogEvent=t.VideoAdaptiveProbePolicy=t.Versioning=t.UnusableAudioWarningConnectionHealthPolicy=t.TimeoutTask=t.TimeoutScheduler=t.TaskStatus=t.SubscribeAndReceiveSubscribeAckTask=t.StreamMetricReport=t.Some=t.SimulcastVideoStreamIndex=t.SimulcastTransceiverController=t.SimulcastLayers=t.SignalingClientSubscribe=t.SignalingClientJoin=t.SignalingClientEventType=t.SignalingClientEvent=t.SignalingClientConnectionRequest=t.SignalingAndMetricsConnectionMonitor=t.SetRemoteDescriptionTask=t.SetLocalDescriptionTask=t.SessionStateControllerTransitionResult=t.SessionStateControllerState=t.SessionStateControllerDeferPriority=t.SessionStateControllerAction=t.SerialGroupTask=t.SendAndReceiveDataMessagesTask=t.ScreenViewingSessionConnectionRequest=t.ScreenViewingPacketType=t.ScreenViewingMessageDispatcher=t.ScreenSignalingSessionEventType=t.ScreenSignalingSessionContainer=t.ScreenSharingSessionContainer=t.ScreenSharingMessageTypeSerializer=t.ScreenSharingMessageType=t.ScreenSharingMessageSerializer=t.ScreenSharingMessageFlagSerializer=t.ScreenSharingMessageFlag=t.ScreenShareStreamingEvent=t.ScreenShareStreamingContainer=t.ScreenShareStreamFactory=t.ScreenShareStream=t.ScaleToFitPresentationPolicy=t.SDPCandidateType=t.RunnableTask=t.ResizeObserverAdapterFactory=t.ReconnectionHealthPolicy=t.ReconnectingPromisedWebSocketFactory=t.ReconnectingPromisedWebSocket=t.ReceiveVideoStreamIndexTask=t.ReceiveVideoInputTask=t.ReceiveTURNCredentialsTask=t.ReceiveAudioInputTask=t.RealtimeVolumeIndicator=t.RealtimeState=t.RealtimeAttendeePositionInFrame=t.ProtocolScreenMessageDetailSerialization=t.ProtocolScreenMessageDetail=t.PromisedWebSocketClosureCode=t.PresentationElementFactory=t.PresentationBoxType=t.ParallelGroupTask=t.OpenSignalingConnectionTask=t.OpenScreenViewingConnectionTask=t.OpenScreenSignalingSessionTask=t.None=t.NoVideoUplinkBandwidthPolicy=t.NoVideoDownlinkBandwidthPolicy=t.NoOpVideoElementFactory=t.NoOpTask=t.NoOpMediaStreamBroker=t.NoOpLogger=t.NoOpDeviceController=t.NoOpDebugLogger=t.NoOpAudioVideoController=t.NScaleVideoUplinkBandwidthPolicy=t.MultiLogger=t.MonitorTask=t.MeetingSessionVideoAvailability=t.MeetingSessionURLs=t.MeetingSessionTURNCredentials=t.MeetingSessionStatusCode=t.MeetingSessionStatus=t.MeetingSessionPOSTLogger=t.MeetingSessionLifecycleEventCondition=t.MeetingSessionLifecycleEvent=t.MeetingSessionCredentials=t.MeetingSessionConfiguration=t.MeetingReadinessCheckerConfiguration=t.MediaRecordingEvent=t.MediaDeviceProxyHandler=t.Maybe=t.LogLevel=t.Log=t.ListenForVolumeIndicatorsTask=t.LeaveAndReceiveLeaveAckTask=t.JoinAndReceiveIndexTask=t.JPEGDecoderModule=t.JPEGDecoderInput=t.JPEGDecoder=t.IntervalScheduler=t.InitializeDefaultJPEGDecoderControllerTask=t.GlobalMetricReport=t.FullJitterLimitedBackoff=t.FullJitterBackoffFactory=t.FullJitterBackoff=t.FinishGatheringICECandidatesTask=t.DragType=t.DragAndZoomPresentationPolicy=t.DeviceSelection=t.DevicePixelRatioWindowSource=t.DevicePermission=t.DefaultWebSocketAdapter=t.DefaultVolumeIndicatorAdapter=t.DefaultVideoTileFactory=t.DefaultVideoTileController=t.DefaultVideoTile=t.DefaultVideoStreamIndex=t.DefaultVideoStreamIdSet=t.DefaultVideoCaptureAndEncodeParameter=t.DefaultTransceiverController=t.DefaultStatsCollector=t.DefaultSimulcastUplinkPolicy=t.DefaultSignalingSession=t.DefaultSignalingClient=t.DefaultSessionStateController=t.DefaultScreenViewingViewer=t.DefaultScreenViewingSession=t.DefaultScreenViewingMessageHandler=t.DefaultScreenViewingDeltaSource=t.DefaultScreenViewingDeltaRenderer=t.DefaultScreenViewingComponentContext=t.DefaultScreenViewing=t.DefaultScreenSignalingSessionFactory=t.DefaultScreenSignalingSession=t.DefaultScreenSharingSessionFactory=t.DefaultScreenSharingSession=t.DefaultScreenShareViewFacade=t.DefaultScreenShareFacade=t.DefaultSDP=t.DefaultResizeObserverAdapter=t.DefaultReconnectController=t.DefaultRealtimeController=t.DefaultPromisedWebSocketFactory=t.DefaultPromisedWebSocket=t.DefaultPresentation=t.DefaultPingPong=t.DefaultModality=t.DefaultMeetingSession=t.DefaultMeetingReadinessChecker=t.DefaultMediaDeviceFactory=t.DefaultJPEGDecoderInstance=t.DefaultJPEGDecoderController=t.DefaultJPEGDecoderComponentFactory=t.DefaultEventController=t.DefaultDragObserver=t.DefaultDevicePixelRatioMonitor=t.DefaultDeviceController=t.DefaultDOMWebSocketFactory=t.DefaultDOMWebSocket=t.DefaultContentShareController=t.DefaultClientMetricReport=t.DefaultBrowserBehavior=t.DefaultAudioVideoFacade=t.DefaultAudioVideoController=t.DefaultAudioMixController=t.DefaultActiveSpeakerPolicy=t.DefaultActiveSpeakerDetector=t.DataMessage=t.CreateSDPTask=t.CreatePeerConnectionTask=t.ContentShareMediaStreamBroker=t.ContentShareConstants=t.ConsoleLogger=t.ConnectionHealthPolicyConfiguration=t.ConnectionHealthData=t.ClientVideoStreamReceivingReport=t.ClientMetricReportMediaType=t.ClientMetricReportDirection=t.CleanStoppedSessionTask=t.CleanRestartedSessionTask=t.CheckVideoInputFeedback=t.CheckVideoConnectivityFeedback=t.CheckNetworkUDPConnectivityFeedback=t.CheckNetworkTCPConnectivityFeedback=t.CheckContentShareConnectivityFeedback=t.CheckCameraResolutionFeedback=t.CheckAudioOutputFeedback=t.CheckAudioInputFeedback=t.CheckAudioConnectivityFeedback=t.BitrateParameters=t.BaseTask=t.BaseConnectionHealthPolicy=t.AudioVideoControllerState=t.AudioLogEvent=t.Attendee=t.AttachMediaInputTask=t.AsyncScheduler=t.AllHighestVideoBandwidthPolicy=void 0;var r=n(33);t.AllHighestVideoBandwidthPolicy=r.default;var i=n(7);t.AsyncScheduler=i.default;var o=n(76);t.AttachMediaInputTask=o.default;var a=n(223);t.Attendee=a.default;var s=n(35);t.AudioLogEvent=s.default;var c=n(77);t.AudioVideoControllerState=c.default;var u=n(36);t.BaseConnectionHealthPolicy=u.default;var l=n(0);t.BaseTask=l.default;var d=n(78);t.BitrateParameters=d.default;var f=n(79);t.CheckAudioConnectivityFeedback=f.default;var p=n(80);t.CheckAudioInputFeedback=p.default;var h=n(81);t.CheckAudioOutputFeedback=h.default;var m=n(82);t.CheckCameraResolutionFeedback=m.default;var g=n(83);t.CheckContentShareConnectivityFeedback=g.default;var b=n(84);t.CheckNetworkTCPConnectivityFeedback=b.default;var v=n(85);t.CheckNetworkUDPConnectivityFeedback=v.default;var y=n(86);t.CheckVideoConnectivityFeedback=y.default;var S=n(87);t.CheckVideoInputFeedback=S.default;var w=n(88);t.CleanRestartedSessionTask=w.default;var E=n(89);t.CleanStoppedSessionTask=E.default;var C=n(18);t.ClientMetricReportDirection=C.default;var T=n(27);t.ClientMetricReportMediaType=T.default;var _=n(90);t.ClientVideoStreamReceivingReport=_.default;var I=n(91);t.ConnectionHealthData=I.default;var k=n(92);t.ConnectionHealthPolicyConfiguration=k.default;var A=n(224);t.ConsoleLogger=A.default;var O=n(28);t.ContentShareConstants=O.default;var x=n(93);t.ContentShareMediaStreamBroker=x.default;var R=n(102);t.CreatePeerConnectionTask=R.default;var P=n(103);t.CreateSDPTask=P.default;var M=n(105);t.DataMessage=M.default;var D=n(106);t.DefaultActiveSpeakerDetector=D.default;var N=n(226);t.DefaultActiveSpeakerPolicy=N.default;var L=n(40);t.DefaultAudioMixController=L.default;var U=n(41);t.DefaultAudioVideoController=U.default;var F=n(157);t.DefaultAudioVideoFacade=F.default;var j=n(3);t.DefaultBrowserBehavior=j.default;var B=n(121);t.DefaultClientMetricReport=B.default;var V=n(158);t.DefaultContentShareController=V.default;var q=n(159);t.DefaultDOMWebSocket=q.default;var H=n(56);t.DefaultDOMWebSocketFactory=H.default;var W=n(37);t.DefaultDeviceController=W.default;var z=n(151);t.DefaultDevicePixelRatioMonitor=z.default;var G=n(160);t.DefaultDragObserver=G.default;var K=n(108);t.DefaultEventController=K.default;var J=n(244);t.DefaultJPEGDecoderComponentFactory=J.default;var X=n(57);t.DefaultJPEGDecoderController=X.default;var Y=n(161);t.DefaultJPEGDecoderInstance=Y.default;var Q=n(97);t.DefaultMediaDeviceFactory=Q.default;var $=n(245);t.DefaultMeetingReadinessChecker=$.default;var Z=n(246);t.DefaultMeetingSession=Z.default;var ee=n(19);t.DefaultModality=ee.default;var te=n(112);t.DefaultPingPong=te.default;var ne=n(189);t.DefaultPresentation=ne.default;var re=n(171);t.DefaultPromisedWebSocket=re.default;var ie=n(61);t.DefaultPromisedWebSocketFactory=ie.default;var oe=n(113);t.DefaultRealtimeController=oe.default;var ae=n(58);t.DefaultReconnectController=ae.default;var se=n(182);t.DefaultResizeObserverAdapter=se.default;var ce=n(20);t.DefaultSDP=ce.default;var ue=n(166);t.DefaultScreenShareFacade=ue.default;var le=n(179);t.DefaultScreenShareViewFacade=le.default;var de=n(177);t.DefaultScreenSharingSession=de.default;var fe=n(176);t.DefaultScreenSharingSessionFactory=fe.default;var pe=n(185);t.DefaultScreenSignalingSession=pe.default;var he=n(184);t.DefaultScreenSignalingSessionFactory=he.default;var me=n(197);t.DefaultScreenViewing=me.default;var ge=n(186);t.DefaultScreenViewingComponentContext=ge.default;var be=n(188);t.DefaultScreenViewingDeltaRenderer=be.default;var ve=n(192);t.DefaultScreenViewingDeltaSource=ve.default;var ye=n(193);t.DefaultScreenViewingMessageHandler=ye.default;var Se=n(194);t.DefaultScreenViewingSession=Se.default;var we=n(196);t.DefaultScreenViewingViewer=we.default;var Ee=n(116);t.DefaultSessionStateController=Ee.default;var Ce=n(118);t.DefaultSignalingClient=Ce.default;var Te=n(195);t.DefaultSignalingSession=Te.default;var _e=n(154);t.DefaultSimulcastUplinkPolicy=_e.default;var Ie=n(120);t.DefaultStatsCollector=Ie.default;var ke=n(49);t.DefaultTransceiverController=ke.default;var Ae=n(21);t.DefaultVideoCaptureAndEncodeParameter=Ae.default;var Oe=n(12);t.DefaultVideoStreamIdSet=Oe.default;var xe=n(51);t.DefaultVideoStreamIndex=xe.default;var Re=n(38);t.DefaultVideoTile=Re.default;var Pe=n(150);t.DefaultVideoTileController=Pe.default;var Me=n(153);t.DefaultVideoTileFactory=Me.default;var De=n(156);t.DefaultVolumeIndicatorAdapter=De.default;var Ne=n(72);t.DefaultWebSocketAdapter=Ne.default;var Le=n(39);t.DevicePermission=Le.default;var Ue=n(152);t.DevicePixelRatioWindowSource=Ue.default;var Fe=n(100);t.DeviceSelection=Fe.default;var je=n(198);t.DragAndZoomPresentationPolicy=je.default;var Be=n(22);t.DragType=Be.default;var Ve=n(126);t.FinishGatheringICECandidatesTask=Ve.default;var qe=n(23);t.FullJitterBackoff=qe.default;var He=n(59);t.FullJitterBackoffFactory=He.default;var We=n(168);t.FullJitterLimitedBackoff=We.default;var ze=n(122);t.GlobalMetricReport=ze.default;var Ge=n(251);t.InitializeDefaultJPEGDecoderControllerTask=Ge.default;var Ke=n(10);t.IntervalScheduler=Ke.default;var Je=n(162);t.JPEGDecoder=Je.default;var Xe=n(163);t.JPEGDecoderInput=Xe.default;var Ye=n(164);t.JPEGDecoderModule=Ye.default;var Qe=n(127);t.JoinAndReceiveIndexTask=Qe.default;var $e=n(129);t.LeaveAndReceiveLeaveAckTask=$e.default;var Ze=n(130);t.ListenForVolumeIndicatorsTask=Ze.default;var et=n(200);t.Log=et.default;var tt=n(13);t.LogLevel=tt.default;var nt=n(1);t.Maybe=nt.default;var rt=n(98);t.MediaDeviceProxyHandler=rt.default;var it=n(60);t.MediaRecordingEvent=it.default;var ot=n(165);t.MeetingReadinessCheckerConfiguration=ot.default;var at=n(54);t.MeetingSessionConfiguration=at.default;var st=n(30);t.MeetingSessionCredentials=st.default;var ct=n(124);t.MeetingSessionLifecycleEvent=ct.default;var ut=n(125);t.MeetingSessionLifecycleEventCondition=ut.default;var lt=n(252);t.MeetingSessionPOSTLogger=lt.default;var dt=n(29);t.MeetingSessionStatus=dt.default;var ft=n(6);t.MeetingSessionStatusCode=ft.default;var pt=n(47);t.MeetingSessionTURNCredentials=pt.default;var ht=n(55);t.MeetingSessionURLs=ht.default;var mt=n(42);t.MeetingSessionVideoAvailability=mt.default;var gt=n(131);t.MonitorTask=gt.default;var bt=n(253);t.MultiLogger=bt.default;var vt=n(53);t.NScaleVideoUplinkBandwidthPolicy=vt.default;var yt=n(254);t.NoOpAudioVideoController=yt.default;var St=n(201);t.NoOpDebugLogger=St.default;var wt=n(255);t.NoOpDeviceController=wt.default;var Et=n(202);t.NoOpLogger=Et.default;var Ct=n(73);t.NoOpMediaStreamBroker=Ct.default;var Tt=n(256);t.NoOpTask=Tt.default;var _t=n(257);t.NoOpVideoElementFactory=_t.default;var It=n(258);t.NoVideoDownlinkBandwidthPolicy=It.default;var kt=n(259);t.NoVideoUplinkBandwidthPolicy=kt.default;var At=n(95);t.None=At.default;var Ot=n(260);t.OpenScreenSignalingSessionTask=Ot.default;var xt=n(261);t.OpenScreenViewingConnectionTask=xt.default;var Rt=n(134);t.OpenSignalingConnectionTask=Rt.default;var Pt=n(136);t.ParallelGroupTask=Pt.default;var Mt=n(71);t.PresentationBoxType=Mt.default;var Dt=n(191);t.PresentationElementFactory=Dt.default;var Nt=n(173);t.PromisedWebSocketClosureCode=Nt.default;var Lt=n(174);t.ProtocolScreenMessageDetail=Lt.default;var Ut=n(63);t.ProtocolScreenMessageDetailSerialization=Ut.default;var Ft=n(262);t.RealtimeAttendeePositionInFrame=Ft.default;var jt=n(114);t.RealtimeState=jt.default;var Bt=n(115);t.RealtimeVolumeIndicator=Bt.default;var Vt=n(137);t.ReceiveAudioInputTask=Vt.default;var qt=n(138);t.ReceiveTURNCredentialsTask=qt.default;var Ht=n(139);t.ReceiveVideoInputTask=Ht.default;var Wt=n(140);t.ReceiveVideoStreamIndexTask=Wt.default;var zt=n(172);t.ReconnectingPromisedWebSocket=zt.default;var Gt=n(62);t.ReconnectingPromisedWebSocketFactory=Gt.default;var Kt=n(132);t.ReconnectionHealthPolicy=Kt.default;var Jt=n(180);t.ResizeObserverAdapterFactory=Jt.default;var Xt=n(178);t.RunnableTask=Xt.default;var Yt=n(104);t.SDPCandidateType=Yt.default;var Qt=n(31);t.ScaleToFitPresentationPolicy=Qt.default;var $t=n(175);t.ScreenShareStream=$t.default;var Zt=n(64);t.ScreenShareStreamFactory=Zt.default;var en=n(263);t.ScreenShareStreamingContainer=en.default;var tn=n(65);t.ScreenShareStreamingEvent=tn.default;var nn=n(24);t.ScreenSharingMessageFlag=nn.default;var rn=n(66);t.ScreenSharingMessageFlagSerializer=rn.default;var on=n(67);t.ScreenSharingMessageSerializer=on.default;var an=n(15);t.ScreenSharingMessageType=an.default;var sn=n(68);t.ScreenSharingMessageTypeSerializer=sn.default;var cn=n(167);t.ScreenSharingSessionContainer=cn.default;var un=n(183);t.ScreenSignalingSessionContainer=un.default;var ln=n(69);t.ScreenSignalingSessionEventType=ln.default;var dn=n(187);t.ScreenViewingMessageDispatcher=dn.default;var fn=n(70);t.ScreenViewingPacketType=fn.default;var pn=n(199);t.ScreenViewingSessionConnectionRequest=pn.default;var hn=n(141);t.SendAndReceiveDataMessagesTask=hn.default;var mn=n(142);t.SerialGroupTask=mn.default;var gn=n(43);t.SessionStateControllerAction=gn.default;var bn=n(117);t.SessionStateControllerDeferPriority=bn.default;var vn=n(44);t.SessionStateControllerState=vn.default;var yn=n(45);t.SessionStateControllerTransitionResult=yn.default;var Sn=n(143);t.SetLocalDescriptionTask=Sn.default;var wn=n(144);t.SetRemoteDescriptionTask=wn.default;var En=n(107);t.SignalingAndMetricsConnectionMonitor=En.default;var Cn=n(135);t.SignalingClientConnectionRequest=Cn.default;var Tn=n(119);t.SignalingClientEvent=Tn.default;var _n=n(4);t.SignalingClientEventType=_n.default;var In=n(128);t.SignalingClientJoin=In.default;var kn=n(146);t.SignalingClientSubscribe=kn.default;var An=n(155);t.SimulcastLayers=An.default;var On=n(50);t.SimulcastTransceiverController=On.default;var xn=n(149);t.SimulcastVideoStreamIndex=xn.default;var Rn=n(96);t.Some=Rn.default;var Pn=n(123);t.StreamMetricReport=Pn.default;var Mn=n(145);t.SubscribeAndReceiveSubscribeAckTask=Mn.default;var Dn=n(34);t.TaskStatus=Dn.default;var Nn=n(8);t.TimeoutScheduler=Nn.default;var Ln=n(48);t.TimeoutTask=Ln.default;var Un=n(133);t.UnusableAudioWarningConnectionHealthPolicy=Un.default;var Fn=n(14);t.Versioning=Fn.default;var jn=n(148);t.VideoAdaptiveProbePolicy=jn.default;var Bn=n(26);t.VideoLogEvent=Bn.default;var Vn=n(101);t.VideoQualitySettings=Vn.default;var qn=n(264);t.VideoSource=qn.default;var Hn=n(52);t.VideoStreamDescription=Hn.default;var Wn=n(99);t.VideoTileState=Wn.default;var zn=n(147);t.WaitForAttendeePresenceTask=zn.default;var Gn=n(170);t.WebMMediaRecording=Gn.default;var Kn=n(169);t.WebMMediaRecordingFactory=Kn.default;var Jn=n(46);t.WebSocketReadyState=Jn.default},function(e){e.exports=JSON.parse('{"hlc302Agent":{"AgentRestApiEndpoint6FFF7D2B":"https://o7yqx349b2.execute-api.us-east-1.amazonaws.com/prod/","Region":"us-east-1","ChimeDemoUserSecretKey":"sw7kWlIjV93scWDJ5DeOWcNw1MQ6k7KAzpoO1UTY","ChimeDemoUserAccessKey":"AKIA4X7ZKU2LQCNFSRUH"},"hlc302Customer":{"CustomerRestApiEndpoint8FF35B5C":"https://puv0octzll.execute-api.us-east-1.amazonaws.com/prod/","InstanceId":"reinvent2021-bmWcST03jDRAV7j"}}')},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ClientMetricReportDirection=void 0,function(e){e[e.UPSTREAM=0]="UPSTREAM",e[e.DOWNSTREAM=1]="DOWNSTREAM"}(r=t.ClientMetricReportDirection||(t.ClientMetricReportDirection={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),i=function(){function e(e){this._id=e}return e.prototype.id=function(){return this._id},e.prototype.base=function(){return this._id?this._id.split(e.MODALITY_SEPARATOR)[0]:""},e.prototype.modality=function(){if(!this._id)return"";var t=this._id.split(e.MODALITY_SEPARATOR);return 2===t.length?t[1]:""},e.prototype.hasModality=function(e){return""!==e&&this.modality()===e},e.prototype.withModality=function(t){var n=new e(this.base()+e.MODALITY_SEPARATOR+t);return""===t||""===this.base()||new e(n._id).modality()!==t?new e(this.base()):n},e.MODALITY_SEPARATOR=r.default.Modality[0],e.MODALITY_CONTENT=r.default.Modality.substr(1),e}();t.default=i},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(104),a=function(){function e(e){this.sdp=e}return e.prototype.clone=function(){return new e(this.sdp)},e.isRTPCandidate=function(e){var t=/candidate[:](\S+) (\d+)/g.exec(e);return null!==t&&"1"===t[2]},e.linesToSDP=function(t){return new e(t.join(e.CRLF))},e.candidateTypeFromString=function(e){switch(e){case o.default.Host:return o.default.Host;case o.default.ServerReflexive:return o.default.ServerReflexive;case o.default.PeerReflexive:return o.default.PeerReflexive;case o.default.Relay:return o.default.Relay}return null},e.candidateType=function(t){var n=/a[=]candidate[:].* typ ([a-z]+) /g.exec(t);return null===n?null:e.candidateTypeFromString(n[1])},e.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},e.splitSections=function(t){return t.split("\nm=").map((function(t,n){return(n>0?"m="+t:t).trim()+e.CRLF}))},e.findActiveCameraSection=function(e){var t,n,i=0,o=!1;try{for(var a=r(e),s=a.next();!s.done;s=a.next()){var c=s.value;if(/^m=video/.test(c)&&c.indexOf("sendrecv")>-1){o=!0;break}i++}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return!1===o&&(i=-1),i},e.parseSSRCMedia=function(t){var n,r=t.indexOf(" "),i="",o="";n=e.extractSSRCFromAttributeLine(t);var a=t.indexOf(":",r);return a>-1?(i=t.substr(r+1,a-r-1),o=t.substr(a+1)):i=t.substr(r+1),[n,i,o]},e.extractSSRCsFromFIDGroupLine=function(e){return/^a=ssrc-group:FID\s(.+)/.exec(e)[1]},e.extractSSRCFromAttributeLine=function(e){var t=/^a=ssrc:([0-9]+)\s/.exec(e);return null===t?0:parseInt(t[1],10)},e.matchPrefix=function(t,n){return e.splitLines(t).filter((function(e){return 0===e.indexOf(n)}))},e.prototype.lines=function(){return this.sdp.split(e.CRLF)},e.prototype.hasVideo=function(){return null!==/^m=video/gm.exec(this.sdp)},e.prototype.hasCandidates=function(){return null!==/a[=]candidate[:]/g.exec(this.sdp)},e.prototype.hasCandidatesForAllMLines=function(){return!(this.sdp.indexOf("c=IN IP4 0.0.0.0")>-1)},e.prototype.withBundleAudioVideo=function(){var t,n,i=this.lines(),o=[];try{for(var a=r(i),s=a.next();!s.done;s=a.next()){var c=s.value,u=c.replace(/^a=group:BUNDLE audio$/,"a=group:BUNDLE audio video");u===c?o.push(c):o.push(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return e.linesToSDP(o)},e.prototype.copyVideo=function(t){var n,i,o=t.split(e.CRLF),a=e.splitLines(this.sdp),s=!1;try{for(var c=r(o),u=c.next();!u.done;u=c.next()){var l=u.value;/^m=video/.test(l)?s=!0:/^m=/.test(l)&&(s=!1),s&&a.push(l)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return e.linesToSDP(a)},e.prototype.withoutCandidateType=function(t){return e.linesToSDP(this.lines().filter((function(n){return e.candidateType(n)!==t})))},e.prototype.withoutServerReflexiveCandidates=function(){return this.withoutCandidateType(o.default.ServerReflexive)},e.prototype.withBandwidthRestriction=function(t,n){var i,o,a=this.lines(),s=[];try{for(var c=r(a),u=c.next();!u.done;u=c.next()){var l=u.value;s.push(l),/^m=video/.test(l)&&(n?s.push("b=TIAS:"+1e3*t):s.push("b=AS:"+t))}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return e.linesToSDP(s)},e.prototype.withUnifiedPlanFormat=function(){var t=this.sdp;return t.includes("mozilla")?this.clone():new e(t=t.replace("o=-","o=mozilla-chrome"))},e.prototype.preferH264IfExists=function(){var t=this.sdp,n=e.splitSections(t);if(n.length<2)return new e(this.sdp);for(var r=[],i=function(t){if(/^m=video/.test(n[t])){var i=e.splitLines(n[t]),o=0,a=0;if(i.forEach((function(e){if(/^a=rtpmap:/.test(e)){var t=/^a=rtpmap:([0-9]+)\s/.exec(e);e.toLowerCase().includes("vp8")?o=parseInt(t[1],10):e.toLowerCase().includes("h264")&&(a=parseInt(t[1],10))}})),0!==o&&0!==a){for(var s=i[0].split(" "),c=-1,u=-1,l=3;l<s.length;l++){var d=parseInt(s[l],10);d===o?c=l:d===a&&(u=l)}c<u&&(s[c]=a.toString(),s[u]=o.toString()),i[0]=s.join(" ")}n[t]=i.join(e.CRLF)+e.CRLF}r.push(n[t])},o=0;o<n.length;o++)i(o);return new e(r.join(""))},e.prototype.withOldFashionedMungingSimulcast=function(t){if(t<2)return this.clone();var n=this.sdp,r=e.splitSections(n);if(r.length<2)return new e(this.sdp);var o=e.findActiveCameraSection(r);if(-1===o)return new e(this.sdp);var a="",s="";e.matchPrefix(r[o],"a=ssrc:").forEach((function(t){var n=e.parseSSRCMedia(t);"cname"===n[1]?a=n[2]:"msid"===n[1]&&(s=n[2])}));var c=e.matchPrefix(r[o],"a=ssrc-group:FID ");if(""===a||""===s||c.length<1)return new e(this.sdp);for(var u=e.extractSSRCsFromFIDGroupLine(c[0]),l=r[o].trim().split(e.CRLF).filter((function(e){return 0!==e.indexOf("a=ssrc:")&&0!==e.indexOf("a=ssrc-group:")})),d=[],f=i(u.split(" ").map((function(e){return parseInt(e,10)})),2),p=f[0],h=f[1],m=0;m<t;m++)l.push("a=ssrc:"+p+" cname:"+a),l.push("a=ssrc:"+p+" msid:"+s),l.push("a=ssrc:"+h+" cname:"+a),l.push("a=ssrc:"+h+" msid:"+s),l.push("a=ssrc-group:FID "+p+" "+h),d.push(p),h=(p+=1)+1;return l.push("a=ssrc-group:SIM "+d.join(" ")),r[o]=l.join(e.CRLF)+e.CRLF,new e(r.join(""))},e.prototype.ssrcForVideoSendingSection=function(){var t=this.sdp,n=e.splitSections(t);if(n.length<2)return"";var r=e.findActiveCameraSection(n);if(-1===r)return"";var o=e.matchPrefix(n[r],"a=ssrc-group:FID ");if(o.length<1)return"";var a=e.extractSSRCsFromFIDGroupLine(o[0]);return i(a.split(" ").map((function(e){return parseInt(e,10)})),1)[0].toString()},e.prototype.videoSendSectionHasDifferentSSRC=function(e){var t=this.ssrcForVideoSendingSection(),n=e.ssrcForVideoSendingSection();return""!==t&&""!==n&&parseInt(t,10)!==parseInt(n,10)},e.CRLF="\r\n",e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,i){this.cameraWidth=e,this.cameraHeight=t,this.cameraFrameRate=n,this.maxEncodeBitrateKbps=r,this.isSimulcast=i}return e.prototype.equal=function(e){var t=e.captureWidth()===this.cameraWidth&&e.captureHeight()===this.cameraHeight&&e.captureFrameRate()===this.cameraFrameRate&&e.encodeBitrates().length===this.encodeBitrates().length&&e.encodeWidths().length===this.encodeWidths().length&&e.encodeHeights().length===this.encodeHeights().length;if(t)for(var n=0;n<e.encodeWidths().length;n++)if(e.encodeWidths()[n]!==this.encodeWidths()[n]||e.encodeHeights()[n]!==this.encodeHeights()[n]||e.encodeBitrates()[n]!==this.encodeBitrates()[n])return t=!1;return t},e.prototype.clone=function(){return new e(this.cameraWidth,this.cameraHeight,this.cameraFrameRate,this.maxEncodeBitrateKbps,this.isSimulcast)},e.prototype.captureWidth=function(){return this.cameraWidth},e.prototype.captureHeight=function(){return this.cameraHeight},e.prototype.captureFrameRate=function(){return this.cameraFrameRate},e.prototype.encodeBitrates=function(){return[this.maxEncodeBitrateKbps]},e.prototype.encodeWidths=function(){return[this.cameraWidth]},e.prototype.encodeHeights=function(){return[this.cameraHeight]},e}();t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.BEGIN=0]="BEGIN",e[e.DRAG=1]="DRAG",e[e.END=2]="END"}(r||(r={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.fixedWaitMs=e,this.shortBackoffMs=t,this.longBackoffMs=n,this.currentRetry=0,this.fixedWaitMs<0&&(this.fixedWaitMs=0),this.shortBackoffMs<0&&(this.shortBackoffMs=0),this.longBackoffMs<0&&(this.longBackoffMs=0),this.reset()}return e.prototype.reset=function(){this.currentRetry=0},e.prototype.nextBackoffAmountMs=function(){var e=Math.random()*Math.min(this.longBackoffMs,this.shortBackoffMs*Math.pow(2,this.currentRetry))+this.fixedWaitMs;return this.currentRetry+=1,e},e}();t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenSharingMessageFlag=void 0,function(e){e[e.Broadcast=0]="Broadcast",e[e.Local=1]="Local",e[e.Synthesized=2]="Synthesized",e[e.Unicast=3]="Unicast"}(r=t.ScreenSharingMessageFlag||(t.ScreenSharingMessageFlag={})),t.default=r},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.VideoLogEvent=void 0,function(e){e[e.InputAttached=0]="InputAttached",e[e.SendingFailed=1]="SendingFailed",e[e.SendingSuccess=2]="SendingSuccess"}(r=t.VideoLogEvent||(t.VideoLogEvent={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ClientMetricReportMediaType=void 0,function(e){e[e.AUDIO=0]="AUDIO",e[e.VIDEO=1]="VIDEO"}(r=t.ClientMetricReportMediaType||(t.ClientMetricReportMediaType={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Modality="#content"}(r||(r={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(6),o=function(){function e(e){this._statusCode=e}return e.prototype.statusCode=function(){return this._statusCode},e.prototype.isFailure=function(){switch(this._statusCode){case i.default.AudioAuthenticationRejected:case i.default.AudioCallAtCapacity:case i.default.AudioInternalServerError:case i.default.AudioServiceUnavailable:case i.default.AudioDisconnected:case i.default.VideoCallAtSourceCapacity:case i.default.SignalingBadRequest:case i.default.SignalingInternalServerError:case i.default.SignalingRequestFailed:case i.default.StateMachineTransitionFailed:case i.default.ICEGatheringTimeoutWorkaround:case i.default.ConnectionHealthReconnect:case i.default.RealtimeApiFailed:case i.default.TaskFailed:case i.default.NoAttendeePresent:return!0;default:return!1}},e.prototype.isTerminal=function(){switch(this._statusCode){case i.default.Left:case i.default.AudioJoinedFromAnotherDevice:case i.default.AudioAuthenticationRejected:case i.default.AudioCallAtCapacity:case i.default.MeetingEnded:case i.default.AudioDisconnected:case i.default.TURNCredentialsForbidden:case i.default.SignalingBadRequest:case i.default.SignalingRequestFailed:case i.default.VideoCallAtSourceCapacity:case i.default.RealtimeApiFailed:return!0;default:return!1}},e.prototype.isAudioConnectionFailure=function(){switch(this._statusCode){case i.default.AudioAuthenticationRejected:case i.default.AudioInternalServerError:case i.default.AudioServiceUnavailable:case i.default.StateMachineTransitionFailed:case i.default.ICEGatheringTimeoutWorkaround:case i.default.SignalingBadRequest:case i.default.SignalingInternalServerError:case i.default.SignalingRequestFailed:case i.default.RealtimeApiFailed:case i.default.NoAttendeePresent:return!0;default:return!1}},e.fromSignalFrame=function(t){return t.error&&t.error.status?this.fromSignalingStatus(t.error.status):t.type===r.SdkSignalFrame.Type.AUDIO_STATUS?t.audioStatus?this.fromAudioStatus(t.audioStatus.audioStatus):new e(i.default.SignalingRequestFailed):new e(i.default.OK)},e.fromAudioStatus=function(t){switch(t){case 200:return new e(i.default.OK);case 301:return new e(i.default.AudioJoinedFromAnotherDevice);case 302:return new e(i.default.AudioDisconnectAudio);case 403:return new e(i.default.AudioAuthenticationRejected);case 409:return new e(i.default.AudioCallAtCapacity);case 410:return new e(i.default.MeetingEnded);case 500:return new e(i.default.AudioInternalServerError);case 503:return new e(i.default.AudioServiceUnavailable);default:switch(Math.floor(t/100)){case 2:return new e(i.default.OK);default:return new e(i.default.AudioDisconnected)}}},e.fromSignalingStatus=function(t){switch(t){case 206:return new e(i.default.VideoCallSwitchToViewOnly);case 509:return new e(i.default.VideoCallAtSourceCapacity);default:switch(Math.floor(t/100)){case 2:return new e(i.default.OK);case 4:return new e(i.default.SignalingBadRequest);case 5:return new e(i.default.SignalingInternalServerError);default:return new e(i.default.SignalingRequestFailed)}}},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.attendeeId=null,this.externalUserId=null,this.joinToken=null}return e.prototype.toJSON=function(){return{attendeeId:this.attendeeId,joinToken:null===this.joinToken?null:"<redacted>"}},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(71),i=function(){this.calculate=function(e){switch(e.boxType){case r.default.LETTER_BOX:var t=e.viewportDimensions[0]/e.sourceAspectRatio;return{dimensions:[e.viewportDimensions[0],t],translations:[0,e.viewportDimensions[1]/2-t/2]};case r.default.PILLAR_BOX:var n=e.viewportDimensions[1]*e.sourceAspectRatio;return{dimensions:[n,e.viewportDimensions[1]],translations:[e.viewportDimensions[0]/2-n/2,0]};case r.default.NONE:return{dimensions:e.viewportDimensions,translations:[0,0]}}}};t.default=i},function(e,t,n){(function(t){var r;e.exports=(r=r||function(e,r){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==t&&t.crypto&&(i=t.crypto),!i)try{i=n(291)}catch(e){}var o=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},c=s.lib={},u=c.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=c.WordArray=u.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(o());return new l.init(t,e)}}),d=s.enc={},f=d.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new l.init(n,t/2)}},p=d.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new l.init(n,t)}},h=d.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},m=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,u=e.min(4*c,o);if(c){for(var d=0;d<c;d+=a)this._doProcessBlock(i,d);n=i.splice(0,c),r.sigBytes-=u}return new l.init(n,u)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(c.Hasher=m.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math),r)}).call(this,n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=function(){function e(e){this.selfAttendeeId=e,this.reset()}return e.prototype.reset=function(){this.optimalReceiveSet=new r.default,this.subscribedReceiveSet=new r.default},e.prototype.updateIndex=function(e){this.optimalReceiveSet=this.calculateOptimalReceiveSet(e)},e.prototype.updateMetrics=function(e){},e.prototype.wantsResubscribe=function(){return!this.subscribedReceiveSet.equal(this.optimalReceiveSet)},e.prototype.chooseSubscriptions=function(){return this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveSet.clone()},e.prototype.calculateOptimalReceiveSet=function(e){return e.highestQualityStreamFromEachGroupExcludingSelf(this.selfAttendeeId)},e}();t.default=i},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.IDLE="IDLE",e.RUNNING="RUNNING",e.CANCELED="CANCELED",e.FINISHED="FINISHED"}(r||(r={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AudioLogEvent=void 0,function(e){e[e.DeviceChanged=0]="DeviceChanged",e[e.MutedLocal=1]="MutedLocal",e[e.UnmutedLocal=2]="UnmutedLocal",e[e.Connected=3]="Connected",e[e.ConnectFailed=4]="ConnectFailed",e[e.RedmicStartLoss=5]="RedmicStartLoss",e[e.RedmicEndLoss=6]="RedmicEndLoss"}(r=t.AudioLogEvent||(t.AudioLogEvent={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.minHealth=e.minHealth,this.maxHealth=e.maxHealth,this.currentHealth=e.initialHealth,this.currentData=t.clone()}return e.prototype.minimumHealth=function(){return this.minHealth},e.prototype.maximumHealth=function(){return this.maxHealth},e.prototype.health=function(){return this.maximumHealth()},e.prototype.update=function(e){this.currentData=e},e.prototype.getConnectionHealthData=function(){return this.currentData.clone()},e.prototype.healthy=function(){return this.health()>this.minimumHealth()},e.prototype.healthIfChanged=function(){var e=this.health();return e!==this.currentHealth?(this.currentHealth=e,e):null},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(1),c=n(97),u=n(7),l=n(10),d=n(38),f=n(39),p=n(100),h=n(101),m=function(){function e(t){var n=this;this.logger=t,this.deviceInfoCache=null,this.activeDevices={audio:null,video:null},this.audioOutputDeviceId=null,this.deviceChangeObservers=new Set,this.deviceLabelTrigger=function(){return navigator.mediaDevices.getUserMedia({audio:!0,video:!0})},this.audioInputDestinationNode=null,this.audioInputSourceNode=null,this.videoInputQualitySettings=null,this.useWebAudio=!1,this.inputDeviceCount=0,this.browserBehavior=new a.default,this.alreadyHandlingDeviceChange=!1,this.videoInputQualitySettings=new h.default(e.defaultVideoWidth,e.defaultVideoHeight,e.defaultVideoFrameRate,e.defaultVideoMaxBandwidthKbps);var r=this.browserBehavior.requiresResolutionAlignment(this.videoInputQualitySettings.videoWidth,this.videoInputQualitySettings.videoHeight);this.videoInputQualitySettings.videoWidth=r[0],this.videoInputQualitySettings.videoHeight=r[1],this.logger.info("DefaultDeviceController video dimension "+this.videoInputQualitySettings.videoWidth+" x "+this.videoInputQualitySettings.videoHeight);try{(new c.default).create().addEventListener("devicechange",(function(){n.handleDeviceChange()}));var i=navigator.mediaDevices.getSupportedConstraints();this.logger.info("Supported Constraints in this browser "+JSON.stringify(i))}catch(e){t.error(e.message)}}return e.prototype.listAudioInputDevices=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,this.listDevicesOfKind("audioinput")];case 1:return e=t.sent(),this.trace("listAudioInputDevices",null,e),[2,e]}}))}))},e.prototype.listVideoInputDevices=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,this.listDevicesOfKind("videoinput")];case 1:return e=t.sent(),this.trace("listVideoInputDevices",null,e),[2,e]}}))}))},e.prototype.listAudioOutputDevices=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,this.listDevicesOfKind("audiooutput")];case 1:return e=t.sent(),this.trace("listAudioOutputDevices",null,e),[2,e]}}))}))},e.prototype.chooseAudioInputDevice=function(e){var t,n;return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return[4,this.chooseInputDevice("audio",e,!1)];case 1:return(r=i.sent())!==f.default.PermissionGrantedByUser&&r!==f.default.PermissionGrantedByBrowser||null===(n=null===(t=this.boundAudioVideoController)||void 0===t?void 0:t.eventController)||void 0===n||n.pushMeetingState(null===e?"audioInputUnselected":"audioInputSelected"),this.trace("chooseAudioInputDevice",e,f.default[r]),[2,r]}}))}))},e.prototype.chooseVideoInputDevice=function(e){var t,n;return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return this.updateMaxBandwidthKbps(),[4,this.chooseInputDevice("video",e,!1)];case 1:return(r=i.sent())!==f.default.PermissionGrantedByUser&&r!==f.default.PermissionGrantedByBrowser||null===(n=null===(t=this.boundAudioVideoController)||void 0===t?void 0:t.eventController)||void 0===n||n.pushMeetingState(null===e?"videoInputUnselected":"videoInputSelected"),this.trace("chooseVideoInputDevice",e,f.default[r]),[2,r]}}))}))},e.prototype.chooseAudioOutputDevice=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return this.audioOutputDeviceId=e,this.bindAudioOutput(),this.trace("chooseAudioOutputDevice",e,null),[2]}))}))},e.prototype.enableWebAudio=function(e){this.logger.warn("enableWebAudio has been Deprecated and will be removed in v2.0.0. This API method will removed entirely, along with the corresponding field on MeetingSessionConfiguration. The MeetingSession will no longer call enableWebAudio on the corresponding DeviceController. "),this.useWebAudio=e,this.trace("enableWebAudio",e)},e.prototype.addDeviceChangeObserver=function(e){this.logger.info("adding device change observer"),this.deviceChangeObservers.add(e),this.trace("addDeviceChangeObserver")},e.prototype.removeDeviceChangeObserver=function(e){this.logger.info("removing device change observer"),this.deviceChangeObservers.delete(e),this.trace("removeDeviceChangeObserver")},e.prototype.createAnalyserNodeForAudioInput=function(){if(!this.activeDevices.audio)return null;var t=e.getAudioContext(),n=t.createAnalyser();return t.createMediaStreamSource(this.activeDevices.audio.stream).connect(n),this.trace("createAnalyserNodeForAudioInput"),n},e.prototype.startVideoPreviewForVideoInput=function(e){var t=this;if(!this.activeDevices.video)return this.logger.warn("cannot bind video preview since video input device has not been chosen"),void this.trace("startVideoPreviewForVideoInput",e.id);this.releaseMediaStream(e.srcObject),d.default.disconnectVideoStreamFromVideoElement(e,!1),navigator.mediaDevices.getUserMedia(this.activeDevices.video.constraints).then((function(t){d.default.connectVideoStreamToVideoElement(t,e,!0)})).catch((function(n){t.logger.warn("Unable to reacquire video stream for preview to element "+e.id+": "+n)})),this.trace("startVideoPreviewForVideoInput",e.id)},e.prototype.stopVideoPreviewForVideoInput=function(e){var t=e.srcObject;t&&(this.releaseMediaStream(t),d.default.disconnectVideoStreamFromVideoElement(e,!1)),this.activeDevices.video&&this.releaseMediaStream(this.activeDevices.video.stream),this.trace("stopVideoPreviewForVideoInput",e.id)},e.prototype.setDeviceLabelTrigger=function(e){this.deviceLabelTrigger=e,this.trace("setDeviceLabelTrigger")},e.prototype.mixIntoAudioInput=function(t){var n=null;return this.useWebAudio?(n=e.getAudioContext().createMediaStreamSource(t)).connect(this.getMediaStreamDestinationNode()):this.logger.warn("WebAudio is not enabled, mixIntoAudioInput will not work"),this.trace("mixIntoAudioInput",t.id),n},e.prototype.chooseVideoInputQuality=function(e,t,n,r){var i=this.browserBehavior.requiresResolutionAlignment(e,t);this.videoInputQualitySettings=new h.default(i[0],i[1],n,r),this.updateMaxBandwidthKbps()},e.prototype.getVideoInputQualitySettings=function(){return this.videoInputQualitySettings},e.prototype.acquireAudioInputStream=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.acquireInputStream("audio")];case 1:return[2,e.sent()]}}))}))},e.prototype.acquireVideoInputStream=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.acquireInputStream("video")];case 1:return[2,e.sent()]}}))}))},e.prototype.acquireDisplayInputStream=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return e&&e.video&&e.video.mandatory&&e.video.mandatory.chromeMediaSource&&e.video.mandatory.chromeMediaSourceId?[2,navigator.mediaDevices.getUserMedia(e)]:[2,navigator.mediaDevices.getDisplayMedia(e)]}))}))},e.prototype.releaseMediaStream=function(e){var t,n;if(e){var r=null;this.audioInputDestinationNode&&e===this.audioInputDestinationNode.stream?(this.logger.info("stopping audio track"),r=this.audioInputSourceNode.mediaStream.getTracks(),this.audioInputSourceNode.disconnect()):r=e.getTracks();try{for(var i=o(r),a=i.next();!a.done;a=i.next()){var s=a.value;this.logger.info("stopping "+s.kind+" track"),s.stop()}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}for(var c in this.activeDevices)this.activeDevices[c]&&this.activeDevices[c].stream===e&&(this.activeDevices[c]=null,"video"===c&&this.boundAudioVideoController&&this.boundAudioVideoController.videoTileController.hasStartedLocalVideoTile()&&this.boundAudioVideoController.videoTileController.stopLocalVideoTile())}},e.prototype.bindToAudioVideoController=function(e){this.boundAudioVideoController=e,this.bindAudioOutput()},e.createEmptyAudioDevice=function(){return e.synthesizeAudioDevice(0)},e.createEmptyVideoDevice=function(){return e.synthesizeVideoDevice("black")},e.synthesizeAudioDevice=function(t){var n=e.getAudioContext(),r=n.createMediaStreamDestination();if(t){var i=n.createGain();i.gain.value=.1,i.connect(r);var o=n.createOscillator();o.frequency.value=t,o.connect(i),o.start()}else{var a=n.createBufferSource();try{a.buffer=n.createBuffer(1,5*n.sampleRate,n.sampleRate)}catch(t){if(!t||"NotSupportedError"!==t.name)throw t;a.buffer=n.createBuffer(1,5*e.defaultSampleRate,e.defaultSampleRate)}a.buffer.getChannelData(0)[0]=3e-4,a.loop=!0,a.connect(r),a.start()}return r.stream},e.synthesizeVideoDevice=function(t){var n=document.createElement("canvas");n.width=480,n.height=n.width/16*9;var r=new l.default(1e3),i=n.getContext("2d"),o=n.captureStream(5)||null;return o&&(r.start((function(){"smpte"===t?e.fillSMPTEColorBars(n,0):(i.fillStyle=t,i.fillRect(0,0,n.width,n.height))})),o.getVideoTracks()[0].addEventListener("ended",(function(){r.stop()}))),o},e.fillSMPTEColorBars=function(e,t){for(var n=e.width,r=e.height,i=2*r/3,o=3*r/4,a=r,s=["#c0c0c0","#c0c000","#00c0c0","#00c000","#c000c0","#c00000","#0000c0"],c=["#0000c0","#000000","#c000c0","#000000","#00c0c0","#000000","#c0c0c0"],u=["#00214c","#ffffff","#32006a","#131313","#090909","#131313","#1d1d1d","#131313"],l=[0*n,1*n/4*(5/7),2*n/4*(5/7),3*n/4*(5/7),n*(5/7),n*(5/7+1/21),n*(5/7+2/21),n*(6/7),1*n],d=n/s.length,f=e.getContext("2d"),p=0;p<s.length;p++)f.fillStyle=s[p],f.fillRect(t+p*d,0,d,i),f.fillStyle=c[p],f.fillRect(t+p*d,i,d,o-i);for(p=0;p<u.length;p++)f.fillStyle=u[p],f.fillRect(t+l[p],o,l[p+1]-l[p],a-o)},e.prototype.updateMaxBandwidthKbps=function(){this.boundAudioVideoController&&this.boundAudioVideoController.setVideoMaxBandwidthKbps(this.videoInputQualitySettings.videoMaxBandwidthKbps)},e.prototype.listDevicesOfKind=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return null!==this.deviceInfoCache?[3,2]:[4,this.updateDeviceInfoCacheFromBrowser()];case 1:t.sent(),t.label=2;case 2:return[2,this.listCachedDevicesOfKind(e)]}}))}))},e.prototype.updateDeviceInfoCacheFromBrowser=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,a,s,c,u,l,d,f;return i(this,(function(i){switch(i.label){case 0:return!MediaDeviceInfo?(this.deviceInfoCache=[],[2]):[4,navigator.mediaDevices.enumerateDevices()];case 1:e=i.sent(),t=!0;try{for(n=o(e),r=n.next();!r.done;r=n.next())if(!r.value.label){t=!1;break}}catch(e){u={error:e}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(u)throw u.error}}if(t)return[3,6];i.label=2;case 2:return i.trys.push([2,5,,6]),this.logger.info("attempting to trigger media device labels since they are hidden"),[4,this.deviceLabelTrigger()];case 3:return a=i.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 4:e=i.sent();try{for(s=o(a.getTracks()),c=s.next();!c.done;c=s.next())c.value.stop()}catch(e){d={error:e}}finally{try{c&&!c.done&&(f=s.return)&&f.call(s)}finally{if(d)throw d.error}}return[3,6];case 5:return i.sent(),this.logger.info("unable to get media device labels"),[3,6];case 6:return this.deviceInfoCache=e,[2]}}))}))},e.prototype.listCachedDevicesOfKind=function(e){var t,n,r=[];try{for(var i=o(this.deviceInfoCache),a=i.next();!a.done;a=i.next()){var s=a.value;s.kind===e&&r.push(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.handleDeviceChange=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,o,a,c=this;return i(this,(function(i){switch(i.label){case 0:return null===this.deviceInfoCache?[2]:this.alreadyHandlingDeviceChange?((new u.default).start((function(){c.handleDeviceChange()})),[2]):(this.alreadyHandlingDeviceChange=!0,e=this.listCachedDevicesOfKind("audioinput"),t=this.listCachedDevicesOfKind("videoinput"),n=this.listCachedDevicesOfKind("audiooutput"),[4,this.updateDeviceInfoCacheFromBrowser()]);case 1:return i.sent(),r=this.listCachedDevicesOfKind("audioinput"),o=this.listCachedDevicesOfKind("videoinput"),a=this.listCachedDevicesOfKind("audiooutput"),this.forEachObserver((function(i){c.areDeviceListsEqual(e,r)||s.default.of(i.audioInputsChanged).map((function(e){return e.bind(i)(r)})),c.areDeviceListsEqual(t,o)||s.default.of(i.videoInputsChanged).map((function(e){return e.bind(i)(o)})),c.areDeviceListsEqual(n,a)||s.default.of(i.audioOutputsChanged).map((function(e){return e.bind(i)(a)}))})),this.alreadyHandlingDeviceChange=!1,[2]}}))}))},e.prototype.handleDeviceStreamEnded=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,this.chooseInputDevice(e,null,!1)];case 1:return n.sent(),"audio"===e?this.forEachObserver((function(e){s.default.of(e.audioInputStreamEnded).map((function(n){return n.bind(e)(t)}))})):this.forEachObserver((function(e){s.default.of(e.videoInputStreamEnded).map((function(n){return n.bind(e)(t)}))})),[2]}}))}))},e.prototype.forEachObserver=function(e){var t,n,r=this,i=function(t){(new u.default).start((function(){r.deviceChangeObservers.has(t)&&e(t)}))};try{for(var a=o(this.deviceChangeObservers),s=a.next();!s.done;s=a.next()){i(s.value)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e.prototype.areDeviceListsEqual=function(e,t){return JSON.stringify(e.map((function(e){return JSON.stringify(e)})).sort())===JSON.stringify(t.map((function(e){return JSON.stringify(e)})).sort())},e.prototype.deviceAsMediaStream=function(e){return e&&e.id?e:null},e.prototype.hasSameGroupId=function(e,t,n){return n=this.getDeviceIdStr(n),e===this.getGroupIdFromDeviceId(t,n)||""===e},e.prototype.getGroupIdFromDeviceId=function(e,t){if(null!==this.deviceInfoCache){var n=this.listCachedDevicesOfKind(e+"input").find((function(e){return e.deviceId===t}));if(n&&n.groupId)return n.groupId}return""},e.prototype.getDeviceIdStr=function(e){if(null===e)return null;if("string"==typeof e)return e;if(e.id)return e.id;var t=e;if(!t.deviceId)return"";if("string"==typeof t.deviceId)return t.deviceId;var n=t.deviceId;return"string"==typeof n.exact?n.exact:""},e.prototype.getActiveDeviceId=function(e){if(this.activeDevices[e]&&this.activeDevices[e].constraints){var t=(this.activeDevices[e].constraints.audio||this.activeDevices[e].constraints.video).deviceId;return"string"==typeof t?t:t.exact}return null},e.prototype.restartLocalVideoAfterSelection=function(e,t){var n=this;!t&&this.boundAudioVideoController&&this.boundAudioVideoController.videoTileController.hasStartedLocalVideoTile()?(this.logger.info("restarting local video to switch to new device"),this.boundAudioVideoController.restartLocalVideo((function(){e&&e.active&&(n.logger.warn("previous media stream is not stopped during restart video"),n.releaseMediaStream(e))}))):this.releaseMediaStream(e)},e.prototype.chooseInputDevice=function(t,n,o){var a,s,c,u;return r(this,void 0,void 0,(function(){function r(t,n){return n-t<e.permissionGrantedOriginDetectionThresholdMs?f.default.PermissionGrantedByBrowser:f.default.PermissionGrantedByUser}var l,d,h,m,g,b,v,y,S,w=this;return i(this,(function(i){switch(i.label){case 0:if(this.inputDeviceCount+=1,l=this.inputDeviceCount,null===n&&"video"===t)return this.lastNoVideoInputDeviceCount=this.inputDeviceCount,this.activeDevices[t]&&(this.releaseMediaStream(this.activeDevices[t].stream),delete this.activeDevices[t]),[2,f.default.PermissionGrantedByBrowser];if(d=this.calculateMediaStreamConstraints(t,n),this.activeDevices[t]&&this.activeDevices[t].matchesConstraints(d)&&this.activeDevices[t].stream.active&&null!==this.activeDevices[t].groupId&&this.hasSameGroupId(this.activeDevices[t].groupId,t,n))return this.logger.info("reusing existing "+t+" device"),[2,f.default.PermissionGrantedPreviously];"audio"===t&&this.activeDevices[t]&&this.activeDevices[t].stream&&this.releaseMediaStream(this.activeDevices[t].stream),h=Date.now(),m=new p.default,i.label=1;case 1:return i.trys.push([1,7,,12]),this.logger.info("requesting new "+t+" device with constraint "+JSON.stringify(d)),g=this.deviceAsMediaStream(n),"audio"!==t||null!==n?[3,2]:(m.stream=e.createEmptyAudioDevice(),m.constraints=null,[3,6]);case 2:return g?(this.logger.info("using media stream "+g.id+" for "+t+" device"),m.stream=g,m.constraints=d,[3,6]):[3,3];case 3:return b=m,[4,navigator.mediaDevices.getUserMedia(d)];case 4:return b.stream=i.sent(),m.constraints=d,"video"===t&&this.lastNoVideoInputDeviceCount>l?(this.logger.warn("ignored to get video device for constraints "+JSON.stringify(d)+" as no device was requested"),this.releaseMediaStream(m.stream),[2,f.default.PermissionGrantedByUser]):[4,this.handleDeviceChange()];case 5:i.sent(),m.stream.getTracks()[0].addEventListener("ended",(function(){w.activeDevices[t]&&w.activeDevices[t].stream===m.stream&&(w.logger.warn(t+" input device which was active is no longer available, resetting to null device"),w.handleDeviceStreamEnded(t,w.getActiveDeviceId(t)))})),i.label=6;case 6:return m.groupId=this.getGroupIdFromDeviceId(t,this.getDeviceIdStr(n)),[3,12];case 7:if(v=i.sent(),y=void 0,y=(null==v?void 0:v.name)&&v.message?v.name+": "+v.message:(null==v?void 0:v.name)?v.name:(null==v?void 0:v.message)?v.message:"UnknownError","audio"===t?null===(s=null===(a=this.boundAudioVideoController)||void 0===a?void 0:a.eventController)||void 0===s||s.publishEvent("audioInputFailed",{audioInputErrorMessage:y}):null===(u=null===(c=this.boundAudioVideoController)||void 0===c?void 0:c.eventController)||void 0===u||u.publishEvent("videoInputFailed",{videoInputErrorMessage:y}),this.logger.error("failed to get "+t+" device for constraints "+JSON.stringify(d)+": "+y),"audio"!==t)return[3,11];this.logger.info("choosing null "+t+" device instead"),i.label=8;case 8:return i.trys.push([8,10,,11]),m.stream=e.createEmptyAudioDevice(),m.constraints=null,[4,this.handleNewInputDevice(t,m,o)];case 9:return i.sent(),[3,11];case 10:return S=i.sent(),this.logger.error("failed to choose null "+t+" device. "+S.name+": "+S.message),[3,11];case 11:return[2,(E=h,C=Date.now(),C-E<e.permissionDeniedOriginDetectionThresholdMs?f.default.PermissionDeniedByBrowser:f.default.PermissionDeniedByUser)];case 12:return this.logger.info("got "+t+" device for constraints "+JSON.stringify(d)),[4,this.handleNewInputDevice(t,m,o)];case 13:return i.sent(),[2,r(h,Date.now())]}var E,C}))}))},e.prototype.handleNewInputDevice=function(e,t,n){return r(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return r=this.activeDevices[e]?this.activeDevices[e].stream:null,this.activeDevices[e]=t,"video"!==e?[3,1]:(this.restartLocalVideoAfterSelection(r,n),[3,8]);case 1:return this.releaseMediaStream(r),this.useWebAudio?(this.attachAudioInputStreamToAudioContext(this.activeDevices[e].stream),[3,8]):[3,2];case 2:if(!this.boundAudioVideoController)return[3,7];i.label=3;case 3:return i.trys.push([3,5,,6]),[4,this.boundAudioVideoController.restartLocalAudio((function(){}))];case 4:return i.sent(),[3,6];case 5:return o=i.sent(),this.logger.info("cannot replace audio track due to: "+o.message),[3,6];case 6:return[3,8];case 7:this.logger.info("no audio-video controller is bound to the device controller"),i.label=8;case 8:return[2]}}))}))},e.prototype.bindAudioOutput=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){return this.boundAudioVideoController?(e=this.deviceInfoFromDeviceId("audiooutput",this.audioOutputDeviceId),this.boundAudioVideoController.audioMixController.bindAudioDevice(e),[2]):[2]}))}))},e.prototype.calculateMediaStreamConstraints=function(t,n){var r={};""===n&&(n=null);var i=this.deviceAsMediaStream(n);return null===n?null:("string"==typeof n?this.browserBehavior.requiresNoExactMediaStreamConstraints()?r.deviceId=n:r.deviceId={exact:n}:i?r.streamId=i.id:r=n,"video"===t&&(r.width=r.width||{ideal:this.videoInputQualitySettings.videoWidth},r.height=r.height||{ideal:this.videoInputQualitySettings.videoHeight},r.frameRate=r.frameRate||{ideal:this.videoInputQualitySettings.videoFrameRate},r.googCpuOveruseDetection=!0,r.googCpuOveruseEncodeUsage=!0,r.googCpuOveruseThreshold=85,r.googCpuUnderuseThreshold=55),"audio"===t&&this.supportSampleRateConstraint()&&(r.sampleRate={ideal:e.defaultSampleRate}),"audio"===t&&this.supportSampleSizeConstraint()&&(r.sampleSize={ideal:e.defaultSampleSize}),"audio"===t&&this.supportChannelCountConstraint()&&(r.channelCount={ideal:e.defaultChannelCount}),"audio"===t&&(r.echoCancellation=!0,r.googEchoCancellation=!0,r.googAutoGainControl=!0,r.googNoiseSuppression=!0,r.googHighpassFilter=!0,r.googNoiseSuppression2=!0,r.googEchoCancellation2=!0,r.googAutoGainControl2=!0),"audio"===t?{audio:r}:{video:r})},e.prototype.deviceInfoFromDeviceId=function(e,t){var n,r;if(null===this.deviceInfoCache)return null;try{for(var i=o(this.deviceInfoCache),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.kind===e&&s.deviceId===t)return s}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null},e.prototype.acquireInputStream=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:if("audio"===e&&this.useWebAudio)return[2,this.getMediaStreamDestinationNode().stream];if(t=null,this.activeDevices[e])this.logger.info("checking whether existing "+e+" device can be reused"),n=this.activeDevices[e],t=n.constraints?n.constraints[e]:null;else{if("audio"!==e)throw this.logger.error("no "+e+" device chosen, stopping local video tile"),this.boundAudioVideoController.videoTileController.stopLocalVideoTile(),new Error("no "+e+" device chosen, stopping local video tile");this.logger.info("no "+e+" device chosen, creating empty "+e+" device")}return[4,this.chooseInputDevice(e,t,!0)];case 1:if((r=i.sent())===f.default.PermissionDeniedByBrowser||r===f.default.PermissionDeniedByUser)throw this.logger.error("unable to acquire "+e+" device"),new Error("unable to acquire "+e+" device");return[2,this.activeDevices[e].stream]}}))}))},e.prototype.attachAudioInputStreamToAudioContext=function(t){this.audioInputSourceNode&&this.audioInputSourceNode.disconnect(),this.audioInputSourceNode=e.getAudioContext().createMediaStreamSource(t),this.audioInputSourceNode.connect(this.getMediaStreamDestinationNode())},e.prototype.getMediaStreamDestinationNode=function(){return this.audioInputDestinationNode||(this.audioInputDestinationNode=e.getAudioContext().createMediaStreamDestination()),this.audioInputDestinationNode},e.getAudioContext=function(){if(!e.audioContext){var t={};navigator.mediaDevices.getSupportedConstraints().sampleRate&&(t.sampleRate=e.defaultSampleRate),e.audioContext=new(window.AudioContext||window.webkitAudioContext)(t)}return e.audioContext},e.closeAudioContext=function(){e.audioContext&&e.audioContext.close(),e.audioContext=null},e.prototype.supportSampleRateConstraint=function(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleRate},e.prototype.supportSampleSizeConstraint=function(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleSize},e.prototype.supportChannelCountConstraint=function(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().channelCount},e.prototype.trace=function(e,t,n){var r="API/DefaultDeviceController/"+e;void 0!==t&&(r+=" "+JSON.stringify(t)),void 0!==n&&(r+=" -> "+JSON.stringify(n)),this.logger.info(r)},e.permissionGrantedOriginDetectionThresholdMs=1e3,e.permissionDeniedOriginDetectionThresholdMs=500,e.defaultVideoWidth=960,e.defaultVideoHeight=540,e.defaultVideoFrameRate=15,e.defaultVideoMaxBandwidthKbps=1400,e.defaultSampleRate=48e3,e.defaultSampleSize=16,e.defaultChannelCount=1,e.audioContext=null,e}();t.default=m},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(19),a=n(7),s=n(99),c=function(){function e(e,t,n,r){this.tileController=n,this.devicePixelRatioMonitor=r,this.tileState=new s.default,this.tileState.tileId=e,this.tileState.localTile=t,this.devicePixelRatioMonitor.registerObserver(this)}return e.connectVideoStreamToVideoElement=function(t,n,r){var i=r&&"environment"!==t.getVideoTracks()[0].getSettings().facingMode?"rotateY(180deg)":"";e.setVideoElementFlag(n,"disablePictureInPicture",r),e.setVideoElementFlag(n,"disableRemotePlayback",r),n.style.transform!==i&&(n.style.transform=i),n.hasAttribute("controls")&&n.removeAttribute("controls"),n.hasAttribute("autoplay")||n.setAttribute("autoplay","true"),n.hasAttribute("playsinline")||n.setAttribute("playsinline","true"),n.hasAttribute("muted")||n.setAttribute("muted","true"),n.srcObject!==t&&(n.srcObject=t)},e.disconnectVideoStreamFromVideoElement=function(t,n){var o,s;if(t)if(n)t.srcObject=null,t.style.transform="";else{if(!t.srcObject)return;t.pause(),t.style.transform="",e.setVideoElementFlag(t,"disablePictureInPicture",!1),e.setVideoElementFlag(t,"disableRemotePlayback",!1);var c=t.srcObject,u=c.getTracks();try{for(var l=r(u),d=l.next();!d.done;d=l.next()){var f=d.value;f.stop(),c.removeTrack(f)}}catch(e){o={error:e}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}(new i.default).requiresVideoElementWorkaround()?(new a.default).start((function(){t.srcObject=null})):t.srcObject=null}},e.prototype.destroy=function(){this.devicePixelRatioMonitor.removeObserver(this),this.tileState.boundVideoElement&&this.tileState.boundVideoElement.srcObject===this.tileState.boundVideoStream&&e.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,!1),this.tileState=new s.default},e.prototype.devicePixelRatioChanged=function(e){this.tileState.devicePixelRatio=e,this.sendTileStateUpdate()},e.prototype.id=function(){return this.tileState.tileId},e.prototype.state=function(){return this.tileState.clone()},e.prototype.stateRef=function(){return this.tileState},e.prototype.bindVideoStream=function(e,t,n,r,i,a,s){var c=!1;this.tileState.boundAttendeeId!==e&&(this.tileState.boundAttendeeId=e,new o.default(e).hasModality(o.default.MODALITY_CONTENT)&&(this.tileState.isContent=!0),c=!0),this.tileState.boundExternalUserId!==s&&(this.tileState.boundExternalUserId=s,c=!0),this.tileState.localTile!==t&&(this.tileState.localTile=t,c=!0),this.tileState.boundVideoStream!==n&&(this.tileState.boundVideoStream=n,c=!0),this.tileState.videoStreamContentWidth!==r&&(this.tileState.videoStreamContentWidth=r,c=!0),this.tileState.videoStreamContentHeight!==i&&(this.tileState.videoStreamContentHeight=i,c=!0),this.tileState.streamId!==a&&(this.tileState.streamId=a,c=!0),c&&this.sendTileStateUpdate()},e.prototype.bindVideoElement=function(e){var t=!1;this.tileState.boundVideoElement!==e&&(this.tileState.boundVideoElement=e,t=!0),null!==this.tileState.boundVideoElement?(this.tileState.videoElementCSSWidthPixels!==e.clientWidth&&(this.tileState.videoElementCSSWidthPixels=e.clientWidth,t=!0),this.tileState.videoElementCSSHeightPixels!==e.clientHeight&&(this.tileState.videoElementCSSHeightPixels=e.clientHeight,t=!0)):(this.tileState.videoElementCSSWidthPixels=null,this.tileState.videoElementCSSHeightPixels=null),t&&this.sendTileStateUpdate()},e.prototype.pause=function(){this.tileState.paused||(this.tileState.paused=!0,this.sendTileStateUpdate())},e.prototype.unpause=function(){this.tileState.paused&&(this.tileState.paused=!1,this.sendTileStateUpdate())},e.prototype.markPoorConnection=function(){return!this.tileState.poorConnection&&(this.tileState.poorConnection=!0,this.sendTileStateUpdate(),!0)},e.prototype.unmarkPoorConnection=function(){return!!this.tileState.poorConnection&&(this.tileState.poorConnection=!1,this.sendTileStateUpdate(),!0)},e.prototype.capture=function(){if(!this.tileState.active)return null;var e=document.createElement("canvas"),t=this.tileState.boundVideoElement;e.width=t.videoWidth||t.width,e.height=t.videoHeight||t.height;var n=e.getContext("2d");return n.drawImage(t,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)},e.prototype.sendTileStateUpdate=function(){this.updateActiveState(),this.updateVideoStreamOnVideoElement(),this.updateVideoElementPhysicalPixels(),this.tileController.sendTileStateUpdate(this.state())},e.prototype.updateActiveState=function(){this.tileState.active=!(this.tileState.paused||this.tileState.poorConnection||!this.tileState.boundAttendeeId||!this.tileState.boundVideoElement||!this.tileState.boundVideoStream)},e.prototype.updateVideoElementPhysicalPixels=function(){"number"==typeof this.tileState.videoElementCSSWidthPixels&&"number"==typeof this.tileState.videoElementCSSHeightPixels?(this.tileState.videoElementPhysicalWidthPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSWidthPixels,this.tileState.videoElementPhysicalHeightPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSHeightPixels):(this.tileState.videoElementPhysicalWidthPixels=null,this.tileState.videoElementPhysicalHeightPixels=null)},e.prototype.updateVideoStreamOnVideoElement=function(){this.tileState.active?e.connectVideoStreamToVideoElement(this.tileState.boundVideoStream,this.tileState.boundVideoElement,this.tileState.localTile):e.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,this.tileState.paused)},e.setVideoElementFlag=function(e,t,n){t in e&&(e[t]=n)},e}();t.default=c},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DevicePermission=void 0,function(e){e[e.PermissionGrantedByUser=0]="PermissionGrantedByUser",e[e.PermissionGrantedByBrowser=1]="PermissionGrantedByBrowser",e[e.PermissionDeniedByUser=2]="PermissionDeniedByUser",e[e.PermissionDeniedByBrowser=3]="PermissionDeniedByBrowser",e[e.PermissionGrantedPreviously=4]="PermissionGrantedPreviously"}(r=t.DevicePermission||(t.DevicePermission={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(){this.audioDevice=null,this.audioElement=null,this.audioStream=null,this.browserBehavior=new r.default}return e.prototype.bindAudioElement=function(e){return!!e&&(this.audioElement=e,this.audioElement.autoplay=!0,this.bindAudioMix())},e.prototype.unbindAudioElement=function(){this.audioElement&&(this.audioElement.srcObject=null,this.audioElement=null)},e.prototype.bindAudioStream=function(e){return!!e&&(this.audioStream=e,this.bindAudioMix())},e.prototype.bindAudioDevice=function(e){return!!e&&(this.audioDevice=e,this.bindAudioMix())},e.prototype.bindAudioMix=function(){var e=this;if(this.audioElement&&(this.audioStream&&(this.audioElement.srcObject=this.audioStream),void 0!==this.audioElement.sinkId)){var t=this.audioDevice?this.audioDevice.deviceId:"";if(t!==this.audioElement.sinkId)if(this.browserBehavior.hasChromiumWebRTC()){var n=this.audioElement,r=this.audioStream;n.srcObject=null,n.setSinkId(t).then((function(){e.audioElement===n&&(n.srcObject=r)}))}else this.audioElement.setSinkId(t);return!0}return!1},e}();t.default=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(106),s=n(40),c=n(3),u=n(91),l=n(107),d=n(108),f=n(1),p=n(29),h=n(6),m=n(42),g=n(112),b=n(113),v=n(7),y=n(116),S=n(43),w=n(44),E=n(45),C=n(118),T=n(2),_=n(120),I=n(76),k=n(88),A=n(89),O=n(102),x=n(103),R=n(126),P=n(127),M=n(129),D=n(130),N=n(131),L=n(134),U=n(136),F=n(137),j=n(138),B=n(139),V=n(140),q=n(141),H=n(142),W=n(143),z=n(144),G=n(145),K=n(48),J=n(147),X=n(49),Y=n(50),Q=n(21),$=n(33),Z=n(148),ee=n(12),te=n(51),ne=n(149),re=n(150),ie=n(153),oe=n(154),ae=n(53),se=n(156),ce=n(77),ue=function(){function e(e,t,n,r,i){this.connectionHealthData=new u.default,this.observerQueue=new Set,this.meetingSessionContext=new ce.default,this.enableSimulcast=!1,this.totalRetryCount=0,this._logger=t,this.sessionStateController=new y.default(this._logger),this._configuration=e,this.enableSimulcast=e.enableUnifiedPlanForChromiumBasedBrowsers&&e.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(new c.default).hasChromiumWebRTC(),this._webSocketAdapter=n,this._realtimeController=new b.default,this._realtimeController.realtimeSetLocalAttendeeId(e.credentials.attendeeId,e.credentials.externalUserId),this._activeSpeakerDetector=new a.default(this._realtimeController,e.credentials.attendeeId,this.handleHasBandwidthPriority.bind(this)),this._mediaStreamBroker=r,this._reconnectController=i,this._videoTileController=new re.default(new ie.default,this,this._logger),this._audioMixController=new s.default,this.meetingSessionContext.logger=this._logger,this._eventController=new d.default(this)}return Object.defineProperty(e.prototype,"configuration",{get:function(){return this._configuration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realtimeController",{get:function(){return this._realtimeController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeSpeakerDetector",{get:function(){return this._activeSpeakerDetector},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoTileController",{get:function(){return this._videoTileController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"audioMixController",{get:function(){return this._audioMixController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventController",{get:function(){return this._eventController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rtcPeerConnection",{get:function(){return this.meetingSessionContext&&this.meetingSessionContext.peer||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaStreamBroker",{get:function(){return this._mediaStreamBroker},enumerable:!1,configurable:!0}),e.prototype.getRTCPeerConnectionStats=function(e){return this.rtcPeerConnection?this.rtcPeerConnection.getStats(e):null},e.prototype.addObserver=function(e){this.logger.info("adding meeting observer"),this.observerQueue.add(e)},e.prototype.removeObserver=function(e){this.logger.info("removing meeting observer"),this.observerQueue.delete(e)},e.prototype.forEachObserver=function(e){var t,n,r=this,i=function(t){(new v.default).start((function(){r.observerQueue.has(t)&&e(t)}))};try{for(var a=o(this.observerQueue),s=a.next();!s.done;s=a.next()){i(s.value)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e.prototype.start=function(){var e=this;this.sessionStateController.perform(S.default.Connect,(function(){e.actionConnect(!1)}))},e.prototype.actionConnect=function(t){return r(this,void 0,void 0,(function(){var n,o,a=this;return i(this,(function(s){switch(s.label){case 0:this.connectionHealthData.reset(),this.meetingSessionContext=new ce.default,this.meetingSessionContext.logger=this.logger,this.meetingSessionContext.eventController=this.eventController,this.meetingSessionContext.browserBehavior=new c.default({enableUnifiedPlanForChromiumBasedBrowsers:this.configuration.enableUnifiedPlanForChromiumBasedBrowsers}),this.meetingSessionContext.meetingSessionConfiguration=this.configuration,this.meetingSessionContext.signalingClient=new C.default(this._webSocketAdapter,this.logger),this.meetingSessionContext.mediaStreamBroker=this._mediaStreamBroker,this.meetingSessionContext.realtimeController=this._realtimeController,this.meetingSessionContext.audioMixController=this._audioMixController,this.meetingSessionContext.audioVideoController=this,this.enableSimulcast?this.meetingSessionContext.transceiverController=new Y.default(this.logger,this.meetingSessionContext.browserBehavior):this.meetingSessionContext.transceiverController=new X.default(this.logger,this.meetingSessionContext.browserBehavior),this.meetingSessionContext.volumeIndicatorAdapter=new se.default(this.logger,this._realtimeController,e.MIN_VOLUME_DECIBELS,e.MAX_VOLUME_DECIBELS),this.meetingSessionContext.videoTileController=this._videoTileController,this.meetingSessionContext.videoDownlinkBandwidthPolicy=this.configuration.videoDownlinkBandwidthPolicy,this.meetingSessionContext.videoUplinkBandwidthPolicy=this.configuration.videoUplinkBandwidthPolicy,this.meetingSessionContext.enableSimulcast=this.enableSimulcast,this.enableSimulcast?((n=new oe.default(this.configuration.credentials.attendeeId,this.meetingSessionContext.logger)).addObserver(this),this.meetingSessionContext.videoUplinkBandwidthPolicy=n,this.meetingSessionContext.videoDownlinkBandwidthPolicy=new Z.default(this.logger,this.meetingSessionContext.videoTileController),this.meetingSessionContext.videoStreamIndex=new ne.default(this.logger)):(this.meetingSessionContext.enableSimulcast=!1,this.meetingSessionContext.videoStreamIndex=new te.default(this.logger),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new $.default(this.configuration.credentials.attendeeId)),this.meetingSessionContext.videoUplinkBandwidthPolicy||(this.meetingSessionContext.videoUplinkBandwidthPolicy=new ae.default(this.configuration.credentials.attendeeId))),this.meetingSessionContext.lastKnownVideoAvailability=new m.default,this.meetingSessionContext.videoCaptureAndEncodeParameter=new Q.default(0,0,0,0,!1),this.meetingSessionContext.videosToReceive=new ee.default,this.meetingSessionContext.videosPaused=new ee.default,this.meetingSessionContext.statsCollector=new _.default(this,this.logger,this.meetingSessionContext.browserBehavior),this.meetingSessionContext.connectionMonitor=new l.default(this,this._realtimeController,this._videoTileController,this.connectionHealthData,new g.default(this.meetingSessionContext.signalingClient,e.PING_PONG_INTERVAL_MS,this.logger),this.meetingSessionContext.statsCollector),this.meetingSessionContext.reconnectController=this._reconnectController,this.meetingSessionContext.audioDeviceInformation={},this.meetingSessionContext.videoDeviceInformation={},t||(this.totalRetryCount=0,this._reconnectController.reset(),this.forEachObserver((function(e){f.default.of(e.audioVideoDidStartConnecting).map((function(t){return t.bind(e)(!1)}))})),this.eventController&&this.eventController.publishEvent("meetingStartRequested")),this._reconnectController.hasStartedConnectionAttempt()?this._reconnectController.startedConnectionAttempt(!1):this._reconnectController.startedConnectionAttempt(!0),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,new H.default(this.logger,this.wrapTaskName("AudioVideoStart"),[new N.default(this.meetingSessionContext,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData),new F.default(this.meetingSessionContext),new K.default(this.logger,new H.default(this.logger,"Media",[new H.default(this.logger,"Signaling",[new L.default(this.meetingSessionContext),new D.default(this.meetingSessionContext),new q.default(this.meetingSessionContext),new P.default(this.meetingSessionContext),new j.default(this.meetingSessionContext),new V.default(this.meetingSessionContext)]),new H.default(this.logger,"Peer",[new O.default(this.meetingSessionContext),new I.default(this.meetingSessionContext),new x.default(this.meetingSessionContext),new W.default(this.meetingSessionContext),new R.default(this.meetingSessionContext),new G.default(this.meetingSessionContext),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs>0?new K.default(this.logger,new U.default(this.logger,"FinalizeConnection",[new J.default(this.meetingSessionContext),new z.default(this.meetingSessionContext)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new z.default(this.meetingSessionContext)])]),this.configuration.connectionTimeoutMs)]).run()];case 2:return s.sent(),this.sessionStateController.perform(S.default.FinishConnecting,(function(){a.eventController&&a.eventController.publishEvent("meetingStartSucceeded",{maxVideoTileCount:a.meetingSessionContext.maxVideoTileCount,poorConnectionCount:a.meetingSessionContext.poorConnectionCount,retryCount:a.totalRetryCount,signalingOpenDurationMs:a.meetingSessionContext.signalingOpenDurationMs}),a.meetingSessionContext.startTimeMs=Date.now(),a.actionFinishConnecting()})),[3,4];case 3:return o=s.sent(),this.sessionStateController.perform(S.default.Fail,(function(){return r(a,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return e=new p.default(this.getMeetingStatusCode(o)||h.default.TaskFailed),[4,this.actionDisconnect(e,!0,o)];case 1:return t.sent(),this.handleMeetingSessionStatus(e,o)||this.notifyStop(e,o),[2]}}))}))})),[3,4];case 4:return this.connectionHealthData.setConnectionStartTime(),[2]}}))}))},e.prototype.actionFinishConnecting=function(){this.meetingSessionContext.videoDuplexMode=T.SdkStreamServiceType.RX,this.meetingSessionContext.enableSimulcast||this.enforceBandwidthLimitationForSender(this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0]),this.forEachObserver((function(e){f.default.of(e.audioVideoDidStart).map((function(t){return t.bind(e)()}))})),this._reconnectController.reset()},e.prototype.stop=function(){var e=this;this.sessionStateController.perform(S.default.Disconnect,(function(){e.actionDisconnect(new p.default(h.default.Left),!1,null)}))},e.prototype.actionDisconnect=function(e,t,n){return r(this,void 0,void 0,(function(){var r=this;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,new H.default(this.logger,this.wrapTaskName("AudioVideoStop"),[new K.default(this.logger,new M.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)]).run()];case 1:return i.sent(),[3,3];case 2:return i.sent(),this.logger.info("fail to stop"),[3,3];case 3:return i.trys.push([3,5,,6]),[4,new H.default(this.logger,this.wrapTaskName("AudioVideoClean"),[new K.default(this.logger,new A.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)]).run()];case 4:return i.sent(),[3,6];case 5:return i.sent(),this.logger.info("fail to clean"),[3,6];case 6:return this.sessionStateController.perform(S.default.FinishDisconnecting,(function(){t||r.notifyStop(e,n)})),[2]}}))}))},e.prototype.update=function(){var e=this,t=this.sessionStateController.perform(S.default.Update,(function(){e.actionUpdate(!0)}));return t===E.default.Transitioned||t===E.default.DeferredTransition},e.prototype.restartLocalVideo=function(e){var t=this,n=this.sessionStateController.perform(S.default.Update,(function(){r(t,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return this._videoTileController.hasStartedLocalVideoTile()?(this.logger.info("stopping local video tile prior to local video restart"),this._videoTileController.stopLocalVideoTile(),this.logger.info("preparing local video restart update"),[4,this.actionUpdate(!1)]):[3,2];case 1:t.sent(),this.logger.info("starting local video tile for local video restart"),this._videoTileController.startLocalVideoTile(),t.label=2;case 2:return this.logger.info("finalizing local video restart update"),[4,this.actionUpdate(!0)];case 3:return t.sent(),e(),[2]}}))}))}));return n===E.default.Transitioned||n===E.default.DeferredTransition},e.prototype.restartLocalAudio=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:t=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.mediaStreamBroker.acquireAudioInputStream()];case 2:return t=i.sent(),[3,4];case 3:return i.sent(),this.logger.info("could not acquire audio stream from mediaStreamBroker"),[3,4];case 4:if(!t||t.getAudioTracks().length<1)throw new Error("could not acquire audio track");if(this.connectionHealthData.reset(),this.connectionHealthData.setConnectionStartTime(),n=t.getAudioTracks()[0],!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");return r=!1,this.meetingSessionContext.browserBehavior.requiresUnifiedPlan()?[4,this.meetingSessionContext.transceiverController.replaceAudioTrack(n)]:[3,6];case 5:return r=i.sent(),[3,8];case 6:return[4,X.default.replaceAudioTrackForSender(this.meetingSessionContext.localAudioSender,n)];case 7:r=i.sent(),i.label=8;case 8:return this.meetingSessionContext.activeAudioInput=t,e(),r?[2,Promise.resolve()]:[2,Promise.reject()]}}))}))},e.prototype.actionUpdate=function(e){return r(this,void 0,void 0,(function(){var t,n=this;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,new H.default(this.logger,this.wrapTaskName("AudioVideoUpdate"),[new B.default(this.meetingSessionContext),new K.default(this.logger,new H.default(this.logger,"UpdateSession",[new I.default(this.meetingSessionContext),new x.default(this.meetingSessionContext),new W.default(this.meetingSessionContext),new R.default(this.meetingSessionContext),new G.default(this.meetingSessionContext),new z.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run()];case 1:return r.sent(),e&&this.sessionStateController.perform(S.default.FinishUpdating,(function(){n.actionFinishUpdating()})),[3,3];case 2:return t=r.sent(),this.sessionStateController.perform(S.default.FinishUpdating,(function(){var e=new p.default(n.getMeetingStatusCode(t)||h.default.TaskFailed);e.statusCode()!==h.default.IncompatibleSDP&&n.logger.info("failed to update audio-video session"),n.handleMeetingSessionStatus(e,t)})),[3,3];case 3:return[2]}}))}))},e.prototype.notifyStop=function(e,t){if(this.forEachObserver((function(t){f.default.of(t.audioVideoDidStop).map((function(n){return n.bind(t)(e)}))})),this.eventController){var n=this.meetingSessionContext,r=n.signalingOpenDurationMs,i=n.poorConnectionCount,o=n.startTimeMs,a={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:null===o?0:Math.round(Date.now()-o),meetingStatus:h.default[e.statusCode()],signalingOpenDurationMs:r,poorConnectionCount:i,retryCount:this.totalRetryCount};0===a.meetingDurationMs?(a.meetingErrorMessage=t&&t.message||"",delete a.meetingDurationMs,this.eventController.publishEvent("meetingStartFailed",a)):e.isFailure()||e.isAudioConnectionFailure()?(a.meetingErrorMessage=t&&t.message||"",this.eventController.publishEvent("meetingFailed",a)):this.eventController.publishEvent("meetingEnded",a)}},e.prototype.actionFinishUpdating=function(){if(!this.meetingSessionContext.enableSimulcast){var e=this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0];this.enforceBandwidthLimitationForSender(e)}this.logger.info("updated audio-video session")},e.prototype.reconnect=function(e,t){var n=this,o=this._reconnectController.retryWithBackoff((function(){return r(n,void 0,void 0,(function(){var e=this;return i(this,(function(t){return this.sessionStateController.state()===w.default.NotConnected?this.sessionStateController.perform(S.default.Connect,(function(){e.actionConnect(!0)})):this.sessionStateController.perform(S.default.Reconnect,(function(){e.actionReconnect()})),this.totalRetryCount+=1,[2]}))}))}),(function(){n.logger.info("canceled retry")}));return o||this.sessionStateController.perform(S.default.Fail,(function(){n.actionDisconnect(e,!1,t)})),o},e.prototype.actionReconnect=function(){return r(this,void 0,void 0,(function(){var e,t=this;return i(this,(function(n){switch(n.label){case 0:this._reconnectController.hasStartedConnectionAttempt()||(this._reconnectController.startedConnectionAttempt(!1),this.forEachObserver((function(e){f.default.of(e.audioVideoDidStartConnecting).map((function(t){return t.bind(e)(!0)}))}))),this.connectionHealthData.reset(),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,new H.default(this.logger,this.wrapTaskName("AudioVideoReconnect"),[new K.default(this.logger,new H.default(this.logger,"Media",[new k.default(this.meetingSessionContext),new H.default(this.logger,"Signaling",[new L.default(this.meetingSessionContext),new P.default(this.meetingSessionContext),new j.default(this.meetingSessionContext)]),new O.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs),new B.default(this.meetingSessionContext),new K.default(this.logger,new H.default(this.logger,"UpdateSession",[new I.default(this.meetingSessionContext),new x.default(this.meetingSessionContext),new W.default(this.meetingSessionContext),new R.default(this.meetingSessionContext),new G.default(this.meetingSessionContext),new z.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run()];case 2:return n.sent(),this.sessionStateController.perform(S.default.FinishConnecting,(function(){t.eventController&&t.eventController.pushMeetingState("meetingReconnected"),t.actionFinishConnecting()})),[3,4];case 3:return e=n.sent(),this.sessionStateController.perform(S.default.FinishConnecting,(function(){t.logger.info("failed to reconnect audio-video session");var n=new p.default(t.getMeetingStatusCode(e)||h.default.TaskFailed);t.handleMeetingSessionStatus(n,e)})),[3,4];case 4:return this.connectionHealthData.setConnectionStartTime(),[2]}}))}))},e.prototype.wrapTaskName=function(e){return e+"/"+this.configuration.meetingId+"/"+this.configuration.credentials.attendeeId},e.prototype.getMeetingStatusCode=function(e){var t=/the meeting status code: (\d+)/.exec(e&&e.message);return t&&t.length>1?Number(t[1]):null},e.prototype.enforceBandwidthLimitationForSender=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return this.meetingSessionContext.browserBehavior.requiresUnifiedPlan()?[4,this.meetingSessionContext.transceiverController.setVideoSendingBitrateKbps(e)]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,X.default.setVideoSendingBitrateKbpsForSender(this.meetingSessionContext.localVideoSender,e,this.meetingSessionContext.logger)];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))},e.prototype.handleMeetingSessionStatus=function(e,t){var n=this;if(this.logger.info("handling status: "+h.default[e.statusCode()]),e.isTerminal()||this.meetingSessionContext.statsCollector&&this.meetingSessionContext.statsCollector.logMeetingSessionStatus(e),e.statusCode()===h.default.IncompatibleSDP)return this.restartLocalVideo((function(){n.logger.info("handled incompatible SDP by attempting to restart video")})),!0;if(e.statusCode()===h.default.VideoCallSwitchToViewOnly)return this._videoTileController.removeLocalVideoTile(),this.forEachObserver((function(e){f.default.of(e.videoSendDidBecomeUnavailable).map((function(t){return t.bind(e)()}))})),!1;if(e.isTerminal()&&(this.logger.error("session will not be reconnected"),this.meetingSessionContext.reconnectController&&this.meetingSessionContext.reconnectController.disableReconnect()),(e.isFailure()||e.isTerminal())&&this.meetingSessionContext.reconnectController){var r=this.reconnect(e,t);return r?this.logger.warn("will retry due to status code "+h.default[e.statusCode()]+(t?" and error: "+t.message:"")):this.logger.error("failed with status code "+h.default[e.statusCode()]+(t?" and error: "+t.message:"")),r}return!1},e.prototype.setVideoMaxBandwidthKbps=function(e){this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&(this.logger.info("video send has ideal max bandwidth "+e+" kbps"),this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(e))},e.prototype.handleHasBandwidthPriority=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&!this.meetingSessionContext.enableSimulcast?(t=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps(),this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(e),n=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps(),t===n?[3,2]:(this.logger.info("video send bandwidth priority "+e+" max has changed from "+t+" kbps to "+n+" kbps"),[4,this.enforceBandwidthLimitationForSender(n)])):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.pauseReceivingStream=function(e){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.pause([e])},e.prototype.resumeReceivingStream=function(e){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.resume([e])},e.prototype.getRemoteVideoSources=function(){var e=this.meetingSessionContext.videoStreamIndex;if(!e)return this.logger.info("meeting has not started"),[];var t=this.configuration.credentials.attendeeId;return e.allVideoSendingSourcesExcludingSelf(t)},e.prototype.encodingSimulcastLayersDidChange=function(e){this.forEachObserver((function(t){f.default.of(t.encodingSimulcastLayersDidChange).map((function(n){return n.bind(t)(e)}))}))},e.MIN_VOLUME_DECIBELS=-42,e.MAX_VOLUME_DECIBELS=-14,e.PING_PONG_INTERVAL_MS=1e4,e}();t.default=ue},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.remoteVideoAvailable=!1,this.canStartLocalVideo=!1}return e.prototype.equal=function(e){return this.remoteVideoAvailable===e.remoteVideoAvailable&&this.canStartLocalVideo===e.canStartLocalVideo},e.prototype.clone=function(){var t=new e;return t.remoteVideoAvailable=this.remoteVideoAvailable,t.canStartLocalVideo=this.canStartLocalVideo,t},e}();t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerAction=void 0,function(e){e[e.Connect=0]="Connect",e[e.FinishConnecting=1]="FinishConnecting",e[e.Update=2]="Update",e[e.FinishUpdating=3]="FinishUpdating",e[e.Reconnect=4]="Reconnect",e[e.Disconnect=5]="Disconnect",e[e.Fail=6]="Fail",e[e.FinishDisconnecting=7]="FinishDisconnecting"}(r=t.SessionStateControllerAction||(t.SessionStateControllerAction={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerState=void 0,function(e){e[e.NotConnected=0]="NotConnected",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Updating=3]="Updating",e[e.Disconnecting=4]="Disconnecting"}(r=t.SessionStateControllerState||(t.SessionStateControllerState={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerTransitionResult=void 0,function(e){e[e.Transitioned=0]="Transitioned",e[e.NoTransitionAvailable=1]="NoTransitionAvailable",e[e.DeferredTransition=2]="DeferredTransition",e[e.TransitionFailed=3]="TransitionFailed"}(r=t.SessionStateControllerTransitionResult||(t.SessionStateControllerTransitionResult={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketReadyState=void 0,function(e){e[e.None=0]="None",e[e.Connecting=1]="Connecting",e[e.Open=2]="Open",e[e.Closing=3]="Closing",e[e.Closed=4]="Closed"}(r=t.WebSocketReadyState||(t.WebSocketReadyState={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){this.username=null,this.password=null,this.ttl=null,this.uris=null};t.default=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(8),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.taskToRunBeforeTimeout=n,i.timeoutMs=r,i.taskName="Timeout"+i.timeoutMs+"ms",n.setParent(i),i}return i(t,e),t.prototype.cancel=function(){this.logger.info("canceling timeout task "+this.name()+" subtask "+this.taskToRunBeforeTimeout),this.taskToRunBeforeTimeout.cancel()},t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e,t=this;return a(this,(function(n){switch(n.label){case 0:(e=new s.default(this.timeoutMs)).start((function(){t.logger.info("timeout reached for task "+t.name()),t.taskToRunBeforeTimeout.cancel()})),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.taskToRunBeforeTimeout.run()];case 2:return n.sent(),[3,4];case 3:return e.stop(),[7];case 4:return this.logger.info("timeout task "+this.name()+" completed"),[2]}}))}))},t}(n(0).default);t.default=c},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this.logger=e,this.browserBehavior=t,this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null}return e.prototype.setEncodingParameters=function(e){},e.setVideoSendingBitrateKbpsForSender=function(e,t,n){return r(this,void 0,void 0,(function(){var n,r,a,s,c;return i(this,(function(i){switch(i.label){case 0:if(!e||t<=0)return[2];(n=e.getParameters()).encodings||(n.encodings=[{}]);try{for(r=o(n.encodings),a=r.next();!a.done;a=r.next())a.value.maxBitrate=1e3*t}catch(e){s={error:e}}finally{try{a&&!a.done&&(c=r.return)&&c.call(r)}finally{if(s)throw s.error}}return[4,e.setParameters(n)];case 1:return i.sent(),[2]}}))}))},e.replaceAudioTrackForSender=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return e?[4,e.replaceTrack(t)]:[2,!1];case 1:return n.sent(),[2,!0]}}))}))},e.prototype.localAudioTransceiver=function(){return this._localAudioTransceiver},e.prototype.localVideoTransceiver=function(){return this._localCameraTransceiver},e.prototype.setVideoSendingBitrateKbps=function(t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return this._localCameraTransceiver&&"sendrecv"===this._localCameraTransceiver.direction?(n=this._localCameraTransceiver.sender,[4,e.setVideoSendingBitrateKbpsForSender(n,t,this.logger)]):[2];case 1:return r.sent(),[2]}}))}))},e.prototype.setPeer=function(e){this.peer=e},e.prototype.reset=function(){this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null},e.prototype.useTransceivers=function(){return!(!this.peer||!this.browserBehavior.requiresUnifiedPlan())&&void 0!==this.peer.getTransceivers},e.prototype.hasVideoInput=function(){return!(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)},e.prototype.trackIsVideoInput=function(e){return!!this._localCameraTransceiver&&(e===this._localCameraTransceiver.sender.track||e===this._localCameraTransceiver.receiver.track)},e.prototype.setupLocalTransceivers=function(){this.useTransceivers()&&(this.defaultMediaStream||"undefined"==typeof MediaStream||(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]})),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))},e.prototype.replaceAudioTrack=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return this._localAudioTransceiver&&"sendrecv"===this._localAudioTransceiver.direction?[4,this._localAudioTransceiver.sender.replaceTrack(e)]:(this.logger.info("audio transceiver direction is not set up or not activated"),[2,!1]);case 1:return t.sent(),[2,!0]}}))}))},e.prototype.setAudioInput=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.setTransceiverInput(this._localAudioTransceiver,e)];case 1:return t.sent(),[2]}}))}))},e.prototype.setVideoInput=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.setTransceiverInput(this._localCameraTransceiver,e)];case 1:return t.sent(),[2]}}))}))},e.prototype.updateVideoTransceivers=function(e,t){var n=this;if(!this.useTransceivers())return t.array();var r=this.peer.getTransceivers();return this.videoSubscriptions=[0],t=t.clone(),this.updateTransceivers(r,e,t),this.logger.debug((function(){return n.debugDumpTransceivers()})),this.videoSubscriptions},e.prototype.updateTransceivers=function(e,t,n){var r,i,s,c,u,l,d,f,p=n.array(),h=1;try{for(var m=o(e),g=m.next();!g.done;g=m.next()){if((k=g.value)!==this._localCameraTransceiver&&this.transceiverIsVideo(k)){if(this.videoSubscriptions[h]=0,"inactive"!==k.direction)if(void 0!==(T=t.streamIdForTrack("v_"+k.mid)))try{for(var b=(s=void 0,o(p.entries())),v=b.next();!v.done;v=b.next()){var y=a(v.value,2),S=y[0],w=y[1];if(t.StreamIdsInSameGroup(T,w)){k.direction="recvonly",this.videoSubscriptions[h]=w,p.splice(S,1);break}}}catch(e){s={error:e}}finally{try{v&&!v.done&&(c=b.return)&&c.call(b)}finally{if(s)throw s.error}}h+=1}}}catch(e){r={error:e}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}h=1;try{for(var E=o(e),C=E.next();!C.done;C=E.next()){if((k=C.value)!==this._localCameraTransceiver&&this.transceiverIsVideo(k)){if("inactive"===k.direction&&p.length>0){k.direction="recvonly";var T=p.shift();this.videoSubscriptions[h]=T}else 0===this.videoSubscriptions[h]&&(k.direction="inactive");h+=1}}}catch(e){u={error:e}}finally{try{C&&!C.done&&(l=E.return)&&l.call(E)}finally{if(u)throw u.error}}try{for(var _=o(p),I=_.next();!I.done;I=_.next()){S=I.value;var k=this.peer.addTransceiver("video",{direction:"recvonly",streams:[this.defaultMediaStream]});this.videoSubscriptions.push(S),this.logger.info("adding transceiver mid: "+k.mid+" subscription: "+S+" direction: recvonly")}}catch(e){d={error:e}}finally{try{I&&!I.done&&(f=_.return)&&f.call(_)}finally{if(d)throw d.error}}},e.prototype.transceiverIsVideo=function(e){return e.receiver&&e.receiver.track&&"video"===e.receiver.track.kind||e.sender&&e.sender.track&&"video"===e.sender.track.kind},e.prototype.debugDumpTransceivers=function(){var e,t,n="",r=0;try{for(var i=o(this.peer.getTransceivers()),a=i.next();!a.done;a=i.next()){var s=a.value;this.transceiverIsVideo(s)&&(n+="transceiver index="+r+" mid="+s.mid+" subscription="+this.videoSubscriptions[r]+" direction="+s.direction+"\n",r+=1)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},e.prototype.setTransceiverInput=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return e?(e.direction=t?"sendrecv":"inactive",[4,e.sender.replaceTrack(t)]):[2];case 1:return n.sent(),[2]}}))}))},e}();t.default=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(n,r){var i=e.call(this,n,r)||this;i.videoQualityControlParameterMap=new Map;for(var o=4,a=0;a<t.NAME_ARR_ASCENDING.length;a++){var s=t.NAME_ARR_ASCENDING[a];i.videoQualityControlParameterMap.set(s,{rid:s,scaleResolutionDownBy:o,maxBitrate:1e3*t.BITRATE_ARR_ASCENDING[a]}),o/=2}return i}return i(t,e),t.prototype.setEncodingParameters=function(e){return o(this,void 0,void 0,(function(){var n,r,i,o;return a(this,(function(a){switch(a.label){case 0:if(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)return[2];if(n=this._localCameraTransceiver.sender,(r=Array.from(e.values())).length<=0)return[2];if((i=n.getParameters()).encodings)for(o=0;o<i.encodings.length;o++)i.encodings[o].rid===t.LOW_LEVEL_NAME&&(i.encodings[o].maxBitrate=e.get(t.LOW_LEVEL_NAME).maxBitrate,i.encodings[o].active=e.get(t.LOW_LEVEL_NAME).active),i.encodings[o].rid===t.MID_LEVEL_NAME&&(i.encodings[o].maxBitrate=e.get(t.MID_LEVEL_NAME).maxBitrate,i.encodings[o].active=e.get(t.MID_LEVEL_NAME).active),i.encodings[o].rid===t.HIGH_LEVEL_NAME&&(i.encodings[o].maxBitrate=e.get(t.HIGH_LEVEL_NAME).maxBitrate,i.encodings[o].active=e.get(t.HIGH_LEVEL_NAME).active);else i.encodings=r;return[4,n.setParameters(i)];case 1:return a.sent(),this.logVideoTransceiverParameters(),[2]}}))}))},t.replaceAudioTrackForSender=function(e,t){return o(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return e?[4,e.replaceTrack(t)]:[2,!1];case 1:return n.sent(),[2,!0]}}))}))},t.prototype.setVideoSendingBitrateKbps=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(e){return[2]}))}))},t.prototype.setupLocalTransceivers=function(){if(this.useTransceivers()&&(this.defaultMediaStream||"undefined"==typeof MediaStream||(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]})),!this._localCameraTransceiver)){var e=Array.from(this.videoQualityControlParameterMap.values());this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream],sendEncodings:e})}},t.prototype.logVideoTransceiverParameters=function(){var e,t,n=this._localCameraTransceiver.sender.getParameters().encodings,r="simulcast: current encoding parameters \n";try{for(var i=s(n),o=i.next();!o.done;o=i.next()){var a=o.value;r+="rid="+a.rid+" maxBitrate="+a.maxBitrate+" active="+a.active+" \n"}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this.logger.info(r)},t.LOW_LEVEL_NAME="low",t.MID_LEVEL_NAME="mid",t.HIGH_LEVEL_NAME="hi",t.NAME_ARR_ASCENDING=["low","mid","hi"],t.BITRATE_ARR_ASCENDING=[200,400,1100],t}(n(49).default);t.default=c},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(12),a=n(52),s=function(){function e(e){this.logger=e,this.currentIndex=null,this.indexForSubscribe=null,this.currentSubscribeAck=null,this.subscribeTrackToStreamMap=null,this.subscribeStreamToAttendeeMap=null,this.subscribeStreamToExternalUserIdMap=null,this.subscribeSsrcToStreamMap=null,this.streamToAttendeeMap=null,this.streamToExternalUserIdMap=null,this.videoStreamDescription=new a.default,this.videoStreamDescription.trackLabel="AmazonChimeExpressVideo",this.videoStreamDescription.streamId=2,this.videoStreamDescription.groupId=2}return e.prototype.localStreamDescriptions=function(){return[this.videoStreamDescription.clone()]},e.prototype.remoteStreamDescriptions=function(){if(!this.currentIndex||!this.currentIndex.sources)return[];var e=[];return this.currentIndex.sources.forEach((function(t){var n=new a.default;n.attendeeId=t.attendeeId,n.groupId=t.groupId,n.streamId=t.streamId,n.maxBitrateKbps=t.maxBitrateKbps,n.avgBitrateKbps=Math.floor(t.avgBitrateBps/1e3),e.push(n)})),e},e.prototype.integrateUplinkPolicyDecision=function(e){if(e&&e.length){var t=e[0];this.videoStreamDescription.maxBitrateKbps=t.maxBitrate/1e3,this.videoStreamDescription.maxFrameRate=t.maxFramerate}},e.prototype.integrateIndexFrame=function(e){this.currentIndex=e,this.streamToAttendeeMap=null,this.streamToExternalUserIdMap=null},e.prototype.subscribeFrameSent=function(){this.indexForSubscribe=this.currentIndex},e.prototype.integrateSubscribeAckFrame=function(e){this.currentSubscribeAck=e,this.subscribeTrackToStreamMap=this.buildTrackToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToStreamMap=this.buildSSRCToStreamMap(this.currentSubscribeAck),this.subscribeStreamToAttendeeMap=this.buildStreamToAttendeeMap(this.indexForSubscribe),this.subscribeStreamToExternalUserIdMap=this.buildStreamExternalUserIdMap(this.indexForSubscribe)},e.prototype.integrateBitratesFrame=function(e){var t,n;if(this.currentIndex){var i=function(e){var t=o.currentIndex.sources.find((function(t){return t.streamId===e.sourceStreamId}));void 0!==t&&(t.avgBitrateBps=e.avgBitrateBps)},o=this;try{for(var a=r(e.bitrates),s=a.next();!s.done;s=a.next()){i(s.value)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}},e.prototype.allStreams=function(){var e,t,n=new o.default;if(this.currentIndex)try{for(var i=r(this.currentIndex.sources),a=i.next();!a.done;a=i.next()){var s=a.value;n.add(s.streamId)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},e.prototype.allVideoSendingSourcesExcludingSelf=function(e){var t,n,o=[],a=new Set;if(this.currentIndex&&this.currentIndex.sources&&this.currentIndex.sources.length)try{for(var s=r(this.currentIndex.sources),c=s.next();!c.done;c=s.next()){var u=c.value,l=u.attendeeId,d=u.externalUserId,f=u.mediaType;l!==e&&f===i.SdkStreamMediaType.VIDEO&&(a.has(l)||(o.push({attendee:{attendeeId:l,externalUserId:d}}),a.add(l)))}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},e.prototype.streamSelectionUnderBandwidthConstraint=function(e,t,n,a){var s,c,u,l,d=new Set;if(this.currentIndex)try{for(var f=r(this.currentIndex.sources),p=f.next();!p.done;p=f.next()){var h=p.value;h.attendeeId!==e&&h.mediaType===i.SdkStreamMediaType.VIDEO&&(t.has(h.attendeeId)||n.has(h.attendeeId)||d.add(h.attendeeId))}}catch(e){s={error:e}}finally{try{p&&!p.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}var m=this.buildAttendeeToSortedStreamDescriptorMapExcludingSelf(e),g=new Map,b=0;m.forEach((function(e,t){g.set(t,e[0]),b+=e[0].maxBitrateKbps})),b=this.trySelectHighBitrateForAttendees(m,t,b,a,g),this.trySelectHighBitrateForAttendees(m,d,b,a,g);var v=new o.default;try{for(var y=r(g.values()),S=y.next();!S.done;S=y.next()){var w=S.value;v.add(w.streamId)}}catch(e){u={error:e}}finally{try{S&&!S.done&&(l=y.return)&&l.call(y)}finally{if(u)throw u.error}}return v},e.prototype.highestQualityStreamFromEachGroupExcludingSelf=function(e){var t,n,a,s,c=new o.default;if(this.currentIndex){var u=new Map;try{for(var l=r(this.currentIndex.sources),d=l.next();!d.done;d=l.next()){(h=d.value).attendeeId!==e&&h.mediaType===i.SdkStreamMediaType.VIDEO&&((!u.has(h.groupId)||h.maxBitrateKbps>u.get(h.groupId).maxBitrateKbps)&&u.set(h.groupId,h))}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}try{for(var f=r(u.values()),p=f.next();!p.done;p=f.next()){var h=p.value;c.add(h.streamId)}}catch(e){a={error:e}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}}return c},e.prototype.numberOfVideoPublishingParticipantsExcludingSelf=function(e){return this.highestQualityStreamFromEachGroupExcludingSelf(e).array().length},e.prototype.numberOfParticipants=function(){return this.currentIndex.numParticipants?this.currentIndex.numParticipants:-1},e.prototype.attendeeIdForTrack=function(e){var t=this.streamIdForTrack(e);if(void 0===t||!this.subscribeStreamToAttendeeMap)return this.logger.warn("no attendee found for track "+e),"";var n=this.subscribeStreamToAttendeeMap.get(t);return n||(this.logger.info("track "+e+" (stream "+t+") does not correspond to a known attendee"),"")},e.prototype.externalUserIdForTrack=function(e){var t=this.streamIdForTrack(e);if(void 0===t||!this.subscribeStreamToExternalUserIdMap)return this.logger.warn("no external user id found for track "+e),"";var n=this.subscribeStreamToExternalUserIdMap.get(t);return n||(this.logger.info("track "+e+" (stream "+t+") does not correspond to a known externalUserId"),"")},e.prototype.attendeeIdForStreamId=function(e){if(!this.streamToAttendeeMap){if(!this.currentIndex)return"";this.streamToAttendeeMap=this.buildStreamToAttendeeMap(this.currentIndex)}var t=this.streamToAttendeeMap.get(e);return t||(this.logger.info("stream "+e+") does not correspond to a known attendee"),"")},e.prototype.groupIdForStreamId=function(e){var t,n,i,o;try{for(var a=r(this.currentIndex.sources),s=a.next();!s.done;s=a.next()){if((l=s.value).streamId===e)return l.groupId}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}if(this.indexForSubscribe)try{for(var c=r(this.indexForSubscribe.sources),u=c.next();!u.done;u=c.next()){var l;if((l=u.value).streamId===e)return l.groupId}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}},e.prototype.StreamIdsInSameGroup=function(e,t){return this.groupIdForStreamId(e)===this.groupIdForStreamId(t)},e.prototype.streamIdForTrack=function(e){if(this.subscribeTrackToStreamMap)return this.subscribeTrackToStreamMap.get(e)},e.prototype.streamIdForSSRC=function(e){if(this.subscribeSsrcToStreamMap)return this.subscribeSsrcToStreamMap.get(e)},e.prototype.streamsPausedAtSource=function(){var e,t,n=new o.default;if(this.currentIndex)try{for(var i=r(this.currentIndex.pausedAtSourceIds),a=i.next();!a.done;a=i.next()){var s=a.value;n.add(s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},e.prototype.buildTrackToStreamMap=function(e){var t,n,i=new Map;this.logger.debug((function(){return"trackMap "+JSON.stringify(e.tracks)}));try{for(var o=r(e.tracks),a=o.next();!a.done;a=o.next()){var s=a.value;s.trackLabel.length>0&&s.streamId>0&&i.set(s.trackLabel,s.streamId)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},e.prototype.buildSSRCToStreamMap=function(e){var t,n,i=new Map;this.logger.debug((function(){return"ssrcMap "+JSON.stringify(e.tracks)}));try{for(var o=r(e.tracks),a=o.next();!a.done;a=o.next()){var s=a.value;s.trackLabel.length>0&&s.streamId>0&&i.set(s.ssrc,s.streamId)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},e.prototype.buildStreamToAttendeeMap=function(e){var t,n,i=new Map;if(e)try{for(var o=r(e.sources),a=o.next();!a.done;a=o.next()){var s=a.value;i.set(s.streamId,s.attendeeId)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},e.prototype.buildStreamExternalUserIdMap=function(e){var t,n,i=new Map;if(e)try{for(var o=r(e.sources),a=o.next();!a.done;a=o.next()){var s=a.value;s.externalUserId&&i.set(s.streamId,s.externalUserId)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},e.prototype.trySelectHighBitrateForAttendees=function(e,t,n,i,o){var a,s,c,u;try{for(var l=r(t),d=l.next();!d.done;d=l.next()){var f=d.value;if(n>=i)break;if(e.has(f)){var p=e.get(f);try{for(var h=(c=void 0,r(p.reverse())),m=h.next();!m.done;m=h.next()){var g=m.value;if(n-o.get(f).maxBitrateKbps+g.maxBitrateKbps<i){n=n-o.get(f).maxBitrateKbps+g.maxBitrateKbps,o.set(f,g);break}}}catch(e){c={error:e}}finally{try{m&&!m.done&&(u=h.return)&&u.call(h)}finally{if(c)throw c.error}}}}}catch(e){a={error:e}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return n},e.prototype.buildAttendeeToSortedStreamDescriptorMapExcludingSelf=function(e){var t,n,o=new Map;if(this.currentIndex)try{for(var a=r(this.currentIndex.sources),s=a.next();!s.done;s=a.next()){var c=s.value;c.attendeeId!==e&&c.mediaType===i.SdkStreamMediaType.VIDEO&&(o.has(c.attendeeId)?o.get(c.attendeeId).push(c):o.set(c.attendeeId,[c]))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o.forEach((function(e,t){e.sort((function(e,t){return e.maxBitrateKbps>t.maxBitrateKbps?1:e.maxBitrateKbps<t.maxBitrateKbps?-1:0}))})),o},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(){function e(e,t,n,r,i){this.attendeeId="",this.groupId=0,this.streamId=0,this.ssrc=0,this.trackLabel="",this.maxBitrateKbps=0,this.avgBitrateKbps=0,this.maxFrameRate=0,this.timeEnabled=0,this.disabledByWebRTC=!1,this.disabledByUplinkPolicy=!1,this.attendeeId=e,this.groupId=t,this.streamId=n,this.maxBitrateKbps=r,this.avgBitrateKbps=i}return e.prototype.clone=function(){var t=new e;return t.attendeeId=this.attendeeId,t.groupId=this.groupId,t.streamId=this.streamId,t.ssrc=this.ssrc,t.trackLabel=this.trackLabel,t.maxBitrateKbps=this.maxBitrateKbps,t.avgBitrateKbps=this.avgBitrateKbps,t.maxFrameRate=this.maxFrameRate,t.timeEnabled=this.timeEnabled,t.disabledByWebRTC=this.disabledByWebRTC,t.disabledByUplinkPolicy=this.disabledByUplinkPolicy,t},e.prototype.toStreamDescriptor=function(){var e=r.SdkStreamDescriptor.create();return e.mediaType=r.SdkStreamMediaType.VIDEO,e.trackLabel=this.trackLabel,e.attendeeId=this.attendeeId,e.streamId=this.streamId,e.groupId=this.groupId,e.framerate=this.maxFrameRate,e.maxBitrateKbps=this.disabledByUplinkPolicy||this.disabledByWebRTC?0:this.maxBitrateKbps,e.avgBitrateBps=this.avgBitrateKbps,e},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),i=function(){function e(e){this.selfAttendeeId=e,this.numParticipants=0,this.idealMaxBandwidthKbps=1400,this.hasBandwidthPriority=!1,this.optimalParameters=new r.default(0,0,0,0,!1),this.parametersInEffect=new r.default(0,0,0,0,!1)}return e.prototype.updateConnectionMetric=function(e){},e.prototype.chooseMediaTrackConstraints=function(){return{}},e.prototype.chooseEncodingParameters=function(){return new Map},e.prototype.updateIndex=function(e){this.numParticipants=e.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+1,this.optimalParameters=new r.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1)},e.prototype.wantsResubscribe=function(){return!this.parametersInEffect.equal(this.optimalParameters)},e.prototype.chooseCaptureAndEncodeParameters=function(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()},e.prototype.captureWidth=function(){var e=640;return this.numParticipants>4&&(e=320),e},e.prototype.captureHeight=function(){var e=384;return this.numParticipants>4&&(e=192),e},e.prototype.captureFrameRate=function(){return 15},e.prototype.maxBandwidthKbps=function(){if(this.hasBandwidthPriority)return Math.trunc(this.idealMaxBandwidthKbps);var e=0;return e=this.numParticipants<=2?this.idealMaxBandwidthKbps:this.numParticipants<=4?2*this.idealMaxBandwidthKbps/3:(544/11+14880/(11*this.numParticipants))/600*this.idealMaxBandwidthKbps,Math.trunc(e)},e.prototype.setIdealMaxBandwidthKbps=function(e){this.idealMaxBandwidthKbps=e},e.prototype.setHasBandwidthPriority=function(e){this.hasBandwidthPriority=e},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(92),o=n(33),a=n(53),s=n(30),c=n(55),u=function(){function e(e,t){this.meetingId=null,this.externalMeetingId=null,this.credentials=null,this.urls=null,this.connectionTimeoutMs=15e3,this.screenSharingTimeoutMs=5e3,this.screenViewingTimeoutMs=5e3,this.attendeePresenceTimeoutMs=0,this.screenSharingSessionOptions={},this.connectionHealthPolicyConfiguration=new i.default,this.enableWebAudio=!1,this.enableUnifiedPlanForChromiumBasedBrowsers=!0,this.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,e&&((e=this.toLowerCasePropertyNames(e)).meeting&&(e=e.meeting),this.meetingId=e.meetingid,this.externalMeetingId=e.externalmeetingid,this.urls=new c.default,this.urls.audioHostURL=e.mediaplacement.audiohosturl,this.urls.screenDataURL=e.mediaplacement.screendataurl,this.urls.screenSharingURL=e.mediaplacement.screensharingurl,this.urls.screenViewingURL=e.mediaplacement.screenviewingurl,this.urls.signalingURL=e.mediaplacement.signalingurl,this.urls.turnControlURL=e.mediaplacement.turncontrolurl),t&&((t=this.toLowerCasePropertyNames(t)).attendee&&(t=t.attendee),this.credentials=new s.default,this.credentials.attendeeId=t.attendeeid,this.credentials.externalUserId=t.externaluserid,this.credentials.joinToken=t.jointoken),(new r.default).screenShareSendsOnlyKeyframes()&&(this.screenSharingSessionOptions={bitRate:384e3}),this.videoDownlinkBandwidthPolicy=new o.default(this.credentials?this.credentials.attendeeId:null),this.videoUplinkBandwidthPolicy=new a.default(this.credentials?this.credentials.attendeeId:null)}return e.prototype.toLowerCasePropertyNames=function(e){var t=this;return null===e?null:"object"!=typeof e?e:Array.isArray(e)?e.map(this.toLowerCasePropertyNames):Object.keys(e).reduce((function(n,r){var i=e[r],o="object"==typeof i?t.toLowerCasePropertyNames(i):i;return n[r.toLowerCase()]=o,n}),{})},e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._audioHostURL=null,this._screenDataURL=null,this._screenSharingURL=null,this._screenViewingURL=null,this._signalingURL=null,this._turnControlURL=null,this.urlRewriter=function(e){return e}}return Object.defineProperty(e.prototype,"audioHostURL",{get:function(){return this.urlRewriter(this._audioHostURL)},set:function(e){this._audioHostURL=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenDataURL",{get:function(){return this.urlRewriter(this._screenDataURL)},set:function(e){this._screenDataURL=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenSharingURL",{get:function(){return this.urlRewriter(this._screenSharingURL)},set:function(e){this._screenSharingURL=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenViewingURL",{get:function(){return this.urlRewriter(this._screenViewingURL)},set:function(e){this._screenViewingURL=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signalingURL",{get:function(){return this.urlRewriter(this._signalingURL)},set:function(e){this._signalingURL=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"turnControlURL",{get:function(){return this.urlRewriter(this._turnControlURL)},set:function(e){this._turnControlURL=e},enumerable:!1,configurable:!0}),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),i=n(159),o=function(){function e(){}return e.prototype.create=function(e,t,n){var o=new WebSocket(r.default.urlWithVersion(e),t);return void 0!==n&&(o.binaryType=n),new i.default(o)},e}();t.default=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(161),a=n(163),s=n(164),c=function(){function e(e,t){this.logger=e,this.maxInputSize=t,this.decoderInput=null,this.jpegDecoderModule=null}return e.prototype.init=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return this.logger.info("loading JPEGDecoder WebAssembly module"),this.jpegDecoderModule=new s.default(this.logger),[4,this.jpegDecoderModule.init()];case 1:return e.sent(),this.logger.info("loaded JPEGDecoder WebAssembly module"),this.decoderInput=new a.default(this.jpegDecoderModule,this.maxInputSize),[2]}}))}))},e.prototype.free=function(){this.decoderInput.free(),this.jpegDecoderModule.free(),this.decoderInput=null,this.jpegDecoderModule=null},e.prototype.createInstance=function(e,t){return new o.default(this.jpegDecoderModule,this,e,t)},e.prototype.newInternalInputView=function(){return new Uint8Array(this.jpegDecoderModule.wasm().memory.buffer,this.decoderInput.inputPointer(),this.maxInputSize)},e.prototype.newInternalOutputView=function(e,t){return new Uint8ClampedArray(this.jpegDecoderModule.wasm().memory.buffer,e,t)},e.prototype.inputPointer=function(){return this.decoderInput.inputPointer()},e.prototype.isInputTooLarge=function(e){return e>this.maxInputSize},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=function(){function e(e,t){this.reconnectTimeoutMs=e,this.backoffPolicy=t,this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this._isFirstConnection=!0,this.backoffTimer=null,this.backoffCancel=null,this.reset()}return e.prototype.timeSpentReconnectingMs=function(){return this.firstConnectionAttempted?Date.now()-this.firstConnectionAttemptTimestampMs:0},e.prototype.hasPastReconnectDeadline=function(){return Date.now()-this.lastActiveTimestampMs>=this.reconnectTimeoutMs||this.timeSpentReconnectingMs()>=this.reconnectTimeoutMs},e.prototype.reset=function(){this.cancel(),this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this.backoffPolicy.reset()},e.prototype.startedConnectionAttempt=function(e){this._isFirstConnection=e,this.firstConnectionAttempted||(this.firstConnectionAttempted=!0,this.firstConnectionAttemptTimestampMs=Date.now())},e.prototype.hasStartedConnectionAttempt=function(){return this.firstConnectionAttempted},e.prototype.isFirstConnection=function(){return this._isFirstConnection},e.prototype.disableReconnect=function(){this.shouldReconnect=!1},e.prototype.enableRestartPeerConnection=function(){this.onlyRestartPeerConnection=!0},e.prototype.cancel=function(){this.disableReconnect(),this.backoffTimer&&(this.backoffTimer.stop(),this.backoffCancel&&(this.backoffCancel(),this.backoffCancel=null))},e.prototype.retryWithBackoff=function(e,t){var n=this,i=this.shouldReconnect&&!this.hasPastReconnectDeadline();return i&&(this.backoffCancel=t,this.backoffTimer=new r.default(this.backoffPolicy.nextBackoffAmountMs()),this.backoffTimer.start((function(){n.backoffCancel=null,e()}))),i},e.prototype.shouldOnlyRestartPeerConnection=function(){return this.onlyRestartPeerConnection},e.prototype.clone=function(){return new e(this.reconnectTimeoutMs,this.backoffPolicy)},e.prototype.setLastActiveTimestampMs=function(e){this.lastActiveTimestampMs=e},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=n(168),o=function(){function e(e,t,n){this.fixedWaitMs=e,this.shortBackoffMs=t,this.longBackoffMs=n}return e.prototype.create=function(){return new r.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs)},e.prototype.createWithLimit=function(e){return new i.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs,e)},e}();t.default=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MediaRecordingEvent=void 0,function(e){e.EndedEvent="ended"}(r=t.MediaRecordingEvent||(t.MediaRecordingEvent={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(171),i=function(){function e(e){this.webSocketFactory=e}return e.prototype.create=function(e,t,n){return new r.default(this.webSocketFactory.create(e,t,n))},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(172),i=function(){function e(e,t,n){this.promisedWebSocketFactory=e,this.backoffFactory=t,this.reconnectRetryLimit=n}return e.prototype.create=function(e,t,n){return new r.default(e,t,n,this.promisedWebSocketFactory,this.backoffFactory.createWithLimit(this.reconnectRetryLimit))},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(174),o=n(247),a=function(){function e(){}return e.prototype.deserialize=function(e){return r.default.of(e).map((function(e){return new i.default(o.SdkScreenSignalingMessage.decode(e))}))},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(175),i=function(){function e(){}return e.prototype.create=function(e){return new r.default(e)},e}();t.default=i},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenShareStreamingEvent=void 0,function(e){e.EndedEvent="ended",e.MessageEvent="message"}(r=t.ScreenShareStreamingEvent||(t.ScreenShareStreamingEvent={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),i=function(){function e(){}return e.prototype.serialize=function(t){var n=0;return t.includes(r.default.Broadcast)&&(n|=e.Broadcast),t.includes(r.default.Local)&&(n|=e.Local),t.includes(r.default.Synthesized)&&(n|=e.Synthesized),t.includes(r.default.Unicast)&&(n|=e.Unicast),n},e.prototype.deserialize=function(t){var n=new Array;return this.isBitSet(t,e.Broadcast)&&n.push(r.default.Broadcast),this.isBitSet(t,e.Unicast)&&n.push(r.default.Unicast),this.isBitSet(t,e.Local)&&n.push(r.default.Local),this.isBitSet(t,e.Synthesized)&&n.push(r.default.Synthesized),n},e.prototype.isBitSet=function(e,t){return(e&t)===t},e.Broadcast=1,e.Local=2,e.Synthesized=4,e.Unicast=8,e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=function(){function e(e,t,n){this.typeSerialization=e,this.flagSerialization=t,this.signalingDetailSerialization=n}return e.prototype.serialize=function(e){var t=this.typeSerialization.serialize(e.type),n=this.flagSerialization.serialize(e.flags),r=Uint8Array.of(t,n,0,0);return new Blob([r,e.data])},e.prototype.deserialize=function(t){var n=null,r=this.typeSerialization.deserialize(t[0]),i=this.flagSerialization.deserialize(t[1]),o=t.slice(4,t.length);return e.detailedSignals.indexOf(r)>-1&&(n=this.signalingDetailSerialization.deserialize(o).getOrElse(null)),{type:r,flags:i,data:o,detail:n}},e.detailedSignals=Array.of(r.default.StreamStart,r.default.StreamEnd,r.default.PresenterSwitch),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=function(){function e(){}return e.prototype.serialize=function(t){return e.fromTypeMap.has(t)?e.fromTypeMap.get(t):0},e.prototype.deserialize=function(t){return e.fromNumberMap.has(t)?e.fromNumberMap.get(t):r.default.UnknownType},e.fromNumberMap=new Map([[2,r.default.KeyRequest],[3,r.default.StreamStart],[4,r.default.StreamEnd],[5,r.default.StreamStop],[6,r.default.HeartbeatRequestType],[7,r.default.HeartbeatResponseType],[13,r.default.WebM],[16,r.default.PresenterSwitch],[21,r.default.StreamPause],[22,r.default.StreamUnpause]]),e.fromTypeMap=new Map(Array.from(e.fromNumberMap).map((function(e){return e.reverse()}))),e}();t.default=i},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenSignalingSessionEventType=void 0,function(e){e.Close="close",e.StreamStart="streamstart",e.StreamEnd="streamend",e.StreamSwitch="streamswitch",e.Heartbeat="heartbeat"}(r=t.ScreenSignalingSessionEventType||(t.ScreenSignalingSessionEventType={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenViewingPacketType=void 0,function(e){e[e.SETUP=1]="SETUP",e[e.DELTA=2]="DELTA",e[e.SYNC=3]="SYNC",e[e.ECHO_REQUEST=4]="ECHO_REQUEST",e[e.ECHO_RESPONSE=5]="ECHO_RESPONSE",e[e.NOSCREEN=7]="NOSCREEN",e[e.ENDSCREEN=8]="ENDSCREEN",e[e.JPEG_HEADER_BYTE_0=255]="JPEG_HEADER_BYTE_0",e[e.JPEG_HEADER_BYTE_1=216]="JPEG_HEADER_BYTE_1"}(r=t.ScreenViewingPacketType||(t.ScreenViewingPacketType={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.LETTER_BOX=0]="LETTER_BOX",e[e.PILLAR_BOX=1]="PILLAR_BOX",e[e.NONE=2]="NONE"}(r||(r={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),i=n(46),o=function(){function e(e){this.logger=e}return e.prototype.create=function(e,t){this.connection=new WebSocket(r.default.urlWithVersion(e),t),this.connection.binaryType="arraybuffer"},e.prototype.send=function(e){var t=this;try{return this.connection.send(e.buffer),!0}catch(e){return this.logger.debug((function(){return"send error: "+e.message+", websocket state="+i.default[t.readyState()]})),!1}},e.prototype.close=function(e,t){this.connection.close(e,t)},e.prototype.destroy=function(){this.connection=null},e.prototype.addEventListener=function(e,t){this.connection.addEventListener(e,t)},e.prototype.readyState=function(){if(!this.connection)return i.default.None;switch(this.connection.readyState){case WebSocket.CONNECTING:return i.default.Connecting;case WebSocket.OPEN:return i.default.Open;case WebSocket.CLOSING:return i.default.Closing;case WebSocket.CLOSED:return i.default.Closed}},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.acquireAudioInputStream=function(){return Promise.reject()},e.prototype.acquireVideoInputStream=function(){return Promise.reject()},e.prototype.acquireDisplayInputStream=function(e){return Promise.reject()},e.prototype.releaseMediaStream=function(e){},e.prototype.bindToAudioVideoController=function(e){},e}();t.default=r},function(e,t,n){"use strict";var r=n(25);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(203)),o={assertDefined:function(e,t){if(void 0===e)throw new Error("".concat(t," must be defined"));return e},assertParametersDefined:function(e,t,n){if(void 0!==t){t.length>0&&void 0===e&&(e={});for(var r=0;r<t.length;r++)o.contains(n,t[r])||o.assertDefined(e[t[r]],t[r])}},parseParametersToObject:function(e,t){if(void 0===e)return{};for(var n={},r=0;r<t.length;r++)n[t[r]]=e[t[r]];return n},contains:function(e,t){if(void 0===e)return!1;for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},copy:function(e){if(null===e||"object"!==(0,i.default)(e))return e;var t=n(268).Buffer;if(t.isBuffer(e))return t.from(e);var r=e.constructor(),o=null;for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},mergeInto:function(e,t){if(null===e||"object"!==(0,i.default)(e))return e;var n=e.constructor(),r=null;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);if(null==t||"object"!=(0,i.default)(t))return e;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}},a=o;t.default=a},function(e,t,n){"use strict";(function(t){var r=n(5),i=n(278),o=n(208),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(c=n(209)),c),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(a)})),e.exports=u}).call(this,n(94))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(26),c=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="AttachMediaInputTask",n}return i(t,e),t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i,o,c,u,l=this;return a(this,(function(a){switch(a.label){case 0:return(e=this.context.transceiverController).setPeer(this.context.peer),e.setupLocalTransceivers(),(t=this.context.activeAudioInput)?(n=t.getAudioTracks(),this.context.browserBehavior.requiresUnifiedPlan()?(this.context.logger.info("attaching audio track to peer connection (unified-plan)"),[4,e.setAudioInput(n.length?n[0]:null)]):[3,2]):[3,4];case 1:return a.sent(),[3,3];case 2:this.context.logger.info("attaching audio track to peer connection (plan-b)"),r=this.context.peer.getSenders(),t.getAudioTracks().forEach((function(e){r.find((function(t){return t.track.id===e.id}))||(l.context.localAudioSender=l.context.peer.addTrack(e,t))})),a.label=3;case 3:return[3,6];case 4:return[4,e.setAudioInput(null)];case 5:a.sent(),this.context.logger.warn("no audio track"),a.label=6;case 6:return(i=this.context.activeVideoInput)?(o=i.getVideoTracks(),c=o.length?o[0]:null,this.context.browserBehavior.requiresUnifiedPlan()?(this.context.logger.info("attaching video track to peer connection (unified-plan)"),[4,e.setVideoInput(c)]):[3,8]):[3,10];case 7:return a.sent(),this.context.enableSimulcast&&this.context.videoUplinkBandwidthPolicy&&(u=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters(),e.setEncodingParameters(u)),[3,9];case 8:this.context.logger.info("attaching video track to peer connection (plan-b)"),this.context.peer.getSenders().find((function(e){return e.track&&e.track.id===o[0].id}))||(this.context.localVideoSender&&(this.context.peer.removeTrack(this.context.localVideoSender),this.context.localVideoSender=null),this.context.localVideoSender=this.context.peer.addTrack(o[0],i)),a.label=9;case 9:return c&&(this.context.statsCollector.logVideoEvent(s.default.InputAttached,this.context.videoDeviceInformation),this.context.videoInputAttachedTimestampMs=Date.now()),[3,12];case 10:return[4,e.setVideoInput(null)];case 11:a.sent(),this.context.logger.info("no video track"),this.context.localVideoSender&&(this.context.logger.info("removing track from peer"),this.context.peer.removeTrack(this.context.localVideoSender),this.context.localVideoSender=null),a.label=12;case 12:return this.context.videoSubscriptions=e.updateVideoTransceivers(this.context.videoStreamIndex,this.context.videosToReceive),[2]}}))}))},t}(n(0).default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){this.logger=null,this.browserBehavior=null,this.signalingClient=null,this.meetingSessionConfiguration=null,this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.audioVideoController=null,this.realtimeController=null,this.videoTileController=null,this.mediaStreamBroker=null,this.audioMixController=null,this.activeAudioInput=null,this.activeVideoInput=null,this.transceiverController=null,this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.iceGatheringStateEventHandler=null,this.screenSharingSession=null,this.sdpAnswer=null,this.turnCredentials=null,this.reconnectController=null,this.removableObservers=[],this.videoStreamIndex=null,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.lastKnownVideoAvailability=null,this.localVideoSender=null,this.localAudioSender=null,this.videoCaptureAndEncodeParameter=null,this.videosToReceive=null,this.videoSubscriptions=null,this.videosPaused=null,this.videoDuplexMode=null,this.volumeIndicatorAdapter=null,this.statsCollector=null,this.connectionMonitor=null,this.videoInputAttachedTimestampMs=0,this.audioDeviceInformation={},this.videoDeviceInformation={},this.enableSimulcast=!1,this.eventController=null,this.signalingOpenDurationMs=null,this.poorConnectionCount=0,this.maxVideoTileCount=0,this.startTimeMs=null};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){};t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckAudioConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.AudioInputRequestFailed=1]="AudioInputRequestFailed",e[e.AudioInputPermissionDenied=2]="AudioInputPermissionDenied",e[e.ConnectionFailed=3]="ConnectionFailed",e[e.AudioNotReceived=4]="AudioNotReceived"}(r=t.CheckAudioConnectivityFeedback||(t.CheckAudioConnectivityFeedback={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckAudioInputFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.PermissionDenied=2]="PermissionDenied"}(r=t.CheckAudioInputFeedback||(t.CheckAudioInputFeedback={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckAudioOutputFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed"}(r=t.CheckAudioOutputFeedback||(t.CheckAudioOutputFeedback={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckCameraResolutionFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.ResolutionNotSupported=2]="ResolutionNotSupported",e[e.PermissionDenied=3]="PermissionDenied"}(r=t.CheckCameraResolutionFeedback||(t.CheckCameraResolutionFeedback={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckContentShareConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.PermissionDenied=2]="PermissionDenied",e[e.TimedOut=3]="TimedOut",e[e.ConnectionFailed=4]="ConnectionFailed"}(r=t.CheckContentShareConnectivityFeedback||(t.CheckContentShareConnectivityFeedback={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckNetworkTCPConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",e[e.ConnectionFailed=2]="ConnectionFailed",e[e.ICENegotiationFailed=3]="ICENegotiationFailed"}(r=t.CheckNetworkTCPConnectivityFeedback||(t.CheckNetworkTCPConnectivityFeedback={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckNetworkUDPConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",e[e.ConnectionFailed=2]="ConnectionFailed",e[e.ICENegotiationFailed=3]="ICENegotiationFailed"}(r=t.CheckNetworkUDPConnectivityFeedback||(t.CheckNetworkUDPConnectivityFeedback={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckVideoConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.VideoInputRequestFailed=1]="VideoInputRequestFailed",e[e.VideoInputPermissionDenied=2]="VideoInputPermissionDenied",e[e.ConnectionFailed=3]="ConnectionFailed",e[e.VideoNotSent=4]="VideoNotSent"}(r=t.CheckVideoConnectivityFeedback||(t.CheckVideoConnectivityFeedback={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckVideoInputFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.PermissionDenied=2]="PermissionDenied"}(r=t.CheckVideoInputFeedback||(t.CheckVideoInputFeedback={})),t.default=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="CleanRestartedSessionTask",n}return i(t,e),t.prototype.run=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){return this.context.peer&&this.context.peer.close(),this.context.transceiverController.reset(),this.context.localVideoSender=null,this.context.peer=null,this.context.videoDownlinkBandwidthPolicy.reset(),this.context.iceCandidateHandler=null,this.context.iceCandidates=[],this.context.previousSdpOffer=null,[2]}))}))},t}(n(0).default);t.default=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var c=n(4),u=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="CleanStoppedSessionTask",n.taskCanceler=null,n}return i(t,e),t.prototype.cancel=function(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)},t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i;return a(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,4,5]),this.context.signalingClient.ready()?(this.context.signalingClient.closeConnection(),[4,this.receiveWebSocketClosedEvent()]):[3,2];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:throw o.sent();case 4:try{for(e=s(this.context.removableObservers),t=e.next();!t.done;t=e.next())t.value.removeObserver()}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return this.context.statsCollector.stop(),this.context.statsCollector=null,this.context.connectionMonitor.stop(),this.context.connectionMonitor=null,this.context.peer&&this.context.peer.close(),this.context.peer=null,this.context.localVideoSender=null,this.context.sdpAnswer=null,this.context.sdpOfferInit=null,this.context.indexFrame=null,this.context.videoDownlinkBandwidthPolicy.reset(),this.context.iceCandidateHandler=null,this.context.iceCandidates=[],this.context.turnCredentials=null,this.context.videoSubscriptions=null,this.context.transceiverController.reset(),this.context.mediaStreamBroker.releaseMediaStream(this.context.activeAudioInput),this.context.activeAudioInput=null,this.context.mediaStreamBroker.releaseMediaStream(this.context.activeVideoInput),this.context.activeVideoInput=null,this.context.realtimeController.realtimeSetLocalAudioInput(null),(n=this.context.videoTileController.getLocalVideoTile())&&n.bindVideoStream("",!0,null,null,null,null),this.context.videoTileController.removeAllVideoTiles(),[7];case 5:return[2]}}))}))},t.prototype.receiveWebSocketClosedEvent=function(){var e=this;return new Promise((function(t,n){var r=new(function(){function e(e){this.signalingClient=e}return e.prototype.cancel=function(){this.signalingClient.removeObserver(this),n(new Error("CleanStoppedSessionTask got canceled while waiting for the WebSocket closed event"))},e.prototype.handleSignalingClientEvent=function(e){e.type===c.default.WebSocketClosed&&(this.signalingClient.removeObserver(this),t())},e}())(e.context.signalingClient);e.taskCanceler=r,e.context.signalingClient.registerObserver(r)}))},t}(n(0).default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}return e.isTimestampRecent=function(e,t){return Date.now()<e+t},e.prototype.setConnectionStartTime=function(){this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()},e.prototype.reset=function(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()},e.prototype.isConnectionStartRecent=function(t){return e.isTimestampRecent(this.connectionStartTimestampMs,t)},e.prototype.isLastPacketLossRecent=function(t){return e.isTimestampRecent(this.lastPacketLossInboundTimestampMs,t)},e.prototype.isGoodSignalRecent=function(t){return e.isTimestampRecent(this.lastGoodSignalTimestampMs,t)},e.prototype.isWeakSignalRecent=function(t){return e.isTimestampRecent(this.lastWeakSignalTimestampMs,t)},e.prototype.isNoSignalRecent=function(t){return e.isTimestampRecent(this.lastNoSignalTimestampMs,t)},e.prototype.clone=function(){var t=new e;return t.connectionStartTimestampMs=this.connectionStartTimestampMs,t.consecutiveStatsWithNoPackets=this.consecutiveStatsWithNoPackets,t.lastPacketLossInboundTimestampMs=this.lastPacketLossInboundTimestampMs,t.lastGoodSignalTimestampMs=this.lastGoodSignalTimestampMs,t.lastWeakSignalTimestampMs=this.lastWeakSignalTimestampMs,t.lastNoSignalTimestampMs=this.lastNoSignalTimestampMs,t.consecutiveMissedPongs=this.consecutiveMissedPongs,t.packetsReceivedInLastMinute=this.packetsReceivedInLastMinute.slice(0),t.fractionPacketsLostInboundInLastMinute=this.fractionPacketsLostInboundInLastMinute.slice(0),t.audioSpeakerDelayMs=this.audioSpeakerDelayMs,t},e.prototype.setConsecutiveMissedPongs=function(e){this.consecutiveMissedPongs=e},e.prototype.setConsecutiveStatsWithNoPackets=function(e){this.consecutiveStatsWithNoPackets=e},e.prototype.setLastPacketLossInboundTimestampMs=function(e){this.lastPacketLossInboundTimestampMs=e},e.prototype.setLastNoSignalTimestampMs=function(e){this.lastNoSignalTimestampMs=e},e.prototype.setLastWeakSignalTimestampMs=function(e){this.lastWeakSignalTimestampMs=e},e.prototype.setLastGoodSignalTimestampMs=function(e){this.lastGoodSignalTimestampMs=e},e.prototype.setAudioSpeakerDelayMs=function(e){this.audioSpeakerDelayMs=e},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){this.minHealth=0,this.maxHealth=1,this.initialHealth=1,this.connectionUnhealthyThreshold=25,this.noSignalThresholdTimeMs=1e4,this.connectionWaitTimeMs=1e4,this.zeroBarsNoSignalTimeMs=5e3,this.oneBarWeakSignalTimeMs=5e3,this.twoBarsTimeMs=5e3,this.threeBarsTimeMs=1e4,this.fourBarsTimeMs=2e4,this.fiveBarsTimeMs=6e4,this.cooldownTimeMs=6e4,this.pastSamplesToConsider=15,this.goodSignalTimeMs=15e3,this.fractionalLoss=.5,this.packetsExpected=50,this.maximumTimesToWarn=2,this.missedPongsLowerThreshold=1,this.missedPongsUpperThreshold=4,this.maximumAudioDelayMs=6e4,this.maximumAudioDelayDataPoints=10};t.default=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(37),c=function(){function e(e){this.logger=e}return Object.defineProperty(e.prototype,"mediaStream",{get:function(){return this._mediaStream},set:function(e){this._mediaStream=e},enumerable:!1,configurable:!0}),e.prototype.acquireAudioInputStream=function(){return i(this,void 0,void 0,(function(){return o(this,(function(e){return 0===this._mediaStream.getAudioTracks().length?[2,s.default.synthesizeAudioDevice(0)]:[2,this._mediaStream]}))}))},e.prototype.acquireVideoInputStream=function(){return i(this,void 0,void 0,(function(){return o(this,(function(e){return[2,this._mediaStream]}))}))},e.prototype.releaseMediaStream=function(e){this.logger.warn("release media stream called")},e.prototype.acquireDisplayInputStream=function(e){return i(this,void 0,void 0,(function(){return o(this,(function(t){return e&&e.video&&e.video.mandatory&&e.video.mandatory.chromeMediaSource&&e.video.mandatory.chromeMediaSourceId?[2,navigator.mediaDevices.getUserMedia(e)]:[2,navigator.mediaDevices.getDisplayMedia(e)]}))}))},e.prototype.bindToAudioVideoController=function(e){throw new Error("unsupported")},e.prototype.acquireScreenCaptureDisplayInputStream=function(e,t){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,this.acquireDisplayInputStream(this.screenCaptureDisplayMediaConstraints(e,t))]}))}))},e.prototype.screenCaptureDisplayMediaConstraints=function(t,n){return{audio:!(t||!(new a.default).getDisplayMediaAudioCaptureSupport()),video:r(r({},!t&&{frameRate:{max:n||e.defaultFrameRate}}),t&&{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:n||e.defaultFrameRate}})}},e.prototype.toggleMediaStream=function(e){var t=!1;if(this.mediaStream)for(var n=0;n<this.mediaStream.getTracks().length;n++)this.mediaStream.getTracks()[n].enabled!==e&&(this.mediaStream.getTracks()[n].enabled=e,t=!0);return t},e.prototype.cleanup=function(){if(this.mediaStream)for(var e=0;e<this.mediaStream.getTracks().length;e++)this.mediaStream.getTracks()[e].stop();this.mediaStream=null},e.defaultFrameRate=15,e}();t.default=c},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,d=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(){this.isSome=!1,this.isNone=!0}return e.prototype.get=function(){throw new Error("value is null")},e.prototype.getOrElse=function(e){return e},e.prototype.map=function(t){return new e},e.prototype.flatMap=function(t){return new e},e.prototype.defaulting=function(e){return r.default.of(this.getOrElse(e))},e.of=function(){return new e},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.value=e,this.isSome=!0,this.isNone=!1}return e.prototype.map=function(e){return r.default.of(e(this.value))},e.prototype.flatMap=function(e){return e(this.value)},e.prototype.get=function(){return this.value},e.prototype.getOrElse=function(e){return this.value},e.prototype.defaulting=function(e){return r.default.of(this.getOrElse(e))},e.of=function(t){if(null==t)throw new Error("value is ${value}");return new e(t)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98),i=function(){function e(){this.isMediaDevicesSupported="undefined"!=typeof navigator&&!!navigator.mediaDevices}return e.prototype.create=function(){if(this.isMediaDevicesSupported)return new Proxy(navigator.mediaDevices,new r.default);throw new Error("navigator.mediaDevices is not supported")},e}();t.default=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),s=n(10),c=function(){function e(){var t=this;this.scheduler=null,this.devices=null,this.deviceChangeListeners=new Set,this.get=function(e,n,r){if(Reflect.has(e,n)){if(!("ondevicechange"in navigator.mediaDevices)){if("addEventListener"===n)return t.patchAddEventListener(e,n,r);if("removeEventListener"===n)return t.patchRemoveEventListener(e,n,r)}var i=Reflect.get(e,n,r);return"function"==typeof i?i.bind(e):i}},this.patchAddEventListener=function(n,r,i){var o=Reflect.get(n,r,i);return function(r,i,a){if("devicechange"!==r)return Reflect.apply(o,n,[r,i,a]);t.deviceChangeListeners.add(i),t.scheduler||(t.scheduler=new s.default(e.INTERVAL_MS),t.scheduler.start(t.pollDeviceLists))}},this.patchRemoveEventListener=function(e,n,r){var i=Reflect.get(e,n,r);return function(n,r,o){if("devicechange"!==n)return Reflect.apply(i,e,[n,r,o]);t.deviceChangeListeners.delete(r),0===t.deviceChangeListeners.size&&t.scheduler&&(t.scheduler.stop(),t.scheduler=null)}},this.pollDeviceLists=function(){return r(t,void 0,void 0,(function(){var e,t=this;return i(this,(function(n){switch(n.label){case 0:return[4,this.sortedDeviceList()];case 1:return e=n.sent(),this.devices&&(e.length!==this.devices.length||e.some((function(e,n){return e.deviceId!==t.devices[n].deviceId})))&&this.handleDeviceChangeEvent(),this.devices=e,[2]}}))}))}}return e.prototype.sortedDeviceList=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:return[2,e.sent().sort((function(e,t){return e.deviceId<t.deviceId?1:e.deviceId>t.deviceId?-1:0}))]}}))}))},e.prototype.handleDeviceChangeEvent=function(){var e,t,n=this,r=function(e){(new a.default).start((function(){if(n.deviceChangeListeners.has(e)){var t=new Event("devicechange");"function"==typeof e?e(t):e.handleEvent(t)}}))};try{for(var i=o(this.deviceChangeListeners),s=i.next();!s.done;s=i.next()){r(s.value)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.INTERVAL_MS=1e3,e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.tileId=null,this.localTile=!1,this.localTileStarted=!1,this.isContent=!1,this.active=!1,this.paused=!1,this.poorConnection=!1,this.boundAttendeeId=null,this.boundExternalUserId=null,this.boundVideoStream=null,this.boundVideoElement=null,this.nameplate=null,this.videoStreamContentWidth=null,this.videoStreamContentHeight=null,this.videoElementCSSWidthPixels=null,this.videoElementCSSHeightPixels=null,this.devicePixelRatio=0,this.videoElementPhysicalWidthPixels=null,this.videoElementPhysicalHeightPixels=null,this.streamId=null}return e.prototype.clone=function(){var t=new e;return t.tileId=this.tileId,t.localTile=this.localTile,t.isContent=this.isContent,t.active=this.active,t.paused=this.paused,t.poorConnection=this.poorConnection,t.boundAttendeeId=this.boundAttendeeId,t.boundExternalUserId=this.boundExternalUserId,t.boundVideoStream=this.boundVideoStream,t.boundVideoElement=this.boundVideoElement,t.nameplate=this.nameplate,t.videoStreamContentWidth=this.videoStreamContentWidth,t.videoStreamContentHeight=this.videoStreamContentHeight,t.videoElementCSSWidthPixels=this.videoElementCSSWidthPixels,t.videoElementCSSHeightPixels=this.videoElementCSSHeightPixels,t.devicePixelRatio=this.devicePixelRatio,t.videoElementPhysicalWidthPixels=this.videoElementPhysicalWidthPixels,t.videoElementPhysicalHeightPixels=this.videoElementPhysicalHeightPixels,t.streamId=this.streamId,t},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.groupId=""}return e.prototype.matchesConstraints=function(e){return JSON.stringify(this.constraints)===JSON.stringify(e)},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n,r){this.videoWidth=e,this.videoHeight=t,this.videoFrameRate=n,this.videoMaxBandwidthKbps=r};t.default=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="CreatePeerConnectionTask",n.removeTrackAddedEventListener=null,n.removeTrackRemovedEventListeners={},n.trackEvents=["ended","mute","unmute","isolationchange","overconstrained"],n.removeVideoTrackEventListeners={},n.trackAddedHandler=function(e){var t=e.track;if(n.context.logger.info("received track event: kind="+t.kind+" id="+t.id+" label="+t.label),!e.transceiver||"inactive"!==e.transceiver.currentDirection)if(0!==e.streams.length){var r=e.streams[0];"audio"===t.kind?n.context.audioMixController.bindAudioStream(r):"video"!==t.kind||n.trackIsVideoInput(t)||n.addRemoteVideoTrack(t,r)}else n.context.logger.warn("Track event but no stream")},n}return i(t,e),t.prototype.removeObserver=function(){for(var e in this.removeTrackAddedEventListener&&this.removeTrackAddedEventListener(),this.removeTrackRemovedEventListeners)this.removeTrackRemovedEventListeners[e]()},t.prototype.addPeerConnectionEventLogger=function(){var e=this,t=this.context.peer;t.addEventListener("connectionstatechange",(function(){e.context.logger.info("peer connection state changed: "+t.connectionState)})),t.addEventListener("negotiationneeded",(function(){e.context.logger.info("peer connection negotiation is needed")})),t.addEventListener("icegatheringstatechange",(function(){e.context.logger.info("peer connection ice gathering state changed: "+t.iceGatheringState)})),t.addEventListener("icecandidate",(function(t){e.context.logger.info("peer connection ice candidate: "+(t.candidate?t.candidate.candidate:"(null)"))})),t.addEventListener("iceconnectionstatechange",(function(){e.context.logger.info("peer connection ice connection state changed: "+t.iceConnectionState)}))},t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e,t,n,r=this;return a(this,(function(i){return this.context.removableObservers.push(this),e=this.context.turnCredentials&&this.context.turnCredentials.uris.length>0,(t=e?{iceServers:[{urls:this.context.turnCredentials.uris,username:this.context.turnCredentials.username,credential:this.context.turnCredentials.password,credentialType:"password"}],iceTransportPolicy:"relay"}:{}).bundlePolicy=this.context.browserBehavior.requiresBundlePolicy(),t.sdpSemantics=this.context.browserBehavior.requiresUnifiedPlan()?"unified-plan":"plan-b",this.logger.info("SDP semantics are "+t.sdpSemantics),n={optional:[{googHighStartBitrate:0},{googCpuOveruseDetection:!1},{googCpuOveruseEncodeUsage:!1},{googCpuUnderuseThreshold:55},{googCpuOveruseThreshold:150},{googCombinedAudioVideoBwe:!0}]},this.context.peer?this.context.logger.info("reusing peer connection"):(this.context.logger.info("creating new peer connection"),this.context.peer=new RTCPeerConnection(t,n),this.addPeerConnectionEventLogger()),this.removeTrackAddedEventListener=function(){r.context.peer&&r.context.peer.removeEventListener("track",r.trackAddedHandler),r.removeTrackAddedEventListener=null},this.context.peer.addEventListener("track",this.trackAddedHandler),[2]}))}))},t.prototype.trackIsVideoInput=function(e){if(this.context.transceiverController.useTransceivers())return this.logger.debug((function(){return"getting video track type (unified-plan)"})),this.context.transceiverController.trackIsVideoInput(e);if(this.logger.debug((function(){return"getting video track type (plan-b)"})),this.context.activeVideoInput){var t=this.context.activeVideoInput.getVideoTracks();if(t&&t.length>0&&t[0].id===e.id)return!0}return!1},t.prototype.addRemoteVideoTrack=function(e,t){var n=this,r=t.id;this.context.browserBehavior.requiresUnifiedPlan()||(t=new MediaStream([e]),r=e.id);var i=this.context.videoStreamIndex.attendeeIdForTrack(r);if(this.context.videoTileController.haveVideoTileForAttendeeId(i))this.context.logger.info("Not adding remote track. Already have tile for attendeeId:  "+i);else{var o=this.context.videoTileController.addVideoTile(),a=this.context.videoStreamIndex.streamIdForTrack(r);void 0===a&&(this.logger.warn("stream not found for tile="+o.id()+" track="+r),a=null);for(var s,c,u,l=function(r){var i=d.trackEvents[r],s=t.getVideoTracks();if(s&&s.length){var c=s[0],u=function(){n.context.logger.info("received the "+i+" event for tile="+o.id()+" id="+e.id+" streamId="+a),"ended"===i&&n.context.browserBehavior.requiresUnifiedPlan()&&n.removeRemoteVideoTrack(e,o.state())};c.addEventListener(i,u),d.removeVideoTrackEventListeners[e.id]||(d.removeVideoTrackEventListeners[e.id]=[]),d.removeVideoTrackEventListeners[e.id].push((function(){c.removeEventListener(i,u)}))}},d=this,f=0;f<this.trackEvents.length;f++)l(f);if(e.getSettings)s=(u=e.getSettings()).width,c=u.height;else s=(u=e.getCapabilities()).width,c=u.height;var p=this.context.videoStreamIndex.externalUserIdForTrack(r);o.bindVideoStream(i,!1,t,s,c,a,p),this.logger.info("video track added, created tile="+o.id()+" track="+r+" streamId="+a);var h="removetrack",m=t;this.context.browserBehavior.requiresUnifiedPlan()||(this.logger.debug((function(){return"updating end event and target track (plan-b)"})),h="ended",m=e);var g=function(){return n.removeRemoteVideoTrack(e,o.state())};this.removeTrackRemovedEventListeners[e.id]=function(){m.removeEventListener(h,g),delete n.removeTrackRemovedEventListeners[e.id]},m.addEventListener(h,g)}},t.prototype.removeRemoteVideoTrack=function(e,t){var n,r;if(this.removeTrackRemovedEventListeners.hasOwnProperty(e.id)){this.removeTrackRemovedEventListeners[e.id]();try{for(var i=s(this.removeVideoTrackEventListeners[e.id]),o=i.next();!o.done;o=i.next()){(0,o.value)()}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}delete this.removeVideoTrackEventListeners[e.id]}this.logger.info("video track ended, removing tile="+t.tileId+" id="+e.id+" stream="+t.streamId),t.streamId?this.context.videosPaused.remove(t.streamId):this.logger.warn("no stream found for tile="+t.tileId),this.context.videoTileController.removeVideoTile(t.tileId)},t.REMOVE_HANDLER_INTERVAL_MS=1e4,t}(n(0).default);t.default=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),c=n(20),u=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="CreateSDPTask",n}return i(t,e),t.prototype.cancel=function(){var e=new Error("canceling "+this.name());this.cancelPromise&&this.cancelPromise(e)},t.prototype.sessionUsesAudio=function(){return!0},t.prototype.sessionUsesVideo=function(){var e;e=this.context.transceiverController.useTransceivers()?this.context.transceiverController.hasVideoInput():this.context.videoTileController.hasStartedLocalVideoTile();var t=!!this.context.videosToReceive&&!this.context.videosToReceive.empty(),n=e||t;return this.context.logger.info("uses video: "+n+" (enabled: "+!0+", sending: "+e+", receiving: "+t+")"),n},t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e,t=this;return a(this,(function(n){switch(n.label){case 0:return e={offerToReceiveAudio:this.sessionUsesAudio(),offerToReceiveVideo:this.sessionUsesVideo()},this.logger.info("peer connection offerOptions: "+JSON.stringify(e)),[4,new Promise((function(n,r){return o(t,void 0,void 0,(function(){var t,i,o;return a(this,(function(a){switch(a.label){case 0:this.cancelPromise=function(e){r(e)},a.label=1;case 1:return a.trys.push([1,3,,4]),t=this.context,[4,this.context.peer.createOffer(e)];case 2:return t.sdpOfferInit=a.sent(),this.context.logger.info("peer connection created offer"),this.context.previousSdpOffer&&new c.default(this.context.sdpOfferInit.sdp).videoSendSectionHasDifferentSSRC(this.context.previousSdpOffer)&&(i=new Error("canceling "+this.name()+" due to the meeting status code: "+s.default.IncompatibleSDP),this.context.previousSdpOffer=null,r(i)),n(),[3,4];case 3:return o=a.sent(),r(o),[3,4];case 4:return[2]}}))}))}))];case 1:return n.sent(),[2]}}))}))},t}(n(0).default);t.default=u},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SDPCandidateType=void 0,function(e){e.Host="host",e.ServerReflexive="srflx",e.PeerReflexive="prflx",e.Relay="relay"}(r=t.SDPCandidateType||(t.SDPCandidateType={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,i,o){this.timestampMs=e,this.topic=t,this.data=n,this.senderAttendeeId=r,this.senderExternalUserId=i,this.throttled=!!o}return e.prototype.text=function(){return(new TextDecoder).decode(this.data)},e.prototype.json=function(){return JSON.parse((new TextDecoder).decode(this.data))},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=function(){function e(e,t,n,r,i){void 0===r&&(r=1e3),void 0===i&&(i=200),this.realtimeController=e,this.selfAttendeeId=t,this.hasBandwidthPriorityCallback=n,this.waitIntervalMs=r,this.updateIntervalMs=i,this.speakerScores={},this.speakerMuteState={},this.detectorCallbackToHandler=new Map,this.detectorCallbackToScoresTimer=new Map,this.detectorCallbackToActivityTimer=new Map,this.hasBandwidthPriority=!1,this.mostRecentUpdateTimestamp={}}return e.prototype.needUpdate=function(e){return!this.activeSpeakers||(0===this.speakerScores[e]&&this.activeSpeakers.includes(e)||this.speakerScores[e]>0&&!this.activeSpeakers.includes(e))},e.prototype.updateActiveSpeakers=function(e,t,n){if(this.needUpdate(n)){for(var r=[],i=Object.keys(this.speakerScores),o=0;o<i.length;o++){var a=i[o];r.push({attendeeId:a,activeScore:this.speakerScores[a]})}var s=r.sort((function(e,t){return t.activeScore-e.activeScore})).filter((function(e){return e.activeScore>0})).map((function(e){return e.attendeeId}));this.activeSpeakers=s,t(s);var c=s.length>0&&s[0]===this.selfAttendeeId&&e.prioritizeVideoSendBandwidthForActiveSpeaker();this.hasBandwidthPriority!==c&&(this.hasBandwidthPriority=c,this.hasBandwidthPriorityCallback(c))}},e.prototype.updateScore=function(e,t,n,r,i){var o=e.calculateScore(n,r,i);this.speakerScores[n]!==o&&(this.speakerScores[n]=o,this.mostRecentUpdateTimestamp[n]=Date.now(),this.updateActiveSpeakers(e,t,n))},e.prototype.subscribe=function(e,t,n,i){var o=this,a=function(n,r){if(!r)return o.speakerScores[n]=0,o.mostRecentUpdateTimestamp[n]=Date.now(),void o.updateActiveSpeakers(e,t,n);o.realtimeController.realtimeSubscribeToVolumeIndicator(n,(function(n,r,i,a){o.mostRecentUpdateTimestamp[n]=Date.now(),null!==i&&(o.speakerMuteState[n]=i),o.updateScore(e,t,n,r,i)}))};this.detectorCallbackToHandler.set(t,a);var s=new r.default(this.updateIntervalMs);if(s.start((function(){for(var n in o.speakerScores)Date.now()-o.mostRecentUpdateTimestamp[n]>o.waitIntervalMs&&o.updateScore(e,t,n,0,o.speakerMuteState[n])})),this.detectorCallbackToActivityTimer.set(t,s),n&&i){var c=new r.default(i);c.start((function(){n(o.speakerScores)})),this.detectorCallbackToScoresTimer.set(t,c)}this.realtimeController.realtimeSubscribeToAttendeeIdPresence(a)},e.prototype.unsubscribe=function(e){var t=this.detectorCallbackToHandler.get(e);this.detectorCallbackToHandler.delete(e),this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(t);var n=this.detectorCallbackToActivityTimer.get(e);n&&(n.stop(),this.detectorCallbackToActivityTimer.delete(e));var r=this.detectorCallbackToScoresTimer.get(e);r&&(r.stop(),this.detectorCallbackToHandler.delete(e))},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e,t,n,r,i,o){var a=this;this.audioVideoController=e,this.realtimeController=t,this.videoTileController=n,this.connectionHealthData=r,this.pingPong=i,this.statsCollector=o,this.isActive=!1,this.hasSeenValidPacketMetricsBefore=!1,this.lastAvailableSendBandwidthKbps=0,this.lastAvailableRecvBandwidthKbps=0,this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange((function(e){a.isActive&&a.receiveSignalStrengthChange(e)}))}return e.prototype.start=function(){this.isActive=!0,this.pingPong.addObserver(this),this.pingPong.start(),this.audioVideoController.addObserver(this)},e.prototype.stop=function(){this.isActive=!1,this.pingPong.removeObserver(this),this.pingPong.stop(),this.audioVideoController.removeObserver(this)},e.prototype.receiveSignalStrengthChange=function(e){0===e?this.connectionHealthData.setLastNoSignalTimestampMs(Date.now()):e<=.5?this.connectionHealthData.setLastWeakSignalTimestampMs(Date.now()):this.connectionHealthData.setLastGoodSignalTimestampMs(Date.now()),this.updateConnectionHealth()},e.prototype.didReceivePong=function(e,t,n){this.connectionHealthData.setConsecutiveMissedPongs(0),this.statsCollector.logLatency("ping_pong",t),this.statsCollector.logLatency("ping_pong_clock_skew",n),this.updateConnectionHealth()},e.prototype.didMissPongs=function(){this.connectionHealthData.setConsecutiveMissedPongs(this.connectionHealthData.consecutiveMissedPongs+1),this.updateConnectionHealth()},e.prototype.metricsDidReceive=function(e){var t=0,n=0,r=e.getObservableMetrics(),i=r.audioPacketsReceived,o=r.audioPacketsReceivedFractionLoss,a=0,s=r.videoPacketSentPerSecond,c=r.videoUpstreamBitrate,u=r.availableSendBandwidth||r.availableOutgoingBitrate,l=r.availableReceiveBandwidth||r.availableIncomingBitrate,d=r.audioSpeakerDelayMs,f=r.nackCountReceivedPerSecond||r.googNackCountReceivedPerSecond;"number"!=typeof u||isNaN(u)||this.updateAvailableSendBandwidth(u/1e3,f),"number"!=typeof l||isNaN(l)||this.updateAvailableReceiveBandwidth(l/1e3),"number"!=typeof c||isNaN(c)||(a=c/1e3),"number"!=typeof d||isNaN(d)||this.connectionHealthData.setAudioSpeakerDelayMs(d),this.monitorVideoUplinkHealth(a,s),"number"==typeof i&&"number"==typeof o&&(n=o,(t=i)<0||n<0||(this.addToMinuteWindow(this.connectionHealthData.packetsReceivedInLastMinute,t),this.addToMinuteWindow(this.connectionHealthData.fractionPacketsLostInboundInLastMinute,n),t>0?(this.hasSeenValidPacketMetricsBefore=!0,this.connectionHealthData.setConsecutiveStatsWithNoPackets(0)):this.hasSeenValidPacketMetricsBefore&&this.connectionHealthData.setConsecutiveStatsWithNoPackets(this.connectionHealthData.consecutiveStatsWithNoPackets+1),(0===t||n>0)&&this.connectionHealthData.setLastPacketLossInboundTimestampMs(Date.now()),this.updateConnectionHealth()))},e.prototype.addToMinuteWindow=function(e,t){e.unshift(t),e.length>60&&e.pop()},e.prototype.updateAvailableSendBandwidth=function(e,t){if(e!==this.lastAvailableSendBandwidthKbps){if(0===this.lastAvailableSendBandwidthKbps)return void(this.lastAvailableSendBandwidthKbps=e);var n=this.lastAvailableSendBandwidthKbps;this.lastAvailableSendBandwidthKbps=e,this.audioVideoController.forEachObserver((function(i){r.default.of(i.videoSendBandwidthDidChange).map((function(r){return r.bind(i)(e,n,t)}))}))}},e.prototype.updateAvailableReceiveBandwidth=function(e){if(e!==this.lastAvailableRecvBandwidthKbps){if(0===this.lastAvailableRecvBandwidthKbps)return void(this.lastAvailableRecvBandwidthKbps=e);var t=this.lastAvailableRecvBandwidthKbps;this.lastAvailableRecvBandwidthKbps=e,this.audioVideoController.forEachObserver((function(n){r.default.of(n.videoReceiveBandwidthDidChange).map((function(r){return r.bind(n)(e,t)}))}))}},e.prototype.updateConnectionHealth=function(){var e=this;this.audioVideoController.forEachObserver((function(t){r.default.of(t.connectionHealthDidChange).map((function(n){return n.bind(t)(e.connectionHealthData.clone())}))}))},e.prototype.monitorVideoUplinkHealth=function(e,t){this.videoTileController.hasStartedLocalVideoTile()&&this.audioVideoController.forEachObserver((function(n){r.default.of(n.videoSendHealthDidChange).map((function(r){return r.bind(n)(e,t)}))}))},e}();t.default=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(227),a=n(14),s=function(){function e(t){var n,r,i,a,s,c,u;this.audioVideoController=t,this.meetingHistoryStates=[];try{this.parserResult=navigator&&navigator.userAgent?new o.UAParser(navigator.userAgent).getResult():null}catch(e){t.logger.error(e.message)}this.browserMajorVersion=(null===(i=null===(r=null===(n=this.parserResult)||void 0===n?void 0:n.browser)||void 0===r?void 0:r.version)||void 0===i?void 0:i.split(".")[0])||e.UNAVAILABLE,this.browserName=(null===(a=this.parserResult)||void 0===a?void 0:a.browser.name)||e.UNAVAILABLE,this.browserVersion=(null===(s=this.parserResult)||void 0===s?void 0:s.browser.version)||e.UNAVAILABLE,this.deviceName=[(null===(c=this.parserResult)||void 0===c?void 0:c.device.vendor)||"",(null===(u=this.parserResult)||void 0===u?void 0:u.device.model)||""].join(" ").trim()||e.UNAVAILABLE}return e.prototype.publishEvent=function(e,t){return r(this,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return n=Date.now(),[4,this.pushMeetingState(e,n)];case 1:return i.sent(),r=Object.freeze(Object.assign(this.getAttributes(n),t)),this.audioVideoController.forEachObserver((function(t){t.eventDidReceive&&t.eventDidReceive(e,r)})),[2]}}))}))},e.prototype.pushMeetingState=function(e,t){return void 0===t&&(t=Date.now()),r(this,void 0,void 0,(function(){return i(this,(function(n){return this.meetingHistoryStates.push({name:e,timestampMs:t}),[2]}))}))},e.prototype.getAttributes=function(t){var n,r;return{attendeeId:this.audioVideoController.configuration.credentials.attendeeId,browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,externalMeetingId:"string"==typeof this.audioVideoController.configuration.externalMeetingId?this.audioVideoController.configuration.externalMeetingId:"",externalUserId:this.audioVideoController.configuration.credentials.externalUserId,meetingHistory:this.meetingHistoryStates,meetingId:this.audioVideoController.configuration.meetingId,osName:(null===(n=this.parserResult)||void 0===n?void 0:n.os.name)||e.UNAVAILABLE,osVersion:(null===(r=this.parserResult)||void 0===r?void 0:r.os.version)||e.UNAVAILABLE,sdkVersion:a.default.sdkVersion,sdkName:a.default.sdkName,timestampMs:t}},e.UNAVAILABLE="Unavailable",e}();t.default=s},function(e,t,n){"use strict";e.exports=n(230)},function(e,t,n){"use strict";e.exports=d;var r,i=n(11),o=i.LongBits,a=i.base64,s=i.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}function f(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function h(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function m(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=i.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d},d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},p.prototype=Object.create(c.prototype),p.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(h,10,o.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=o.from(e);return this._push(h,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(h,t.length(),t)},d.prototype.bool=function(e){return this._push(f,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=o.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var g=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(i.isString(e)){var n=d.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(g,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(f,1,0)},d.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e}},function(e,t,n){"use strict";e.exports=c;var r,i=n(11),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")};function d(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw s(this,8);return new o(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new r(e):l(e)})(e)}:l,c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return u}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e;var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(7),a=n(10),s=n(4),c=n(2),u=function(){function e(e,t,n){this.signalingClient=e,this.intervalMs=t,this.logger=n,this.observerQueue=new Set,this.consecutivePongsUnaccountedFor=0,this.intervalScheduler=new a.default(this.intervalMs),this.pingId=0}return e.prototype.addObserver=function(e){this.logger.info("adding a ping-pong observer"),this.observerQueue.add(e)},e.prototype.removeObserver=function(e){this.logger.info("removing a ping-pong observer"),this.observerQueue.delete(e)},e.prototype.forEachObserver=function(e){var t,n,i=this,a=function(t){(new o.default).start((function(){i.observerQueue.has(t)&&e(t)}))};try{for(var s=r(this.observerQueue),c=s.next();!c.done;c=s.next()){a(c.value)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},e.prototype.start=function(){this.stop(),this.signalingClient.registerObserver(this),this.signalingClient.ready()&&this.startPingInterval()},e.prototype.stop=function(){this.stopPingInterval(),this.signalingClient.removeObserver(this)},e.prototype.startPingInterval=function(){var e=this;this.intervalScheduler.start((function(){e.ping()})),this.ping()},e.prototype.stopPingInterval=function(){this.intervalScheduler.stop(),this.pingId=0,this.consecutivePongsUnaccountedFor=0},e.prototype.ping=function(){var e=this;this.consecutivePongsUnaccountedFor>0&&(this.logger.warn("missed pong "+this.consecutivePongsUnaccountedFor+" time(s)"),this.forEachObserver((function(t){i.default.of(t.didMissPongs).map((function(n){return n.bind(t)(e.consecutivePongsUnaccountedFor)}))}))),this.consecutivePongsUnaccountedFor+=1,this.pingId=this.pingId+1&4294967295;var t=c.SdkPingPongFrame.create();t.pingId=this.pingId,t.type=c.SdkPingPongType.PING,this.pingTimestampLocalMs=this.signalingClient.pingPong(t),this.logger.debug((function(){return"sent ping "+e.pingId}))},e.prototype.pong=function(e){var t=c.SdkPingPongFrame.create();t.pingId=e,t.type=c.SdkPingPongType.PONG,this.signalingClient.pingPong(t)},e.prototype.handleSignalingClientEvent=function(e){switch(e.type){case s.default.WebSocketOpen:this.startPingInterval();break;case s.default.WebSocketFailed:case s.default.WebSocketError:this.logger.warn("stopped pinging ("+s.default[e.type]+")"),this.stopPingInterval();break;case s.default.WebSocketClosing:case s.default.WebSocketClosed:this.logger.info("stopped pinging ("+s.default[e.type]+")"),this.stopPingInterval();break;case s.default.ReceivedSignalFrame:if(e.message.type!==c.SdkSignalFrame.Type.PING_PONG)break;if(e.message.pingPong.type===c.SdkPingPongType.PONG){var t,n=e.message.pingPong.pingId;if(n!==this.pingId){this.logger.warn("unexpected ping id "+n+" (expected "+this.pingId+")");break}if(this.consecutivePongsUnaccountedFor=0,"number"!=typeof e.message.timestampMs)break;t=e.message.timestampMs,this.logger.debug((function(){return"received pong "+n+" with timestamp "+t}));var r=e.timestampMs-this.pingTimestampLocalMs,o=Math.round(t-r/2),a=this.pingTimestampLocalMs-o;this.logger.info("local clock skew estimate="+a+"ms from ping-pong time="+r+"ms"),this.forEachObserver((function(e){i.default.of(e.didReceivePong).map((function(t){return t.bind(e)(n,a,r)}))}))}else this.pong(e.message.pingPong.pingId)}},e}();t.default=u},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(114),o=n(115),a=function(){function e(){this.state=new i.default}return e.prototype.realtimeSetLocalAttendeeId=function(e,t){var n=this;this.wrap((function(){n.state.localAttendeeId=e,n.state.localExternalUserId=t}))},e.prototype.realtimeSetAttendeeIdPresence=function(e,t,n,i,o){var a=this;this.wrap((function(){var s,c;t&&(a.state.attendeeIdToExternalUserId[e]=n);try{for(var u=r(a.state.attendeeIdChangesCallbacks),l=u.next();!l.done;l=u.next()){(0,l.value)(e,t,n,i,o)}}catch(e){s={error:e}}finally{try{l&&!l.done&&(c=u.return)&&c.call(u)}finally{if(s)throw s.error}}}))},e.prototype.realtimeSubscribeToAttendeeIdPresence=function(e){var t=this;this.wrap((function(){t.state.attendeeIdChangesCallbacks.push(e)}))},e.prototype.realtimeUnsubscribeToAttendeeIdPresence=function(e){var t=this;this.wrap((function(){var n=t.state.attendeeIdChangesCallbacks.indexOf(e);-1!==n&&t.state.attendeeIdChangesCallbacks.splice(n,1)}))},e.prototype.realtimeSetLocalAudioInput=function(e){var t=this;this.wrap((function(){t.state.audioInput!==e&&(t.setAudioInputEnabled(!1),t.state.audioInput=e,t.setAudioInputEnabled(!t.state.muted))}))},e.prototype.realtimeSetCanUnmuteLocalAudio=function(e){var t=this;this.wrap((function(){var n,i;if(t.state.canUnmute!==e){t.state.canUnmute=e;try{for(var o=r(t.state.setCanUnmuteLocalAudioCallbacks),a=o.next();!a.done;a=o.next()){(0,a.value)(e)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}}))},e.prototype.realtimeSubscribeToSetCanUnmuteLocalAudio=function(e){var t=this;this.wrap((function(){t.state.setCanUnmuteLocalAudioCallbacks.push(e)}))},e.prototype.realtimeUnsubscribeToSetCanUnmuteLocalAudio=function(e){var t=this;this.wrap((function(){var n=t.state.setCanUnmuteLocalAudioCallbacks.indexOf(e);-1!==n&&t.state.setCanUnmuteLocalAudioCallbacks.splice(n,1)}))},e.prototype.realtimeCanUnmuteLocalAudio=function(){var e=this,t=!1;return this.wrap((function(){t=e.state.canUnmute})),t},e.prototype.realtimeMuteLocalAudio=function(){var e=this;this.wrap((function(){var t,n;if(!e.state.muted){e.setAudioInputEnabled(!1),e.state.muted=!0,e.realtimeUpdateVolumeIndicator(e.state.localAttendeeId,null,null,null,e.state.localExternalUserId);try{for(var i=r(e.state.muteAndUnmuteLocalAudioCallbacks),o=i.next();!o.done;o=i.next()){(0,o.value)(!0)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}}))},e.prototype.realtimeUnmuteLocalAudio=function(){var e=this,t=!1;return this.wrap((function(){var n,i;if(e.state.muted)if(e.state.canUnmute){e.setAudioInputEnabled(!0),e.state.muted=!1,e.realtimeUpdateVolumeIndicator(e.state.localAttendeeId,null,null,null,e.state.localExternalUserId);try{for(var o=r(e.state.muteAndUnmuteLocalAudioCallbacks),a=o.next();!a.done;a=o.next()){(0,a.value)(!1)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}t=!0}else t=!1;else t=!0})),t},e.prototype.realtimeSubscribeToMuteAndUnmuteLocalAudio=function(e){var t=this;this.wrap((function(){t.state.muteAndUnmuteLocalAudioCallbacks.push(e)}))},e.prototype.realtimeUnsubscribeToMuteAndUnmuteLocalAudio=function(e){var t=this;this.wrap((function(){var n=t.state.muteAndUnmuteLocalAudioCallbacks.indexOf(e);-1!==n&&t.state.muteAndUnmuteLocalAudioCallbacks.splice(n,1)}))},e.prototype.realtimeIsLocalAudioMuted=function(){var e=this,t=!1;return this.wrap((function(){t=e.state.muted})),t},e.prototype.realtimeSubscribeToVolumeIndicator=function(e,t){var n=this;this.wrap((function(){n.state.volumeIndicatorCallbacks.hasOwnProperty(e)||(n.state.volumeIndicatorCallbacks[e]=[]),n.state.volumeIndicatorCallbacks[e].push(t),n.sendVolumeIndicatorChange(e,!0,!0,!0,n.state.attendeeIdToExternalUserId[e])}))},e.prototype.realtimeUnsubscribeFromVolumeIndicator=function(e){var t=this;this.wrap((function(){delete t.state.volumeIndicatorCallbacks[e]}))},e.prototype.realtimeUpdateVolumeIndicator=function(e,t,n,r,i){var o=this;this.wrap((function(){n=o.applyLocalMuteOverride(e,n);var a=o.getVolumeIndicatorState(e),s=!1,c=!1,u=!1;null!==n&&a.muted!==n&&(a.muted=n,c=!0,a.muted&&0!==a.volume&&(a.volume=0,s=!0)),a.muted||null===t||(a.volume!==t&&(a.volume=t,s=!0),null===a.muted&&(a.muted=!1,c=!0)),null!==r&&a.signalStrength!==r&&(a.signalStrength=r,u=!0),o.sendVolumeIndicatorChange(e,s,c,u,i)}))},e.prototype.realtimeSubscribeToLocalSignalStrengthChange=function(e){var t=this;this.wrap((function(){t.state.localSignalStrengthChangeCallbacks.push(e),null!==t.state.localAttendeeId&&t.sendLocalSignalStrengthChange(t.state.localAttendeeId,!0)}))},e.prototype.realtimeUnsubscribeToLocalSignalStrengthChange=function(e){var t=this;this.wrap((function(){var n=t.state.localSignalStrengthChangeCallbacks.indexOf(e);-1!==n&&t.state.localSignalStrengthChangeCallbacks.splice(n,1)}))},e.prototype.realtimeSubscribeToSendDataMessage=function(e){var t=this;this.wrap((function(){t.state.sendDataMessageCallbacks.push(e)}))},e.prototype.realtimeUnsubscribeFromSendDataMessage=function(e){var t=this;this.wrap((function(){var n=t.state.sendDataMessageCallbacks.indexOf(e);-1!==n&&t.state.sendDataMessageCallbacks.splice(n,1)}))},e.prototype.realtimeSendDataMessage=function(e,t,n){var i=this;this.wrap((function(){var o,a;try{for(var s=r(i.state.sendDataMessageCallbacks),c=s.next();!c.done;c=s.next()){(0,c.value)(e,t,n)}}catch(e){o={error:e}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}}))},e.prototype.realtimeSubscribeToReceiveDataMessage=function(e,t){var n=this;this.wrap((function(){n.state.receiveDataMessageCallbacks.has(e)?n.state.receiveDataMessageCallbacks.get(e).push(t):n.state.receiveDataMessageCallbacks.set(e,[t])}))},e.prototype.realtimeUnsubscribeFromReceiveDataMessage=function(e){var t=this;this.wrap((function(){t.state.receiveDataMessageCallbacks.delete(e)}))},e.prototype.realtimeReceiveDataMessage=function(e){var t=this;this.wrap((function(){var n,i;if(t.state.receiveDataMessageCallbacks.has(e.topic))try{for(var o=r(t.state.receiveDataMessageCallbacks.get(e.topic)),a=o.next();!a.done;a=o.next()){(0,a.value)(e)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}))},e.prototype.realtimeSubscribeToFatalError=function(e){var t=this;this.wrap((function(){t.state.fatalErrorCallbacks.push(e)}))},e.prototype.realtimeUnsubscribeToFatalError=function(e){var t=this;this.wrap((function(){var n=t.state.fatalErrorCallbacks.indexOf(e);-1!==n&&t.state.fatalErrorCallbacks.splice(n,1)}))},e.prototype.setAudioInputEnabled=function(e){var t,n;if(this.state.audioInput)try{for(var i=r(this.state.audioInput.getTracks()),o=i.next();!o.done;o=i.next()){var a=o.value;a.enabled!==e&&(a.enabled=e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.applyLocalMuteOverride=function(e,t){var n=this.state.localAttendeeId,r=this.state.muted;return e!==n||null===this.state.audioInput?t:r},e.prototype.sendVolumeIndicatorChange=function(e,t,n,i,a){var s,c;if(this.sendLocalSignalStrengthChange(e,i),this.state.volumeIndicatorCallbacks.hasOwnProperty(e)){var u=this.getVolumeIndicatorState(e),l=new o.default;if(t&&(l.volume=u.volume),n&&(l.muted=u.muted),i&&(l.signalStrength=u.signalStrength),!this.stateIsEmpty(l))try{for(var d=r(this.state.volumeIndicatorCallbacks[e]),f=d.next();!f.done;f=d.next()){(0,f.value)(e,l.volume,l.muted,l.signalStrength,a)}}catch(e){s={error:e}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(s)throw s.error}}}},e.prototype.sendLocalSignalStrengthChange=function(e,t){var n,i;if(t&&e===this.state.localAttendeeId){var o=this.getVolumeIndicatorState(e).signalStrength;if(null!==o)try{for(var a=r(this.state.localSignalStrengthChangeCallbacks),s=a.next();!s.done;s=a.next()){(0,s.value)(o)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}}},e.prototype.getVolumeIndicatorState=function(e){return this.state.volumeIndicatorState.hasOwnProperty(e)||(this.state.volumeIndicatorState[e]=new o.default),this.state.volumeIndicatorState[e]},e.prototype.stateIsEmpty=function(e){return null===e.volume&&null===e.muted&&null===e.signalStrength},e.prototype.wrap=function(e){var t,n;try{e()}catch(e){try{try{for(var i=r(this.state.fatalErrorCallbacks),o=i.next();!o.done;o=i.next()){(0,o.value)(e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}catch(t){try{console.error(e),console.error(t)}catch(e){}}}},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){this.localAttendeeId=null,this.localExternalUserId=null,this.attendeeIdChangesCallbacks=[],this.canUnmute=!0,this.setCanUnmuteLocalAudioCallbacks=[],this.muted=!1,this.muteAndUnmuteLocalAudioCallbacks=[],this.audioInput=null,this.volumeIndicatorState={},this.attendeeIdToExternalUserId={},this.volumeIndicatorCallbacks={},this.localSignalStrengthChangeCallbacks=[],this.fatalErrorCallbacks=[],this.sendDataMessageCallbacks=[],this.receiveDataMessageCallbacks=new Map};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){this.volume=null,this.muted=null,this.signalStrength=null};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(117),o=n(44),a=n(45),s=function(){function e(e){this.logger=e,this.currentState=o.SessionStateControllerState.NotConnected,this.deferredAction=null,this.deferredWork=null}return e.prototype.perform=function(e,t){var n=this.currentState;if(n===o.SessionStateControllerState.NotConnected&&e===r.SessionStateControllerAction.Connect)this.transition(o.SessionStateControllerState.Connecting,e);else if(n===o.SessionStateControllerState.Connecting&&e===r.SessionStateControllerAction.Fail)this.transition(o.SessionStateControllerState.Disconnecting,e);else if(n===o.SessionStateControllerState.Connecting&&e===r.SessionStateControllerAction.FinishConnecting)this.transition(o.SessionStateControllerState.Connected,e);else if(n===o.SessionStateControllerState.Connected&&e===r.SessionStateControllerAction.Disconnect)this.transition(o.SessionStateControllerState.Disconnecting,e);else if(n===o.SessionStateControllerState.Connected&&e===r.SessionStateControllerAction.Reconnect)this.transition(o.SessionStateControllerState.Connecting,e);else if(n===o.SessionStateControllerState.Connected&&e===r.SessionStateControllerAction.Fail)this.transition(o.SessionStateControllerState.Disconnecting,e);else if(n===o.SessionStateControllerState.Connected&&e===r.SessionStateControllerAction.Update)this.transition(o.SessionStateControllerState.Updating,e);else if(n===o.SessionStateControllerState.Updating&&e===r.SessionStateControllerAction.Fail)this.transition(o.SessionStateControllerState.Disconnecting,e);else if(n===o.SessionStateControllerState.Updating&&e===r.SessionStateControllerAction.FinishUpdating)this.transition(o.SessionStateControllerState.Connected,e);else{if(n!==o.SessionStateControllerState.Disconnecting||e!==r.SessionStateControllerAction.FinishDisconnecting)return this.canDefer(e)?(this.logger.info("deferring transition from "+o.SessionStateControllerState[this.currentState]+" with "+r.SessionStateControllerAction[e]),this.deferAction(e,t),a.SessionStateControllerTransitionResult.DeferredTransition):(this.logger.warn("no transition found from "+o.SessionStateControllerState[this.currentState]+" with "+r.SessionStateControllerAction[e]),a.SessionStateControllerTransitionResult.NoTransitionAvailable);this.transition(o.SessionStateControllerState.NotConnected,e)}try{t()}catch(t){return this.logger.error("error during state "+o.SessionStateControllerState[this.currentState]+" with action "+r.SessionStateControllerAction[e]+": "+t),this.logger.info("rolling back transition to "+o.SessionStateControllerState[n]),this.currentState=n,a.SessionStateControllerTransitionResult.TransitionFailed}return this.performDeferredAction(),a.SessionStateControllerTransitionResult.Transitioned},e.prototype.state=function(){return this.currentState},e.prototype.transition=function(e,t){this.logger.info("transitioning from "+o.SessionStateControllerState[this.currentState]+" to "+o.SessionStateControllerState[e]+" with "+r.SessionStateControllerAction[t]),this.currentState=e},e.prototype.deferPriority=function(e){switch(e){case r.SessionStateControllerAction.Disconnect:return i.SessionStateControllerDeferPriority.VeryHigh;case r.SessionStateControllerAction.Fail:return i.SessionStateControllerDeferPriority.High;case r.SessionStateControllerAction.Reconnect:return i.SessionStateControllerDeferPriority.Medium;case r.SessionStateControllerAction.Update:return i.SessionStateControllerDeferPriority.Low;default:return i.SessionStateControllerDeferPriority.DoNotDefer}},e.prototype.deferAction=function(e,t){null!==this.deferredAction&&this.deferPriority(this.deferredAction)>this.deferPriority(e)||(this.deferredAction=e,this.deferredWork=t)},e.prototype.canDefer=function(e){return this.deferPriority(e)!==i.SessionStateControllerDeferPriority.DoNotDefer&&(this.currentState===o.SessionStateControllerState.Connecting||this.currentState===o.SessionStateControllerState.Updating)},e.prototype.performDeferredAction=function(){if(this.deferredAction){var e=this.deferredAction,t=this.deferredWork;this.deferredAction=null,this.deferredWork=null,this.logger.info("performing deferred action "+r.SessionStateControllerAction[e]),this.perform(e,t)!==a.SessionStateControllerTransitionResult.Transitioned&&this.logger.info("unable to perform deferred action "+r.SessionStateControllerAction[e]+" in state "+o.SessionStateControllerState[this.currentState])}},e}();t.default=s},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerDeferPriority=void 0,function(e){e[e.DoNotDefer=0]="DoNotDefer",e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.High=3]="High",e[e.VeryHigh=4]="VeryHigh"}(r=t.SessionStateControllerDeferPriority||(t.SessionStateControllerDeferPriority={})),t.default=r},function(e,t,n){"use strict";(function(e){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(2),a=n(14),s=n(46),c=n(119),u=n(4),l=function(){function t(e,t){this.webSocket=e,this.logger=t,this.unloadHandler=null,this.observerQueue=new Set,this.connectionRequestQueue=[],this.resetConnection(),this.logger.debug((function(){return"signaling client init"})),this.audioSessionId=this.generateNewAudioSessionId()}return t.prototype.registerObserver=function(e){this.logger.debug((function(){return"registering signaling client observer"})),this.observerQueue.add(e)},t.prototype.removeObserver=function(e){this.logger.debug((function(){return"removing signaling client observer"})),this.observerQueue.delete(e)},t.prototype.openConnection=function(e){this.logger.info("adding connection request to queue: "+e.url()),this.connectionRequestQueue.push(e),this.closeConnection()},t.prototype.pingPong=function(e){this.logger.debug((function(){return"sending ping"}));var t=o.SdkSignalFrame.create();return t.type=o.SdkSignalFrame.Type.PING_PONG,t.pingPong=e,this.sendMessage(t),t.timestampMs},t.prototype.join=function(e){this.logger.info("sending join");var t=o.SdkJoinFrame.create();t.protocolVersion=2,t.maxNumOfVideos=e.maxVideos,t.flags=o.SdkJoinFlags.HAS_STREAM_UPDATE;var n=new i.default;n.hasChromiumWebRTC()&&(t.flags|=o.SdkJoinFlags.USE_SEND_SIDE_BWE),t.flags|=e.sendBitrates?o.SdkJoinFlags.SEND_BITRATES:0,t.clientDetails=o.SdkClientDetails.create({platformName:n.name(),platformVersion:n.version(),clientSource:a.default.sdkName,chimeSdkVersion:a.default.sdkVersion}),t.audioSessionId=this.audioSessionId;var r=o.SdkSignalFrame.create();r.type=o.SdkSignalFrame.Type.JOIN,r.join=t,this.sendMessage(r)},t.prototype.subscribe=function(e){var t=o.SdkSubscribeFrame.create();if(t.sendStreams=[],t.sdpOffer=e.sdpOffer,t.audioCheckin=e.audioCheckin,t.audioHost=e.audioHost,t.audioMuted=e.audioMuted,e.connectionTypeHasVideo&&(t.receiveStreamIds=e.receiveStreamIds),t.duplex=o.SdkStreamServiceType.RX,!e.audioCheckin){var n=o.SdkStreamDescriptor.create();n.mediaType=o.SdkStreamMediaType.AUDIO,n.trackLabel="AmazonChimeExpressAudio",n.attendeeId=e.attendeeId,n.streamId=1,n.groupId=1,n.framerate=15,n.maxBitrateKbps=600,n.avgBitrateBps=4e5,t.sendStreams.push(n)}if(e.localVideoEnabled){t.duplex=o.SdkStreamServiceType.DUPLEX;for(var r=0;r<e.videoStreamDescriptions.length;r++){var i=e.videoStreamDescriptions[r].clone();i.attendeeId=e.attendeeId,t.sendStreams.push(i.toStreamDescriptor())}}var a=o.SdkSignalFrame.create();a.type=o.SdkSignalFrame.Type.SUBSCRIBE,a.sub=t,this.sendMessage(a)},t.prototype.leave=function(){var e=o.SdkSignalFrame.create();e.type=o.SdkSignalFrame.Type.LEAVE,e.leave=o.SdkLeaveFrame.create(),this.sendMessage(e),this.logger.debug((function(){return"sent leave"}))},t.prototype.sendClientMetrics=function(e){var t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.CLIENT_METRIC,t.clientMetric=e,this.sendMessage(t)},t.prototype.sendDataMessage=function(e){var t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.DATA_MESSAGE,t.dataMessage=e,this.sendMessage(t)},t.prototype.closeConnection=function(){this.webSocket.readyState()!==s.default.None&&this.webSocket.readyState()!==s.default.Closed?(this.isClosing=!0,this.sendEvent(new c.default(this,u.default.WebSocketClosing,null)),this.webSocket.close(),this.deactivatePageUnloadHandler()):(this.logger.info("no existing connection needs closing"),this.serviceConnectionRequestQueue())},t.prototype.ready=function(){return this.webSocket.readyState()===s.default.Open&&!this.isClosing&&this.wasOpened},t.prototype.mute=function(e){var t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.AUDIO_CONTROL;var n=o.SdkAudioControlFrame.create();n.muted=e,t.audioControl=n,this.sendMessage(t)},t.prototype.pause=function(e){var t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.PAUSE,t.pause=o.SdkPauseResumeFrame.create(),t.pause.streamIds=e,this.sendMessage(t)},t.prototype.resume=function(e){var t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.RESUME,t.pause=o.SdkPauseResumeFrame.create(),t.pause.streamIds=e,this.sendMessage(t)},t.prototype.resetConnection=function(){this.webSocket.destroy(),this.wasOpened=!1},t.prototype.sendMessage=function(e){e.timestampMs=Date.now(),this.logger.debug((function(){return"sending: "+JSON.stringify(e)}));var t=this.prependWithFrameTypeRTC(o.SdkSignalFrame.encode(e).finish());if(this.ready()){if(!this.webSocket.send(t))return void this.sendEvent(new c.default(this,u.default.WebSocketSendMessageFailure,null));this.sendEvent(new c.default(this,u.default.WebSocketSentMessage,null))}else this.sendEvent(new c.default(this,u.default.WebSocketSkippedMessage,null))},t.prototype.receiveMessage=function(e){var t;try{t=o.SdkSignalFrame.decode(e)}catch(t){return this.logger.info("failed to decode: "+e),void this.sendEvent(new c.default(this,u.default.ProtocolDecodeFailure,null))}this.logger.debug((function(){return"received: "+JSON.stringify(t)})),this.webSocket.readyState()===s.default.Open?this.sendEvent(new c.default(this,u.default.ReceivedSignalFrame,t)):this.logger.info("skipping notification of message since WebSocket is not open: "+JSON.stringify(t))},t.prototype.stripFrameTypeRTC=function(e){var n=e[0];return n!==t.FRAME_TYPE_RTC&&2!==n&&this.logger.warn("expected FrameTypeRTC for message but got "+n),e.slice(1)},t.prototype.prependWithFrameTypeRTC=function(e){var n=new Uint8Array(e.length+1);return n[0]=t.FRAME_TYPE_RTC,n.set(e,1),n},t.prototype.serviceConnectionRequestQueue=function(){if(0!==this.connectionRequestQueue.length){var e=this.connectionRequestQueue.shift();this.logger.info("opening connection to "+e.url()),this.isClosing=!1,this.webSocket.create(e.url(),e.protocols()),this.setUpEventListeners(),this.sendEvent(new c.default(this,u.default.WebSocketConnecting,null))}else this.logger.info("no connection requests to service")},t.prototype.sendEvent=function(e){var t,n,i=this;switch(e.type){case u.default.WebSocketMessage:case u.default.ReceivedSignalFrame:case u.default.WebSocketSentMessage:this.logger.debug((function(){return"notifying event: "+u.default[e.type]}));break;case u.default.WebSocketSkippedMessage:this.logger.debug((function(){return"notifying event: "+u.default[e.type]+", websocket state="+s.default[i.webSocket.readyState()]}));break;default:this.logger.info("notifying event: "+u.default[e.type])}try{for(var o=r(this.observerQueue),a=o.next();!a.done;a=o.next()){a.value.handleSignalingClientEvent(e)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},t.prototype.setUpEventListeners=function(){var e=this;this.webSocket.addEventListener("open",(function(){e.activatePageUnloadHandler(),e.wasOpened=!0,e.sendEvent(new c.default(e,u.default.WebSocketOpen,null))})),this.webSocket.addEventListener("message",(function(t){e.sendEvent(new c.default(e,u.default.WebSocketMessage,null)),e.receiveMessage(e.stripFrameTypeRTC(new Uint8Array(t.data)))})),this.webSocket.addEventListener("close",(function(t){e.deactivatePageUnloadHandler(),e.resetConnection(),e.sendEvent(new c.default(e,u.default.WebSocketClosed,null,t.code,t.reason)),e.serviceConnectionRequestQueue()})),this.webSocket.addEventListener("error",(function(){!e.isClosing||e.wasOpened?e.wasOpened?(e.logger.error("received error while connected"),e.sendEvent(new c.default(e,u.default.WebSocketError,null))):(e.logger.error("failed to connect"),e.sendEvent(new c.default(e,u.default.WebSocketFailed,null))):e.logger.info("ignoring error closing signaling while connecting")}))},t.prototype.activatePageUnloadHandler=function(){var t=this;this.unloadHandler=function(){t.leave()};var n=e;n.window&&n.window.addEventListener&&window.addEventListener("unload",this.unloadHandler)},t.prototype.deactivatePageUnloadHandler=function(){var t=e;t.window&&t.window.addEventListener&&window.removeEventListener("unload",this.unloadHandler),this.unloadHandler=null},t.prototype.generateNewAudioSessionId=function(){var e=new Uint32Array(1);return window.crypto.getRandomValues(e)[0]},t.FRAME_TYPE_RTC=5,t}();t.default=l}).call(this,n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=function(){function e(e,t,n,r,i){this.client=e,this.type=t,this.message=n,this.closeCode=r,this.closeReason=i,this.timestampMs=Date.now()}return e.prototype.isConnectionTerminated=function(){switch(this.type){case r.default.WebSocketFailed:case r.default.WebSocketError:case r.default.WebSocketClosing:case r.default.WebSocketClosed:return!0;default:return!1}},e}();t.default=i},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(27),s=n(121),c=n(123),u=n(1),l=n(124),d=n(125),f=n(10),p=n(2),h=n(35),m=n(26),g=function(){function e(t,n,r,i){void 0===i&&(i=e.INTERVAL_MS),this.audioVideoController=t,this.logger=n,this.browserBehavior=r,this.interval=i,this.intervalScheduler=null,this.metricsAddTime=function(e,t,n){},this.metricsLogEvent=function(e,t){}}return e.prototype.toAttribute=function(e){return this.toSuffix(e).substring(1)},e.prototype.toSuffix=function(e){return e.toLowerCase()===e?"_"+e:e.toUpperCase()===e?"_"+e.toLowerCase():e.replace(/([A-Z][a-z]+)/g,(function(e){return"_"+e})).replace(/([A-Z][A-Z]+)/g,(function(e){return"_"+e})).toLowerCase()},e.prototype.logLatency=function(e,t,n){var r=this.toSuffix(e);this.logEventTime("meeting"+r,t,n)},e.prototype.logStateTimeout=function(e,t){var n=this.toSuffix(e);this.logEvent("meeting_session_state_timeout",r(r({},t),{state:"state"+n}))},e.prototype.logAudioEvent=function(e,t){var n="audio"+this.toSuffix(h.default[e]);this.logEvent(n,t)},e.prototype.logVideoEvent=function(e,t){var n="video"+this.toSuffix(m.default[e]);this.logEvent(n,t)},e.prototype.logEventTime=function(t,n,i){void 0===i&&(i={});var o=r(r({},i),{call_id:this.audioVideoController.configuration.meetingId,client_type:e.CLIENT_TYPE,metric_type:"latency"});this.logger.debug((function(){return"[DefaultStatsCollector] "+t+": "+JSON.stringify(o)})),this.metricsAddTime(t,n,o)},e.prototype.logMeetingSessionStatus=function(e){var t=""+e.statusCode();this.logEvent(t);var n={status:t,status_code:""+e.statusCode()};this.logEvent("meeting_session_status",n),e.isTerminal()&&this.logEvent("meeting_session_stopped",n),e.isAudioConnectionFailure()&&this.logEvent("meeting_session_audio_failed",n),e.isFailure()&&this.logEvent("meeting_session_failed",n)},e.prototype.logLifecycleEvent=function(e,t){var n={lifecycle_event:"lifecycle"+this.toSuffix(l.default[e]),lifecycle_event_code:""+e,lifecycle_event_condition:"condition"+this.toSuffix(d.default[t]),lifecycle_event_condition_code:""+t};this.logEvent("meeting_session_lifecycle",n)},e.prototype.logEvent=function(t,n){void 0===n&&(n={});var i=r(r({},n),{call_id:this.audioVideoController.configuration.meetingId,client_type:e.CLIENT_TYPE});this.logger.debug((function(){return"[DefaultStatsCollector] "+t+": "+JSON.stringify(i)})),this.metricsLogEvent(t,i)},e.prototype.start=function(e,t,n){var r=this;return!this.intervalScheduler&&(this.logger.info("Starting DefaultStatsCollector"),this.signalingClient=e,this.videoStreamIndex=t,this.clientMetricReport=n||new s.default(this.logger),this.intervalScheduler=new f.default(this.interval),this.intervalScheduler.start((function(){r.getStatsWrapper()})),!0)},e.prototype.stop=function(){this.logger.info("Stopping DefaultStatsCollector"),this.intervalScheduler&&this.intervalScheduler.stop(),this.intervalScheduler=null},e.prototype.updateMetricValues=function(e,t){var n,r=t?this.clientMetricReport.streamMetricReports[Number(e.ssrc)]:this.clientMetricReport.globalMetricReport;for(var i in n=t?this.clientMetricReport.getMetricMap(r.mediaType,r.direction):this.clientMetricReport.getMetricMap(),e)i in n&&(r.previousMetrics[i]=r.currentMetrics[i],r.currentMetrics[i]=e[i])},e.prototype.processRawMetricReports=function(e){var t,n;this.clientMetricReport.currentSsrcs={};var r=Date.now();try{for(var o=i(e),a=o.next();!a.done;a=o.next()){var s=a.value,u=this.isStreamRawMetricReport(s.type);if(u){if(!this.clientMetricReport.streamMetricReports[Number(s.ssrc)]){var l=new c.default;l.mediaType=this.getMediaType(s),l.direction=this.getDirectionType(s),this.videoStreamIndex.allStreams().empty()||(l.streamId=this.videoStreamIndex.streamIdForSSRC(Number(s.ssrc))),this.clientMetricReport.streamMetricReports[Number(s.ssrc)]=l}this.clientMetricReport.currentSsrcs[Number(s.ssrc)]=1}this.updateMetricValues(s,u)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}this.clientMetricReport.removeDestroyedSsrcs(),this.clientMetricReport.previousTimestampMs=this.clientMetricReport.currentTimestampMs,this.clientMetricReport.currentTimestampMs=r,this.clientMetricReport.print()},e.prototype.addMetricFrame=function(e,t,n,r){var i=n.type,o=n.transform,a=n.source,s=t.streamMetricFrames.length,c=t.streamMetricFrames[s-1];if(i){var u=p.SdkMetric.create();u.type=i,u.value=o(a||e,r),r?c.metrics.push(u):t.globalMetrics.push(u)}},e.prototype.addGlobalMetricsToProtobuf=function(e){var t=this.clientMetricReport.getMetricMap();for(var n in this.clientMetricReport.globalMetricReport.currentMetrics)this.addMetricFrame(n,e,t[n])},e.prototype.addStreamMetricsToProtobuf=function(e){for(var t in this.clientMetricReport.streamMetricReports){var n=this.clientMetricReport.streamMetricReports[t],r=p.SdkStreamMetricFrame.create();r.streamId=n.streamId,r.metrics=[],e.streamMetricFrames.push(r);var i=this.clientMetricReport.getMetricMap(n.mediaType,n.direction);for(var o in n.currentMetrics)this.addMetricFrame(o,e,i[o],Number(t))}},e.prototype.makeClientMetricProtobuf=function(){var e=p.SdkClientMetricFrame.create();return e.globalMetrics=[],e.streamMetricFrames=[],this.addGlobalMetricsToProtobuf(e),this.addStreamMetricsToProtobuf(e),e},e.prototype.sendClientMetricProtobuf=function(e){this.signalingClient.sendClientMetrics(e)},e.prototype.isStreamRawMetricReport=function(e){return"ssrc"===e||"inbound-rtp"===e||"outbound-rtp"===e},e.prototype.getMediaType=function(e){return"audio"===e.mediaType?a.default.AUDIO:a.default.VIDEO},e.prototype.getDirectionType=function(e){return-1!==e.id.toLowerCase().indexOf("send")||-1!==e.id.toLowerCase().indexOf("outbound")?o.default.UPSTREAM:o.default.DOWNSTREAM},e.prototype.isValidChromeRawMetric=function(e){return this.browserBehavior.hasChromiumWebRTC()&&("ssrc"===e.type||"VideoBwe"===e.type||"googCandidatePair"===e.type&&"true"===e.googWritable&&"true"===e.googReadable)},e.prototype.isValidStandardRawMetric=function(t){var n="inbound-rtp"===t.type||"outbound-rtp"===t.type||"candidate-pair"===t.type&&"succeeded"===t.state;return this.browserBehavior.hasFirefoxWebRTC()?-1===this.compareMajorVersion(e.FIREFOX_UPDATED_GET_STATS_VERSION)?n:n&&!1===t.isRemote:n},e.prototype.isValidSsrc=function(e){var t=!0;return this.isStreamRawMetricReport(e.type)&&this.getDirectionType(e)===o.default.DOWNSTREAM&&this.getMediaType(e)===a.default.VIDEO&&(t=this.videoStreamIndex.streamIdForSSRC(Number(e.ssrc))>0),t},e.prototype.isValidRawMetricReport=function(e){return(this.isValidChromeRawMetric(e)||this.isValidStandardRawMetric(e))&&this.isValidSsrc(e)},e.prototype.filterRawMetricReports=function(e){var t,n,r=[];try{for(var o=i(e),a=o.next();!a.done;a=o.next()){var s=a.value;this.isValidRawMetricReport(s)&&r.push(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},e.prototype.handleRawMetricReports=function(e){var t=this,n=this.filterRawMetricReports(e);this.logger.debug((function(){return"Filtered raw metrics : "+JSON.stringify(n)})),this.processRawMetricReports(n);var r=this.makeClientMetricProtobuf();this.sendClientMetricProtobuf(r),this.audioVideoController.forEachObserver((function(e){u.default.of(e.metricsDidReceive).map((function(n){return n.bind(e)(t.clientMetricReport.clone())}))}))},e.prototype.getStatsWrapper=function(){var e=this;if(this.audioVideoController.rtcPeerConnection){var t=[];this.browserBehavior.requiresPromiseBasedWebRTCGetStats()?this.audioVideoController.rtcPeerConnection.getStats().then((function(n){n.forEach((function(e){t.push(e)})),e.handleRawMetricReports(t)})).catch((function(t){e.logger.error(t.message)})):this.audioVideoController.rtcPeerConnection.getStats((function(n){n.result().forEach((function(e){var n={};e.names().forEach((function(t){n[t]=e.stat(t)})),n.id=e.id,n.type=e.type,n.timestamp=e.timestamp,t.push(n)})),e.handleRawMetricReports(t)}),(function(t){e.logger.error(t.message)}))}},e.prototype.compareMajorVersion=function(e){var t=parseInt(this.browserBehavior.version().split(".")[0]),n=parseInt(e.split(".")[0]);return n===t?0:n>t?1:-1},e.INTERVAL_MS=1e3,e.FIREFOX_UPDATED_GET_STATS_VERSION="66.0.0",e.CLIENT_TYPE="amazon-chime-sdk-js",e}();t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(18),o=n(27),a=n(122),s=function(){function e(e){var t=this;this.logger=e,this.globalMetricReport=new a.default,this.streamMetricReports={},this.currentTimestampMs=0,this.previousTimestampMs=0,this.currentSsrcs={},this.identityValue=function(e,n){var r=n?t.streamMetricReports[n]:t.globalMetricReport;return Number(r.currentMetrics[e])},this.decoderLossPercent=function(e,n){var r=n?t.streamMetricReports[n]:t.globalMetricReport,i=r.currentMetrics.googDecodingNormal-(r.previousMetrics.googDecodingNormal||0),o=r.currentMetrics.googDecodingCTN-(r.previousMetrics.googDecodingCTN||0);if(o<=0)return 0;var a=o-i;return a<=0?0:100*a/o},this.packetLossPercent=function(e,n){var r=n?t.streamMetricReports[n]:t.globalMetricReport,i=r.currentMetrics[e]-(r.previousMetrics[e]||0),o=r.currentMetrics.packetsLost-(r.previousMetrics.packetsLost||0),a=i+o;return a<=0||o<=0?0:100*o/a},this.countPerSecond=function(e,n){var r=n?t.streamMetricReports[n]:t.globalMetricReport,i=(t.currentTimestampMs-t.previousTimestampMs)/1e3;if(i<=0)return 0;t.previousTimestampMs<=0&&(i=1);var o=r.currentMetrics[e]-(r.previousMetrics[e]||0);return o<=0?0:Math.trunc(o/i)},this.bitsPerSecond=function(e,n){var r=n?t.streamMetricReports[n]:t.globalMetricReport,i=(t.currentTimestampMs-t.previousTimestampMs)/1e3;if(i<=0)return 0;t.previousTimestampMs<=0&&(i=1);var o=8*(r.currentMetrics[e]-(r.previousMetrics[e]||0));return o<=0?0:Math.trunc(o/i)},this.secondsToMilliseconds=function(e,n){var r=n?t.streamMetricReports[n]:t.globalMetricReport;return Number(1e3*r.currentMetrics[e])},this.globalMetricMap={googActualEncBitrate:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_ACTUAL_ENCODER_BITRATE},googAvailableSendBandwidth:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_AVAILABLE_SEND_BANDWIDTH},googRetransmitBitrate:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_RETRANSMIT_BITRATE},googAvailableReceiveBandwidth:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_AVAILABLE_RECEIVE_BANDWIDTH},googTargetEncBitrate:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_TARGET_ENCODER_BITRATE},googBucketDelay:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_BUCKET_DELAY_MS},googRtt:{transform:this.identityValue,type:r.SdkMetric.Type.STUN_RTT_MS},packetsDiscardedOnSend:{transform:this.countPerSecond,type:r.SdkMetric.Type.SOCKET_DISCARDED_PPS},availableIncomingBitrate:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_AVAILABLE_RECEIVE_BANDWIDTH},availableOutgoingBitrate:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_AVAILABLE_SEND_BANDWIDTH},currentRoundTripTime:{transform:this.identityValue,type:r.SdkMetric.Type.STUN_RTT_MS}},this.audioUpstreamMetricMap={googJitterReceived:{transform:this.identityValue,type:r.SdkMetric.Type.RTC_MIC_JITTER_MS},jitter:{transform:this.secondsToMilliseconds,type:r.SdkMetric.Type.RTC_MIC_JITTER_MS},packetsSent:{transform:this.countPerSecond,type:r.SdkMetric.Type.RTC_MIC_PPS},bytesSent:{transform:this.bitsPerSecond,type:r.SdkMetric.Type.RTC_MIC_BITRATE},googRtt:{transform:this.identityValue,type:r.SdkMetric.Type.RTC_MIC_RTT_MS},packetsLost:{transform:this.packetLossPercent,type:r.SdkMetric.Type.RTC_MIC_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"}},this.audioDownstreamMetricMap={packetsReceived:{transform:this.countPerSecond,type:r.SdkMetric.Type.RTC_SPK_PPS},packetsLost:{transform:this.packetLossPercent,type:r.SdkMetric.Type.RTC_SPK_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},googJitterReceived:{transform:this.identityValue,type:r.SdkMetric.Type.RTC_SPK_JITTER_MS},jitter:{transform:this.secondsToMilliseconds,type:r.SdkMetric.Type.RTC_SPK_JITTER_MS},googDecodingCTN:{transform:this.countPerSecond},googDecodingNormal:{transform:this.decoderLossPercent,type:r.SdkMetric.Type.RTC_SPK_FRACTION_DECODER_LOSS_PERCENT,source:"googDecodingCTN"},bytesReceived:{transform:this.bitsPerSecond,type:r.SdkMetric.Type.RTC_SPK_BITRATE},googCurrentDelayMs:{transform:this.identityValue,type:r.SdkMetric.Type.RTC_SPK_CURRENT_DELAY_MS},googJitterBufferMs:{transform:this.identityValue,type:r.SdkMetric.Type.RTC_SPK_JITTER_BUFFER_MS}},this.videoUpstreamMetricMap={googRtt:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_SENT_RTT_MS},googEncodeUsagePercent:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_ENCODE_USAGE_PERCENT},googNacksReceived:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_NACKS_RECEIVED},nackCount:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_NACKS_RECEIVED},googPlisReceived:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_PLIS_RECEIVED},pliCount:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_PLIS_RECEIVED},googFirsReceived:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_FIRS_RECEIVED},firCount:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_FIRS_RECEIVED},googAvgEncodeMs:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_AVERAGE_ENCODE_MS},googFrameRateInput:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_INPUT_FPS},framesEncoded:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_ENCODE_FPS},googFrameRateSent:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_SENT_FPS},framerateMean:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_SENT_FPS},packetsSent:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_SENT_PPS},packetsLost:{transform:this.packetLossPercent,type:r.SdkMetric.Type.VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"},bytesSent:{transform:this.bitsPerSecond,type:r.SdkMetric.Type.VIDEO_SENT_BITRATE},droppedFrames:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_DROPPED_FPS}},this.videoDownstreamMetricMap={googTargetDelayMs:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_TARGET_DELAY_MS},googDecodeMs:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_DECODE_MS},googFrameRateOutput:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_OUTPUT_FPS},packetsReceived:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_RECEIVED_PPS},packetsLost:{transform:this.packetLossPercent,type:r.SdkMetric.Type.VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},googRenderDelayMs:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_RENDER_DELAY_MS},googFrameRateReceived:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_RECEIVED_FPS},framerateMean:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_RECEIVED_FPS},framesDecoded:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_DECODE_FPS},googNacksSent:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_NACKS_SENT},nackCount:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_NACKS_SENT},googFirsSent:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_FIRS_SENT},firCount:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_FIRS_SENT},googPlisSent:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_PLIS_SENT},pliCount:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_PLIS_SENT},bytesReceived:{transform:this.bitsPerSecond,type:r.SdkMetric.Type.VIDEO_RECEIVED_BITRATE},googCurrentDelayMs:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_CURRENT_DELAY_MS},googJitterBufferMs:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_JITTER_BUFFER_MS},discardedPackets:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_DISCARDED_PPS},googJitterReceived:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_RECEIVED_JITTER_MS},jitter:{transform:this.secondsToMilliseconds,type:r.SdkMetric.Type.VIDEO_RECEIVED_JITTER_MS}},this.observableMetricSpec={audioPacketsReceived:{source:"packetsReceived",media:o.default.AUDIO,dir:i.default.DOWNSTREAM},audioPacketsReceivedFractionLoss:{source:"packetsLost",media:o.default.AUDIO,dir:i.default.DOWNSTREAM},audioDecoderLoss:{source:"googDecodingNormal",media:o.default.AUDIO,dir:i.default.DOWNSTREAM},videoUpstreamBitrate:{source:"bytesSent",media:o.default.VIDEO,dir:i.default.UPSTREAM},videoPacketSentPerSecond:{source:"packetsSent",media:o.default.VIDEO,dir:i.default.UPSTREAM},availableSendBandwidth:{source:"googAvailableSendBandwidth"},availableReceiveBandwidth:{source:"googAvailableReceiveBandwidth"},audioSpeakerDelayMs:{source:"googCurrentDelayMs",media:o.default.AUDIO,dir:i.default.DOWNSTREAM},availableIncomingBitrate:{source:"availableIncomingBitrate"},availableOutgoingBitrate:{source:"availableOutgoingBitrate"},nackCountReceivedPerSecond:{source:"nackCount",media:o.default.VIDEO,dir:i.default.UPSTREAM},googNackCountReceivedPerSecond:{source:"googNacksReceived",media:o.default.VIDEO,dir:i.default.UPSTREAM}}}return e.prototype.getMetricMap=function(e,t){switch(e){case o.default.AUDIO:switch(t){case i.default.UPSTREAM:return this.audioUpstreamMetricMap;case i.default.DOWNSTREAM:return this.audioDownstreamMetricMap}case o.default.VIDEO:switch(t){case i.default.UPSTREAM:return this.videoUpstreamMetricMap;case i.default.DOWNSTREAM:return this.videoDownstreamMetricMap}default:return this.globalMetricMap}},e.prototype.getObservableMetricValue=function(e){var t=this.observableMetricSpec[e],n=this.getMetricMap(t.media,t.dir)[t.source],r=n.transform,i=n.source;if(!t.hasOwnProperty("media"))return r(i||t.source);for(var o in this.streamMetricReports){var a=this.streamMetricReports[o];if(t.source in a.currentMetrics&&a.direction===t.dir&&a.mediaType===t.media)return r(i||t.source,Number(o))}return 0},e.prototype.getObservableMetrics=function(){var e={};for(var t in this.observableMetricSpec)e[t]=this.getObservableMetricValue(t);return e},e.prototype.clone=function(){var t=new e(this.logger);return t.globalMetricReport=this.globalMetricReport,t.streamMetricReports=this.streamMetricReports,t.currentTimestampMs=this.currentTimestampMs,t.previousTimestampMs=this.previousTimestampMs,t},e.prototype.print=function(){var e={globalMetricReport:this.globalMetricReport,streamMetricReports:this.streamMetricReports,currentTimestampMs:this.currentTimestampMs,previousTimestampMs:this.previousTimestampMs};this.logger.debug((function(){return"Client Metric Report: "+JSON.stringify(e)}))},e.prototype.removeDestroyedSsrcs=function(){for(var e in this.streamMetricReports)this.currentSsrcs[e]||delete this.streamMetricReports[e]},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){this.previousMetrics={},this.currentMetrics={}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){this.previousMetrics={},this.currentMetrics={}};t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingSessionLifecycleEvent=void 0,function(e){e[e.Connecting=0]="Connecting",e[e.Started=1]="Started",e[e.Stopped=2]="Stopped"}(r=t.MeetingSessionLifecycleEvent||(t.MeetingSessionLifecycleEvent={})),t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingSessionLifecycleEventCondition=void 0,function(e){e[e.ConnectingNew=0]="ConnectingNew",e[e.ReconnectingExisting=1]="ReconnectingExisting",e[e.StartedNew=2]="StartedNew",e[e.StartedExisting=3]="StartedExisting",e[e.StartedAfterReconnect=4]="StartedAfterReconnect",e[e.StoppedCleanly=5]="StoppedCleanly",e[e.StoppedWithFailure=6]="StoppedWithFailure"}(r=t.MeetingSessionLifecycleEventCondition||(t.MeetingSessionLifecycleEventCondition={})),t.default=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),c=n(20),u=function(e){function t(n,r){void 0===r&&(r=t.CHROME_VPN_TIMEOUT_MS);var i=e.call(this,n.logger)||this;return i.context=n,i.chromeVpnTimeoutMs=r,i.taskName="FinishGatheringICECandidatesTask",i}return i(t,e),t.prototype.removeEventListener=function(){this.context.peer&&(this.context.peer.removeEventListener("icecandidate",this.context.iceCandidateHandler),this.context.turnCredentials||this.context.peer.removeEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler))},t.prototype.cancel=function(){var e=new Error("canceling "+this.name());this.context.browserBehavior.requiresIceCandidateGatheringTimeoutWorkaround()&&(this.chromeVpnTimeoutMs<this.context.meetingSessionConfiguration.connectionTimeoutMs&&Date.now()-this.startTimestampMs>this.chromeVpnTimeoutMs&&(e=new Error("canceling "+this.name()+" due to the meeting status code: "+s.default.ICEGatheringTimeoutWorkaround)));this.cancelPromise&&this.cancelPromise(e)},t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e=this;return a(this,(function(t){switch(t.label){case 0:if(this.context.peer||this.logAndThrow("session does not have peer connection; bypass ice gathering"),this.context.browserBehavior.requiresCheckForSdpConnectionAttributes()){if(new c.default(this.context.peer.localDescription.sdp).hasCandidatesForAllMLines())return this.context.logger.info("ice gathering already complete; bypass gathering, current local description "+this.context.peer.localDescription.sdp),[2]}else this.context.logger.info("iOS device does not require checking for connection attributes in SDP, current local description "+this.context.peer.localDescription.sdp);return(this.context.browserBehavior.hasFirefoxWebRTC()||"complete"===this.context.peer.iceGatheringState)&&new c.default(this.context.peer.localDescription.sdp).hasCandidates()?(this.context.logger.info("ice gathering state is complete and candidates are in SDP; bypass gathering"),[2]):[4,new Promise((function(t,n){e.cancelPromise=function(t){e.removeEventListener(),n(t)},e.context.turnCredentials||(e.context.iceGatheringStateEventHandler=function(){if("complete"===e.context.peer.iceGatheringState)return e.removeEventListener(),void t()},e.context.peer.addEventListener("icegatheringstatechange",e.context.iceGatheringStateEventHandler)),e.context.iceCandidateHandler=function(r){if(e.context.logger.info("ice candidate: "+(r.candidate?r.candidate.candidate:"(null)")+" state: "+e.context.peer.iceGatheringState),r.candidate&&(c.default.isRTPCandidate(r.candidate.candidate)&&e.context.iceCandidates.push(r.candidate),e.context.turnCredentials&&e.context.iceCandidates.length>=1))return e.context.logger.info("gathered at least one relay candidate"),e.removeEventListener(),void t();"complete"===e.context.peer.iceGatheringState&&(e.context.logger.info("done gathering ice candidates"),e.removeEventListener(),new c.default(e.context.peer.localDescription.sdp).hasCandidates()&&0!==e.context.iceCandidates.length?t():n(new Error("no ice candidates were gathered")))},e.context.peer.addEventListener("icecandidate",e.context.iceCandidateHandler),e.startTimestampMs=Date.now()}))];case 1:return t.sent(),[2]}}))}))},t.CHROME_VPN_TIMEOUT_MS=5e3,t}(n(0).default);t.default=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(29),c=n(6),u=n(47),l=n(4),d=n(128),f=n(2),p=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="JoinAndReceiveIndexTask",n.taskCanceler=null,n.maxVideos=16,n}return i(t,e),t.prototype.cancel=function(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)},t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e,t=this;return a(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(e,n){var r=t.context;r.turnCredentials=null;var i=new(function(){function t(e){this.signalingClient=e}return t.prototype.cancel=function(){this.signalingClient.removeObserver(this),n(new Error("JoinAndReceiveIndexTask got canceled while waiting for SdkIndexFrame"))},t.prototype.handleSignalingClientEvent=function(t){if(t.type===l.default.WebSocketClosed){r.logger.warn("signaling connection closed by server with code "+t.closeCode+" and reason: "+t.closeReason);var n=c.default.SignalingBadRequest;return 4410===t.closeCode?(r.logger.warn("the meeting cannot be joined because it is has been ended"),n=c.default.MeetingEnded):t.closeCode>=4500&&t.closeCode<4600&&(n=c.default.SignalingInternalServerError),void r.audioVideoController.handleMeetingSessionStatus(new s.default(n),null)}if(t.type===l.default.ReceivedSignalFrame)if(t.message.type!==f.SdkSignalFrame.Type.JOIN_ACK){if(t.message.type===f.SdkSignalFrame.Type.INDEX){this.signalingClient.removeObserver(this);var i=t.message.index;e(i)}}else{var o=t.message.joinack;o&&o.turnCredentials?(r.turnCredentials=new u.default,r.turnCredentials.username=o.turnCredentials.username,r.turnCredentials.password=o.turnCredentials.password,r.turnCredentials.ttl=o.turnCredentials.ttl,r.turnCredentials.uris=o.turnCredentials.uris.map((function(e){return r.meetingSessionConfiguration.urls.urlRewriter(e)})).filter((function(e){return!!e}))):r.logger.error("missing TURN credentials in JoinAckFrame")}},t}())(t.context.signalingClient);t.context.signalingClient.registerObserver(i),t.taskCanceler=i,t.context.signalingClient.join(new d.default(t.maxVideos,!0))}))];case 1:return e=n.sent(),this.context.logger.info("received first index "+JSON.stringify(e)),this.context.indexFrame=e,[2]}}))}))},t}(n(0).default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){this.maxVideos=e,this.sendBitrates=t};t.default=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),c=n(2),u=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="LeaveAndReceiveLeaveAckTask",n.taskCanceler=null,n}return i(t,e),t.prototype.cancel=function(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)},t.prototype.run=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return this.context.signalingClient.ready()?(this.context.signalingClient.leave(),this.context.logger.info("sent leave"),[4,this.receiveLeaveAck()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.receiveLeaveAck=function(){var e=this;return new Promise((function(t,n){var r=new(function(){function e(e,t){this.signalingClient=e,this.logger=t}return e.prototype.cancel=function(){this.signalingClient.removeObserver(this),n(new Error("LeaveAndReceiveLeaveAckTask got canceled while waiting for IndexFrame"))},e.prototype.handleSignalingClientEvent=function(e){if(e.isConnectionTerminated())return this.signalingClient.removeObserver(this),this.logger.info("LeaveAndReceiveLeaveAckTask connection terminated"),void t();e.type===s.default.ReceivedSignalFrame&&e.message.type===c.SdkSignalFrame.Type.LEAVE_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("got leave ack"),t())},e}())(e.context.signalingClient,e.context.logger);e.taskCanceler=r,e.context.signalingClient.registerObserver(r)}))},t}(n(0).default);t.default=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),c=n(2),u=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="ListenForVolumeIndicatorsTask",n.realtimeMuteAndUnmuteHandler=function(e){n.context.signalingClient.mute(e)},n}return i(t,e),t.prototype.run=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){return this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler),[2]}))}))},t.prototype.removeObserver=function(){this.context.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler),this.context.signalingClient.removeObserver(this)},t.prototype.handleSignalingClientEvent=function(e){if(e.type===s.default.ReceivedSignalFrame)if(e.message.type===c.SdkSignalFrame.Type.AUDIO_STREAM_ID_INFO){var t=e.message.audioStreamIdInfo;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioStreamIdInfo(t)}else if(e.message.type===c.SdkSignalFrame.Type.AUDIO_METADATA){var n=e.message.audioMetadata;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioMetadata(n)}},t}(n(0).default);t.default=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var u=n(18),l=n(27),d=n(90),f=n(132),p=n(133),h=n(1),m=n(29),g=n(6),b=n(4),v=n(35),y=n(26),S=function(e){function t(t,n,r){var i=e.call(this,t.logger)||this;return i.context=t,i.initialConnectionHealthData=r,i.taskName="MonitorTask",i.prevSignalStrength=1,i.currentVideoDownlinkBandwidthEstimationKbps=1e4,i.currentAvailableStreamAvgBitrates=null,i.hasSignalingError=!1,i.checkAndSendWeakSignalEvent=function(e){var t=e<1,n=i.prevSignalStrength<1,r=t?n?null:v.default.RedmicStartLoss:n?v.default.RedmicEndLoss:null;r&&i.context.statsCollector.logAudioEvent(r),i.prevSignalStrength=e},i.realtimeFatalErrorCallback=function(e){i.logger.error("realtime error: "+e+": "+e.stack),i.context.audioVideoController.handleMeetingSessionStatus(new m.default(g.default.RealtimeApiFailed),e)},i.reconnectionHealthPolicy=new f.default(t.logger,o({},n),i.initialConnectionHealthData.clone()),i.unusableAudioWarningHealthPolicy=new p.default(o({},n),i.initialConnectionHealthData.clone()),i}return i(t,e),t.prototype.removeObserver=function(){this.context.audioVideoController.removeObserver(this),this.context.realtimeController.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.signalingClient.removeObserver(this)},t.prototype.run=function(){return a(this,void 0,void 0,(function(){return s(this,(function(e){return this.context.removableObservers.push(this),this.context.audioVideoController.addObserver(this),this.context.realtimeController.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.connectionMonitor.start(),this.context.statsCollector.start(this.context.signalingClient,this.context.videoStreamIndex),this.context.signalingClient.registerObserver(this),[2]}))}))},t.prototype.videoTileDidUpdate=function(e){this.context.maxVideoTileCount=Math.max(this.context.maxVideoTileCount,this.context.videoTileController.getAllVideoTiles().length)},t.prototype.videoSendHealthDidChange=function(e,n){if(0!==this.context.videoInputAttachedTimestampMs&&this.context.videoTileController.hasStartedLocalVideoTile()&&this.context.lastKnownVideoAvailability.canStartLocalVideo){var r=null!==this.context.activeVideoInput?this.context.activeVideoInput.getTracks():null;if(r&&r[0]){var i=Date.now()-this.context.videoInputAttachedTimestampMs;n>0||e>0?(this.context.statsCollector.logVideoEvent(y.default.SendingSuccess,this.context.videoDeviceInformation),this.context.statsCollector.logLatency("video_start_sending",i,this.context.videoDeviceInformation),this.context.videoInputAttachedTimestampMs=0):i>t.DEFAULT_TIMEOUT_FOR_START_SENDING_VIDEO_MS&&(this.context.statsCollector.logVideoEvent(y.default.SendingFailed,this.context.videoDeviceInformation),this.context.videoInputAttachedTimestampMs=0)}}},t.prototype.videoReceiveBandwidthDidChange=function(e,t){this.logger.debug((function(){return"receiving bandwidth changed from prev="+t+" Kbps to curr="+e+" Kbps"})),this.currentVideoDownlinkBandwidthEstimationKbps=e},t.prototype.checkResubscribe=function(e){var t=e.getObservableMetrics();if(!t)return!1;var n=t.availableSendBandwidth||t.availableOutgoingBitrate,r=t.nackCountReceivedPerSecond||t.googNackCountReceivedPerSecond,i=!1;this.context.videoDownlinkBandwidthPolicy.updateMetrics(e);var o=this.context.videoDownlinkBandwidthPolicy.wantsResubscribe();if(i=i||o,o&&(this.context.videosToReceive=this.context.videoDownlinkBandwidthPolicy.chooseSubscriptions(),this.logger.info("trigger resubscribe for down="+o+"; videosToReceive=["+this.context.videosToReceive.array()+"]")),this.context.videoTileController.hasStartedLocalVideoTile()){this.context.videoUplinkBandwidthPolicy.updateConnectionMetric({uplinkKbps:n/1e3,nackCountPerSecond:r});var a=this.context.videoUplinkBandwidthPolicy.wantsResubscribe();i=i||a,a&&(this.logger.info("trigger resubscribe for up="+a+"; videosToReceive=["+this.context.videosToReceive.array()+"]"),this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters(),this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints())}return i},t.prototype.metricsDidReceive=function(e){var n,r,i=e;if(i&&(this.checkResubscribe(e)&&this.context.audioVideoController.update(),this.currentAvailableStreamAvgBitrates)){var o=i.streamMetricReports;if(o){var a=new Map,s=new Map;for(var f in o)o[f].mediaType===l.default.VIDEO&&o[f].direction===u.default.DOWNSTREAM&&a.set(o[f].streamId,o[f]);var p=!1;try{for(var m=c(this.currentAvailableStreamAvgBitrates.bitrates),g=m.next();!g.done;g=m.next()){var b=g.value;if(a.has(b.sourceStreamId)){var v=a.get(b.sourceStreamId),y=this.context.videoStreamIndex.attendeeIdForStreamId(b.sourceStreamId);if(!y)continue;var S=new d.default,w=v.previousMetrics.bytesReceived,E=v.currentMetrics.bytesReceived;if(!w||!E)continue;var C=8*(E-w)/1e3;S.expectedAverageBitrateKbps=b.avgBitrateBps/1e3,S.receivedAverageBitrateKbps=C,S.attendeeId=y,C<b.avgBitrateBps/1e3*t.DEFAULT_DOWNLINK_CALLRATE_UNDERSHOOT_FACTOR&&(p=!0),s.set(y,S)}}}catch(e){n={error:e}}finally{try{g&&!g.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}p&&(this.logger.debug((function(){return"Downlink video streams are not receiving enough data"})),this.context.audioVideoController.forEachObserver((function(e){h.default.of(e.videoNotReceivingEnoughData).map((function(t){return t.bind(e)(Array.from(s.values()))}))})))}}},t.prototype.connectionHealthDidChange=function(e){var t;0===e.consecutiveMissedPongs&&this.context.reconnectController&&this.context.reconnectController.setLastActiveTimestampMs(Date.now()),this.reconnectionHealthPolicy.update(e);var n=this.reconnectionHealthPolicy.healthIfChanged();null!==n&&(this.logger.info("reconnection health is now: "+n),0===n&&this.context.audioVideoController.handleMeetingSessionStatus(new m.default(g.default.ConnectionHealthReconnect),null)),this.unusableAudioWarningHealthPolicy.update(e);var r=this.unusableAudioWarningHealthPolicy.healthIfChanged();null!==r&&(this.logger.info("unusable audio warning is now: "+r),0===r?(this.context.poorConnectionCount+=1,null===(t=this.context.eventController)||void 0===t||t.pushMeetingState("receivingAudioDropped"),this.context.videoTileController.haveVideoTilesWithStreams()?this.context.audioVideoController.forEachObserver((function(e){h.default.of(e.connectionDidSuggestStopVideo).map((function(t){return t.bind(e)()}))})):this.context.audioVideoController.forEachObserver((function(e){h.default.of(e.connectionDidBecomePoor).map((function(t){return t.bind(e)()}))}))):this.context.audioVideoController.forEachObserver((function(e){h.default.of(e.connectionDidBecomeGood).map((function(t){return t.bind(e)()}))})))},t.prototype.handleBitrateFrame=function(e){var n,r,i=this,o=this.context.videoSubscriptions||[],a=0;this.currentAvailableStreamAvgBitrates=e,this.logger.debug((function(){return"simulcast: bitrates from server "+JSON.stringify(e)}));try{for(var s=c(e.bitrates),u=s.next();!u.done;u=s.next()){var l=u.value;-1!==o.indexOf(l.sourceStreamId)&&(a+=l.avgBitrateBps)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}a/=1e3,this.currentVideoDownlinkBandwidthEstimationKbps*t.DEFAULT_DOWNLINK_CALLRATE_OVERSHOOT_FACTOR<a&&(this.logger.info("Downlink bandwidth pressure is high: estimated bandwidth "+this.currentVideoDownlinkBandwidthEstimationKbps+"Kbps, required bandwidth "+a+"Kbps"),this.context.audioVideoController.forEachObserver((function(e){h.default.of(e.estimatedDownlinkBandwidthLessThanRequired).map((function(t){return t.bind(e)(i.currentVideoDownlinkBandwidthEstimationKbps,a)}))})))},t.prototype.handleSignalingClientEvent=function(e){var t;if(e.type===b.default.WebSocketClosed&&(4410===e.closeCode||e.closeCode>=4500&&e.closeCode<4600)||e.type===b.default.WebSocketError||e.type===b.default.WebSocketFailed?this.hasSignalingError||(null===(t=this.context.eventController)||void 0===t||t.pushMeetingState("signalingDropped"),this.hasSignalingError=!0):e.type===b.default.WebSocketOpen&&(this.hasSignalingError=!1),e.type===b.default.ReceivedSignalFrame){if(e.message.bitrates){var n=e.message.bitrates;this.context.videoStreamIndex.integrateBitratesFrame(n),this.context.videoDownlinkBandwidthPolicy.updateIndex(this.context.videoStreamIndex),this.handleBitrateFrame(e.message.bitrates)}var r=m.default.fromSignalFrame(e.message);r.statusCode()!==g.default.OK&&this.context.audioVideoController.handleMeetingSessionStatus(r,null)}},t.DEFAULT_TIMEOUT_FOR_START_SENDING_VIDEO_MS=3e4,t.DEFAULT_DOWNLINK_CALLRATE_OVERSHOOT_FACTOR=1.5,t.DEFAULT_DOWNLINK_CALLRATE_UNDERSHOOT_FACTOR=.5,t}(n(0).default);t.default=S},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(n,r,i){var o=e.call(this,r,i)||this;return o.logger=n,o.audioDelayPointsOverMaximum=0,t.CONNECTION_UNHEALTHY_THRESHOLD=r.connectionUnhealthyThreshold,t.CONNECTION_WAIT_TIME_MS=r.connectionWaitTimeMs,t.MISSED_PONGS_THRESHOLD=r.missedPongsUpperThreshold,t.MAXIMUM_AUDIO_DELAY_MS=r.maximumAudioDelayMs,t.MAXIMUM_AUDIO_DELAY_DATA_POINTS=r.maximumAudioDelayDataPoints,o}return i(t,e),t.prototype.health=function(){if(this.currentData.isConnectionStartRecent(t.CONNECTION_WAIT_TIME_MS))return 1;var e=this.currentData.consecutiveStatsWithNoPackets>=t.CONNECTION_UNHEALTHY_THRESHOLD,n=this.currentData.consecutiveMissedPongs>=t.MISSED_PONGS_THRESHOLD;this.currentData.audioSpeakerDelayMs>t.MAXIMUM_AUDIO_DELAY_MS?this.audioDelayPointsOverMaximum+=1:this.audioDelayPointsOverMaximum=0;var r=this.audioDelayPointsOverMaximum>t.MAXIMUM_AUDIO_DELAY_DATA_POINTS;return r&&(this.audioDelayPointsOverMaximum=0),e||n||r?(this.logger.warn("reconnection recommended due to: no packets received: "+e+", missed pongs: "+n+", bad audio delay: "+r),0):1},t}(n(36).default);t.default=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.coolDownTimeMs=t.cooldownTimeMs,r.pastSamplesToConsider=t.pastSamplesToConsider,r.fractionalLoss=t.fractionalLoss,r.packetsExpected=t.packetsExpected,r.maximumTimesToWarn=t.maximumTimesToWarn,r.lastWarnTimestampMs=0,r.warnCount=0,r}return i(t,e),t.prototype.calculateFractionalLoss=function(){if(this.currentData.packetsReceivedInLastMinute.length<this.pastSamplesToConsider)return 0;for(var e=this.pastSamplesToConsider,t=e*this.packetsExpected,n=0,r=0;r<e;r++)n+=this.currentData.packetsReceivedInLastMinute[r];return Math.min(Math.max(1-n/t,0),1)},t.prototype.health=function(){return Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs?this.currentHealth:this.calculateFractionalLoss()>=this.fractionalLoss?0!==this.currentHealth&&(this.lastWarnTimestampMs=Date.now(),this.warnCount++,this.warnCount>this.maximumTimesToWarn)?1:0:1},t}(n(36).default);t.default=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(135),c=n(4),u=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="OpenSignalingConnectionTask",n.taskCanceler=null,n}return i(t,e),t.prototype.cancel=function(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)},t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e,t,n=this;return a(this,(function(r){switch(r.label){case 0:e=this.context.meetingSessionConfiguration,this.context.signalingClient.openConnection(new s.default(e.urls.signalingURL,e.credentials.joinToken)),t=Date.now(),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,new Promise((function(e,t){var r=new(function(){function n(e){this.signalingClient=e}return n.prototype.cancel=function(){this.signalingClient.removeObserver(this),t(new Error("OpenSignalingConnectionTask got canceled while waiting to open signaling connection"))},n.prototype.handleSignalingClientEvent=function(n){switch(n.type){case c.default.WebSocketOpen:this.signalingClient.removeObserver(this),e();break;case c.default.WebSocketFailed:this.signalingClient.removeObserver(this),t(new Error("WebSocket connection failed"))}},n}())(n.context.signalingClient);n.context.signalingClient.registerObserver(r),n.taskCanceler=r}))];case 2:return r.sent(),[3,5];case 3:throw r.sent();case 4:return this.context.signalingOpenDurationMs=Math.round(Date.now()-t),[7];case 5:return[2]}}))}))},t}(n(0).default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.signalingURL=e,this.joinToken=t}return e.prototype.url=function(){return this.signalingURL+"?X-Chime-Control-Protocol-Version=3&X-Amzn-Chime-Send-Close-On-Error=1"},e.prototype.protocols=function(){return["_aws_wt_session",this.joinToken]},e}();t.default=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t,n,r){var i,o,a=e.call(this,t)||this;a.taskName=n,a.tasksToRunParallel=r;try{for(var c=s(r),u=c.next();!u.done;u=c.next()){u.value.setParent(a)}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return a}return i(t,e),t.prototype.cancel=function(){var e,t;try{for(var n=s(this.tasksToRunParallel),r=n.next();!r.done;r=n.next()){var i=r.value;this.logger.info("canceling parallel group task "+this.name()+" subtask "+i.name()),i.cancel()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i,o,c,u,l,d;return a(this,(function(a){switch(a.label){case 0:e=[];try{for(t=s(this.tasksToRunParallel),n=t.next();!n.done;n=t.next())r=n.value,this.logger.info("parallel group task "+this.name()+" running subtask "+r.name()),e.push(r.run())}catch(e){l={error:e}}finally{try{n&&!n.done&&(d=t.return)&&d.call(t)}finally{if(l)throw l.error}}i=[],o=0,a.label=1;case 1:if(!(o<e.length))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,e[o]];case 3:return a.sent(),[3,5];case 4:return c=a.sent(),i.push("task "+this.tasksToRunParallel[o].name()+" failed: "+c.message),[3,5];case 5:this.logger.info("parallel group task "+this.name()+" completed subtask "+this.tasksToRunParallel[o].name()),a.label=6;case 6:return o++,[3,1];case 7:return i.length>0&&(u=i.join(", "),this.logAndThrow("parallel group task "+this.name()+" failed for tasks: "+u)),this.logger.info("parallel group task "+this.name()+" completed"),[2]}}))}))},t}(n(0).default);t.default=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="ReceiveAudioInputTask",n}return i(t,e),t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e,t,n,r;return a(this,(function(i){switch(i.label){case 0:if(this.context.activeAudioInput)return this.context.logger.info("an active audio input exists"),[2];e=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.context.mediaStreamBroker.acquireAudioInputStream()];case 2:return e=i.sent(),[3,4];case 3:return i.sent(),this.context.logger.warn("could not acquire audio input from current device"),[3,4];case 4:if(e)for(this.context.activeAudioInput=e,this.context.realtimeController.realtimeSetLocalAudioInput(e),t=e.getAudioTracks(),n=0;n<t.length;n++)r=t[n],this.logger.info("using audio device label="+r.label+" id="+r.id),this.context.audioDeviceInformation.current_mic_name=r.label,this.context.audioDeviceInformation.current_mic_id=r.id,this.context.audioDeviceInformation.is_default_input_device=-1!==r.label.indexOf("Default")||-1!==r.label.indexOf("default")?"true":"false";else this.context.logger.warn("an audio input is not available");return[2]}}))}))},t}(n(0).default);t.default=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),c=n(47),u=n(19),l=n(14),d=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="ReceiveTURNCredentialsTask",n.url=t.meetingSessionConfiguration.urls.turnControlURL,n.meetingId=t.meetingSessionConfiguration.meetingId,n.joinToken=t.meetingSessionConfiguration.credentials.joinToken,n}return i(t,e),t.prototype.cancel=function(){var e=new Error("canceling "+this.name());this.cancelPromise&&this.cancelPromise(e)},t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e,t,n=this;return a(this,(function(r){switch(r.label){case 0:return this.context.turnCredentials?(this.context.logger.info("TURN credentials available, skipping credentials fetch"),[2]):(this.context.logger.error("missing TURN credentials - falling back to fetch"),this.url?(e={method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json","X-Chime-Auth-Token":"_aws_wt_session="+new u.default(this.joinToken).base()},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({meetingId:this.meetingId})},this.context.logger.info("requesting TURN credentials from "+this.url),[4,new Promise((function(t,r){return o(n,void 0,void 0,(function(){var n,i,o;return a(this,(function(a){switch(a.label){case 0:this.cancelPromise=function(e){r(e)},a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch(l.default.urlWithVersion(this.url),e)];case 2:return n=a.sent(),this.context.logger.info("received TURN credentials"),n.status&&403===n.status&&r(new Error("canceling "+this.name()+" due to the meeting status code: "+s.default.TURNCredentialsForbidden)),n.status&&404===n.status&&r(new Error("canceling "+this.name()+" due to the meeting status code: "+s.default.MeetingEnded)),i=t,[4,n.json()];case 3:return i.apply(void 0,[a.sent()]),[3,5];case 4:return o=a.sent(),r(o),[3,5];case 5:return[2]}}))}))}))]):(this.context.logger.info("TURN control url not supplied, skipping credentials fetch"),[2]));case 1:return t=r.sent(),this.context.turnCredentials=new c.default,this.context.turnCredentials.password=t.password,this.context.turnCredentials.ttl=t.ttl,this.context.turnCredentials.uris=t.uris.map((function(e){return n.context.meetingSessionConfiguration.urls.urlRewriter(e)})).filter((function(e){return!!e})),this.context.turnCredentials.username=t.username,[2]}}))}))},t}(n(0).default);t.default=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),c=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="ReceiveVideoInputTask",n}return i(t,e),t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i,o,c,u,l,d,f;return a(this,(function(a){switch(a.label){case 0:if(e=this.context.videoDuplexMode===s.SdkStreamServiceType.RX||this.context.videoDuplexMode===s.SdkStreamServiceType.DUPLEX,this.context.videoTileController.hasStartedLocalVideoTile()?this.context.videoDuplexMode=e?s.SdkStreamServiceType.DUPLEX:s.SdkStreamServiceType.TX:this.context.videoDuplexMode=e?s.SdkStreamServiceType.RX:0,this.context.videoCaptureAndEncodeParameter=this.context.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters(),!this.context.videoTileController.hasStartedLocalVideoTile())return this.context.logger.info("a video input is not enabled"),this.context.activeVideoInput&&this.stopVideoInput(),[2];t=this.context.videoTileController.getLocalVideoTile(),n=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.context.mediaStreamBroker.acquireVideoInputStream()];case 2:return n=a.sent(),[3,4];case 3:return a.sent(),this.context.logger.warn("could not acquire video input from current device"),[3,4];case 4:if(this.context.enableSimulcast&&(r=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters(),this.context.videoStreamIndex.integrateUplinkPolicyDecision(Array.from(r.values()))),this.context.activeVideoInput=n,!n)return[3,9];if(i=n.getVideoTracks(),o=this.context.meetingSessionConfiguration.credentials.attendeeId,c=i[0].getSettings(),!this.context.enableSimulcast)return[3,8];u=this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints(),this.context.logger.info("simulcast: choose constraint "+JSON.stringify(u)),a.label=5;case 5:return a.trys.push([5,7,,8]),[4,i[0].applyConstraints(u)];case 6:return a.sent(),[3,8];case 7:return a.sent(),this.context.logger.info("simulcast: pass video without more constraint"),[3,8];case 8:for(l=this.context.audioVideoController.configuration.credentials.externalUserId,t.bindVideoStream(o,!0,n,c.width,c.height,null,l),d=0;d<i.length;d++)f=i[d],this.logger.info("using video device label="+f.label+" id="+f.id),this.context.videoDeviceInformation.current_camera_name=f.label,this.context.videoDeviceInformation.current_camera_id=f.id;a.label=9;case 9:return[2]}}))}))},t.prototype.stopVideoInput=function(){this.context.mediaStreamBroker.releaseMediaStream(this.context.activeVideoInput),this.context.activeVideoInput=null},t}(n(0).default);t.default=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},c=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),d=n(42),f=n(19),p=n(4),h=n(2),m=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="ReceiveVideoStreamIndexTask",n}return i(t,e),t.prototype.removeObserver=function(){this.context.signalingClient.removeObserver(this)},t.prototype.run=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){return this.handleIndexFrame(this.context.indexFrame),this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this),[2]}))}))},t.prototype.handleSignalingClientEvent=function(e){if(e.type===p.default.ReceivedSignalFrame&&e.message.type===h.SdkSignalFrame.Type.INDEX){var t=e.message.index;this.context.logger.info("received new index "+JSON.stringify(t)),this.handleIndexFrame(t)}},t.prototype.handleIndexFrame=function(e){if(e){var t=this.context.audioVideoController.configuration.credentials.attendeeId;e.sources=e.sources.filter((function(e){var n=new f.default(e.attendeeId);return!(n.base()===t&&n.hasModality(f.default.MODALITY_CONTENT))}));var n=this.context,r=n.videoStreamIndex,i=n.videoDownlinkBandwidthPolicy,o=n.videoUplinkBandwidthPolicy,a=r.allVideoSendingSourcesExcludingSelf(t);r.integrateIndexFrame(e),i.updateIndex(r),o.updateIndex(r),this.resubscribe(i,o),this.updateVideoAvailability(e),this.handleIndexVideosPausedAtSource();var s=r.allVideoSendingSourcesExcludingSelf(t);this.areVideoSourcesEqual(a,s)||this.context.audioVideoController.forEachObserver((function(e){l.default.of(e.remoteVideoSourcesDidChange).map((function(t){return t.bind(e)(s)}))}))}},t.prototype.areVideoSourcesEqual=function(e,t){if(e.length!==t.length)return!1;for(var n=function(e,t){return e.attendee.attendeeId.localeCompare(t.attendee.attendeeId)},r=c(e).sort(n),i=c(t).sort(n),o=0;o<r.length;o++)if(r[o].attendee.attendeeId!==i[o].attendee.attendeeId)return!1;return!0},t.prototype.resubscribe=function(e,t){var n=e.wantsResubscribe(),r=(this.context.videoDuplexMode===h.SdkStreamServiceType.TX||this.context.videoDuplexMode===h.SdkStreamServiceType.DUPLEX)&&t.wantsResubscribe(),i=n||r;this.logger.info("should resubscribe: "+i+" (downlink: "+n+" uplink: "+r+")"),i&&(this.context.videosToReceive=e.chooseSubscriptions(),this.context.videoCaptureAndEncodeParameter=t.chooseCaptureAndEncodeParameters(),this.logger.info("trigger resubscribe for up="+r+" down="+n+"; videosToReceive=["+this.context.videosToReceive.array()+"] captureParams="+JSON.stringify(this.context.videoCaptureAndEncodeParameter)),this.context.audioVideoController.update())},t.prototype.updateVideoAvailability=function(e){if(this.context.videosToReceive){var t=new d.default;t.remoteVideoAvailable=!this.context.videosToReceive.empty(),t.canStartLocalVideo=!e.atCapacity,this.context.lastKnownVideoAvailability&&this.context.lastKnownVideoAvailability.equal(t)||(this.context.lastKnownVideoAvailability=t.clone(),this.context.audioVideoController.forEachObserver((function(e){l.default.of(e.videoAvailabilityDidChange).map((function(n){return n.bind(e)(t.clone())}))})))}else this.logger.error("videosToReceive must be set in the meeting context.")},t.prototype.handleIndexVideosPausedAtSource=function(){var e,t,n=this.context.videoStreamIndex.streamsPausedAtSource();try{for(var r=u(this.context.videoTileController.getAllVideoTiles()),i=r.next();!i.done;i=r.next()){var o=i.value,a=o.state();n.contain(a.streamId)?o.markPoorConnection()&&this.logger.info("marks the tile "+a.tileId+" as having a poor connection"):o.unmarkPoorConnection()&&this.logger.info("unmarks the tile "+a.tileId+" as having a poor connection")}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t}(n(0).default);t.default=m},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var c=n(105),u=n(4),l=n(2),d=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="SendAndReceiveDataMessagesTask",n.sendDataMessageHandler=function(e,t,r){if(!n.context.signalingClient.ready())throw new Error("Signaling client is not ready");var i=void 0;i=t instanceof Uint8Array?t:"string"==typeof t?(new TextEncoder).encode(t):(new TextEncoder).encode(JSON.stringify(t)),n.validateDataMessage(e,i,r);var o=l.SdkDataMessagePayload.create();o.topic=e,o.lifetimeMs=r,o.data=i;var a=l.SdkDataMessageFrame.create();a.messages=[o],n.context.signalingClient.sendDataMessage(a)},n}return i(t,e),t.prototype.run=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){return this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToSendDataMessage(this.sendDataMessageHandler),[2]}))}))},t.prototype.removeObserver=function(){this.context.realtimeController.realtimeUnsubscribeFromSendDataMessage(this.sendDataMessageHandler),this.context.signalingClient.removeObserver(this)},t.prototype.handleSignalingClientEvent=function(e){var t,n;if(e.type===u.default.ReceivedSignalFrame&&e.message.type===l.SdkSignalFrame.Type.DATA_MESSAGE)try{for(var r=s(e.message.dataMessage.messages),i=r.next();!i.done;i=r.next()){var o=i.value,a=new c.default(o.ingestTimeNs/1e6,o.topic,o.data,o.senderAttendeeId,o.senderExternalUserId,0===o.ingestTimeNs);this.context.realtimeController.realtimeReceiveDataMessage(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},t.prototype.validateDataMessage=function(e,n,r){if(!t.TOPIC_REGEX.test(e))throw new Error("Invalid topic");if(n.length>t.DATA_SIZE)throw new Error("Data size has to be less than 2048 bytes");if(r&&r<0)throw new Error("The life time of the message has to be non negative")},t.TOPIC_REGEX=new RegExp(/^[a-zA-Z0-9_-]{1,36}$/),t.DATA_SIZE=2048,t}(n(0).default);t.default=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),u=n(34),l=function(e){function t(t,n,r){var i,o,a=e.call(this,t)||this;a.taskName=n,a.tasksToRunSerially=r,a.currentTask=null;try{for(var c=s(r),u=c.next();!u.done;u=c.next()){u.value.setParent(a)}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return a}return i(t,e),t.prototype.cancel=function(){this.currentTask&&(this.logger.info("canceling serial group task "+this.name()+" subtask "+this.currentTask.name()),this.currentTask.cancel())},t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i,o,c;return a(this,(function(a){switch(a.label){case 0:a.trys.push([0,8,9,10]),e=s(this.tasksToRunSerially),t=e.next(),a.label=1;case 1:if(t.done)return[3,7];n=t.value,this.getStatus()===u.default.CANCELED&&this.logAndThrow("serial group task "+this.name()+" was canceled"),a.label=2;case 2:return a.trys.push([2,4,5,6]),this.logger.info("serial group task "+this.name()+" running subtask "+n.name()),this.currentTask=n,[4,n.run()];case 3:return a.sent(),this.logger.info("serial group task "+this.name()+" completed subtask "+n.name()),[3,6];case 4:return r=a.sent(),this.logAndThrow("serial group task "+this.name()+" was canceled due to subtask "+this.currentTask.name()+" error: "+r.message),[3,6];case 5:return this.currentTask=null,[7];case 6:return t=e.next(),[3,1];case 7:return[3,10];case 8:return i=a.sent(),o={error:i},[3,10];case 9:try{t&&!t.done&&(c=e.return)&&c.call(e)}finally{if(o)throw o.error}return[7];case 10:return this.logger.info("serial group task "+this.name()+" completed"),[2]}}))}))},t}(c.default);t.default=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="SetLocalDescriptionTask",n}return i(t,e),t.prototype.cancel=function(){var e=new Error("canceling "+this.name());this.cancelPromise&&this.cancelPromise(e)},t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e,t,n=this;return a(this,(function(r){switch(r.label){case 0:return e=this.context.peer,t=this.context.sdpOfferInit,this.logger.debug((function(){return"local description is >>>"+t.sdp+"<<<"})),[4,new Promise((function(r,i){return o(n,void 0,void 0,(function(){var n;return a(this,(function(o){switch(o.label){case 0:this.cancelPromise=function(e){i(e)},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.setLocalDescription(t)];case 2:return o.sent(),r(),[3,4];case 3:return n=o.sent(),i(n),[3,4];case 4:return[2]}}))}))}))];case 1:return r.sent(),this.context.logger.info("set local description"),[2]}}))}))},t}(n(0).default);t.default=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),c=n(20),u=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="SetRemoteDescriptionTask",n}return i(t,e),t.prototype.cancel=function(){this.cancelICEPromise&&this.cancelICEPromise()},t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i,o,u;return a(this,(function(a){switch(a.label){case 0:this.context.peer||this.logAndThrow("session does not have peer connection; bypass set remote description"),e=this.context.sdpAnswer,e=new c.default(e).withoutServerReflexiveCandidates().sdp,this.context.browserBehavior.requiresUnifiedPlan()||(this.logger.info("checking for no videos (plan-b)"),this.context.videosToReceive.empty()&&this.context.peer.remoteDescription&&(this.logger.info("have no videos and have remote description (plan-b)"),t=this.context.peer.localDescription.sdp,r=n=e,(i=new c.default(t)).hasVideo()&&(this.logger.info("offer has video (plan-b): >>>"+i.sdp+"<<<"),o=new c.default(n),this.logger.info("existing answer (plan-b): >>>"+o.sdp+"<<<"),o.hasVideo()||(this.logger.info("copying inactive video from offer into answer (plan-b); sdp answer before is >>>"+n+"<<<"),r=o.copyVideo(t).sdp)),e=r)),(new s.default).requiresSortCodecPreferencesForSdpAnswer()&&(e=new c.default(e).preferH264IfExists().sdp),this.logger.info("processed remote description is >>>"+e+"<<<"),u={type:"answer",sdp:e,toJSON:null},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.createICEConnectionCompletedPromise(u)];case 2:return a.sent(),[3,4];case 3:throw a.sent();case 4:return[2]}}))}))},t.prototype.createICEConnectionCompletedPromise=function(e){var t=this;return new Promise((function(n,r){return o(t,void 0,void 0,(function(){var t,i,o=this;return a(this,(function(a){switch(a.label){case 0:t=function(){"connected"!==o.context.peer.iceConnectionState&&"completed"!==o.context.peer.iceConnectionState||(o.context.peer.removeEventListener("iceconnectionstatechange",t),n())},this.cancelICEPromise=function(){o.context.peer&&o.context.peer.removeEventListener("iceconnectionstatechange",t),r(new Error(o.name()+" got canceled while waiting for the ICE connection state"))},this.context.peer.addEventListener("iceconnectionstatechange",t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.context.peer.setRemoteDescription(e)];case 2:return a.sent(),this.logger.info("set remote description, waiting for ICE connection"),t(),[3,4];case 3:return i=a.sent(),r(i),[3,4];case 4:return[2]}}))}))}))},t}(n(0).default);t.default=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=n(4),u=n(146),l=n(2),d=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="SubscribeAndReceiveSubscribeAckTask",n.taskCanceler=null,n}return i(t,e),t.prototype.cancel=function(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)},t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i,o,c;return a(this,(function(a){switch(a.label){case 0:return e="",this.context.peer&&this.context.peer.localDescription&&(e=this.context.browserBehavior.requiresUnifiedPlanMunging()?new s.default(this.context.peer.localDescription.sdp).withUnifiedPlanFormat().sdp:this.context.peer.localDescription.sdp),this.context.enableSimulcast||(t=0,n=0,this.context.videoCaptureAndEncodeParameter&&(t=this.context.videoCaptureAndEncodeParameter.captureFrameRate(),n=this.context.videoCaptureAndEncodeParameter.encodeBitrates()[0]),r={rid:"hi",maxBitrate:1e3*n,maxFramerate:t,active:!0},this.context.videoStreamIndex.integrateUplinkPolicyDecision([r])),this.context.videoStreamIndex.subscribeFrameSent(),i=this.context.videoDuplexMode===l.SdkStreamServiceType.TX||this.context.videoDuplexMode===l.SdkStreamServiceType.DUPLEX,this.context.previousSdpOffer=new s.default(e),o=new u.default(this.context.meetingSessionConfiguration.credentials.attendeeId,e,this.context.meetingSessionConfiguration.urls.audioHostURL,this.context.realtimeController.realtimeIsLocalAudioMuted(),!1,this.context.videoSubscriptions,i,this.context.videoStreamIndex.localStreamDescriptions(),!0),this.context.logger.info("sending subscribe: "+JSON.stringify(o)),this.context.signalingClient.subscribe(o),[4,this.receiveSubscribeAck()];case 1:return c=a.sent(),this.context.logger.info("got subscribe ack: "+JSON.stringify(c)),this.context.sdpAnswer=c.sdpAnswer,this.context.videoStreamIndex.integrateSubscribeAckFrame(c),[2]}}))}))},t.prototype.receiveSubscribeAck=function(){var e=this;return new Promise((function(t,n){var r=new(function(){function e(e){this.signalingClient=e}return e.prototype.cancel=function(){this.signalingClient.removeObserver(this),n(new Error("SubscribeAndReceiveSubscribeAckTask got canceled while waiting for SdkSubscribeAckFrame"))},e.prototype.handleSignalingClientEvent=function(e){if(e.type===c.default.ReceivedSignalFrame&&e.message.type===l.SdkSignalFrame.Type.SUBSCRIBE_ACK){this.signalingClient.removeObserver(this);var n=e.message.suback;t(n)}},e}())(e.context.signalingClient);e.context.signalingClient.registerObserver(r),e.taskCanceler=r}))},t}(n(0).default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n,r,i,o,a,s,c){this.attendeeId=e,this.sdpOffer=t,this.audioHost=n,this.audioMuted=r,this.audioCheckin=i,this.receiveStreamIds=o,this.localVideoEnabled=a,this.videoStreamDescriptions=s,this.connectionTypeHasVideo=c};t.default=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),c=function(e){function t(t){var n=e.call(this,t.logger)||this;return n.context=t,n.taskName="WaitForAttendeePresenceTask",n}return i(t,e),t.prototype.cancel=function(){var e=new Error("canceling "+this.name()+" due to the meeting status code: "+s.default.NoAttendeePresent);this.cancelPromise&&this.cancelPromise(e)},t.prototype.run=function(){return o(this,void 0,void 0,(function(){var e,t=this;return a(this,(function(n){return e=this.context.meetingSessionConfiguration.credentials.attendeeId,[2,new Promise((function(n,r){var i=function(r,o,a,s,c){e===r&&o&&(t.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(i),n())};t.cancelPromise=function(e){t.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(i),r(e)},t.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(i)}))]}))}))},t}(n(0).default);t.default=c},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=n(28),a=n(12),s=function(){this.bandwidthEstimateKbps=0,this.usedBandwidthKbps=0,this.packetsLost=0,this.nackCount=0,this.rttMs=0},c=function(){function e(e,t){this.logger=e,this.tileController=t,this.reset()}return e.prototype.reset=function(){this.optimalReceiveSet=new a.default,this.subscribedReceiveSet=new a.default,this.logCount=0,this.startupPeriod=!0,this.usingPrevTargetRate=!1,this.rateProbeState="Not Probing",this.timeFirstEstimate=0,this.lastUpgradeRateKbps=0,this.timeBeforeAllowSubscribeMs=e.MIN_TIME_BETWEEN_SUBSCRIBE,this.timeLastProbe=Date.now(),this.timeBeforeAllowProbeMs=e.MIN_TIME_BETWEEN_PROBE,this.downlinkStats=new s,this.prevDownlinkStats=new s},e.prototype.updateIndex=function(e){this.videoIndex=e},e.prototype.updateMetrics=function(e){if(!this.videoIndex.allStreams().empty()){this.prevDownlinkStats=this.downlinkStats,this.downlinkStats=new s;var t=e.getObservableMetrics();for(var n in this.downlinkStats.bandwidthEstimateKbps=t.availableReceiveBandwidth/1e3,e.streamMetricReports){var r=Number(n);e.streamMetricReports[r].direction===i.default.DOWNSTREAM&&(e.streamMetricReports[r].currentMetrics.hasOwnProperty("googNacksSent")&&e.streamMetricReports[r].currentMetrics.hasOwnProperty("googFrameRateReceived")&&(this.downlinkStats.nackCount+=e.countPerSecond("googNacksSent",r)),e.streamMetricReports[r].currentMetrics.hasOwnProperty("packetsLost")&&e.streamMetricReports[r].currentMetrics.hasOwnProperty("googFrameRateReceived")&&(this.downlinkStats.packetsLost+=e.countPerSecond("packetsLost",r)),e.streamMetricReports[r].currentMetrics.hasOwnProperty("bytesReceived")&&(this.downlinkStats.usedBandwidthKbps+=e.bitsPerSecond("bytesReceived",r)/1e3))}}},e.prototype.wantsResubscribe=function(){return this.optimalReceiveSet=this.calculateOptimalReceiveSet(),!this.subscribedReceiveSet.equal(this.optimalReceiveSet)},e.prototype.chooseSubscriptions=function(){return this.subscribedReceiveSet.equal(this.optimalReceiveSet)||(this.timeLastSubscribe=Date.now()),this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.logger.info("bwe: chooseSubscriptions "+JSON.stringify(this.subscribedReceiveSet)),this.subscribedReceiveSet.clone()},e.prototype.calculateOptimalReceiveSet=function(){var t,n,i,s,c,u,l=new a.default,d=this.rateProbeState,f=this.videoIndex.remoteStreamDescriptions();if(0===f.length)return l;var p=new a.default;this.handlePausedStreams(l,p,f);var h=this.availStreamsSameAsLast(f);if(!this.startupPeriod&&h&&Date.now()-this.timeLastSubscribe<this.timeBeforeAllowSubscribeMs)return this.optimalReceiveSet;this.timeBeforeAllowSubscribeMs=e.MIN_TIME_BETWEEN_SUBSCRIBE;var m=[];f.sort((function(e,t){return e.maxBitrateKbps===t.maxBitrateKbps?e.streamId-t.streamId:e.maxBitrateKbps-t.maxBitrateKbps}));try{for(var g=r(f),b=g.next();!b.done;b=g.next()){(0===(_=b.value).avgBitrateKbps||_.avgBitrateKbps>_.maxBitrateKbps)&&(_.attendeeId.endsWith(o.default.Modality)&&_.maxBitrateKbps<100?_.maxBitrateKbps=_.avgBitrateKbps:_.avgBitrateKbps=_.maxBitrateKbps)}}catch(e){t={error:e}}finally{try{b&&!b.done&&(n=g.return)&&n.call(g)}finally{if(t)throw t.error}}var v,y=this.determineTargetRate(f),S=0,w=0;w+=this.chooseContent(m,f);var E=function(e){if(0===e.avgBitrateKbps)return"continue";-1===m.findIndex((function(t){return t.groupId===e.groupId}))&&(w+e.avgBitrateKbps<=y?(m.push(e),w+=e.avgBitrateKbps):0===S&&(S=e.avgBitrateKbps,v=e))};try{for(var C=r(f),T=C.next();!T.done;T=C.next()){var _;E(_=T.value)}}catch(e){i={error:e}}finally{try{T&&!T.done&&(s=C.return)&&s.call(C)}finally{if(i)throw i.error}}for(var I=!0;I;)I=!1,m.forEach((function(e,t){var n,i;try{for(var o=(n=void 0,r(f)),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.groupId===e.groupId&&s.streamId!==e.streamId&&s.avgBitrateKbps>e.avgBitrateKbps){var c=s.avgBitrateKbps-e.avgBitrateKbps;w+c<=y?(w+=c,m[t]=s,I=!0):0===S&&(S=c,v=s)}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}));var k=0;!this.startupPeriod&&h&&0!==S?k="Probing"===this.rateProbeState?this.handleProbe(m,p,y,f):this.maybeOverrideOrProbe(m,p,y,w,S,v):(this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0);var A=this.policyStateLogStr(f,y);if(this.logCount%15!=0&&this.rateProbeState===d||(this.logger.info(A),this.logCount=0,A=""),this.logCount++,this.prevTargetRateKbps=y,this.prevRemoteInfos=f,1===k)return this.logger.info("bwe: keepSameSubscriptions"),A.length>0&&this.logger.info(A),this.optimalReceiveSet;if(2===k){var O=this.calculateSubscribeRate(f,this.preProbeReceiveSet);return this.logger.info("bwe: Use Pre-Probe subscription subscribedRate:"+O),this.preProbeReceiveSet}try{for(var x=r(m),R=x.next();!R.done;R=x.next()){var P=R.value;l.add(P.streamId)}}catch(e){c={error:e}}finally{try{R&&!R.done&&(u=x.return)&&u.call(x)}finally{if(c)throw c.error}}if(!this.optimalReceiveSet.equal(l)){A.length>0&&this.logger.info(A);O=this.calculateSubscribeRate(f,l);this.logger.info("bwe: new streamSelection: "+JSON.stringify(l)+" subscribedRate:"+O)}return l},e.prototype.determineTargetRate=function(t){var n,i,o=this,a=0,s=Number.MAX_VALUE;try{for(var c=r(t),u=c.next();!u.done;u=c.next()){var l=u.value;0!==l.avgBitrateKbps&&l.avgBitrateKbps<s&&(s=l.avgBitrateKbps)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var d=Date.now();return 0!==this.downlinkStats.bandwidthEstimateKbps?(0===this.timeFirstEstimate&&(this.timeFirstEstimate=d),this.startupPeriod&&(this.downlinkStats.bandwidthEstimateKbps>e.DEFAULT_BANDWIDTH_KBPS||this.downlinkStats.packetsLost>0||d-this.timeFirstEstimate>e.STARTUP_PERIOD_MS&&this.downlinkStats.bandwidthEstimateKbps<=this.prevDownlinkStats.bandwidthEstimateKbps)&&(this.startupPeriod=!1,this.prevTargetRateKbps=this.downlinkStats.bandwidthEstimateKbps),a=this.startupPeriod?e.DEFAULT_BANDWIDTH_KBPS:this.downlinkStats.bandwidthEstimateKbps):a=0===this.timeFirstEstimate?e.DEFAULT_BANDWIDTH_KBPS:this.prevTargetRateKbps,a=Math.max(s,a),!this.startupPeriod&&(this.usingPrevTargetRate&&this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps||this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps*(100-e.LARGE_RATE_CHANGE_TRIGGER_PERCENT)/100||this.downlinkStats.bandwidthEstimateKbps<this.downlinkStats.usedBandwidthKbps*e.LARGE_RATE_CHANGE_TRIGGER_PERCENT/100)&&0===this.downlinkStats.packetsLost?(this.logger.debug((function(){return"bwe: ValidateRate: Using Previous rate "+o.prevTargetRateKbps})),this.usingPrevTargetRate=!0,a=this.prevTargetRateKbps):this.usingPrevTargetRate=!1,a},e.prototype.setProbeState=function(t){if(this.rateProbeState!==t){var n=Date.now();switch(t){case"Not Probing":this.timeProbePendingStart=0;break;case"Probe Pending":if(!(0===this.timeLastProbe||n-this.timeLastProbe>e.MIN_TIME_BETWEEN_PROBE))return!1;this.timeProbePendingStart=n;break;case"Probing":if(!(n-this.timeProbePendingStart>this.timeBeforeAllowProbeMs))return!1;this.timeLastProbe=n,this.preProbeReceiveSet=this.subscribedReceiveSet,this.timeBeforeAllowProbeMs=Math.min(2*this.timeBeforeAllowProbeMs,e.MAX_HOLD_MS_BEFORE_PROBE)}return this.logger.info("bwe: setProbeState to "+t+" from "+this.rateProbeState),this.rateProbeState=t,!0}},e.prototype.upgradeToStream=function(e,t){for(var n=0;n<e.length;n++)if(e[n].groupId===t.groupId){var r=t.avgBitrateKbps-e[n].avgBitrateKbps;return this.logger.info("bwe: upgradeStream from "+JSON.stringify(e[n])+" to "+JSON.stringify(t)),this.lastUpgradeRateKbps=r,e[n]=t,r}return e.push(t),this.lastUpgradeRateKbps=t.avgBitrateKbps,this.lastUpgradeRateKbps},e.prototype.handleProbe=function(t,n,i,o){var a,s;if("Probing"!==this.rateProbeState)return 0;if(Date.now()-this.timeLastProbe>e.MAX_ALLOWED_PROBE_TIME_MS)return this.logger.info("bwe: Canceling probe due to timeout"),this.setProbeState("Not Probing"),0;if(this.downlinkStats.packetsLost>0)return this.setProbeState("Not Probing"),this.timeBeforeAllowSubscribeMs=3*e.MIN_TIME_BETWEEN_SUBSCRIBE,2;var c=this.calculateSubscribeRate(o,this.optimalReceiveSet);if(this.chosenStreamsSameAsLast(t,n)||i>c){var u=0;try{for(var l=r(t),d=l.next();!d.done;d=l.next()){u+=d.value.avgBitrateKbps}}catch(e){a={error:e}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}if(i>u)return this.setProbeState("Not Probing"),this.timeBeforeAllowProbeMs=e.MIN_TIME_BETWEEN_PROBE,0}return 1},e.prototype.maybeOverrideOrProbe=function(t,n,r,i,o,a){var s=this.chosenStreamsSameAsLast(t,n),c=0,u=Date.now(),l=i*(i>e.LOW_BITRATE_THRESHOLD_KBPS?e.TARGET_RATE_CHANGE_TRIGGER_PERCENT:2*e.TARGET_RATE_CHANGE_TRIGGER_PERCENT)/100;if(!s&&Math.abs(i-this.prevTargetRateKbps)<l&&(this.logger.info("bwe: MaybeOverrideOrProbe: Reuse last decision based on delta rate. {"+JSON.stringify(this.subscribedReceiveSet)+"}"),c=1),this.downlinkStats.packetsLost>this.prevDownlinkStats.packetsLost)return this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0,c;if(s||c)switch(this.rateProbeState){case"Not Probing":this.setProbeState("Probe Pending");break;case"Probe Pending":u-this.timeProbePendingStart>this.timeBeforeAllowProbeMs&&this.setProbeState("Probing")&&(this.timeBeforeAllowSubscribeMs=800,this.upgradeToStream(t,a),c=0);break;default:this.logger.info("bwe: MaybeOverrideOrProbe: Unhandled condition "+this.rateProbeState)}else this.setProbeState("Not Probing"),i+l>r+o&&(this.logger.info("bwe: MaybeOverrideOrProbe: Upgrade since we are within threshold"),this.upgradeToStream(t,a));return c},e.prototype.calculateSubscribeRate=function(e,t){var n,i,o=0,a=function(t){var n=e.find((function(e){return e.streamId===t}));void 0!==n&&(o+=n.maxBitrateKbps)};try{for(var s=r(t.array()),c=s.next();!c.done;c=s.next()){a(c.value)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o},e.prototype.handlePausedStreams=function(e,t,n){for(var r=this.tileController.getAllRemoteVideoTiles(),i=0;i<r.length;i++){var o=r[i].state();if(o.paused)for(var a=n.length;a--;)n[a].attendeeId===o.boundAttendeeId&&(this.logger.info("bwe: removed paused attendee "+o.boundAttendeeId+" streamId: "+n[a].streamId),t.add(n[a].streamId),this.subscribedReceiveSet.contain(n[a].streamId)&&e.add(n[a].streamId),n.splice(a,1))}},e.prototype.chooseContent=function(e,t){var n,i,a=0;try{for(var s=r(t),c=s.next();!c.done;c=s.next()){var u=c.value;u.attendeeId.endsWith(o.default.Modality)&&(e.push(u),a+=u.avgBitrateKbps)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a},e.prototype.availStreamsSameAsLast=function(e){var t,n;if(void 0===this.prevRemoteInfos||e.length!==this.prevRemoteInfos.length)return!1;var i=function(e){if(void 0===o.prevRemoteInfos.find((function(t){return t.groupId===e.groupId&&t.streamId===e.streamId&&t.maxBitrateKbps===e.maxBitrateKbps})))return{value:!1}},o=this;try{for(var a=r(e),s=a.next();!s.done;s=a.next()){var c=i(s.value);if("object"==typeof c)return c.value}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return!0},e.prototype.chosenStreamsSameAsLast=function(e,t){var n,i,o=this.optimalReceiveSet.array(),a=function(n){if(!t.contain(n)&&-1===e.findIndex((function(e){return e.streamId===n})))return{value:!1}};try{for(var s=r(o),c=s.next();!c.done;c=s.next()){var u=a(c.value);if("object"==typeof u)return u.value}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return!0},e.prototype.policyStateLogStr=function(e,t){var n,i,o={targetBitrate:t,subscribedRate:this.calculateSubscribeRate(e,this.optimalReceiveSet),probeState:this.rateProbeState,startupPeriod:this.startupPeriod},a="remoteInfos: [";try{for(var s=r(e),c=s.next();!c.done;c=s.next()){var u=c.value;a+="{grpId:"+u.groupId+" strId:"+u.streamId+" maxBr:"+u.maxBitrateKbps+" avgBr:"+u.avgBitrateKbps+"}, "}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a+="]","bwe: optimalReceiveSet "+JSON.stringify(o)+"\nbwe:   prev "+JSON.stringify(this.prevDownlinkStats)+"\nbwe:   now  "+JSON.stringify(this.downlinkStats)+"\nbwe:   "+a},e.DEFAULT_BANDWIDTH_KBPS=2800,e.STARTUP_PERIOD_MS=6e3,e.LARGE_RATE_CHANGE_TRIGGER_PERCENT=20,e.TARGET_RATE_CHANGE_TRIGGER_PERCENT=15,e.LOW_BITRATE_THRESHOLD_KBPS=300,e.MIN_TIME_BETWEEN_PROBE=5e3,e.MIN_TIME_BETWEEN_SUBSCRIBE=2e3,e.MAX_HOLD_MS_BEFORE_PROBE=6e4,e.MAX_ALLOWED_PROBE_TIME_MS=6e4,e}();t.default=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(51),c=n(52),u=function(e){function t(t){var n=e.call(this,t)||this;return n.streamIdToBitrateKbpsMap=new Map,n._localStreamInfos=[],n._lastBitRateMsgTime=Date.now(),n}return i(t,e),t.prototype.localStreamDescriptions=function(){var e=[];return this._localStreamInfos.forEach((function(t){e.push(t.clone())})),e},t.prototype.integrateUplinkPolicyDecision=function(e){for(var t=!0,n=0,r=0;r<e.length;r++){var i=e[r].maxBitrate/1e3,o=e[r].maxFramerate;if(t&&r!==this._localStreamInfos.length)0===this._localStreamInfos[n].maxBitrateKbps&&i>0&&(this._localStreamInfos[n].timeEnabled=Date.now()),this._localStreamInfos[n].maxBitrateKbps=i,this._localStreamInfos[n].maxFrameRate=o,this._localStreamInfos[n].disabledByUplinkPolicy=0===i,!0===this._localStreamInfos[n].disabledByUplinkPolicy&&(this._localStreamInfos[n].disabledByWebRTC=!1),n++;else{t=!1;var a=new c.default;a.maxBitrateKbps=i,a.maxFrameRate=o,a.disabledByUplinkPolicy=0===i,0!==i&&(a.timeEnabled=Date.now()),this._localStreamInfos.push(a),n++}}t&&this._localStreamInfos.splice(n)},t.prototype.integrateBitratesFrame=function(n){var r,i,a,s;e.prototype.integrateBitratesFrame.call(this,n);var c=new Set,u=new Set(this.streamIdToBitrateKbpsMap.keys());try{for(var l=o(n.bitrates),d=l.next();!d.done;d=l.next()){var f=d.value;c.add(f.sourceStreamId),this.streamIdToBitrateKbpsMap.set(f.sourceStreamId,Math.trunc(f.avgBitrateBps/1e3))}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}try{for(var p=o(u),h=p.next();!h.done;h=p.next()){var m=h.value;if(!c.has(m))this.streamIdToBitrateKbpsMap.get(m)===t.UNSEEN_STREAM_BITRATE?this.streamIdToBitrateKbpsMap.set(m,t.RECENTLY_INACTIVE_STREAM_BITRATE):this.streamIdToBitrateKbpsMap.set(m,t.NOT_SENDING_STREAM_BITRATE)}}catch(e){a={error:e}}finally{try{h&&!h.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}for(var g=0;g<this._localStreamInfos.length;g++){this._localStreamInfos[g].disabledByWebRTC=!1;var b=this._localStreamInfos[g].streamId;if(!this._localStreamInfos[g].disabledByUplinkPolicy)if(this.streamIdToBitrateKbpsMap.has(b))this.streamIdToBitrateKbpsMap.get(b)===t.NOT_SENDING_STREAM_BITRATE&&this._lastBitRateMsgTime-this._localStreamInfos[g].timeEnabled>t.BitratesMsgFrequencyMs&&(this._localStreamInfos[g].disabledByWebRTC=!0);else this._lastBitRateMsgTime-this._localStreamInfos[g].timeEnabled>t.BitratesMsgFrequencyMs&&(this._localStreamInfos[g].disabledByWebRTC=!0)}this._lastBitRateMsgTime=Date.now(),this.logLocalStreamDescriptions()},t.prototype.logLocalStreamDescriptions=function(){var e,t,n="";try{for(var r=o(this._localStreamInfos),i=r.next();!i.done;i=r.next()){var a=i.value;n+="streamId="+a.streamId+" maxBitrate="+a.maxBitrateKbps+" disabledByWebRTC="+a.disabledByWebRTC+" disabledByUplink="+a.disabledByUplinkPolicy+"\n"}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.logger.debug((function(){return n}))},t.prototype.integrateIndexFrame=function(n){var r,i,s,c;e.prototype.integrateIndexFrame.call(this,n);var u=new Set,l=new Set(this.streamIdToBitrateKbpsMap.keys());try{for(var d=o(this.currentIndex.sources),f=d.next();!f.done;f=d.next()){var p=f.value;p.mediaType===a.SdkStreamMediaType.VIDEO&&(u.add(p.streamId),this.streamIdToBitrateKbpsMap.has(p.streamId)||this.streamIdToBitrateKbpsMap.set(p.streamId,t.UNSEEN_STREAM_BITRATE))}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}try{for(var h=o(l),m=h.next();!m.done;m=h.next()){var g=m.value;u.has(g)||this.streamIdToBitrateKbpsMap.delete(g)}}catch(e){s={error:e}}finally{try{m&&!m.done&&(c=h.return)&&c.call(h)}finally{if(s)throw s.error}}},t.prototype.integrateSubscribeAckFrame=function(n){var r,i;if(e.prototype.integrateSubscribeAckFrame.call(this,n),n.allocations&&void 0!==n.allocations){var a=0;try{for(var s=o(n.allocations),c=s.next();!c.done;c=s.next()){var u=c.value;if(this._localStreamInfos.length<a+1){this.logger.info("simulcast: allocation has more than number of local streams");break}this._localStreamInfos[a].groupId=u.groupId,this._localStreamInfos[a].streamId=u.streamId,this.streamIdToBitrateKbpsMap.has(u.streamId)||this.streamIdToBitrateKbpsMap.set(u.streamId,t.UNSEEN_STREAM_BITRATE),a++}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}},t.UNSEEN_STREAM_BITRATE=-2,t.RECENTLY_INACTIVE_STREAM_BITRATE=-1,t.NOT_SENDING_STREAM_BITRATE=0,t.BitratesMsgFrequencyMs=4e3,t}(s.default);t.default=u},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(151),o=n(152),a=n(1),s=function(){function e(e,t,n){this.tileFactory=e,this.audioVideoController=t,this.logger=n,this.tileMap=new Map,this.nextTileId=1,this.currentLocalTile=null,this.currentPausedTilesByIds=new Set,this.devicePixelRatioMonitor=new i.default(new o.default,n)}return e.prototype.bindVideoElement=function(e,t){var n=this.getVideoTile(e);null!==n?n.bindVideoElement(t):this.logger.warn("Ignoring video element binding for unknown tile id "+e)},e.prototype.unbindVideoElement=function(e){this.bindVideoElement(e,null)},e.prototype.startLocalVideoTile=function(){var e=this.findOrCreateLocalVideoTile();return this.currentLocalTile.stateRef().localTileStarted=!0,this.audioVideoController.update(),e.id()},e.prototype.stopLocalVideoTile=function(){this.currentLocalTile&&(this.currentLocalTile.stateRef().localTileStarted=!1,this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.audioVideoController.update())},e.prototype.hasStartedLocalVideoTile=function(){return!(!this.currentLocalTile||!this.currentLocalTile.stateRef().localTileStarted)},e.prototype.removeLocalVideoTile=function(){this.currentLocalTile&&this.removeVideoTile(this.currentLocalTile.id())},e.prototype.getLocalVideoTile=function(){return this.currentLocalTile},e.prototype.pauseVideoTile=function(e){var t=this.getVideoTile(e);t&&(this.currentPausedTilesByIds.has(e)||(this.audioVideoController.pauseReceivingStream(t.stateRef().streamId),this.currentPausedTilesByIds.add(e)),t.pause())},e.prototype.unpauseVideoTile=function(e){var t=this.getVideoTile(e);t&&(this.currentPausedTilesByIds.has(e)&&(this.audioVideoController.resumeReceivingStream(t.stateRef().streamId),this.currentPausedTilesByIds.delete(e)),t.unpause())},e.prototype.getVideoTile=function(e){return this.tileMap.has(e)?this.tileMap.get(e):null},e.prototype.getVideoTileArea=function(e){var t=e.state(),n=0,r=0;return t.boundVideoElement&&(n=t.boundVideoElement.clientHeight*t.devicePixelRatio,r=t.boundVideoElement.clientWidth*t.devicePixelRatio),n*r},e.prototype.getAllRemoteVideoTiles=function(){var e=this,t=new Array;return this.tileMap.forEach((function(n,r){e.currentLocalTile&&r===e.currentLocalTile.id()||t.push(n)})),t},e.prototype.getAllVideoTiles=function(){return Array.from(this.tileMap.values())},e.prototype.addVideoTile=function(e){void 0===e&&(e=!1);var t=this.nextTileId;this.nextTileId+=1;var n=this.tileFactory.makeTile(t,e,this,this.devicePixelRatioMonitor);return this.tileMap.set(t,n),n},e.prototype.removeVideoTile=function(e){if(this.tileMap.has(e)){var t=this.tileMap.get(e);this.currentLocalTile===t&&(this.currentLocalTile=null),t.destroy(),this.tileMap.delete(e),this.audioVideoController.forEachObserver((function(t){a.default.of(t.videoTileWasRemoved).map((function(n){return n.bind(t)(e)}))}))}},e.prototype.removeVideoTilesByAttendeeId=function(e){var t,n,i=[];try{for(var o=r(this.getAllVideoTiles()),a=o.next();!a.done;a=o.next()){var s=a.value.state();s.boundAttendeeId===e&&(this.removeVideoTile(s.tileId),i.push(s.tileId))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},e.prototype.removeAllVideoTiles=function(){var e,t,n=Array.from(this.tileMap.keys());try{for(var i=r(n),o=i.next();!o.done;o=i.next()){var a=o.value;this.removeVideoTile(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.sendTileStateUpdate=function(e){this.audioVideoController.forEachObserver((function(t){a.default.of(t.videoTileDidUpdate).map((function(n){return n.bind(t)(e)}))}))},e.prototype.haveVideoTilesWithStreams=function(){var e,t;try{for(var n=r(this.getAllVideoTiles()),i=n.next();!i.done;i=n.next()){if(i.value.state().boundVideoStream)return!0}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return!1},e.prototype.haveVideoTileForAttendeeId=function(e){var t,n;try{for(var i=r(this.getAllVideoTiles()),o=i.next();!o.done;o=i.next()){if(o.value.state().boundAttendeeId===e)return!0}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!1},e.prototype.captureVideoTile=function(e){var t=this.getVideoTile(e);return t?t.capture():null},e.prototype.findOrCreateLocalVideoTile=function(){return this.currentLocalTile||(this.currentLocalTile=this.addVideoTile(!0),this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId)),this.currentLocalTile},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=this;if(this.devicePixelRatioSource=e,this.mediaQueryListener=function(){n.observerQueue.forEach((function(e){e.devicePixelRatioChanged(n.devicePixelRatioSource.devicePixelRatio())}))},this.observerQueue=new Set,"undefined"!=typeof window){var r=matchMedia("(resolution: "+this.devicePixelRatioSource.devicePixelRatio()+"dppx)");"function"==typeof r.addEventListener?r.addEventListener("change",this.mediaQueryListener):"function"==typeof r.addListener?r.addListener(this.mediaQueryListener):t.warn("ignoring DefaultDevicePixelRatioMonitor")}}return e.prototype.registerObserver=function(e){this.observerQueue.add(e),e.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())},e.prototype.removeObserver=function(e){this.observerQueue.delete(e)},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.devicePixelRatio=function(){return"undefined"!=typeof window&&window&&window.devicePixelRatio?window.devicePixelRatio:1},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),i=function(){function e(){}return e.prototype.makeTile=function(e,t,n,i){return new r.default(e,t,n,i)},e}();t.default=i},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(7),a=n(155),s=n(50),c=n(21),u=n(78),l=function(){function e(t,n){this.selfAttendeeId=t,this.logger=n,this.numSenders=0,this.numParticipants=-1,this.newQualityMap=new Map,this.currentQualityMap=new Map,this.newActiveStreams=1,this.currentActiveStreams=1,this.lastUplinkBandwidthKbps=e.defaultUplinkBandwidthKbps,this.startTimeMs=0,this.lastUpdatedMs=Date.now(),this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[],this.observerQueue=new Set,this.optimalParameters=new c.default(0,0,0,0,!0),this.parametersInEffect=new c.default(0,0,0,0,!0),this.lastUplinkBandwidthKbps=e.defaultUplinkBandwidthKbps,this.currentQualityMap=this.fillEncodingParamWithBitrates([300,0,1200]),this.newQualityMap=this.fillEncodingParamWithBitrates([300,0,1200])}return e.prototype.updateConnectionMetric=function(t){var n=this,r=t.uplinkKbps,i=void 0===r?0:r;if(!isNaN(i)){0===this.startTimeMs&&(this.startTimeMs=Date.now()),Date.now()-this.startTimeMs<e.startupDurationMs?this.lastUplinkBandwidthKbps=e.defaultUplinkBandwidthKbps:this.lastUplinkBandwidthKbps=i,this.logger.debug((function(){return"simulcast: uplink policy update metrics "+n.lastUplinkBandwidthKbps}));var o=e.holdDownDurationMs;3===this.currentActiveStreams?o=2*e.holdDownDurationMs:(2===this.currentActiveStreams&&i<=e.kMidDisabledRate||1===this.currentActiveStreams&&i<=e.kHiDisabledRate)&&(o=e.holdDownDurationMs/2),Date.now()<this.lastUpdatedMs+o||(this.newQualityMap=this.calculateEncodingParameters(!1))}},e.prototype.calculateEncodingParameters=function(t){var n=[new u.default,new u.default,new u.default],r=0,i=0;if(0===this.currentActiveStreams?(r=this.lastUplinkBandwidthKbps+1,i=0):1===this.currentActiveStreams?(r=2400,i=e.kHiDisabledRate):2===this.currentActiveStreams?(r=1e3,i=e.kMidDisabledRate):(r=300,i=0),t||this.lastUplinkBandwidthKbps>=r||this.lastUplinkBandwidthKbps<=i){this.numParticipants>=0&&this.numParticipants<=2?(this.newActiveStreams=0,n[0].maxBitrateKbps=0,n[1].maxBitrateKbps=0,n[2].maxBitrateKbps=1200):this.numSenders<=4&&this.lastUplinkBandwidthKbps>=e.kHiDisabledRate?(this.newActiveStreams=1,n[0].maxBitrateKbps=300,n[1].maxBitrateKbps=0,n[2].maxBitrateKbps=1200):this.lastUplinkBandwidthKbps>=e.kMidDisabledRate?(this.newActiveStreams=2,n[0].maxBitrateKbps=this.lastUplinkBandwidthKbps>=350?200:150,n[1].maxBitrateKbps=this.numSenders<=6?600:350,n[2].maxBitrateKbps=0):(this.newActiveStreams=3,n[0].maxBitrateKbps=300,n[1].maxBitrateKbps=0,n[2].maxBitrateKbps=0);var o=n.map((function(e,t,n){return e.maxBitrateKbps}));this.newQualityMap=this.fillEncodingParamWithBitrates(o),this.encodingParametersEqual()||this.logger.info("simulcast: policy:calculateEncodingParameters bw:"+this.lastUplinkBandwidthKbps+" numSources:"+this.numSenders+" numClients:"+this.numParticipants+" newQualityMap: "+this.getQualityMapString(this.newQualityMap))}return this.newQualityMap},e.prototype.chooseMediaTrackConstraints=function(){return{width:{ideal:1280},height:{ideal:768},frameRate:{ideal:15}}},e.prototype.chooseEncodingParameters=function(){return this.currentQualityMap=this.newQualityMap,this.currentActiveStreams=this.newActiveStreams,this.activeStreamsToPublish!==this.newActiveStreams&&(this.activeStreamsToPublish=this.newActiveStreams,this.publishEncodingSimulcastLayer()),this.currentQualityMap},e.prototype.updateIndex=function(e){var t=e.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+1,n=e.numberOfParticipants(),r=t!==this.numSenders,i=n>2&&this.numParticipants<=2||n<=2&&this.numParticipants>2;this.numSenders=t,this.numParticipants=n,this.optimalParameters=new c.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1),this.videoIndex=e,this.newQualityMap=this.calculateEncodingParameters(r||i)},e.prototype.wantsResubscribe=function(){var e=!this.encodingParametersEqual();this.nextLocalDescriptions=this.videoIndex.localStreamDescriptions();for(var t=function(t){var r=n.nextLocalDescriptions[t].streamId;if(0!==r&&r){var i=n.currLocalDescriptions.findIndex((function(e){return e.streamId===r}));-1!==i&&n.nextLocalDescriptions[t].disabledByWebRTC!==n.currLocalDescriptions[i].disabledByWebRTC&&(e=!0)}},n=this,r=0;r<this.nextLocalDescriptions.length;r++)t(r);return e&&(this.lastUpdatedMs=Date.now()),this.currLocalDescriptions=this.nextLocalDescriptions,e},e.prototype.compareEncodingParameter=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},e.prototype.encodingParametersEqual=function(){var e,t,n=!1;try{for(var i=r(s.default.NAME_ARR_ASCENDING),o=i.next();!o.done;o=i.next()){var a=o.value;if(n=n||!this.compareEncodingParameter(this.newQualityMap.get(a),this.currentQualityMap.get(a)))break}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return!n},e.prototype.chooseCaptureAndEncodeParameters=function(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()},e.prototype.captureWidth=function(){return 1280},e.prototype.captureHeight=function(){return 768},e.prototype.captureFrameRate=function(){return 15},e.prototype.maxBandwidthKbps=function(){return 1400},e.prototype.setIdealMaxBandwidthKbps=function(e){},e.prototype.setHasBandwidthPriority=function(e){},e.prototype.fillEncodingParamWithBitrates=function(e){for(var t=new Map,n=s.default.NAME_ARR_ASCENDING,r=e,i=4,o=0;o<n.length;o++){var a=n[o];t.set(a,{rid:a,active:r[o]>0,scaleResolutionDownBy:i,maxBitrate:1e3*r[o]}),i/=2}return t},e.prototype.getQualityMapString=function(e){var t="",n=this.videoIndex.localStreamDescriptions();return 3===n.length&&e.forEach((function(e){var r=!1;r="low"===e.rid?n[0].disabledByWebRTC:"mid"===e.rid?n[1].disabledByWebRTC:n[2].disabledByWebRTC,t+="{ rid: "+e.rid+" active:"+e.active+" disabledByWebRTC: "+r+" maxBitrate:"+e.maxBitrate+"}"})),t},e.prototype.getEncodingSimulcastLayer=function(e){switch(e){case 0:return a.default.High;case 1:return a.default.LowAndHigh;case 2:return a.default.LowAndMedium;case 3:return a.default.Low}},e.prototype.publishEncodingSimulcastLayer=function(){var e=this.getEncodingSimulcastLayer(this.activeStreamsToPublish);this.forEachObserver((function(t){i.default.of(t.encodingSimulcastLayersDidChange).map((function(n){return n.bind(t)(e)}))}))},e.prototype.addObserver=function(e){this.logger.info("adding simulcast uplink observer"),this.observerQueue.add(e)},e.prototype.removeObserver=function(e){this.logger.info("removing simulcast uplink observer"),this.observerQueue.delete(e)},e.prototype.forEachObserver=function(e){var t,n,i=this,a=function(t){(new o.default).start((function(){i.observerQueue.has(t)&&e(t)}))};try{for(var s=r(this.observerQueue),c=s.next();!c.done;c=s.next()){a(c.value)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},e.defaultUplinkBandwidthKbps=1200,e.startupDurationMs=6e3,e.holdDownDurationMs=4e3,e.defaultMaxFrameRate=15,e.kHiDisabledRate=700,e.kMidDisabledRate=240,e}();t.default=l},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SimulcastLayers=void 0,function(e){e[e.Low=0]="Low",e[e.LowAndMedium=1]="LowAndMedium",e[e.LowAndHigh=2]="LowAndHigh",e[e.Medium=3]="Medium",e[e.MediumAndHigh=4]="MediumAndHigh",e[e.High=5]="High"}(r=t.SimulcastLayers||(t.SimulcastLayers={})),t.default=r},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n,r){this.logger=e,this.realtimeController=t,this.minVolumeDecibels=n,this.maxVolumeDecibels=r,this.streamIdToAttendeeId={},this.streamIdToExternalUserId={},this.warnedAboutMissingStreamIdMapping={}}return e.prototype.sendRealtimeUpdatesForAudioStreamIdInfo=function(e){var t,n,i,o,a=0;try{for(var s=r(e.streams),c=s.next();!c.done;c=s.next()){var u=c.value,l=!!u.attendeeId,d=!!u.externalUserId,f=u.hasOwnProperty("muted"),p=!!u.dropped;if(l){this.streamIdToAttendeeId[u.audioStreamId]=u.attendeeId;var h=d?u.externalUserId:u.attendeeId;this.streamIdToExternalUserId[u.audioStreamId]=h,this.realtimeController.realtimeSetAttendeeIdPresence(u.attendeeId,!0,h,!1,{attendeeIndex:a++,attendeesInFrame:e.streams.length})}if(f){var m=this.streamIdToAttendeeId[u.audioStreamId];h=this.streamIdToExternalUserId[u.audioStreamId];this.realtimeController.realtimeUpdateVolumeIndicator(m,null,u.muted,null,h)}if(!l&&!f)if(m=this.streamIdToAttendeeId[u.audioStreamId]){h=this.streamIdToExternalUserId[u.audioStreamId];delete this.streamIdToAttendeeId[u.audioStreamId],delete this.streamIdToExternalUserId[u.audioStreamId],delete this.warnedAboutMissingStreamIdMapping[u.audioStreamId];var g=!1;try{for(var b=(i=void 0,r(Object.keys(this.streamIdToAttendeeId))),v=b.next();!v.done;v=b.next()){var y=v.value,S=parseInt(y);if(S>u.audioStreamId&&this.streamIdToAttendeeId[S]===m){g=!0;break}}}catch(e){i={error:e}}finally{try{v&&!v.done&&(o=b.return)&&o.call(b)}finally{if(i)throw i.error}}g||this.realtimeController.realtimeSetAttendeeIdPresence(m,!1,h,p,{attendeeIndex:a++,attendeesInFrame:e.streams.length})}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},e.prototype.sendRealtimeUpdatesForAudioMetadata=function(e){var t,n,i=null,o=null;try{for(var a=r(e.attendeeStates),s=a.next();!s.done;s=a.next()){var c=s.value,u=this.attendeeIdForStreamId(c.audioStreamId);c.hasOwnProperty("volume")&&(null===i&&(i={}),null!==u&&(i[u]=this.normalizedVolume(c))),c.hasOwnProperty("signalStrength")&&(null===o&&(o={}),null!==u&&(o[u]=this.normalizedSignalStrength(c)))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}this.applyRealtimeUpdatesForAudioMetadata(i,o)},e.prototype.normalizedVolume=function(e){var t=1-(-e.volume-this.maxVolumeDecibels)/(this.minVolumeDecibels-this.maxVolumeDecibels);return Math.min(Math.max(t,0),1)},e.prototype.normalizedSignalStrength=function(t){var n=t.signalStrength/e.MAX_SIGNAL_STRENGTH_LEVELS;return Math.min(Math.max(n,0),1)},e.prototype.applyRealtimeUpdatesForAudioMetadata=function(t,n){for(var r in this.streamIdToAttendeeId){var i=this.streamIdToAttendeeId[r],o=this.streamIdToExternalUserId[r],a=null,s=null;null!==t&&(a=t.hasOwnProperty(i)?t[i]:e.IMPLICIT_VOLUME),null!==n&&(s=n.hasOwnProperty(i)?n[i]:e.IMPLICIT_SIGNAL_STRENGTH),null===a&&null===s||this.realtimeController.realtimeUpdateVolumeIndicator(i,a,null,s,o)}},e.prototype.attendeeIdForStreamId=function(e){if(0===e)return null;var t=this.streamIdToAttendeeId[e];return t||(this.warnedAboutMissingStreamIdMapping[e]||(this.warnedAboutMissingStreamIdMapping[e]=!0,this.logger.warn("volume indicator stream id "+e+" seen before being defined")),null)},e.MAX_SIGNAL_STRENGTH_LEVELS=2,e.IMPLICIT_VOLUME=0,e.IMPLICIT_SIGNAL_STRENGTH=1,e}();t.default=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n,r,i,o){this.audioVideoController=e,this.videoTileController=t,this.realtimeController=n,this.audioMixController=r,this.deviceController=i,this.contentShareController=o}return e.prototype.addObserver=function(e){this.audioVideoController.addObserver(e),this.trace("addObserver")},e.prototype.removeObserver=function(e){this.audioVideoController.removeObserver(e),this.trace("removeObserver")},e.prototype.start=function(){this.audioVideoController.start(),this.trace("start")},e.prototype.stop=function(){this.audioVideoController.stop(),this.trace("stop")},e.prototype.getRTCPeerConnectionStats=function(e){return this.trace("getRTCPeerConnectionStats",e?e.id:null),this.audioVideoController.getRTCPeerConnectionStats(e)},e.prototype.bindAudioElement=function(e){var t=this.audioMixController.bindAudioElement(e);return this.trace("bindAudioElement",e.id,t),t},e.prototype.unbindAudioElement=function(){this.audioMixController.unbindAudioElement(),this.trace("unbindAudioElement")},e.prototype.bindVideoElement=function(e,t){this.videoTileController.bindVideoElement(e,t),this.trace("bindVideoElement",{tileId:e,videoElementId:t.id})},e.prototype.unbindVideoElement=function(e){this.videoTileController.unbindVideoElement(e),this.trace("unbindVideoElement",e)},e.prototype.startLocalVideoTile=function(){var e=this.videoTileController.startLocalVideoTile();return this.trace("startLocalVideoTile",null,e),e},e.prototype.stopLocalVideoTile=function(){this.videoTileController.stopLocalVideoTile(),this.trace("stopLocalVideoTile")},e.prototype.hasStartedLocalVideoTile=function(){var e=this.videoTileController.hasStartedLocalVideoTile();return this.trace("hasStartedLocalVideoTile",null,e),e},e.prototype.removeLocalVideoTile=function(){this.videoTileController.removeLocalVideoTile(),this.trace("removeLocalVideoTile")},e.prototype.getLocalVideoTile=function(){var e=this.videoTileController.getLocalVideoTile();return this.trace("getLocalVideoTile"),e},e.prototype.pauseVideoTile=function(e){this.videoTileController.pauseVideoTile(e),this.trace("pauseVideoTile",e)},e.prototype.unpauseVideoTile=function(e){this.videoTileController.unpauseVideoTile(e),this.trace("unpauseVideoTile",e)},e.prototype.getVideoTile=function(e){var t=this.videoTileController.getVideoTile(e);return this.trace("getVideoTile",e),t},e.prototype.getAllRemoteVideoTiles=function(){var e=this.videoTileController.getAllRemoteVideoTiles();return this.trace("getAllRemoteVideoTiles"),e},e.prototype.getAllVideoTiles=function(){var e=this.videoTileController.getAllVideoTiles();return this.trace("getAllVideoTiles"),e},e.prototype.addVideoTile=function(){var e=this.videoTileController.addVideoTile();return this.trace("addVideoTile",null,e.state()),e},e.prototype.removeVideoTile=function(e){this.videoTileController.removeVideoTile(e),this.trace("removeVideoTile",e)},e.prototype.removeVideoTilesByAttendeeId=function(e){var t=this.videoTileController.removeVideoTilesByAttendeeId(e);return this.trace("removeVideoTilesByAttendeeId",e,t),t},e.prototype.removeAllVideoTiles=function(){this.videoTileController.removeAllVideoTiles(),this.trace("removeAllVideoTiles")},e.prototype.captureVideoTile=function(e){var t=this.videoTileController.captureVideoTile(e);return this.trace("captureVideoTile",e),t},e.prototype.realtimeSubscribeToAttendeeIdPresence=function(e){this.realtimeController.realtimeSubscribeToAttendeeIdPresence(e),this.trace("realtimeSubscribeToAttendeeIdPresence")},e.prototype.realtimeUnsubscribeToAttendeeIdPresence=function(e){this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(e),this.trace("realtimeUnsubscribeToAttendeeIdPresence")},e.prototype.realtimeSetCanUnmuteLocalAudio=function(e){this.realtimeController.realtimeSetCanUnmuteLocalAudio(e),this.trace("realtimeSetCanUnmuteLocalAudio",e)},e.prototype.realtimeSubscribeToSetCanUnmuteLocalAudio=function(e){this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(e),this.trace("realtimeSubscribeToSetCanUnmuteLocalAudio")},e.prototype.realtimeUnsubscribeToSetCanUnmuteLocalAudio=function(e){this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(e)},e.prototype.realtimeCanUnmuteLocalAudio=function(){var e=this.realtimeController.realtimeCanUnmuteLocalAudio();return this.trace("realtimeCanUnmuteLocalAudio",null,e),e},e.prototype.realtimeMuteLocalAudio=function(){this.realtimeController.realtimeMuteLocalAudio(),this.trace("realtimeMuteLocalAudio")},e.prototype.realtimeUnmuteLocalAudio=function(){var e=this.realtimeController.realtimeUnmuteLocalAudio();return this.trace("realtimeUnmuteLocalAudio"),e},e.prototype.realtimeSubscribeToMuteAndUnmuteLocalAudio=function(e){this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(e),this.trace("realtimeSubscribeToMuteAndUnmuteLocalAudio")},e.prototype.realtimeUnsubscribeToMuteAndUnmuteLocalAudio=function(e){this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(e)},e.prototype.realtimeIsLocalAudioMuted=function(){var e=this.realtimeController.realtimeIsLocalAudioMuted();return this.trace("realtimeIsLocalAudioMuted"),e},e.prototype.realtimeSubscribeToVolumeIndicator=function(e,t){this.realtimeController.realtimeSubscribeToVolumeIndicator(e,t),this.trace("realtimeSubscribeToVolumeIndicator",e)},e.prototype.realtimeUnsubscribeFromVolumeIndicator=function(e){this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(e),this.trace("realtimeUnsubscribeFromVolumeIndicator",e)},e.prototype.realtimeSubscribeToLocalSignalStrengthChange=function(e){this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(e),this.trace("realtimeSubscribeToLocalSignalStrengthChange")},e.prototype.realtimeUnsubscribeToLocalSignalStrengthChange=function(e){this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(e),this.trace("realtimeUnsubscribeToLocalSignalStrengthChange")},e.prototype.realtimeSendDataMessage=function(e,t,n){this.realtimeController.realtimeSendDataMessage(e,t,n),this.trace("realtimeSendDataMessage")},e.prototype.realtimeSubscribeToReceiveDataMessage=function(e,t){this.realtimeController.realtimeSubscribeToReceiveDataMessage(e,t),this.trace("realtimeSubscribeToReceiveDataMessage")},e.prototype.realtimeUnsubscribeFromReceiveDataMessage=function(e){this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(e),this.trace("realtimeUnsubscribeFromReceiveDataMessage")},e.prototype.realtimeSubscribeToFatalError=function(e){this.realtimeController.realtimeSubscribeToFatalError(e)},e.prototype.realtimeUnsubscribeToFatalError=function(e){this.realtimeController.realtimeUnsubscribeToFatalError(e)},e.prototype.subscribeToActiveSpeakerDetector=function(e,t,n,r){this.audioVideoController.activeSpeakerDetector.subscribe(e,t,n,r),this.trace("subscribeToActiveSpeakerDetector")},e.prototype.unsubscribeFromActiveSpeakerDetector=function(e){this.audioVideoController.activeSpeakerDetector.unsubscribe(e),this.trace("unsubscribeFromActiveSpeakerDetector")},e.prototype.listAudioInputDevices=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,this.deviceController.listAudioInputDevices()];case 1:return e=t.sent(),this.trace("listAudioInputDevices",null,e),[2,e]}}))}))},e.prototype.listVideoInputDevices=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,this.deviceController.listVideoInputDevices()];case 1:return e=t.sent(),this.trace("listVideoInputDevices",null,e),[2,e]}}))}))},e.prototype.listAudioOutputDevices=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,this.deviceController.listAudioOutputDevices()];case 1:return e=t.sent(),this.trace("listAudioOutputDevices",null,e),[2,e]}}))}))},e.prototype.chooseAudioInputDevice=function(e){var t=this.deviceController.chooseAudioInputDevice(e);return this.trace("chooseAudioInputDevice",e),t},e.prototype.chooseVideoInputDevice=function(e){var t=this.deviceController.chooseVideoInputDevice(e);return this.trace("chooseVideoInputDevice",e),t},e.prototype.chooseAudioOutputDevice=function(e){var t=this.deviceController.chooseAudioOutputDevice(e);return this.trace("chooseAudioOutputDevice",e),t},e.prototype.addDeviceChangeObserver=function(e){this.deviceController.addDeviceChangeObserver(e),this.trace("addDeviceChangeObserver")},e.prototype.removeDeviceChangeObserver=function(e){this.deviceController.removeDeviceChangeObserver(e),this.trace("removeDeviceChangeObserver")},e.prototype.createAnalyserNodeForAudioInput=function(){var e=this.deviceController.createAnalyserNodeForAudioInput();return this.trace("createAnalyserNodeForAudioInput"),e},e.prototype.startVideoPreviewForVideoInput=function(e){this.deviceController.startVideoPreviewForVideoInput(e),this.trace("startVideoPreviewForVideoInput",e.id)},e.prototype.stopVideoPreviewForVideoInput=function(e){this.deviceController.stopVideoPreviewForVideoInput(e),this.trace("stopVideoPreviewForVideoInput",e.id)},e.prototype.setDeviceLabelTrigger=function(e){this.deviceController.setDeviceLabelTrigger(e),this.trace("setDeviceLabelTrigger")},e.prototype.mixIntoAudioInput=function(e){var t=this.deviceController.mixIntoAudioInput(e);return this.trace("mixIntoAudioInput",e.id),t},e.prototype.chooseVideoInputQuality=function(e,t,n,r){this.deviceController.chooseVideoInputQuality(e,t,n,r),this.trace("chooseVideoInputQuality",{width:e,height:t,frameRate:n,maxBandwidthKbps:r})},e.prototype.getVideoInputQualitySettings=function(){var e=this.deviceController.getVideoInputQualitySettings();return this.trace("getVideoInputQualitySettings"),e},e.prototype.enableWebAudio=function(e){this.deviceController.enableWebAudio(e),this.trace("enableWebAudio",e)},e.prototype.startContentShare=function(e){var t=this.contentShareController.startContentShare(e);return this.trace("startContentShare"),t},e.prototype.startContentShareFromScreenCapture=function(e,t){var n=this.contentShareController.startContentShareFromScreenCapture(e,t);return this.trace("startContentShareFromScreenCapture"),n},e.prototype.pauseContentShare=function(){this.contentShareController.pauseContentShare(),this.trace("pauseContentShare")},e.prototype.unpauseContentShare=function(){this.contentShareController.unpauseContentShare(),this.trace("unpauseContentShare")},e.prototype.stopContentShare=function(){this.contentShareController.stopContentShare(),this.trace("stopContentShare")},e.prototype.addContentShareObserver=function(e){this.contentShareController.addContentShareObserver(e),this.trace("addContentShareObserver")},e.prototype.removeContentShareObserver=function(e){this.contentShareController.removeContentShareObserver(e),this.trace("removeContentShareObserver")},e.prototype.trace=function(e,t,n){var r="API/DefaultAudioVideoFacade/"+this.audioVideoController.configuration.meetingId+"/"+this.audioVideoController.configuration.credentials.attendeeId+"/"+e;void 0!==t&&(r+=" "+JSON.stringify(t)),void 0!==n&&(r+=" -> "+JSON.stringify(n)),this.audioVideoController.logger.info(r)},e.prototype.getRemoteVideoSources=function(){var e=this.audioVideoController.getRemoteVideoSources();return this.trace("getRemoteVideoSources",null,e),e},e}();t.default=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(54),c=n(30),u=n(19),l=n(7),d=n(28),f=function(){function e(e,t,n){this.mediaStreamBroker=e,this.contentAudioVideo=t,this.attendeeAudioVideo=n,this.observerQueue=new Set,this.contentAudioVideo.addObserver(this),this.setupContentShareEvents()}return e.createContentShareMeetingSessionConfigure=function(e){var t=new s.default;return t.meetingId=e.meetingId,t.externalMeetingId=e.externalMeetingId,t.urls=e.urls,t.credentials=new c.default,t.credentials.attendeeId=e.credentials.attendeeId+d.default.Modality,t.credentials.externalUserId=e.credentials.externalUserId,t.credentials.joinToken=e.credentials.joinToken+d.default.Modality,t},e.prototype.startContentShare=function(e){return r(this,void 0,void 0,(function(){var t,n=this;return i(this,(function(r){if(!e)return[2];for(this.mediaStreamBroker.mediaStream=e,t=0;t<this.mediaStreamBroker.mediaStream.getTracks().length;t++)this.mediaStreamBroker.mediaStream.getTracks()[t].addEventListener("ended",(function(){n.stopContentShare()}));return this.contentAudioVideo.start(),this.mediaStreamBroker.mediaStream.getVideoTracks().length>0&&this.contentAudioVideo.videoTileController.startLocalVideoTile(),[2]}))}))},e.prototype.startContentShareFromScreenCapture=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,this.mediaStreamBroker.acquireScreenCaptureDisplayInputStream(e,t)];case 1:return n=r.sent(),[4,this.startContentShare(n)];case 2:return r.sent(),[2,n]}}))}))},e.prototype.pauseContentShare=function(){this.mediaStreamBroker.toggleMediaStream(!1)&&this.forEachContentShareObserver((function(e){a.default.of(e.contentShareDidPause).map((function(t){return t.bind(e)()}))}))},e.prototype.unpauseContentShare=function(){this.mediaStreamBroker.toggleMediaStream(!0)&&this.forEachContentShareObserver((function(e){a.default.of(e.contentShareDidUnpause).map((function(t){return t.bind(e)()}))}))},e.prototype.stopContentShare=function(){this.contentAudioVideo.stop(),this.mediaStreamBroker.cleanup()},e.prototype.addContentShareObserver=function(e){this.observerQueue.add(e)},e.prototype.removeContentShareObserver=function(e){this.observerQueue.delete(e)},e.prototype.forEachContentShareObserver=function(e){var t,n,r=this,i=function(t){(new l.default).start((function(){r.observerQueue.has(t)&&e(t)}))};try{for(var a=o(this.observerQueue),s=a.next();!s.done;s=a.next()){i(s.value)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e.prototype.audioVideoDidStop=function(e){this.mediaStreamBroker.cleanup(),this.contentShareTile&&(this.attendeeAudioVideo.videoTileController.removeVideoTile(this.contentShareTile.id()),this.contentShareTile=null),this.forEachContentShareObserver((function(e){a.default.of(e.contentShareDidStop).map((function(t){return t.bind(e)()}))}))},e.prototype.setupContentShareEvents=function(){var e=this;this.attendeeAudioVideo.realtimeController.realtimeSubscribeToAttendeeIdPresence((function(t,n,r,i){var o=new u.default(t).hasModality(u.default.MODALITY_CONTENT),s=new u.default(t).base()===e.attendeeAudioVideo.configuration.credentials.attendeeId;if(o&&s&&n&&!e.contentShareTile){var c=e.mediaStreamBroker.mediaStream;if(c.getVideoTracks().length>0){e.contentShareTile=e.attendeeAudioVideo.videoTileController.addVideoTile();var l,d=c.getVideoTracks()[0],f=void 0,p=void 0;if(d.getSettings)f=(l=d.getSettings()).width,p=l.height;else f=(l=d.getCapabilities()).width,p=l.height;e.contentShareTile.bindVideoStream(e.contentAudioVideo.configuration.credentials.attendeeId,!1,c,f,p,null,e.contentAudioVideo.configuration.credentials.externalUserId)}e.forEachContentShareObserver((function(e){a.default.of(e.contentShareDidStart).map((function(t){return t.bind(e)()}))}))}}))},e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.webSocket=e}return Object.defineProperty(e.prototype,"url",{get:function(){return this.webSocket.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onopen",{get:function(){return this.webSocket.onopen},set:function(e){this.webSocket.onopen=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onerror",{get:function(){return this.webSocket.onerror},set:function(e){this.webSocket.onerror=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onclose",{get:function(){return this.webSocket.onclose},set:function(e){this.webSocket.onclose=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onmessage",{get:function(){return this.webSocket.onmessage},set:function(e){this.webSocket.onmessage=e},enumerable:!1,configurable:!0}),e.prototype.addEventListener=function(e,t,n){this.webSocket.addEventListener(e,t,n)},e.prototype.removeEventListener=function(e,t,n){this.webSocket.removeEventListener(e,t,n)},e.prototype.dispatchEvent=function(e){return this.webSocket.dispatchEvent(e)},e.prototype.send=function(e){this.webSocket.send(e)},e.prototype.close=function(e,t){this.webSocket.close(e,t)},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=function(){function e(t,n,r){this.window=t,this.element=n;var i={isMouseDown:!1};this.mouseDownEventListener=e.mouseDownEventListener(i,r,n),this.mouseMoveEventListener=e.mouseMoveEventListener(i,r,n),this.mouseUpEventListener=e.mouseUpEventListener(i,r,n),n.addEventListener("mousedown",this.mouseDownEventListener),t.addEventListener("mousemove",this.mouseMoveEventListener),t.addEventListener("mouseup",this.mouseUpEventListener)}return e.prototype.unobserve=function(){this.element.removeEventListener("mousedown",this.mouseDownEventListener),this.window.removeEventListener("mousemove",this.mouseMoveEventListener),this.window.removeEventListener("mouseup",this.mouseUpEventListener)},e.elementRelativeCoords=function(e,t){return[e.clientX-t.getBoundingClientRect().left,e.clientY-t.getBoundingClientRect().top]},e.mouseDownEventListener=function(t,n,i){return function(o){t.isMouseDown=!0;var a=e.elementRelativeCoords(o,i);n(t.last={type:r.default.BEGIN,coords:a,last:t.last})}},e.mouseMoveEventListener=function(t,n,i){return function(o){t.isMouseDown&&n(t.last={type:r.default.DRAG,coords:e.elementRelativeCoords(o,i),last:t.last})}},e.mouseUpEventListener=function(t,n,i){return function(o){t.isMouseDown&&(t.isMouseDown=!1,n(t.last={type:r.default.END,coords:e.elementRelativeCoords(o,i),last:t.last}))}},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(162),i=function(){function e(e,t,n,i){this.decoder=null,this.controller=null,this.controller=t,this.decoder=new r.default(e,n,i)}return e.prototype.free=function(){this.decoder.free(),this.decoder=null,this.controller=null},e.prototype.decodeToImageData=function(e){if(this.controller.isInputTooLarge(e.length))throw new Error("buffer too large for jpeg decoder input buffer: "+e.length+" bytes");var t=this.controller.newInternalInputView(),n=e,r=n.length,i=0;for(i=0;i<r;i++)t[i]=n[i];if(!this.decoder.decode(this.controller.inputPointer(),e.length))throw new Error("jpeg decoder failed for input: "+e);var o=this.decoder.width(),a=this.decoder.height(),s=o*a*4,c=this.controller.newInternalOutputView(this.decoder.outputPointer(),s);return new ImageData(c,o,a)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.pointer=0,this.module=null,this.module=e,this.pointer=this.module.wasm().jpegdecoder_new(t,n)}return e.prototype.free=function(){this.module.wasm().__wbg_jpegdecoder_free(this.pointer),this.pointer=0,this.module=null},e.prototype.outputPointer=function(){return this.module.wasm().jpegdecoder_output_ptr(this.pointer)},e.prototype.decode=function(e,t){return 0!==this.module.wasm().jpegdecoder_decode(this.pointer,e,t)},e.prototype.width=function(){return this.module.wasm().jpegdecoder_width(this.pointer)},e.prototype.height=function(){return this.module.wasm().jpegdecoder_height(this.pointer)},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.pointer=0,this.module=null,this.module=e,this.pointer=this.module.wasm().jpegdecoderinput_new(t)}return e.prototype.free=function(){this.module.wasm().__wbg_jpegdecoderinput_free(this.pointer),this.pointer=0,this.module=null},e.prototype.inputPointer=function(){return this.module.wasm().jpegdecoderinput_input_ptr(this.pointer)},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.logger=e,e.debug((function(){return"\nThe JPEGDecoder WebAssembly module uses this software:\njpeg-decoder by Ulf Nilsson, Copyright (c) 2016 The jpeg-decoder Developers, MIT License\nhttps://github.com/kaksmet/jpeg-decoder\n".trim()}))}return e.prototype.module=function(){return new Uint8Array("0061736d0100000001ab818080001660017f006000017f60037f7f7f0060027f7f017f600a7f7f7f7f7f7f7f7f7f7f0060027f7f0060037f7f7f017f60017f017f600000600c7f7f7f7f7f7f7f7f7f7f7f7f0060097f7f7f7f7f7f7f7f7f0060067f7f7f7f7f7f0060037f7e7f0060047f7f7f7f0060057f7f7f7f7f017f60047f7f7f7f017f60057f7f7f7f7f0060077f7f7f7f7f7f7f0060017f017e60077f7f7f7f7f7f7f017f60037e7f7f017f60067f7f7f7f7f7f017f0298808080000103776267105f5f7762696e6467656e5f7468726f77000503f982808000f702020b020d03020b09100510040606060d0a10060515060d05050d0505040303020d040605020a050e060d021303050503020c040503051406030603051105030d0e020d00030e0e0e0d0d000200000e0e0e0e0e020d050e02030004050e070002060202050503030203030205050d050405020202020202020202020302020502050302020200080502050307070f05070203030307030500050002020202000502050302070202000f060703030305020300060203000206020202020202020202020203030707020d000306060d060002030005000003050503000000000000000000000510000000000000050300030507070305050505050505050505030305030202000003020202020202020303030307070f05050303030603020808050303050305050306030300070503020008070808080808080808080808080808080808080808080707070707010707071212121212070712080000080200000000000800000000000000000000000000000005000000000485808080000170015757058380808000010011068980808000017f01418080c0000b0783828080000c066d656d6f72790200046d61696e00d9021b5f5f7762675f6a7065676465636f646572696e7075745f6672656500d501146a7065676465636f646572696e7075745f6e657700ab011a6a7065676465636f646572696e7075745f696e7075745f70747200a501165f5f7762675f6a7065676465636f6465725f6672656500d6010f6a7065676465636f6465725f6e657700a301166a7065676465636f6465725f6f75747075745f707472009001126a7065676465636f6465725f6465636f646500b301116a7065676465636f6465725f776964746800c601126a7065676465636f6465725f68656967687400c701105f5f7762696e6467656e5f737461727400d902099f81808000010041010b569a021e9902c5018b01cd02e70160dd02544ce102c401df02f001e202a202de02a102e002ff01e90270e80222ea0233e7021deb025bec02598702ee029901d901ed02d102ef02d202f302f202cc01309201f002d3028002e9018102ad02d5029002b101f1023bcb018f02d3013c56d402a402f401ee019102f402cd019802930192027c1f9c0239f702d802f60223459601f5029b02a70294010acebb858000f702b13c024a7f017e230041900d6b22032400200141c4006a2d000021040240024002400240024002400240024002402002450d00200441ff01714102470d02200141306a21050c010b200141306a2105200441ff01714102470d040b200341003a00900b200341900c6a2001200341900b6a4101104a20032d00900c4103470d0120032d00900b41ff01460d020c050b200341f0006a10ab022003290370214d2000410c6a4100360200200041003602002000204d3702040c050b200320032903900c37038006200341f8016a20034180066a10a302200320032903f8013703f80120034180066a200341f8016a10f101200041013602002000410c6a20034188066a29030037020020002003290380063702040c040b200341003a00900b200341900c6a2001200341900b6a4101104a20032d00900c4103470d01200341e8006a20032d00900b101b20032d00684105470d020b2003410036028801200341e0006a10ab0220034100360288062003200329036037038006200341b0016a20034180066a4100200141386a2206280200200141c4006a22072d00004102461b10b701200141c9006a2108200141d8006a2109200141cc006a210a200141f4006a210b200141c0006a210c2003419d066a210d20034180066a41146a210e200341f8016a4188046a210f20034180066a410472211020034180066a4103722111200341f8016a4104722112200341f8016a41186a2113200341f8016a410c6a2114200341e8016a4104722115200341900b6a4104722116200341e8016a41026a211720034180066a4106722118200341900c6a41156a211920034180066a41156a211a20034180066a410272211b20034199066a211c20034180066a411a6a211d2003419b066a211e2003419c066a211f2001413e6a21202001413c6a2121200141346a2122200141306a2123200141c8006a2124200141c7006a2125200141c6006a2126200141c5006a2127200141d0006a2128200141d4006a2129200341a0066a212a200141dc006a212b200141e0006a212c200341a60c6a212d200141fc006a212e200141f8006a212f2003419f026a21302003419d026a21312003419c026a213220014183016a213320014184016a21344112213541052136410021370340024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240203541ff01714112470d0020034180066a20011024200341f8016a41086a201141086a290000370300200341f8016a41106a201141106a2d00003a0000200320112900003703f80120032d0080064101460d0120032d008206213820032d00810621350b200320383a00c101200320353a00c001203541ff01712204410f4b0d02024002400240024002400240024002400240024002400240024020040e10000f0511020f10060112070e0e030f04000b20072d00004102470d1620034180066a20014100203810042003280280064101460d1a200341900b6a41046a2239200e41046a2d00003a0000200341900a6a41026a223a200d41026a2d00003a00002003200e2802003602900b2003200d2f00003b01900a20034180066a41086a2235280200213b2003280284062136201c2d00000d1c201d2d0000223c41ff01714102460d1d201e2d0000223d41ff01714101460d1e201f2d0000220441ff01714108470d1f20034180066a41126a2f0100223841ffff0371450d2020034180066a410c6a280200220441044b0d214101200474411a71450d2120034180066a2036200420034180066a41106a223e2f0100223f20381012200341f8016a41106a203e280200360200200341f8016a41086a223e203529030037030020032003290380063703f80120032802f8014101460d222035201241086a290200370300200320122902003703800620034180066a10980120034180066a10dd01024020032802f801450d002012104d0b200341f8016a41026a2240203a2d00003a0000200320392d00003a008406200320032802900b36028006200320032f01900a3b01f801024020072d00004102460d00200541046a2802002239450d00200528020020394104744104109d020b200c200328028006360200200820032f01f8013b0000202020383b01002021203f3b0100200620043602002022203b36020020232036360200200c41046a20032d0084063a0000202441083a00002025203d3a00002026203c3a0000202741003a0000200841026a20402d00003a000020020d24200341106a10ab0241002138203541003602002003200329031037038006200341f8016a20034180066a200410b701200341b0016a10a801200341b0016a10e101200341b0016a41086a203e280200360200200320032903f8013703b001411221350c340b20034180066a2001100a20032f0180064101460d11200341f8016a201b41880410b8011a41002141200341f8016a2142410221430c2e0b203641ff01714107460d310c150b20034180066a2001410d2038101a20032d0080064101460d1120032d00810622044105460d302004417e6a22354100203541ff01714103491b41ff017122354101460d0420354102470d05203441013a00000c300b20034180066a2001103e2003280280064101460d0f200341900b6a41086a201041086a280200360200200320102902003703900b200341900b6a10da02200341900b6a10e8010c2f0b20034180066a200120072d000010062003280280064101460d1020034180066a41186a2239280200213d200e280200213e20034180066a41106a223a280200213820034180066a41086a2236280200213f20034180066a410c6a223c28020021402003280284062104202828020021442029280200214520284200370200200a2802002135200a4104360200200341f8016a41086a223b4100360200200342043703f801202a4200370300201f2035204541900d6c6a36020020392035360200200e2044360200203a2035360200203c2004204041900d6c6a360200203620043602002003203f360284062003200436028006200341f8016a20034180066a10642036203b280200360200200320032903f80137038006024020292802002235450d00200a2802002104203541900d6c21350340200410eb01200441900d6a2104203541f0726a22350d000b0b024020282802002204450d00200a280200200441900d6c4104109d020b200a200329038006370200200a41086a2036280200360200202b2802002135202c280200213f202b42003702002009280200210420094104360200203b4100360200200342043703f801202a4200370300201f2004203f41900d6c6a36020020392004360200200e2035360200203a2004360200203c2038203d41900d6c6a360200203620383602002003203e360284062003203836028006200341f8016a20034180066a10652036203b280200360200200320032903f801370380060240202c2802002235450d0020092802002104203541900d6c21350340200410eb01200441900d6a2104203541f0726a22350d000b0b0240202b2802002204450d002009280200200441900d6c4104109d020b2009200329038006370200200941086a20362802003602000c2e0b20072d000022044102460d13200341f8006a41106a22462802000d0520034180066a10b601200341f8016a20034180066a413810b8011a20032802f8014101460d20200341900c6a2012413410b8011a2046280200450d03200341f8006a10ca0120032802f8012104200341f8006a200341900c6a413410b8011a2004450d042012104d0c040b20034180066a2001102f200341900c6a41086a201041086a290200370300200320102902003703900c20032f0180064101460d1120014180016a20032f0182063b01000c2c0b203341013a00000c2b0b20014182016a20043a00000c2a0b200341f8006a200341900c6a413410b8011a0b20072d000022044102460d1f0b200c2802002136202728000021472021280200214820034180066a2005108f0120034180066a410c6a22492048360200201a2047360000200e20043a000020034180066a41106a22482036360200200341900c6a41106a2036360200200341900c6a41086a223620034180066a41086a224729030037030020032003290380063703900c2003201a2800003602f8012003201a41036a2800003600fb01200341900c6a41146a20043a0000201920032802f801360000201941036a20032800fb0136000020034180066a2001200341900c6a10032003280280064101460d0f200341f8016a2010412810b8011a0240202d2d00004101470d00202e2802000d002036280200213620032802900c210420474100360200200342043703800620034180066a2004200420364104746a109d01200341900b6a41086a2204204728020036020020032003290380063703900b200b10b2010240202f2802002236450d00200b2802002036410c6c4104109d020b200b20032903900b370200200b41086a20042802003602000b20302d00000d20200341d0006a200341f8016a10f601200341c8006a20032802502204200420032802544102746a108e022003280248224a200328024c224b460d21410021430c220b20034180066a41086a20034181026a290000370300200320032900f90137038006200341900c6a20034180066a10e501200041013602002000410c6a200341900c6a41086a290300370200200020032903900c3702040c250b200041013b0104200041013602000c240b20034194066a4101360200200341023602940c2003420237028406200341b0d5c000360280062003200341c0016a3602900c2003200341900c6a36029006200341f8016a20034180066a102e2003418b066a20034180026a280200360000200320032903f80137008306200041003a000420004101360200200041056a2003290080063700002000410c6a20034187066a2900003700000c230b20032802b801450d19200341206a200341b0016a10fa012003280220223820032802242247410c6c6a2136203821040340203620046b412f4d0d18200410ac020d192004410c6a10ac020d19200441186a10ac020d19200441246a2135200441306a2104203510ac02450d000c190b0b20004181043b0104200041013602000c210b203641ff01714107470d1320374101470d13200041810a3b0104200041013602000c200b200341900c6a41086a20034180066a410c6a29020037030020032003290284063703900c200341900b6a200341900c6a10e501200041013602002000410c6a200341900b6a41086a290300370200200020032903900b3702040c1f0b200341f8016a41086a201041086a290200370300200320102902003703f801200341900c6a200341f8016a10e501200041013602002000410c6a200341900c6a41086a290300370200200020032903900c3702040c1e0b200341f8016a41086a20034180066a410c6a29020037030020032003290284063703f801200341900c6a200341f8016a10e501200041013602002000410c6a200341900c6a41086a290300370200200020032903900c3702040c1d0b200341f8016a41086a201041086a290200370300200320102902003703f801200341900c6a200341f8016a10e501200041013602002000410c6a200341900c6a41086a290300370200200020032903900c3702040c1c0b200041013b0104200041013602000c1b0b200341f8016a41da86c000412710a4012003418b066a20034180026a280200360000200320032903f80137008306200041003a000420004101360200200041056a2003290080063700002000410c6a20034187066a2900003700000c1a0b20034180066a41086a200341900c6a41086a290300370300200320032903900c37038006200341f8016a20034180066a10e501200041013602002000410c6a200341f8016a41086a290300370200200020032903f8013702040c190b200341f8016a41b086c000411d10a4012003418b066a20034180026a280200360000200320032903f80137008306200041003a000420004101360200200041056a2003290080063700002000410c6a20034187066a2900003700000c180b200341f8016a41086a201041086a290200370300200320102902003703f801200341900c6a200341f8016a10e501200041013602002000410c6a200341900c6a41086a290300370200200020032903900c3702040c170b200341900b6a41086a201041086a290200370300200320102902003703900b200341900a6a200341900b6a10e501200041013602002000410c6a200341900a6a41086a290300370200200020032903900a3702040c150b200041013b010420004101360200203b0d060c150b20004181023b010420004101360200203b0d050c140b20004181043b010420004101360200203b0d040c130b20004181063b010420004101360200200041066a20043a0000203b0d030c120b200041810a3b010420004101360200203b0d020c110b20004181083b010420004101360200200041066a20043a0000203b0d010c100b20034180066a41086a201241086a2902003703002003201229020037038006200341900c6a20034180066a10e501200041013602002000410c6a200341900c6a41086a290300370200200020032903900c370204024020032802f8010d002012109801201210dd010b203b450d0f0b2036203b4104744104109d020c0e0b200341086a10ab022003290308214d2000410c6a4100360200200041003602002000204d3702040c0d0b200341f8016a41fc85c000413410a4012003418b066a20034180026a280200360000200320032903f80137008306200041003a000420004101360200200041056a2003290080063700002000410c6a20034180066a41076a2900003700000c0c0b20034180066a41086a201241086a2902003703002003201229020037038006200341900b6a20034180066a10e501200041013602002000410c6a200341900b6a41086a290300370200200020032903900b37020420032802f8010d0b201210ca010c0b0b024020042036460d0020382047410c6c6a21350340200410ac020d0220352004410c6a2204470d000b0b200141c4006a2d00004102460d032005280208210420052802002135200341186a200341b0016a10fa012000203520042003280218200328021c2001413c6a2f01002001413e6a2f010020014183016a2d000020014182016a2d00001011200341b0016a10a801200341b0016a10e10120034188016a280200450d10200341f8006a10ca010c100b10e3020b200341f8016a41cd86c000410d10a4012003418b066a20034180026a280200360000200320032903f80137008306200041003a000420004101360200200041056a2003290080063700002000410c6a20034187066a2900003700000c080b41e8d3c000109a01000b41e8d3c000109a01000b410021040c030b410021040c020b410121040c010b410121040b03400240024002400240024002400240024002400240024002400240024002400240024020040e020001010b200341386a200341f8016a10f60120032802382204200328023c41027422356a213802400240024002400240024002400240024002400340203820046b410f4d0d012004280200223641044f0d05200120364103746a41106a290300427f520d02200441046a280200223641044f0d06200120364103746a41106a290300427f520d02200441086a280200223641044f0d07200120364103746a41106a290300427f520d022004410c6a280200223641044f0d08200441106a2104203541706a2135200120364103746a41106a290300427f510d000c020b0b03402035450d022004280200223641044f0d082035417c6a2135200441046a2104200120364103746a41106a290300427f510d000b0b10e302410021040c010b410121040b2046280200450d0520034180066a2001200341900c6a200341f8016a200341f8006a2004100202402003280280064101460d00200320182901003703e8012003201841066a2901003701ee0120032d008506213820032d0084062135200341c8016a41086a2204201741086a280100360200200320172901003703c80120032802c801450d0a20472004280200360200200320032903c80137038006200341306a20034180066a10fe012047280200210420032802840621362003280230214c204841003602002049204c2004410c6c6a3602002047204c36020020032036360284062003204c360280062004450d08410121430c150b200341900b6a41086a201041086a290200370300200320102902003703900b200341900a6a200341900b6a10e501200041013602002000410c6a200341900a6a41086a290300370200200020032903900a370204200341f8016a10db02200341f8016a10dc01201410db02201410dc01201310db02201310dc010c170b41f0d5c00020364104108901000b41f0d5c00020364104108901000b41f0d5c00020364104108901000b41f0d5c00020364104108901000b41f0d5c00020364104108901000b41e8d3c000109a01000b02400240024020430e03010200000b20422f01002104200341900a6a204241026a41800110b8011a024020044101470d00200341900b6a200341900a6a41800110b8011a200341900c6a410041800110cf011a200341d8006a410041c000108d02024020032802582204200328025c22394f0d0003402004410110d0026a22362004490d01200441c0004f0d08200441a89fc0006a2d0000223b413f4b0d09200341900c6a203b4101746a200341900b6a20044101746a2f01003b01002036210420362039490d000b0b20034180066a200341900c6a41800110b8011a418801410410a9022204450d092004428180808010370200200441086a20034180066a41800110b8011a0240200120414102746a41e4006a2236280200223b450d00203b203b2802002239417f6a36020020394101470d00203610d0010b203620043602000b204141016a214120424182016a2242200f470d0c0c140b204a280200213b200341c0006a20322d000020312d0000108c02024020032d0040220420032d004122394f0d002001203b4103746a41106a21360340203b41034b0d082036203629030042012004ad423f838684370300200441016a220441ff01712039490d000b0b204a41046a224a204b470d09410021040c100b2047204c410c6a360200204c2802002204450d00200341900b6a41086a2236204c290204224d370300200341900a6a41086a223b204d37030020482048280200223941016a360200200320043602940b200320393602900b200320032903900b3703900a2036203b290300370300200320032903900a3703900b0240201610ac02450d000340201610da02201610e801204728020022042049280200460d0220472004410c6a36020020042802002239450d0220362004290204224d370300203b204d37030020482048280200220441016a360200200320393602940b200320043602900b200320032903900b3703900a2036203b290300370300200320032903900a3703900b201610ac020d000b0b200341e8016a41086a2036290300370300200320032903900b3703e80120032802ec01450d01200341d8016a41086a223b201541086a280200360200200320152902003703d80120032802e80121042036203b280200360200200320032903d8013703900b200341286a200341b0016a10fe01200328022c223b20044d0d0720032802282004410c6c6a220410da02200410e801200441086a2036280200360200200420032903900b3702002047280200224c2049280200470d090b200341003602940b200341900b6a10e301200341003602ec010b200341e8016a10e30120034180066a105a0b200341f8016a10db02200341f8016a10dc01201410db02201410dc01201310db02201310dc01024020032802940c2204450d0020032802900c20044104744104109d020b203741016a21370c100b41c0d5c000200441c000108901000b41d0d5c000203b41c000108901000b41e0d5c000203b4104108901000b418801410410a502000b41a0d6c0002004203b108901000b410021430c020b410121430c020b410221430c030b410121040c030b410121040c020b410121040c010b410121040c000b0b20032802940c2204450d0020032802900c20044104744104109d020b200341b0016a10a801200341b0016a10e10120034188016a280200450d05200341f8006a10ca010c050b41122135410021380b20032d00c00121360c000b0b200320032903900c37038006200341f8016a20034180066a10a302200320032903f8013703f80120034180066a200341f8016a10f101200041013602002000410c6a20034188066a29030037020020002003290380063702040c010b200341f8016a41ba85c000412310a4012003418b066a20034180026a280200360000200320032903f80137008306200041003a000420004101360200200041056a2003290080063700002000410c6a20034187066a2900003700000b200341900d6a24000bf73102247f017e230041e0036b22062400200620023602c401200620013602c0010240024002400240200328020841054f0d00200641b8016a200310f60120062802b801210220062802bc01210741002101200641003602980320064204370390032006200220074102746a3602dc01200620023602d8012006200641c4016a3602e00120064190036a200641d8016a1071200628029003220820062802980322094104746a210a200628029403210b20062802c001210720082102024002400240024002400240024002400340200a20026b413f4d0d01200820016a2202280200220c41044f0d042007200c4102746a41e4006a280200450d02200241106a280200220c41044f0d052007200c4102746a41e4006a280200450d02200241206a280200220c41044f0d062007200c4102746a41e4006a280200450d02200241306a280200220c41044f0d07200141c0006a2101200241c0006a21022007200c4102746a41e4006a2802000d000c020b0b2009410474210c0340200c2001460d02200820016a280200220241044f0d07200141106a2101200720024102746a41e4006a2802000d000b0b10e30220064190036a418b83c000411f10a401200641e3016a20064198036a28020036000020062006290390033700db01200041003a000420004101360200200041056a20062900d8013700002000410c6a200641df016a290000370000200b450d090c080b024020072d008401450d002003200728024c200741d4006a2802002007280258200741e0006a280200100b0b20032d00240d06200641b0016a2003410c6a10f60120062802b001220c20062802b401220d4102746a21072006200641c0016a3602d801200c2101024002400340200720016b410f4d0d01200641d8016a200110ad010d02200641d8016a200141046a10ad010d02200641d8016a200141086a10ad010d022001410c6a2102200141106a2101200641d8016a200210ad01450d000c020b0b20072001460d07200c200d4102746a21020340200641d8016a200110ad010d012002200141046a2201470d000c080b0b10e30220064190036a41aa83c000412810a401200641e3016a20064198036a28020036000020062006290390033700db01200041003a000420004101360200200041056a20062900d8013700002000410c6a200641df016a290000370000200b0d070c080b41a0d5c000200c4104108901000b41a0d5c000200c4104108901000b41a0d5c000200c4104108901000b41a0d5c000200c4104108901000b41a0d5c00020024104108901000b41cb82c00041c0004180d4c00010d101000b0240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240200341256a2d00004102490d00200641a8016a200341186a10f60120062802a801220c20062802ac01220d4102746a21072006200641c0016a3602d801200c210102400340200720016b410f4d0d01200641d8016a200110ae010d03200641d8016a200141046a10ae010d03200641d8016a200141086a10ae010d032001410c6a2102200141106a2101200641d8016a200210ae01450d000c030b0b20072001460d00200c200d4102746a21020340200641d8016a200110ae010d022002200141046a2201470d000b0b02402005450d002008200a460d002009410474210e4100210c200641ec016a210f200641ea016a2110200641e9016a2111200641d8016a41106a211220064190036a410172221341076a21144100210d03402008200c6a2201280200220741034b0d2420062802c00120074102746a41e4006a2802002202450d262001410a6a2f01002115200141086a2f01002116200141066a2f01002117200141046a2f010021182001410e6a2d000021192001410d6a2d0000211a2001410c6a2d0000210120022002280200221b41016a360200201b417f4c0d25200f2002360200201020193a00002011201a3a0000201220013a0000200641d8016a410e6a20153b0100200641d8016a410c6a20163b0100200641d8016a410a6a20173b0100200641d8016a41086a20183b0100200620073602dc012006200d3602d80120064190036a2004200641d8016a10a101200620132900003703b803200620142900003700bf0320062d00900322014104470d28200d41016a210d200e200c41106a220c470d000b0b200641003602e001200642023703d801200641d8016a2008200a1063200641d0016a20062802e001360200200620062903d8013703c80120062802c4012d0016211b200641d8016a410041800110cf011a200641d8026a108502200642003703e80220062802c0012f018001211c200641003a00f502200641003b01f602200641a0016a2009410010762006410036028003200620062903a0013703f8020240201b4101460d002005450d002009410474220c450d00200841086a2101034020064198016a20012f0100200141066a2d00006c410674220d4101108001200628029c01211520062802980121160240200641f8026a41086a2202280200220720062802fc02470d00200641f8026a2007410110bb01200228020021070b20062802f8022007410c6c6a2207200d36020820072015360204200720163602002002200228020041016a360200200141106a2101200c41706a220c0d000b0b20062802c401220141126a2f0100221d450d022009410474211e2008410e6a211f2003410c6a2120200341186a210f20064190036a410172210d200641b8036a410472212120064190036a41086a2122200641b8036a410172222341076a212420094102492118200341266a2113200341276a2110200341256a2111200341246a2112410021150c010b10e30220064190036a41d283c000412810a401200641e3016a20064198036a28020036000020062006290390033700db01200041003a000420004101360200200041056a20062900d8013700002000410c6a200641df016a290000370000200b0d260c270b0340024020012f01102225450d002015410674212641002117034002402008200a460d004100210220082107034020064190016a200641c8016a10f901200628029401220120024d0d240240200628029001200241017422146a2f01002216450d00200641e8026a20146a2127410021010340024002400240024020180d002007410d6a2d0000220c450d012007410e6a2d0000221a20156c200141ffff0371200c6e22196a210920012019200c6c6b200c20176c6a210c0c020b200741086a2f0100210c20062802c4012f0110210920064188016a200641c8016a10f90102400240200628028c01221920024d0d00200c450d012001201520096c20176a20062802880120146a2f01006c6a22092009200c6e2209200c6c6b220c41037441f8ff0371200741046a2f01004f0d04200941037441f8ff0371200741066a2f01004f0d042007410e6a2d0000211a0c030b4190d6c00020022019108901000b41b8d4c000109a01000b41a0d4c000109a01000b200741086a2f01002219200941ffff03716c200c41ffff03716a410674210c02400240201b4101470d0020062802c0012109200641f8006a200310f601200628027c221920024d0d19200941fc006a280200221a200628027820024102746a28020022194d0d1a200641f0006a20092802742019410c6c6a10fc01200c41c0006a2109200c4140460d17200628027422192009490d182006280270200c4101746a21090c010b200641d8016a21092005450d00200641f8026a41086a280200220920024d0d1f20064180016a20062802f8022002410c6c6a10fc01200c2026201a41ff01716c20196c6b220c41c0006a2109200c4140460d2020062802840122192009490d21200628028001200c4101746a21090b024020132d0000450d0020062802c001210c200641e8006a200f10f601200628026c221920024d0d14200c41e0006a280200221a200628026820024102746a28020022194d0d1520064190036a200c200941c000200641d8026a4100200c280258201941900d6c6a221920192f018c014102461b20122d000020112d000020102d0000200641f6026a100c2006200d2900003703d0032006200d41076a2900003700d70320062d009003220c4104460d010c0a0b20062802c001210c200641e0006a202010f6012006280264221920024d0d19200c41d4006a280200220e20062802602002410274221a6a28020022194d0d1a200c28024c201941900d6c6a220e2f018c01212820062802c0012119200641d8006a200f10f601200628025c222920024d0d1b201941e0006a28020022292006280258201a6a280200221a4d0d1c200241044f0d1d20064190036a200c200941c000200641d8026a4100200e20284102461b41002019280258201a41900d6c6a221920192f018c014102461b20122d000020112d000020102d0000200641f6026a202710082006200d2900003703d0032006200d41076a2900003700d70320062d009003220c4104470d0a0b200141016a22012016490d000b0b200241016a2102200741106a2207200a470d000b0b024020062802c00122022f018001450d00410021010240201720062802c40122072f0110417f6a41ffff0371470d002015200741126a2f0100417f6a41ffff03714621010b201c417f6a221c41ffff03710d0020010d0020064190036a200641d8026a20021077200641b8036a41106a20064190036a41106a280200360200200641b8036a41086a202229030037030020062006290390033703b80320062d00b8034101460d0a20062d00ba03210120062d00b9032202411f714104470d0b200620013a008803200141ff017120062d00f502470d0c200641d8026a108602200641003b01f602200642003703e802200620062d00f50241016a4107713a00f50220062802c0012f018001211c20062d00b803450d002021104d0b201741016a22172025490d000b0b02402005450d002008200a460d004108210c41002109201e2119201f21024100210703402002417a6a2f010020022d00006c410674210102400240201b4101470d0020062802c0012116200641286a200310f601200628022c221720074d0d1e201641fc006a280200221a200628022820096a28020022174d0d1f200641206a20162802742017410c6c6a10fb01200120156c221620016a22172016490d202006280224221a2017490d2120062802202117200641186a2001410010800120224100360200200620062903183703900320064190036a201720164101746a2216201620014101746a109c0120222802002116200628029403210120062802900321170c010b200641f8026a41086a280200221620074d0d2120062802f8022116200641306a200141011080012016200c6a221728020021162006280230211a20062802342114201720013602002017417c6a220e2802002101200e2014360200201741786a221428020021172014201a3602000b20064190036a410c6a20163602002022200136020020062017360294032006200736029003200641b8036a200420064190036a10b401200620232900003703d003200620242900003700d70320062d00b80322014104470d07200741016a2107200241106a2102200941046a2109200c410c6a210c201941706a22190d000b0b201541016a2215201d4f0d0120062802c40121010c000b0b20064190036a200641d8026a20062802c001107720062d0090034101470d02200641b8036a41086a20064190036a410c6a29020037030020062006290294033703b803200641d0036a200641b8036a10e501200041013602002000410c6a200641d0036a41086a290300370200200020062903d0033702040c220b20064190036a41086a20062900d7033700002006200c3a009003200620062903d00337009103200641b8036a20064190036a10e501200041013602002000410c6a200641b8036a41086a290300370200200020062903b8033702040c210b20064190036a41086a20062900d7033700002006200c3a009003200620062903d00337009103200641b8036a20064190036a10e501200041013602002000410c6a200641b8036a41086a290300370200200020062903b8033702040c200b20062d009203210d20062d0091032115024002402005450d00200641106a10ab024100210220064100360298032006200629031037039003200641a8036a20064190036a20062802c40128020810b701200641086a200310f6010240200628020c2201450d002006280208210720014102742103200641b8036a410472210a03402007280200210120064190036a2004200210b001200641b8036a41106a20064190036a41106a280200360200200641b8036a41086a20064190036a41086a220c29030037030020062006290390033703b80320062802b8034101460d05200c200a41086a2802003602002006200a290200370390032006200641a8036a10fe012006280204220920014d0d1e20062802002001410c6c6a220110da02200110e801200141086a200c2802003602002001200629039003370200024020062802b803450d00200a104d0b200241016a2102200741046a21072003417c6a22030d000b0b2006419a036a200641b0036a280200360100200020153a000420004100360200200041056a200d3a0000200620062903a80337019203200041066a2006290190033701002000410c6a20064190036a41066a2901003701000c010b200020153a000420004100360200200041086a4100360200200041056a200d3a00000b200641f8026a10b201024020062802fc022201450d0020062802f8022001410c6c4104109d020b200641c8016a10e402200641c8016a10df01200b450d222008200b4104744104109d020c220b20064190036a41086a20062900d703370000200620013a009003200620062903d00337009103200641b8036a20064190036a10e501200041013602002000410c6a200641b8036a41086a290300370200200020062903b8033702040c1e0b20064190036a41086a200a41086a2902003703002006200a29020037039003200641d0036a20064190036a10e501200041013602002000410c6a200641d0036a41086a290300370200200020062903d003370204024020062802b8030d00200a10da02200a10e8010b200641a8036a10a801200641a8036a10e1010c1d0b20064190036a41086a202141086a2902003703002006202129020037039003200641d0036a20064190036a10e501200041013602002000410c6a200641d0036a41086a290300370200200020062903d0033702040c1c0b20024112470d01200641c0006a200641f5026a4101108a02200641a4036a4101360200200642023702940320064190d5c00036029003200620062903403703a8032006200641a8036a3602a003200641d0036a20064190036a102e2006419b036a200641d8036a280200360000200620062903d00337009303200041003a000420004101360200200041056a2006290090033700002000410c6a20064197036a2900003700000c020b200641d0006a20064188036a4101108a022006290350212a200641c8006a200641f5026a4101108a02200641a4036a41023602002006202a3703d0032006420337029403200641f8d4c00036029003200620062903483703d8032006200641d0036a3602a003200641a8036a20064190036a102e2006419b036a200641b0036a280200360000200620062903a80337009303200041003a000420004101360200200041056a2006290090033700002000410c6a20064197036a2900003700000c010b200620013a008903200620023a008803200641386a200641f5026a4101108a02200641a4036a4102360200200641023602d4032006420337029403200641e0d4c00036029003200620062903383703d803200620064188036a3602d0032006200641d0036a3602a003200641a8036a20064190036a102e2006419b036a200641b0036a280200360000200620062903a80337009303200041003a000420004101360200200041056a2006290090033700002000410c6a20064197036a2900003700000b20062d00b803450d182021104d0c180b4190d6c00020022019108901000b4190d6c0002019201a108901000b41402009108a01000b20092019108801000b4190d6c00020022019108901000b41a0d6c0002019201a108901000b4190d6c00020022019108901000b4190d6c0002019200e108901000b4190d6c00020022029108901000b4190d6c000201a2029108901000b41d0d4c00020024104108901000b41a0d6c00020022009108901000b41402009108a01000b20092019108801000b4190d6c00020072017108901000b4190d6c0002017201a108901000b20162017108a01000b2017201a108801000b41a0d6c00020072016108901000b41a0d6c00020012009108901000b4190d6c00020022001108901000b4190d4c00020074104108901000b000b41e8d3c000109a01000b200641f8026a10b201024020062802fc022201450d0020062802f8022001410c6c4104109d020b200641c8016a10e402200641c8016a10df01200b0d010c020b200641d8016a41086a20062900bf03370000200620013a00d801200620062903b8033700d90120064190036a200641d8016a10e501200041013602002000410c6a20064190036a41086a2903003702002000200629039003370204200b450d010b2008200b4104744104109d020b200641e0036a24000b8022020a7f017e230041b0026b22032400200320023602a40120034188026a200141072003102a024002402003280288024101470d00200341f8016a41086a20034188026a410c6a2902003703002003200329028c023703f801200341a8016a200341f8016a10e501200041013602002000410c6a200341a8016a41086a290300370200200020032903a8013702040c010b200328028c022104200341003a00af02200341a8016a2001200341af026a4101104a0240024020032d00a8014103470d00200320032d00af0222023a00bf012002417f6a41ff01714104490d01200341086a200341bf016a4101108a022003419c026a41013602002003420237028c02200341b0d8c00036028802200320032903083703a8012003200341a8016a36029802200341f8016a20034188026a102e20034193026a20034180026a280200360000200320032903f80137008b02200041003a000420004101360200200041056a2003290088023700002000410c6a2003418f026a2900003700000c020b200320032903a80137038802200341f8016a20034188026a10a302200320032903f8013703f80120034188026a200341f8016a10f101200041013602002000410c6a20034190026a29030037020020002003290388023702040c010b024002400240024002400240024002400240024002400240024002400240024002402004200241017441046a470d0020034198016a200241001074200341003602c80120032003290398013703c00120034190016a20032d00bf0141001074200341003602d80120032003290390013703d00120034188016a20032d00bf0141001074200341003602e80120032003290388013703e00120034180016a410020032d00bf01108c02024020032d008001220520032d00810122064f0d00200341c0016a41086a21070340200341003a00af02200341a8016a2001200341af026a4101104a20032d00a8014103470d08200541016a2105200320032d00af0222083a00f60120032802a40122042802002202200428020841047422096a210a41002104024002400340200a20026b413f4d0d0120042002410c6a2d0000220b200841ff0171220c476a2104200b200c460d0220042002411c6a2d0000220b200c476a2104200b200c460d0220042002412c6a2d0000220b200c476a2104200b200c460d0220042002413c6a2d0000220b200c476a2104200941406a2109200241c0006a2102200b200c470d000c020b0b410120046b210403402009450d062004417f6a2104200941706a210920022d000c210c200241106a2102200c200841ff0171220b470d000b200c200b4641016a41017120046b21040b2003200410cf023602f001200341f0006a200341c0016a10f601200341f0016a2003280270200328027410610d0920032802f0012109200341e8006a200341c0016a10f6014100210402402003280268220b450d00200328026c220c450d00200b2104200c4101460d00200b41046a2102200c410274417c6a210c200b2104034020042002200428020020022802004b1b2104200241046a2102200c417c6a220c0d000b0b2009200441d490c00020041b280200490d0a200341003a00af02200341a8016a2001200341af026a4101104a20032d00a8014103470d0b200320032d00af0222024104763a00f70120032002410f7122043a00af022002413f4b0d0620032802a4012d0014210c024020024120490d00200c41ff01710d070b200441034b0d0c200441014b200c41ff0171410047710d0c20032802f00121020240200728020020032802c401470d00200341c0016a41011096020b200341e0006a200341c0016a10f701200328026020072802004102746a20023602002007200728020041016a36020020032d00f70121040240200341d0016a41086a220228020020032802d401470d00200341d0016a41011096020b200341d8006a200341d0016a10f701200328025820022802004102746a20043602002002200228020041016a36020020032d00af0221040240200341e0016a41086a220228020020032802e401470d00200341e0016a41011096020b200341d0006a200341e0016a10f701200328025020022802004102746a20043602002002200228020041016a360200200541ff01712006490d000b0b200341c8006a200341c0016a10f6012003200328024822023602880220032002200328024c4102746a36028c022003200341a4016a3602900220034188026a4100108201410b490d0120032d00bf0141ff017141014d0d01200341f8016a41ab92c00041c10010a40120034193026a20034180026a280200360000200320032903f80137008b02200041003a000420004101360200200041056a2003290088023700002000410c6a2003418f026a2900003700000c100b200341f8016a41ad8dc000411510a40120034193026a20034180026a280200360000200320032903f80137008b02200041003a000420004101360200200041056a2003290088023700002000410c6a2003418f026a2900003700000c100b200341003a00af02200341a8016a2001200341af026a4101104a20032d00a8014103470d01200320032d00af0222023a00f601200341003a00af02200341a8016a2001200341af026a4101104a20032d00a8014103470d03200320032d00af0222043a00f701200341003a00af02200341a8016a2001200341af026a4101104a20032d00a8014103470d09200320032d00af02220c41047622093a00af022003200c410f7122013a00f00120032802a4012d00164101470d0a0240200441ff0171220b413f4b0d00200241ff0171200b4b0d00200441ff0171450d0c200241ff01710d0c0b200341306a200341f6016a4101108a022003290330210d200341286a200341f7016a4101108a022003419c026a41023602002003200d3703f8012003420237028c02200341e8d8c0003602880220032003290328370380022003200341f8016a36029802200341a8016a20034188026a102e20034193026a200341b0016a280200360000200320032903a80137008b02200041003a000420004101360200200041056a2003290088023700002000410c6a2003418f026a2900003700000c0e0b200341f8006a200341f6016a4101108a022003419c026a41013602002003420237028c02200341d8d8c00036028802200320032903783703a8012003200341a8016a36029802200341f8016a20034188026a102e20034193026a20034180026a280200360000200320032903f80137008b02200041003a000420004101360200200041056a2003290088023700002000410c6a2003418f026a2900003700000c0d0b200320032903a80137038802200341f8016a20034188026a10a302200320032903f8013703f80120034188026a200341f8016a10f101200041013602002000410c6a20034190026a29030037020020002003290388023702040c0c0b200341186a200341f7016a4101108a022003419c026a41013602002003420137028c02200341c8d8c00036028802200320032903183703a8012003200341a8016a36029802200341f8016a20034188026a102e20034193026a20034180026a280200360000200320032903f80137008b02200041003a000420004101360200200041056a2003290088023700002000410c6a2003418f026a2900003700000c0b0b200320032903a80137038802200341f8016a20034188026a10a302200320032903f8013703f80120034188026a200341f8016a10f101200041013602002000410c6a20034190026a29030037020020002003290388023702040c0a0b200320032903a80137038802200341f8016a20034188026a10a302200320032903f8013703f80120034188026a200341f8016a10f101200041013602002000410c6a20034190026a29030037020020002003290388023702040c090b200341106a200341f6016a4101108a022003419c026a41013602002003420137028c02200341c0d8c00036028802200320032903103703a8012003200341a8016a36029802200341f8016a20034188026a102e20034193026a20034180026a280200360000200320032903f80137008b02200041003a000420004101360200200041056a2003290088023700002000410c6a2003418f026a2900003700000c080b200341f8016a41d890c00041c60010a40120034193026a20034180026a280200360000200320032903f80137008b02200041003a000420004101360200200041056a2003290088023700002000410c6a2003418f026a2900003700000c070b200320032903a80137038802200341f8016a20034188026a10a302200320032903f8013703f80120034188026a200341f8016a10f101200041013602002000410c6a20034190026a29030037020020002003290388023702040c060b200341206a200341af026a4101108a022003419c026a41013602002003420137028c02200341d0d8c00036028802200320032903203703a8012003200341a8016a36029802200341f8016a20034188026a102e20034193026a20034180026a280200360000200320032903f80137008b02200041003a000420004101360200200041056a2003290088023700002000410c6a2003418f026a2900003700000c050b200320032903a80137038802200341f8016a20034188026a10a302200320032903f8013703f80120034188026a200341f8016a10f101200041013602002000410c6a20034190026a29030037020020002003290388023702040c040b0240200241ff01710d00200441ff0171413f470d002001200972450d02200341f8016a419b95c000413f10a40120034193026a20034180026a280200360000200320032903f80137008b02200041003a000420004101360200200041056a2003290088023700002000410c6a2003418f026a2900003700000c040b200341f8016a41e294c000413910a40120034193026a20034180026a280200360000200320032903f80137008b02200041003a000420004101360200200041056a2003290088023700002000410c6a2003418f026a2900003700000c030b024020032d00bf014101460d00200241ff0171450d00200341f8016a419b93c00041cf0010a40120034193026a20034180026a280200360000200320032903f80137008b02200041003a000420004101360200200041056a2003290088023700002000410c6a2003418f026a2900003700000c030b200c41df014b0d012001410e4f0d012009450d002009200141016a460d00200341f8016a419f94c00041c30010a40120034193026a20034180026a280200360000200320032903f80137008b02200041003a000420004101360200200041056a2003290088023700002000410c6a2003418f026a2900003700000c020b20034188026a41086a200341c0016a41086a2802003602002003419c026a200341d0016a41086a280200360200200341a8026a200341e0016a41086a280200360200200320032903c00137038802200320032903d00137029402200320032903e0013703a002200041046a20034188026a412410b8011a2000412b6a20013a00002000412a6a20093a0000200041296a200441016a3a0000200041286a20023a0000200041003602000c020b200341c0006a200341af026a4101108a022003290340210d200341386a200341f0016a4101108a022003419c026a41023602002003200d3703f8012003420237028c02200341f8d8c0003602880220032003290338370380022003200341f8016a36029802200341a8016a20034188026a102e20034193026a200341b0016a280200360000200320032903a80137008b02200041003a000420004101360200200041056a2003290088023700002000410c6a2003418f026a2900003700000b200341e0016a10db02200341e0016a10dc01200341d0016a10db02200341d0016a10dc01200341c0016a10db02200341c0016a10dc010b200341b0026a24000bde1e02117f057d23004190016b22042400200441e8006a200120022003102a0240024020042802684101470d00200441d0006a41086a200441e8006a410c6a2902003703002004200429026c370350200441c0006a200441d0006a10e501200041013602002000410c6a200441c0006a41086a290300370200200020042903403702040c010b0240200428026c220541064b0d00200441d0006a41ad8dc000411510a401200441f3006a200441d8006a2802003600002004200429035037006b200041003a000420004101360200200041056a20042900683700002000410c6a200441ef006a2900003700000c010b02400240024002400240200241ff01710d00200341ff01712206410f4b0d0041002107024041012006742206418f1c710d00200641e0c10371450d01410121070b200341ff01712206410f4b0d010240024002404101200674220841a3c400710d00200841c4880171450d01410121090c020b410021090c010b41012006744188910271450d02410221090b410021060240200341ff017122084104490d00024020084104460d0041002106200341ff01714108490d010b41012106200341ff0171410c4b0d00200341776a41ff017141034f0d030b200441003a008701200441c0006a200120044187016a4101104a0240024002400240024002400240024020042d00404103470d0020032002722102200420042d00870122033a006320034108460d022003410c470d01200241ff01710d02200441d0006a41e08dc000413210a401200441f3006a200441d8006a2802003600002004200429035037006b200041003a000420004101360200200041056a20042900683700002000410c6a200441ef006a2900003700000c0d0b20042004290340370368200441d0006a200441e8006a10a30220042004290350370350200441e8006a200441d0006a10f101200041013602002000410c6a200441f0006a290300370200200020042903683702040c0c0b20094102470d010b200441003b018801200441c0006a200120044188016a4102104a0240024020042d00404103470d0020042f0188012103200441003b018801200441c0006a200120044188016a4102104a20042d00404103470d0120042f0188012208450d03200441003a008701200441c0006a200120044187016a4101104a20042d00404103470d0420042d008701220a450d0520094101470d06200a4105490d06200441d0006a41d08ec000412d10a401200441f3006a200441d8006a2802003600002004200429035037006b200041003a000420004101360200200041056a20042900683700002000410c6a200441ef006a2900003700000c0c0b20042004290340370368200441d0006a200441e8006a10a30220042004290350370350200441e8006a200441d0006a10f101200041013602002000410c6a200441f0006a290300370200200020042903683702040c0b0b20042004290340370368200441d0006a200441e8006a10a30220042004290350370350200441e8006a200441d0006a10f101200041013602002000410c6a200441e8006a41086a290300370200200020042903683702040c0a0b200441386a200441e3006a4101108a02200441fc006a41013602002004420237026c200441e0d7c000360268200420042903383703402004200441c0006a360278200441d0006a200441e8006a102e200441f3006a200441d8006a2802003600002004200429035037006b200041003a000420004101360200200041056a20042900683700002000410c6a200441ef006a2900003700000c090b200441d0006a41928ec000411a10a401200441f3006a200441d8006a2802003600002004200429035037006b200041003a000420004101360200200041056a20042900683700002000410c6a200441ef006a2900003700000c080b20042004290340370368200441d0006a200441e8006a10a30220042004290350370350200441e8006a200441d0006a10f101200041013602002000410c6a200441f0006a290300370200200020042903683702040c070b200441d0006a41ac8ec000412410a401200441f3006a200441d8006a2802003600002004200429035037006b200041003a000420004101360200200041056a20042900683700002000410c6a200441ef006a2900003700000c060b02400240024002400240024002400240024002402005200a41036c41066a470d00200441306a200a41001075200441003602482004200428023436024420042004280230220b360240200441286a4100200a108c0220042d0028220c20042d0029220d4f0d0d20034118742003410874418080fc077172411076210e2008411874200841087472411076210f20094102462110200441c8006a2111410021120340200441003a00870120044188016a200120044187016a4101104a20042d0088014103470d03200c41016a210c200420042d00870122133a0064200b201241047422086a2114200b210302400340201420036b413f4d0d012003410c6a2d0000201341ff01712205460d042003411c6a2d00002005460d042003412c6a2d00002005460d042003413c6a210a200841406a2108200341c0006a2103200a2d00002005470d000c040b0b024003402008450d01200841706a210820032d000c2105200341106a21032005201341ff0171460d040c000b0b200441003a00870120044188016a200120044187016a4101104a20042d0088014103470d04200420042d008701220341047622053a006520042003410f7122083a0066200341cf004b0d052005450d052008417f6a41ff017141034b0d06200441003a00870120044188016a200120044187016a4101104a20042d0088014103470d07200420042d00870122053a0067200541034b0d0820102005410047710d0820042d0066210a20042d0065211320042d006421140240024020122004280244470d00200441c0006a2012410110bc01201128020021082004280240210b0c010b201221080b200b20084104746a2203200a3a000e200320133a000d200320143a000c20034200370204200320053602002011200841016a2212360200200c41ff0171200d490d000b2012450d0d200428024022142d000d2103201441106a201420124104746a460d08200841047421052014411d6a21010340200320012d0000220a200a200341ff0171491b2103200141106a2101200541706a22050d000b2008410474210a2014411e6a210520142d000e21010340200120052d000022132013200141ff0171491b2101200541106a2105200a41706a220a0d000c0a0b0b200441d0006a41ad8dc000411510a401200441f3006a200441d8006a2802003600002004200429035037006b200041003a000420004101360200200041056a20042900683700002000410c6a200441ef006a2900003700000c0e0b10e302200441086a200441e4006a4101108a02200441fc006a41013602002004420137026c200441f0d7c0003602682004200429030837038801200420044188016a360278200441d0006a200441e8006a102e200441f3006a200441d8006a2802003600002004200429035037006b200041003a000420004101360200200041056a20042900683700002000410c6a200441ef006a2900003700000c0c0b2004200429038801370368200441d0006a200441e8006a10a30220042004290350370350200441e8006a200441d0006a10f101200041013602002000410c6a200441f0006a290300370200200020042903683702040c0b0b2004200429038801370368200441d0006a200441e8006a10a30220042004290350370350200441e8006a200441d0006a10f101200041013602002000410c6a200441f0006a290300370200200020042903683702040c0a0b200441106a200441e5006a4101108a02200441fc006a41013602002004420137026c200441f8d7c0003602682004200429031037038801200420044188016a360278200441d0006a200441e8006a102e200441f3006a200441d8006a2802003600002004200429035037006b200041003a000420004101360200200041056a20042900683700002000410c6a200441ef006a2900003700000c090b200441186a200441e6006a4101108a02200441fc006a41013602002004420137026c20044180d8c0003602682004200429031837038801200420044188016a360278200441d0006a200441e8006a102e200441f3006a200441d8006a2802003600002004200429035037006b200041003a000420004101360200200041056a20042900683700002000410c6a200441ef006a2900003700000c080b2004200429038801370368200441d0006a200441e8006a10a30220042004290350370350200441e8006a200441d0006a10f101200041013602002000410c6a200441f0006a290300370200200020042903683702040c070b200441206a200441e7006a4101108a02200441fc006a41013602002004420137026c20044188d8c0003602682004200429032037038801200420044188016a360278200441d0006a200441e8006a102e200441f3006a200441d8006a2802003600002004200429035037006b200041003a000420004101360200200041056a20042900683700002000410c6a200441ef006a2900003700000c060b20142d000e21010b02400240200eb32215200141ff0171b32216430000004194958d2217430000804f5d2017430000000060710d00410021130c010b2017a921130b2008410474210102400240200fb32218200341ff0171b32219430000004194958d2217430000804f5d2017430000000060710d004100210b0c010b2017a9210b0b200141106a210c410021010340201420016a2203410a6a2003410e6a2d0000220520136c3b0100200341086a2003410d6a2d00002208200b6c3b0100200341046a210a024002402008b32019952018948d2217430000804f5d2017430000000060710d00410021080c010b2017a921080b200a20083b0100200341066a2103024002402005b32016952015948d2217430000804f5d2017430000000060710d00410021050c010b2017a921050b200320053b0100200c200141106a2201470d000b20002004290340370204200041003602002000411c6a20042d00633a00002000411b6a20063a00002000411a6a20093a0000200041196a20073a0000200041166a20133b0100200041146a200b3b0100200041126a200e3b0100200041106a200f3b01002000410c6a200441c8006a280200360200200041186a200241ff0171453a00000c050b41c28dc000410e41a0d8c00010d101000b41c28dc000410e41d0d7c00010d101000b41c28dc000410e4190d8c00010d101000b4188d9c000109a01000b20042802442200450d00200428024020004104744104109d020b20044190016a24000be51902087f017e0240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240200141f4014b0d002000280200220241102001410b6a4178712001410b491b22034103762204411f712205762201410371450d0120002001417f7341017120046a22034103746a220541106a280200220141086a210620012802082204200541086a2205460d022004200536020c200541086a20043602000c030b41002102200141404f0d1c2001410b6a2201417871210320002802042207450d0941002108024020014108762201450d00411f2108200341ffffff074b0d002003412620016722016b411f7176410171411f20016b4101747221080b410020036b2104200020084102746a4190026a2802002201450d064100210520034100411920084101766b411f712008411f461b7421024100210603400240200128020441787122092003490d00200920036b220920044f0d0020092104200121062009450d060b200141146a28020022092005200920012002411d764104716a41106a2802002201471b200520091b21052002410174210220010d000b2005450d05200521010c070b20032000280290034d0d082001450d022000200120057441022005742201410020016b72712201410020016b716822044103746a220641106a28020022012802082205200641086a2206460d0a2005200636020c200641086a20053602000c0b0b20002002417e200377713602000b200120034103742203410372360204200120036a2201200128020441017236020420060f0b20002802042201450d0520002001410020016b71684102746a4190026a280200220628020441787120036b21052006210220062802102201450d14410121040c150b41002104200121060c020b20060d020b4100210641022008411f71742201410020016b722007712201450d0220002001410020016b71684102746a4190026a2802002201450d020b03402001280204417871220520034f200520036b22092004497121020240200128021022050d00200141146a28020021050b2001200620021b21062009200420021b21042005210120050d000b2006450d010b20002802900322012003490d012004200120036b490d010b0240024002400240200028029003220420034f0d00200028029403220120034d0d0120004194036a200120036b22043602002000200028029c03220120036a220536029c032005200441017236020420012003410372360204200141086a0f0b2000280298032101200420036b220541104f0d0120004198036a410036020020004190036a410036020020012004410372360204200120046a220441046a2103200428020441017221040c020b41002102200341af80046a220441107640002201417f460d1420014110742206450d14200020002802a00320044180807c7122086a22013602a003200020002802a4032204200120012004491b3602a403200028029c032204450d09200041a8036a22072101034020012802002205200128020422096a2006460d0b200128020822010d000c130b0b20004190036a200536020020004198036a200120036a220236020020022005410172360204200120046a200536020020034103722104200141046a21030b20032004360200200141086a0f0b2000200610362004410f4b0d022006200420036a2201410372360204200620016a220120012802044101723602040c0c0b20002002417e200477713602000b200141086a210520012003410372360204200120036a22022004410374220420036b2203410172360204200120046a200336020020004190036a22062802002201450d032000200141037622094103746a41086a210420002802980321012000280200220841012009411f7174220971450d01200428020821090c020b20062003410372360204200620036a22012004410172360204200120046a2004360200200441ff014b0d052000200441037622044103746a41086a21032000280200220541012004411f7174220471450d07200328020821040c080b20002008200972360200200421090b200420013602082009200136020c2001200436020c200120093602080b20002002360298032006200336020020050f0b0240024020002802bc032201450d00200120064d0d010b200041bc036a20063602000b200041ff1f3602c003200020063602a80341002101200041b4036a4100360200200041ac036a20083602000340200020016a220441106a200441086a2205360200200441146a2005360200200141086a2201418002470d000b20004194036a200841586a22013602002000419c036a200636020020062001410172360204200620016a4128360204200041808080013602b8030c090b200128020c450d010c070b20002001200410310c030b200620044d0d05200520044b0d05200141046a200920086a3602002000419c036a220120012802002201410f6a417871220441786a220536020020004194036a2206200628020020086a2206200141086a20046b6a220436020020052004410172360204200120066a4128360204200041808080013602b8030c060b20002005200472360200200321040b200320013602082004200136020c2001200336020c200120043602080b200641086a21020c040b410021040b0340024002400240024020040e020100000b200128020441787120036b22042005200420054922041b21052001200220041b21022001220628021022010d01410021040c030b200641146a28020022010d0120002002103602400240200541104f0d002002200520036a2201410372360204200220016a220120012802044101723602040c010b20022003410372360204200220036a22032005410172360204200320056a2005360200024020004190036a22062802002201450d002000200141037622094103746a41086a21042000280298032101024002402000280200220841012009411f7174220971450d00200428020821090c010b20002008200972360200200421090b200420013602082009200136020c2001200436020c200120093602080b2000200336029803200620053602000b200241086a0f0b410121040c010b410121040c000b0b200020002802bc032201200620012006491b3602bc03200620086a21092007210502400240034020052802002009460d01200528020822050d000b200721010c010b20072101200528020c0d00200520063602002005200528020420086a36020420062003410372360204200620036a2101200920066b20036b21032000419c036a22042802002009460d032000280298032009460d04200928020422044103714101470d082004417871220541ff014b0d05200928020c220220092802082208460d062008200236020c200220083602080c070b0240034002402001280200220520044b0d00200520012802046a220520044b0d020b200128020821010c000b0b20004194036a200841586a22013602002000419c036a200636020020062001410172360204200620016a4128360204200041808080013602b8032004200541606a41787141786a22012001200441106a491b2209411b3602042007290200210a200941106a200741086a2902003702002009200a370208200041b4036a4100360200200041ac036a2008360200200041a8036a2006360200200041b0036a200941086a3602002009411c6a21010340200141073602002005200141046a22014b0d000b20092004460d0020092009280204417e713602042004200920046b220141017236020420092001360200024002400240200141ff014b0d002000200141037622054103746a41086a21012000280200220641012005411f7174220571450d01200128020821050c020b20002004200110310c020b20002006200572360200200121050b200120043602082005200436020c2004200136020c200420053602080b20004194036a2201280200220420034d0d002001200420036b22043602002000419c036a22012001280200220120036a22053602002005200441017236020420012003410372360204200141086a0f0b20020f0b2004200136020020004194036a2204200428020020036a2203360200200120034101723602040c050b20004198036a200136020020004190036a2204200428020020036a220336020020012003410172360204200120036a20033602000c040b2000200910360c010b20002000280200417e200441037677713602000b200520036a2103200920056a21090b20092009280204417e7136020420012003410172360204200120036a2003360200024002400240200341ff014b0d002000200341037622044103746a41086a21032000280200220541012004411f7174220471450d01200328020821040c020b20002001200310310c020b20002005200472360200200321040b200320013602082004200136020c2001200336020c200120043602080b200641086a0ba11202087f017e230041901b6b22032400200341e80d6a200141022002102a024002400240024020032802e80d4101470d00200341d0006a41086a200341e80d6a410c6a290200370300200320032902ec0d370350200341801b6a200341d0006a10e501200041013602002000410c6a200341801b6a41086a290300370200200020032903801b3702040c010b20032802ec0d210441c034410410a9022205450d02200541023b01bc28200541023b01ac1b200541023b019c0e200541023b018c0141c034410410a9022206450d01200641023b01bc28200641023b01ac1b200641023b019c0e200641023b018c0102400240024020044112490d00200341d0006a4104722107200241027241ff01714102462108200341386a21090340200341003a0030200341801b6a2001200341306a4101104a02400240024002400240024002400240024002400240024002400240024002400240024020032d00801b4103470d00200320032d003022024104763a002b20032002410f71220a36022c200241204f0d01024020080d00200a41014b0d030b200a41044f0d032009420037030020034200370330200341e80d6a2001200341306a4110104a20032903e80d220ba741ff01714103470d04410021024100210a0340200a200341306a20026a2d00006a210a200241016a22024110470d000b200a450d05200a4181024f0d062004416f6a2202200a490d07200341c0006a4100200a108401200341206a200341c0006a10f801200341e80d6a200120032802202003280224104a20032903e80d220ba741ff01714103470d08024020032d002b22044101460d0020040d0c200341106a200341c0006a10f501200341e80d6a200341306a2003280210200328021441001009200341d0006a200341e80d6a41940d10b8011a20032802504101460d0b200341e80d6a200741900d10b8011a200328022c220441044f0d0d2005200441900d6c6a220410ea012004200341e80d6a41900d10b8011a2003280250450d120c110b200341186a200341c0006a10f501200341e80d6a200341306a2003280218200328021c41011009200341d0006a200341e80d6a41940d10b8011a20032802504101460d09200341e80d6a200741900d10b8011a200328022c220441044f0d0d2006200441900d6c6a220410ea012004200341e80d6a41900d10b8011a20032802500d100c110b200320032903801b3703e80d200341d0006a200341e80d6a10a30220032003290350370350200341e80d6a200341d0006a10f101200041013602002000410c6a200341f00d6a290300370200200020032903e80d3702040c130b20032003412b6a4101108a02200341fc0d6a4101360200200342023702ec0d200341d0d6c0003602e80d200320032903003703801b2003200341801b6a3602f80d200341d0006a200341e80d6a102e200341f30d6a200341d8006a280200360000200320032903503700eb0d200041003a000420004101360200200041056a20032900e80d3700002000410c6a200341ef0d6a2900003700000c120b200341d0006a41d089c00041c10010a401200341f30d6a200341d8006a280200360000200320032903503700eb0d200041003a000420004101360200200041056a20032900e80d3700002000410c6a200341ef0d6a2900003700000c110b200341086a2003412c6a4103108b02200341fc0d6a4101360200200342023702ec0d200341e0d6c0003602e80d200320032903083703801b2003200341801b6a3602f80d200341d0006a200341e80d6a102e200341f30d6a200341d8006a280200360000200320032903503700eb0d200041003a000420004101360200200041056a20032900e80d3700002000410c6a200341ef0d6a2900003700000c100b2003200b370350200341e80d6a200341d0006a10f101200041013602002000410c6a200341f00d6a290300370200200020032903e80d3702040c0f0b200341d0006a41b08ac000412910a401200341f30d6a200341d8006a280200360000200320032903503700eb0d200041003a000420004101360200200041056a20032900e80d3700002000410c6a200341ef0d6a2900003700000c0e0b200341d0006a41d98ac000412e10a401200341f30d6a200341d8006a280200360000200320032903503700eb0d200041003a000420004101360200200041056a20032900e80d3700002000410c6a200341ef0d6a2900003700000c0d0b200341d0006a41878bc000411510a401200341f30d6a200341d8006a280200360000200320032903503700eb0d200041003a000420004101360200200041056a20032900e80d3700002000410c6a200341ef0d6a2900003700000c0c0b2003200b370350200341e80d6a200341d0006a10f101200041013602002000410c6a200341f00d6a290300370200200020032903e80d3702040c060b200341e80d6a41086a200741086a290200370300200320072902003703e80d200341801b6a200341e80d6a10e501200041013602002000410c6a200341801b6a41086a290300370200200020032903801b37020420032802500d050c040b200341e80d6a41086a200741086a290200370300200320072902003703e80d200341801b6a200341e80d6a10e501200041013602002000410c6a200341801b6a41086a290300370200200020032903801b37020420032802500d040c030b419c8bc000412841f0d6c00010d101000b41a0d9c00020044104108901000b41a0d9c00020044104108901000b200710da02200710e8010b200341c0006a10da02200341c0006a10e8010c040b2007104e0b200341c0006a10da02200341c0006a10e8012002200a6b220441114b0d000b0b2004450d01200341d0006a41878bc000411510a401200341f30d6a200341d8006a280200360000200320032903503700eb0d200041003a000420004101360200200041056a20032900e80d3700002000410c6a200341ef0d6a2900003700000b410021020340200620026a10eb01200241900d6a220241c034470d000b200641c0344104109d02410021020340200520026a10eb01200241900d6a220241c034470d000b200541c0344104109d020c010b2000200536020420004100360200200041146a4284808080c000370200200041106a2006360200200041086a4284808080c0003702000b200341901b6a24000f0b41c034410410a502000b41c034410410a502000bc10f01157f23004180026b22062400410021072006410041800210cf01220841e0016a21094100210602400240024002400240024002400240024002400240024002400240024002400240024002400240024002400340200641086a20014f0d01024002400240200020076a220b41106a2e0100220c0d00200641106a220d20014f0d14200b41206a2f01000d00200641186a20014f0d15200b41306a2f01000d00200641206a20014f0d17200b41c0006a2f01000d00200641286a20014f0d18200b41d0006a2f01000d00200641306a20014f0d19200b41e0006a2f01000d00200641386a220a20014f0d16200b41f0006a2f01000d01200941606a200b2e0100200220076a2f01006c410274220b360200200941406a200b360200200941a07f6a200b360200200941807f6a200b360200200941e07e6a200b360200200941c07e6a200b360200200941a07e6a200b3602000c020b200620014f0d04200641106a210d0b200d20014f0d04200641186a20014f0d05200641206a220a20014f0d06200641286a20014f0d07200641306a20014f0d08200641386a20014f0d092009200220076a220e41e0006a2f0100200b41e0006a2e01006c220f2002200d41017422106a2f0100200020106a2e01006c22106a41a9116c2211201041bf186c6a2212200e41c0006a2f0100200b41c0006a2e01006c2213200e2f0100200b2e01006c22146a410c742215418004726a2216200e41d0006a2f0100200b41d0006a2e01006c2210200e41106a2f0100200c6c220c6a221741c3736c2218200c4185306c6a200e41f0006a2f0100200b41f0006a2e01006c2219200e41306a2f0100200b41306a2e01006c220b6a220e20176a41d0256c22172019200c6a419b636c6a220c6a221a6b410a75360200200941a07e6a201a20166a410a75360200200941606a2011200f41f1446c6a220f201420136b410c742211418004726a2213200e419e416c220e200b41aae2006c6a20172010200b6a41ffad7f6c6a220b6a22146b410a75360200200941c07e6a201420136a410a753602002008200d4102746a2018201041dac1006c6a200b6a220b2011200f6b4180046a220d6a410a75360200200941807f6a200e201941c7096c6a200c6a220e201520126b4180046a22106a410a75360200200941406a200d200b6b410a753602002010200e6b410a75210b0b2008200a4102746a200b360200200941046a2109200741026a2107200641016a22064108490d000b41002106200821014100211003400240200141146a280200220b200141046a28020022096a220741c3736c220c20094185306c6a2001411c6a280200220e2001410c6a280200220d6a221920076a41d0256c2200200e20096a419b636c6a22146a2202200141106a280200220a2001280200220f6a410c742215200141186a2802002211200141086a28020022096a41a9116c2212200941bf186c6a22166a41808084086a22136a22094111752207418002490d002009411f75417f7321070b200620054f0d09200420066a220920073a00000240201320026b22024111752207418002490d002002411f75417f7321070b200641076a20054f0d0a200941076a20073a000002402019419e416c2213200d41aae2006c6a2000200b200d6a41ffad7f6c6a22076a2219200f200a6b410c7422002012201141f1446c6a22026a41808084086a220a6a220f411175220d418002490d00200f411f75417f73210d0b200641016a20054f0d0b200941016a200d3a00000240200a20196b2219411175220d418002490d002019411f75417f73210d0b200641066a20054f0d0c200941066a200d3a00000240200c200b41dac1006c6a20076a220d200020026b41808084086a22076a220c411175220b418002490d00200c411f75417f73210b0b200641026a20054f0d0d200941026a200b3a000002402007200d6b220d411175220b418002490d00200d411f75417f73210b0b200641056a20054f0d0e200941056a200b3a000002402013200e41c7096c6a20146a220e201520166b41808084086a220d6a2207411175220b418002490d002007411f75417f73210b0b200641036a20054f0d0f200941036a200b3a00000240200d200e6b220e411175220b418002490d00200e411f75417f73210b0b200641046a20054f0d10200941046a200b3a0000200141206a2101200620036a2106201041016a22104108490d000b20084180026a24000f0b41a8e0c000200641086a2001108901000b4198e1c00020062001108901000b41a8e1c000200d2001108901000b41b8e1c000200641186a2001108901000b41c8e1c000200641206a2001108901000b41d8e1c000200641286a2001108901000b41e8e1c000200641306a2001108901000b41f8e1c000200641386a2001108901000b4188e2c00020062005108901000b4198e2c000200641076a2005108901000b41a8e2c000200641016a2005108901000b41b8e2c000200641066a2005108901000b41c8e2c000200641026a2005108901000b41d8e2c000200641056a2005108901000b41e8e2c000200641036a2005108901000b41f8e2c000200641046a2005108901000b41b8e0c000200641106a2001108901000b41c8e0c000200641186a2001108901000b4188e1c000200641386a2001108901000b41d8e0c000200641206a2001108901000b41e8e0c000200641286a2001108901000b41f8e0c000200641306a2001108901000bcb0e02057f027e23004180016b220c240002400240200741ff0171220d0d00024002402005450d00200c41386a2004200120051021200c41086a41086a200c41386a410a6a290100370300200c41186a200c41ca006a2f01003b0100200c200c29013a3703080240200c2d00384101470d00200c41386a41086a200c41086a410a6a290100370300200c200c29010a3703382000200c41386a10e5010c040b0240024002400240200c2d0039220541ff0171220e450d00200e410c490d01200c41086a418080c000412810a401200c41c3006a200c41086a41086a280200360000200c200c29030837003b200041003a00002000200c290038370001200041086a200c413f6a2900003700000c070b410021050c010b024020042d0008220e200541ff01714f0d00200c41086a200420011025200c2d00084104470d02200441086a2d0000210e0b200441086a200e20056b3a00002004200429030022112005ad423f832212863703002011410020056b413f71ad88427f20128642ffff038583a7200510b50121050b200b200b2f010020056a22053b01002003450d02200220052009410f71743b01000c030b200c41386a41086a2207200c41086a41086a290300370300200c200c290308370338200c41206a200c41386a10e5012007200c41206a41086a290300370300200c200c290320370338200c41f0006a200c41386a10e501200c41e0006a41086a2204200c41f0006a41086a290200370300200c200c29027037036020072004290300370300200c200c2903603703382000200c41386a10e5010c030b41e8d3c000109a01000b41c8d2c00041004100108901000b024020074101200d41014b1b220741ff0171200841ff01714f0d00200a2f0100220541ffff0371450d00200041043a0000200a2005417f6a3b01000c010b024002400240024002400240024002400240200741ff0171200841ff017122084f0d002009410f71210b200c41386a410272210d200c41086a410472210e02400240024003402006450d07200c41386a2004200120061040200c41086a41106a200c41386a41106a280200360200200c41086a41086a200c41386a41086a290300370300200c200c2903383703080240200c2f01084101460d0002400240200c2f010a4101470d00200c2d000e20076a220541ff0171220720084f0d06200741c0004f0d0b200741a89fc0006a2d0000220720034f0d0c200220074101746a200c2f010c200b743b0100200541016a21070c010b200c41386a2004200120061021200c41206a41086a200d41086a290100370300200c41206a41106a200d41106a2f01003b0100200c200d290100370320200c2d00384101460d03200c2d0039220541f00171410476210902402005410f712205450d00200920076a220f41ff0171220720084f0d060240200441086a22092d0000221020054f0d00200c41206a200420011025200c2d00204104470d0920092d000021100b2009201020056b3a00002004200429030022112005ad2212863703002011410020056b413f71ad88427f20128642ffff038583a7200510b5012105200c41d0006a41086a200c41e0006a41086a290200370300200c200c2902603703502007413f4b0d0d200741a89fc0006a2d0000220720034f0d0e200220074101746a2005200b743b0100200f41016a21070c010b2009410f470d04200741106a21070b0240200c2f0108450d00200e104d0b200741ff01712008490d010c050b0b200c41c0006a200c41146a290200370300200c200c29020c3703382000200c41386a10e5010c0c0b200c41c0006a200c412a6a290100370300200c200c2901223703382000200c41386a10e5010c0a0b200a417f200974417f733b01002009450d000240200441086a22062d0000220720094f0d00200c41206a200420011025200c2d00204104470d04200441086a2d000021070b2006200720096b3a00002004200429030022112009ad221286370300200a200a2f01002011410020096b413f71ad88427f201286427f8583a76a3b01000b200c2f0108450d00200e104d0b200041043a00000c080b200c41386a41086a2207200c41206a41086a290300370300200c200c290320370338200c41f0006a200c41386a10e5012007200c41f0006a41086a290300370300200c200c290370370338200c41e0006a200c41386a10e501200c41d0006a41086a2204200c41e0006a41086a290200370300200c200c29026037035020072004290300370300200c200c2903503703382000200c41386a10e5010c060b200c41386a41086a2207200c41206a41086a290300370300200c200c290320370338200c41f0006a200c41386a10e501200c41e0006a41086a2204200c41f0006a41086a290200370300200c200c29027037036020072004290300370300200c200c2903603703382000200c41386a10e5010c050b41e8d3c000109a01000b41f8d2c000200741c000108901000b4188d3c00020072003108901000b41d8d2c000200741c000108901000b41e8d2c00020072003108901000b200c2f0108450d00200e104d0b200c4180016a24000ba80c011e7f230041a0156b22052400200541900d6a41106a21062005419c0d6a210741012108410021094100210a4100210b034020062001200b6a220c3602002007200b360200200541900d6a41086a220d200a360200200520093602940d200520083602900d20054190056a200c2d0000200b41016a220b108501200528029005210e200541900d6a200a20054190056a41086a220f280200220c10c30120052802900d2208200d28020022106a200e200c10b8011a200f4100360200200d2010200c6a220a36020020052802940d21090240200528029405220d450d00200e200d4101109d020b200b4110470d000b200541086a200a410110830102400240200a450d00200528020c2111200528020821122008200a6a21134100210c20082d00002214210e20082115410021160c010b41b0ddc00041004100108901000b4100210b03400240024002400240024002400240024002400240200b0e020001010b0240200e41ff0171201441ff0171220b4f0d000340200c410174210c200e41016a220e41ff0171200b490d000b2014210e0b02400240200c2014411f71760d00201220164101746a200c3b0100201541016a22152013460d01201641016a2116200c41016a210c20152d000021144100210b0c0b0b200541900d6a4182a4c000411710a40120052802980d210b20052802940d210d20052802900d210c02402011450d00201220114101744102109d020b02402009450d00200820094101109d020b20004201370200200041106a200b3602002000410c6a200d360200200041086a200c3602000c020b4100210b200541106a410041c00010cf011a200541d0006a41ff0141c00010cf011a200541106a2117200541d0006a21184100210d034002402001200d6a2d0000220f450d00200a200b4d0d062017200b2012200b4101746a2f01006b360200200a200b200f6a220b417f6a220f4d0d0720182012200f4101746a2f01003602000b201841046a2118201741046a2117200d41016a220d4110490d000b4100211920054190016a410041800410cf011a410121174108211a410f211b41ffff03211c411f211d41ff01211e4102211f200821180c070b2019210f024020182013460d00200f20176a211920182d00002110201820176a222021182010201a4b0d08200a200f4d0d0620054190016a2012200f2017746a2f0100201a20106b220d201b71742221201c7122062017746a210b2002200f6a2107200d201d7121224100210d0340200f20034f0d032006200d6a201e4b0d0420072d00002118200b20176a20103a0000200b20183a0000200b201f6a210b200d20176a220d202276450d000b202021184101210b0c090b4100210b02402004450d0020054190156a210d200541900d6a210b0340200b41003b0100200b41026a41003a0000200b41046a220b200d470d000b20054190056a21104100210c200541900d6a210d20054190016a210b03400240200b2d0000220e410f712217450d00200b41016a2d0000221820176a220f41ff017141094f0d00200e41f0017121060240200c2018411f717441ff0171410820176b411f7176221841ffff0371200e417f6a410f717641ffff03710d00417f20177420186a41016a21180b200d20183b0100200d41026a200f2006723a00000b200c41016a210c200d41046a210d200b41026a220b2010470d000b20054190056a200541900d6a41800810b8011a4101210b0b200520034100109e012005410036029815200520052903003703901520054190156a2002200220036a10c801200541980d6a20052802981536020020052005290390153703900d2005419c0d6a200541106a41c00010b8011a200541dc0d6a200541d0006a41c00010b8011a200041046a200541900d6a418c0110b8011a20004190016a200b3b010020004192016a20054190056a41800810b8011a20004192096a20054190016a41800410b8011a2000410036020002402009450d00200820094101109d020b2011450d00201220114101744102109d020b200541a0156a24000f0b41c0ddc000200f2003108901000b41d0ddc000202141ffff0371200d6a418002108901000b41b0ddc000200b200a108901000b41b0ddc000200f200a108901000b41b0ddc000200f200a108901000b4101210b0c010b4101210b0c000b0b980d01077f230041d0066b22022400200241206a200141082003102a0240024020022802204101470d00200241c0056a41086a200241206a410c6a290200370300200220022902243703c005200241b0046a200241c0056a10e501200041013b01002000410c6a200241b0046a41086a290300370200200041046a20022903b0043702000c010b20022802242104200241a8046a2105200241206a21030340200341003b0100200341026a200241c0056a41800110b8011a20034182016a22032005470d000b024002400240024002400240024002400240024002402004450d00200241b0046a4180016a21060340200241003a00c606200241b0056a2001200241c6066a4101104a20022d00b0054103470d05200220022d00c606220341047622073602a80420022003410f7122053602ac04200341204f0d06200541034b0d072004200741067441c1006a490d08200241b0046a410041800110cf011a200241186a410041c000108d02024020022802182203200228021c22084f0d0003402003410110d0026a22052003490d010240024020022802a8042207450d0020074101470d0d200241003b01c606200241c8066a2001200241c6066a4102104a20022d00c8064103470d0720022f01c60622074118742007410874418080fc07717241107621070c010b200241003a00c606200241c8066a2001200241c6066a4101104a20022d00c8064103470d0720022d00c60621070b2003413f4b0d0c200241b0046a20034101746a20073b01002005210320052008490d000b0b41002105200241b0046a2203210702400340200620076b41074d0d0120032f0100450d04200341026a2f0100450d04200341046a2f0100450d04200541086a2105200341066a2108200341086a2207210320082f01000d000c040b0b024003402005418001460d01200241b0046a20056a2103200541026a210520032f0100450d040c000b0b200241c0056a200241b0046a41800110b8011a20022802ac04220341034b0d0b200241206a20034182016c6a220341026a200241c0056a41800110b8011a200341013b0100200420022802a8044106746b41bf7f6a22040d000b0b200041026a200241206a41880410b8011a200041003b01000c0a0b10e302200241b0056a41e18cc000413510a401200241cb056a200241b8056a280200360000200220022903b0053700c305200041046a41003a0000200041013b0100200041056a20022900c0053700002000410c6a200241c7056a2900003700000c090b200220022903c8063703c005200241b0056a200241c0056a10a302200220022903b0053703b005200241c0056a200241b0056a10f101200041013b01002000410c6a200241c8056a290300370200200041046a20022903c0053702000c080b200220022903c8063703c005200241b0056a200241c0056a10a302200220022903b0053703b005200241c0056a200241b0056a10f101200041013b01002000410c6a200241c8056a290300370200200041046a20022903c0053702000c070b200220022903b0053703c005200241b0046a200241c0056a10a302200220022903b0043703b004200241c0056a200241b0046a10f101200041013b01002000410c6a200241c8056a290300370200200041046a20022903c0053702000c060b200241086a200241a8046a4103108b02200241d4056a4101360200200242023702c40520024180d7c0003602c005200220022903083703b0052002200241b0056a3602d005200241b0046a200241c0056a102e200241cb056a200241b8046a280200360000200220022903b0043700c305200041046a41003a0000200041013b0100200041056a20022900c0053700002000410c6a200241c7056a2900003700000c050b200241106a200241ac046a4103108b02200241d4056a4101360200200242023702c40520024190d7c0003602c005200220022903103703b0052002200241b0056a3602d005200241b0046a200241c0056a102e200241cb056a200241b8046a280200360000200220022903b0043700c305200041046a41003a0000200041013b0100200041056a20022900c0053700002000410c6a200241c7056a2900003700000c040b200241b0046a41dd8bc000411510a401200241cb056a200241b8046a280200360000200220022903b0043700c305200041046a41003a0000200041013b0100200041056a20022900c0053700002000410c6a200241c7056a2900003700000c030b419c8bc000412841a0d7c00010d101000b41b0d7c000200341c000108901000b41c0d7c00020034104108901000b200241d0066a24000b8f0b01067f230041b01a6b22052400024002400240024002400240024002402002450d00024020012f018c014102470d00200028020c2206200041146a28020041027422076a210820062109024002400340200820096b410f4d0d012006280200450d02200641046a280200450d02200641086a280200450d02200741706a21072006410c6a210a200641106a22092106200a2802000d000c020b0b03402007450d022007417c6a210720062802002109200641046a210620090d000b0b200541980d6a4199a4c00041a9a4c000410c41001009200541980d6a410472210620052802980d4101460d05200541086a200641900d10b8011a02402001418c016a2f01004102460d0020012802042206450d00200128020020064101109d020b2001200541086a41900d10b8011a0b200241014d0d0102402001419c0e6a2f01004102470d00200141900d6a2102200028020c2206200041146a28020041027422076a210820062109024002400340200820096b410f4d0d0120062802004101460d02200641046a2802004101460d02200641086a2802004101460d02200741706a21072006410c6a210a200641106a22092106200a2802004101470d000c020b0b03402007450d022007417c6a210720062802002109200641046a210620094101470d000b0b200541980d6a41b5a4c00041a9a4c000410c41001009200541980d6a410472210620052802980d4101460d06200541086a200641900d10b8011a02402001419c0e6a2f01004102460d00200141940d6a2802002206450d00200228020020064101109d020b2002200541086a41900d10b8011a0b2004450d02024020032f018c014102470d0020002802182206200041206a28020041027422076a210120062109024002400340200120096b410f4d0d012006280200450d02200641046a280200450d02200641086a280200450d02200741706a21072006410c6a210a200641106a22092106200a2802000d000c020b0b03402007450d022007417c6a210720062802002109200641046a210620090d000b0b200541980d6a41c5a4c00041d5a4c00041a20141011009200541980d6a410472210620052802980d4101460d07200541086a200641900d10b8011a02402003418c016a2f01004102460d0020032802042206450d00200328020020064101109d020b2003200541086a41900d10b8011a0b200441014d0d0302402003419c0e6a2f01004102470d00200341900d6a210820002802182206200041206a28020041027422076a210120062109024002400340200120096b410f4d0d0120062802004101460d02200641046a2802004101460d02200641086a2802004101460d02200741706a21072006410c6a210a200641106a22092106200a2802004101470d000c020b0b03402007450d022007417c6a210720062802002109200641046a210620094101470d000b0b200541980d6a41f7a5c0004187a6c00041a20141011009200541980d6a410472210620052802980d4101460d08200541086a200641900d10b8011a02402003419c0e6a2f01004102460d00200341940d6a2802002206450d00200828020020064101109d020b2008200541086a41900d10b8011a0b200541b01a6a24000f0b41e0ddc00041004100108901000b41f0ddc00041012002108901000b4180dec00041004100108901000b4190dec00041012004108901000b200541086a41086a200641086a29020037030020052006290200370308419fa2c000412b200541086a109101000b200541086a41086a200641086a29020037030020052006290200370308419fa2c000412b200541086a109101000b200541086a41086a200641086a29020037030020052006290200370308419fa2c000412b200541086a109101000b200541086a41086a200641086a29020037030020052006290200370308419fa2c000412b200541086a109101000bd90a020c7f027e230041d0006b220a240041012008410f7174210b024002400240024002400240024002400240024002400240024002400240200641ff0171450d0020092f01002208450d0120092008417f6a3b0100200a41386a20012002200320042006200741c000200b1026200a2d00384101470d03200a41286a200a41c4006a290200370300200a200a29023c3703202000200a41206a10e5010c0e0b024020042d000822060d00200a41206a200420011025200a2d00204104470d04200441086a2d000021060b200441086a2006417f6a3a00002004200429030022164201863703002016427f550d012003450d0c200220022f0100200b723b01000c010b200641ff0171200741ff0171220c4f0d004100200b6b210d200a41386a410272210803402005450d09200a41386a2004200120051021200a41206a41086a220e200841086a220f290100370300200a41206a41106a2210200841106a22112f01003b0100200a2008290100370320200a2d00384101460d04200a2d0039221241f001714104762113024002402012410f7122124101460d0020120d07410f2114410021122013410f460d012009417f201374417f733b010041c00021142013450d010240200441086a22122d0000221520134f0d00200a41206a200420011025200a2d00204104470d0b20122d000021150b2012201520136b3a00002004200429030022162013ad22178637030041002112200920092f01002016410020136b413f71ad88427f201786427f8583a76a3b01000c010b0240200441086a22122d000022140d00200a41206a200420011025200a2d00204104470d0920122d000021140b20122014417f6a3a0000200420042903002216420186370300200b200d20164200531b2112201321140b200a41386a2001200220032004200620072014200b1026200e200f290100370300201020112f01003b0100200a2008290100370320200a2d00384101460d06200a2d003921060240201241ffff0371450d002006413f4b0d0b200641a89fc0006a2d0000221320034f0d0c200220134101746a20123b01000b200641016a220641ff0171200c490d000b0b200041043a00000c0b0b200041043a00000c0a0b200a41386a41086a2204200a41206a41086a290300370300200a200a290320370338200a41106a200a41386a10e501200a41086a2206200a41106a41086a290200370300200a200a29021037030020042006290300370300200a200a2903003703382000200a41386a10e5010c090b200a41c0006a200a412a6a290100370300200a200a2901223703382000200a41386a10e5010c080b200a41206a419281c000411710a401200a41c3006a200a41206a41086a280200360000200a200a29032037003b200041003a00002000200a290038370001200041086a200a413f6a2900003700000c070b200a41c0006a200a412a6a290100370300200a200a2901223703382000200a41386a10e5010c060b200a41386a41086a2204200a41206a41086a290300370300200a200a290320370338200a41106a200a41386a10e501200a41086a2206200a41106a41086a290200370300200a200a29021037030020042006290300370300200a200a2903003703382000200a41386a10e5010c050b200a41386a41086a2204200a41206a41086a290300370300200a200a290320370338200a41106a200a41386a10e501200a41086a2206200a41106a41086a290200370300200a200a29021037030020042006290300370300200a200a2903003703382000200a41386a10e5010c040b41e8d3c000109a01000b41c8d3c000200641c000108901000b41d8d3c00020132003108901000b41b8d3c00041004100108901000b200a41d0006a24000bfb0a020f7f017e230041206b22032400410121040240200228021841222002411c6a2802002802101103000d00024002402001450d00200020016a2105200241186a21062002411c6a210720002108410021094100210a024003402008210b200841016a210c0240024020082c0000220d4100480d00200d41ff0171210d200c21080c010b02400240200c2005460d00200c2d0000413f71210e200841026a2208210c0c010b4100210e200521080b200d411f71210f024002400240200d41ff0171220d41e001490d0020082005460d0120082d0000413f712110200841016a220c21110c020b200e200f41067472210d200c21080c020b41002110200521110b2010200e41067472210e024002400240200d41f001490d0020112005460d01201141016a210820112d0000413f71210d0c020b200e200f410c7472210d200c21080c020b4100210d200c21080b200e410674200f411274418080f0007172200d72220d418080c400460d020b4102210c024002400240024002400240024002400240200d41776a220f411e4b0d0041f400210e0240200f0e1f08000303040303030303030303030303030303030303030303020303030302080b41ee00210e0c040b200d41dc00470d010b200d210e0c050b41a8f0c000200d103f450d020c030b41f200210e0b0c020b0240200d41ffff034b0d00200d41a0bcc000412841f0bcc00041af02419fbfc00041bc02102c450d010c030b0240200d41ffff074b0d00200d41dbc1c0004121419dc2c000419e0141bbc3c00041fd02102c450d010c030b200d41ef83384b0d00200d41e28b746a41e28d2c490d00200d419fa8746a419f18490d00200d41dee2746a410e490d00200d41feffff0071419ef00a460d00200d41a9b2756a4129490d00200d41cb91756a410a4b0d020b200d41017267410276410773ad4280808080d0008421124103210c200d210e0b2003200136020420032000360200200320093602082003200a36020c0240200a2009490d0002402009450d0020092001460d00200920014f0d01200020096a2c000041bf7f4c0d010b0240200a450d00200a2001460d00200a20014f0d012000200a6a2c000041bf7f4c0d010b02402006280200200020096a200a20096b200728020028020c1106000d0003400240024002400240024002400240200c4101460d0041dc0021090240200c4102460d00200c4103470d062012422088a741ff0171417f6a220c41044b0d060240200c0e050006040503000b201242ffffffff8f608321124103210c41fd0021090c070b4101210c0c060b4100210c200e21090c050b201242ffffffff8f60834280808080c0008421124103210c0c040b201242ffffffff8f60834280808080208421124103210c41fb0021090c030b201242ffffffff8f60834280808080308421124103210c41f50021090c020b200e2012a7220f410274411c7176410f71220c413072200c41d7006a200c410a491b21090240200f450d002012427f7c42ffffffff0f832012428080808070838421124103210c0c020b201242ffffffff8f60834280808080108421124103210c0c010b4101210c0240200d418001490d004102210c200d418010490d0041034104200d41808004491b210c0b200c200a6a21090c040b200628020020092007280200280210110300450d000b0b410121040c060b20032003410c6a3602182003200341086a36021420032003360210200341106a10db01000b200a200b6b20086a210a20052008470d000b0b2009450d0120092001460d010240200920014f0d00200020096a2c000041bf7f4a0d020b20002001200920011010000b410021090b200241186a220c280200200020096a200120096b2002411c6a220a28020028020c1106000d00200c2802004122200a28020028021011030021040b200341206a240020040be90901047f23004180026b220324002003200236024c20032001360248200341d0006a4200200341c8006a10322000410036020c200341e8016a200341d0006a4100100102400240024002400240024002400240024002400240024020032802e8014101470d0020032d00ec0122014102460d0120014101460d0320010d02200341f0016a220110da02200110e8010c030b200341e0016a200341e8016a410c6a280200360200200320032902ec013703d801200341e8016a200341d0006a107f0240024020032d00ec014103470d00410021040c010b2000410c6a20032802e801360200024020032802e0012205450d0041002101410021020340200341c0006a200341d8016a10f5012003280244220620024d0d07200328024020026a2d00002106200341386a200010f801200328023c220420014d0d08200328023820016a20063a0000200341306a200341d8016a10f50120032802342206200241016a4d0d09200328023020026a41016a2d00002106200341286a200010f801200328022c2204200141016a4d0d0a200328022820016a41016a20063a0000200341206a200341d8016a10f50120032802242206200241026a4d0d0b200328022020026a41026a2d00002106200341186a200010f801200328021c2204200141026a4d0d0c200328021820016a41026a20063a0000200341106a200010f80120032802142206200141036a4d0d0d200328021020016a41036a41ff013a0000200141046a2101200241036a22022005490d000b0b410121040b200341d8016a10da02200341d8016a10e8010c030b200341f0016a2d00004102490d01200341e8016a410c6a220228020022012802002001280204280200110000200341086a200128020020012802041083020240200328020c22012802042200450d00200328020820002001280208109d020b200228020010ce02410c4104109d020c010b200341f0016a2201280200200341f4016a2202280200280200110000200320012802002002280200108402200328020422012802042202450d00200328020020022001280208109d020b410021040b024020034194016a2d00004102460d0020034184016a2802002201450d0020032802800120014104744104109d020b0240200341a4016a2802002202450d00200328029c012101200241900d6c21020340200110eb01200141900d6a2101200241f0726a22020d000b0b0240200341a0016a2802002201450d002003419c016a280200200141900d6c4104109d020b0240200341b0016a2802002202450d0020032802a8012101200241900d6c21020340200110eb01200141900d6a2101200241f0726a22020d000b0b0240200341ac016a2802002201450d00200341a8016a280200200141900d6c4104109d020b200341b4016a21054100210103400240200520016a22002802002202450d00200220022802002206417f6a36020020064101470d00200010d0010b200141046a22014110470d000b200341c4016a220110b2010240200341c8016a2802002202450d0020012802002002410c6c4104109d020b20034180026a240020040f0b41c8d9c00020022006108901000b41d8d9c00020012004108901000b41c8d9c000200241016a2006108901000b41d8d9c000200141016a2004108901000b41c8d9c000200241026a2006108901000b41d8d9c000200141026a2004108901000b41d8d9c000200141036a2006108901000ba409010a7f230041c0006b22032400200341246a2001360200200341346a200241146a2802002204360200200341033a00382003412c6a2002280210220520044103746a3602002003428080808080043703082003200036022041002106200341003602182003410036021020032005360230200320053602280240024002400240024020022802082207450d0020022802002108200228020422092002410c6a2802002205200520094b1b220a450d01200020082802002008280204200128020c1106000d022008410c6a2105200341386a2101200341346a210b200341306a210c41012106024003402001200741206a2d00003a00002003200741086a28020036020c20032007410c6a2802003602084100210202400240024002400240200741186a28020022004101460d00024020004102460d0020004103460d052007411c6a28020021040c020b200341086a41206a22042802002200200341086a41246a280200460d022004200041086a360200200028020441cb00470d04200028020028020021040c010b2007411c6a2802002200200b28020022044f0d02200c28020020004103746a220028020441cb00470d03200028020028020021040b410121020c020b0c010b41c4efc00020002004108901000b200341086a410c6a2004360200200341086a41086a20023602004100210202400240024002400240200741106a28020022004101460d00024020004102460d0020004103460d05200741146a28020021040c020b200341086a41206a22042802002200200341086a41246a280200460d022004200041086a360200200028020441cb00470d04200028020028020021040c010b200741146a2802002200200b28020022044f0d02200c28020020004103746a220028020441cb00470d03200028020028020021040b410121020c020b0c010b41c4efc00020002004108901000b200341086a41146a2004360200200341086a41106a200236020002400240024020072802004101470d00200741046a2802002202200b28020022044f0d02200c28020020024103746a21020c010b200341086a41206a22042802002202200341086a41246a280200460d032004200241086a3602000b2002280200200341086a200241046a2802001103000d052006200a4f0d042005417c6a210220052802002104200541086a2105200741246a2107200641016a2106200341086a41186a28020020022802002004200341086a411c6a28020028020c110600450d010c050b0b41b4efc00020022004108901000b4184edc000109a01000b20022802002108200228020422092004200420094b1b220a450d00200020082802002008280204200128020c1106000d012008410c6a2107200341206a2100200341246a21014101210603402005280200200341086a200541046a2802001103000d022006200a4f0d012007417c6a210220072802002104200741086a2107200541086a2105200641016a2106200028020020022802002004200128020028020c110600450d000c020b0b200920064d0d01200341206a280200200820064103746a22072802002007280204200341246a28020028020c110600450d010b410121070c010b410021070b200341c0006a240020070bdf0801067f230041f0006b220424002004200336020c20042002360208410121052001210602402001418102490d00410020016b21074180022108024003400240200820014f0d00200020086a2c000041bf7f4a0d020b2008417f6a21064100210520084101460d02200720086a21092006210820094101470d000c020b0b41002105200821060b200420063602142004200036021020044100410520051b36021c2004418cb7c00041fcb8c00020051b360218024002400240200220014b22080d00200320014b0d00200220034b0d01024002402002450d0020012002460d00200120024d0d01200020026a2c00004140480d010b200321020b20042002360220024002402002450d0020022001460d00200141016a210903400240200220014f0d00200020026a2c000041404e0d020b2002417f6a210820024101460d0220092002462106200821022006450d000c020b0b200221080b20082001460d02410121064100210502400240200020086a22092c000022024100480d002004200241ff0171360224200441286a21020c010b200020016a220621010240200941016a2006460d00200941026a2101200941016a2d0000413f7121050b2002411f712109024002400240200241ff017141e001490d004100210020062107024020012006460d00200141016a210720012d0000413f7121000b20002005410674722101200241ff017141f001490d0141002102024020072006460d0020072d0000413f7121020b20014106742009411274418080f00071722002722201418080c400460d060c020b200520094106747221010c010b20012009410c747221010b2004200136022441012106200441286a21022001418001490d00410221062001418010490d0041034104200141808004491b21060b200420083602282004200620086a36022c200441ec006a41c800360200200441e4006a41c800360200200441c8006a41146a41c900360200200441d4006a41ca00360200200441306a41146a4105360200200420023602582004410336024c20044205370234200441b4eec0003602302004200441186a3602682004200441106a3602602004200441246a3602502004200441206a3602482004200441c8006a360240200441306a41dceec00010af01000b20042002200320081b360228200441c8006a41146a41c800360200200441d4006a41c800360200200441306a41146a41033602002004410336024c20044203370234200441dcedc0003602302004200441186a3602582004200441106a3602502004200441286a3602482004200441c8006a360240200441306a41f4edc00010af01000b200441e4006a41c800360200200441c8006a41146a41c800360200200441d4006a4103360200200441306a41146a41043602002004410336024c2004420437023420044184eec0003602302004200441186a3602602004200441106a36025820042004410c6a3602502004200441086a3602482004200441c8006a360240200441306a41a4eec00010af01000b4184edc000109a01000bc10801097f230041c0006b2209240020032004410c6c6a210a2003210b024002400240024002400240024002400240024002400240024002400340200a200b6b412f4d0d01200b280208450d02200b41146a280200450d02200b41206a280200450d02200b412c6a210c200b41306a210b200c2802000d000c020b0b0240200b200a460d000340200b41086a280200450d02200b410c6a220b200a470d000b0b20024101470d01200141066a220b2f0100220c20012f0104220a72410771450d02200941086a200c200a6c22064101109e01200928020c210d200928020821080240200b2f0100220e450d0020012f0108410374210f4100210c200141046a2101200341086a2110410021020340024020012f01002205450d002004450d0b4100210b03402010280200220a200c200b6a22114d0d0a2006200b200220012f01006c6a220a4d0d0b2008200a6a2003280200200c6a200b6a2d00003a0000200b41016a220a210b200a2005490d000b0b200c200f6a210c200241016a2202200e490d000b0b20002008360204200041003602002000410c6a2006360200200041086a200d3602000c0c0b200941186a41e89fc000411b10a401200941336a200941206a2802003600002009200929031837002b200041003a000420004101360200200041056a20092900283700002000410c6a2009412f6a2900003700000c0b0b024020024104460d0020024103470d0841084109200841ff01711b21080c040b200841ff0171220b450d01200b4103470d02200941286a41e2a1c000413d10a40120004201370200200041086a2009290228370200200041106a200941286a41086a2802003602000c0a0b2004450d08200941286a2003109701200041003602002000410c6a200941306a280200360200200020092903283702040c090b410a21080c010b410b21080b200941286a20012002200520061012200941286a410472210b024020092802284101470d00200041013602002000200b2902003702042000410c6a200b41086a2902003702000c070b200941186a41086a200b41086a2902003703002009200b290200370318200941106a200541ffff0371220520026c2201200641ffff03716c22064101109e012001450d04200928021421112009280210211002402006450d00410021022010210b2006210c0340200b450d01200941186a2003200420022005200b2001200c200c20014b1b220a103d200b200a20052008110200200b200a6a210b200241016a2102200c200a6b220c0d000b0b20002010360204200041003602002000410c6a2006360200200041086a2011360200200941186a109801200928021c220b450d062009280218200b41146c4104109d020c060b41b0dbc0002011200a108901000b41c0dbc000200a2006108901000b41e0dbc00041004100108901000b41d4a1c000410e41f0dbc00010d101000b4198dbc000109a01000b41d0dbc00041004100108901000b200941c0006a24000bf30701107f230041206b2205240002402002450d0020012d000d210602400240200141106a200120024104746a4622070d002001411d6a2108200241047441706a21090340200620082d0000220a200a200641ff0171491b2106200841106a2108200941706a22090d000b2001411e6a2108200241047441706a210920012d000e210a0340200a20082d0000220b200b200a41ff0171491b210a200841106a2108200941706a22090d000c020b0b20012d000e210a0b41002109200541086a20024100107a20054100360218200520052903083703102002410474210c200141086a2108200441ffff0371210d200341ffff0371210e024002400340200d410146200841066a2d0000220f200a41ff017122104672210b0240024002400240200e410146200841056a2d00002204200641ff01712211467222034101470d00200b450d0041d0e3c00021124101210b410021030c010b02400240200441017441ff01712213201146200b71450d004100210341e0e3c00021120c010b02402003200f41017441ff0171201046220b71450d004100210341f0e3c00021120c010b20132011470d02200b450d02410021034180e4c00021120b4101210b0b41002104410021140c010b0240024002402004450d004101210b41800e210302402006201120046e221120046c6b41ff0171450d00410121040c040b200f450d014101210b41012104200a2010200f6e2210200f6c6b41ff01710d034102410110a902220b450d02200b20103a0001200b20113a0000200b4110762114200b41807e7121034100210441c0e4c00021120c030b4190e4c000109a01000b41a8e4c000109a01000b4102410110a502000b20034180fe0371200b41ff017172201441107472210b024020040d0020082f010041037421032008417e6a2f010021042008417c6a2f01002111024020092005280214470d00200541106a2009410110c201200541106a41086a28020021090b2005280210200941146c6a220920033602102009200436020c20092011360208200920123602042009200b360200200541106a41086a2209200928020041016a2209360200200841106a2108200c41706a220c0d010c020b0b2000200b36020420004101360200200041086a2012360200200541106a10980120052802142208450d012005280210200841146c4104109d020c010b20012f01042108024020070d00200141146a2109200241047441706a210a0340200820092f0100220b200b200841ffff0371491b2108200941106a2109200a41706a220a0d000b0b20002005290310370204200041003602002000410c6a200541186a280200360200200041106a200841ffff0371200641ff01716c3602000b200541206a24000f0b4188e3c000109a01000bcb07010c7f20002802102103024002400240024002400240024002400240200028020822044101470d0020030d010c060b2003450d010b2002450d01200120026a2105200041146a280200417f7321064100210720012103200121080340200341016a21090240024002400240024020032c0000220a4100480d00200a41ff0171210a0c010b0240024020092005460d0020092d0000413f71210b200341026a220321090c010b4100210b200521030b200a411f71210c024002400240200a41ff0171220a41e001490d0020032005460d0120032d0000413f71210d200341016a2209210e0c020b200b200c41067472210a0c020b4100210d2005210e0b200d200b41067472210b0240200a41f001490d00200e2005460d02200e41016a2103200e2d0000413f71210a0c030b200b200c410c7472210a0b20092103200641016a22060d020c060b4100210a200921030b200b410674200c411274418080f0007172200a72220a418080c400460d05200641016a2206450d040b200720086b20036a21072003210820052003470d000c040b0b2000280218200120022000411c6a28020028020c11060021030c050b4100210220040d020c030b200a418080c400460d00024002402007450d0020072002460d0041002103200720024f0d01200120076a2c00004140480d010b200121030b2007200220031b21022003200120031b21010b2004450d010b4100210902402002450d002002210a200121030340200920032d000041c00171418001466a2109200341016a2103200a417f6a220a0d000b0b0240024002400240200220096b2000410c6a28020022064f0d004100210902402002450d00410021092002210a200121030340200920032d000041c00171418001466a2109200341016a2103200a417f6a220a0d000b0b200920026b20066a2109410020002d0030220320034103461b2203410371450d0120034102460d02410021080c030b2000280218200120022000411c6a28020028020c1106000f0b20092108410021090c010b200941016a4101762108200941017621090b417f2103200041046a210a200041186a21062000411c6a210702400340200341016a220320094f0d012006280200200a2802002007280200280210110300450d000b41010f0b200041046a280200210941012103200041186a220a280200200120022000411c6a220628020028020c1106000d01200a280200210a417f2103200628020041106a210602400340200341016a220320084f0d01200a20092006280200110300450d000b41010f0b41000f0b2000280218200120022000411c6a28020028020c1106000f0b20030bb10701057f200141786a22022001417c6a280200220341787122016a21040240024020034101710d002003410371450d012002280200220320016a2101024002400240200028029803200220036b2202460d00200341ff014b0d01200228020c220520022802082206460d022006200536020c200520063602080c030b20042802044103714103470d022000200136029003200441046a22002000280200417e7136020020022001410172360204200220016a20013602000f0b2000200210360c010b20002000280200417e200341037677713602000b024002400240024002400240024002400240200428020422034102710d00200028029c032004460d012000280298032004460d022003417871220520016a2101200541ff014b0d03200428020c220520042802082204460d042004200536020c200520043602080c050b200441046a2003417e7136020020022001410172360204200220016a20013602000c070b2000419c036a2002360200200020002802940320016a2201360294032002200141017236020402402002200028029803470d00200041003602900320004198036a41003602000b20002802b803220320014f0d072000419c036a2802002201450d07024020004194036a28020022054129490d00200041a8036a2102034002402002280200220420014b0d00200420022802046a20014b0d020b200228020822020d000b0b200041b0036a2802002201450d04410021020340200241016a2102200128020822010d000b200241ff1f200241ff1f4b1b21020c050b20004198036a2002360200200020002802900320016a22013602900320022001410172360204200220016a20013602000f0b2000200410360c010b20002000280200417e200341037677713602000b20022001410172360204200220016a2001360200200220004198036a280200470d0220002001360290030f0b41ff1f21020b200020023602c003200520034d0d01200041b8036a417f3602000f0b02400240024002400240200141ff014b0d002000200141037622044103746a41086a21012000280200220341012004411f7174220471450d01200128020821000c020b2000200220011031200020002802c003417f6a22023602c00320020d04200041b0036a2802002201450d02410021020340200241016a2102200128020822010d000b200241ff1f200241ff1f4b1b21020c030b20002003200472360200200121000b200120023602082000200236020c2002200136020c200220003602080f0b41ff1f21020b200041c0036a20023602000b0bd20601067f024002402001450d00412b418080c4002000280200220641017122011b2107200120056a21080c010b200541016a210820002802002106412d21070b0240024020064104710d00410021020c010b4100210902402003450d002003210a200221010340200920012d000041c00171418001466a2109200141016a2101200a417f6a220a0d000b0b200820036a20096b21080b410121010240024002400240024002400240024002400240024002400240024020002802084101470d002000410c6a280200220920084d0d0120064108710d02200920086b2101410120002d0030220920094103461b2209410371450d0320094102460d044100210b200121090c050b200020072002200310a9010d0c2000280218200420052000411c6a28020028020c1106000f0b200020072002200310a9010d0b2000280218200420052000411c6a28020028020c1106000f0b41012101200041013a003020004130360204200020072002200310a9010d0a200920086b21014101200041306a2d0000220920094103461b2209410371450d0320094102460d0441002108200121090c050b410021092001210b0c010b20014101762109200141016a410176210b0b417f2101200041046a210a200041186a21082000411c6a210602400340200141016a220120094f0d012008280200200a2802002006280200280210110300450d000c050b0b200041046a280200210a41012101200020072002200310a9010d07200041186a2209280200200420052000411c6a220328020028020c1106000d0720092802002100417f2109200328020041106a21030340200941016a2209200b4f0d06410121012000200a2003280200110300450d000c080b0b41002109200121080c010b20014101762109200141016a41017621080b417f2101200041046a210a200041186a21032000411c6a21020340200141016a220120094f0d022003280200200a2802002002280200280210110300450d000b0b410121010c030b200041046a280200210a41012101200041186a2209280200200420052000411c6a220328020028020c1106000d0220092802002100417f2109200328020041106a21030340200941016a220920084f0d02410121012000200a2003280200110300450d000c030b0b41000f0b41000f0b20010be80501087f410021030240200241bf7f4b0d0041102002410b6a4178712002410b491b21042001417c6a22052802002206417871210702400240024002400240024002400240024002402006410371450d00200141786a220820076a2109200720044f0d01200028029c032009460d022000280298032009460d03200928020422064102710d042006417871220a20076a22072004490d04200720046b2102200a41ff014b0d06200928020c220320092802082209460d072009200336020c200320093602080c080b2004418002490d0320072004410472490d03200720046b41818008490d080c030b200720046b22024110490d0720052004200641017172410272360200200820046a220320024103723602042009200928020441017236020420002003200210200c070b20002802940320076a220720044d0d0120052004200641017172410272360200200820046a2202200720046b220341017236020420004194036a20033602002000419c036a20023602000c060b20002802900320076a220720044f0d010b2000200210052204450d05200420012002200528020022034178714104410820034103711b6b2203200320024b1b10b801210220002001101420020f0b02400240200720046b220241104f0d0020052006410171200772410272360200200820076a2202200228020441017236020441002102410021030c010b20052004200641017172410272360200200820046a22032002410172360204200820076a2204200236020020042004280204417e713602040b20004198036a200336020020004190036a20023602000c030b2000200910360c010b20002000280200417e200641037677713602000b02402002410f4b0d0020052007200528020041017172410272360200200820076a220220022802044101723602040c010b20052004200528020041017172410272360200200820046a22032002410372360204200820076a2204200428020441017236020420002003200210200b200121030b20030bc40501077f410021040240024020024103712205450d00410420056b2205450d00200220032005200520034b1b22046a210641002105200141ff017121072004210820022109024002400340200620096b41034d0d01200520092d0000220a2007476a2105200a2007460d022005200941016a2d0000220a2007476a2105200a2007460d022005200941026a2d0000220a2007476a2105200a2007460d022005200941036a2d0000220a2007476a21052008417c6a2108200941046a2109200a2007470d000c020b0b41002107200141ff0171210603402008450d02200920076a210a2008417f6a2108200741016a2107200a2d0000220a2006470d000b200a200141ff01714641016a41017120056a20076a417f6a21050b410121090c010b200141ff017121070240024020034108490d002004200341786a220a4b0d00200741818284086c210502400340200220046a220941046a2802002005732208417f73200841fffdfb776a7120092802002005732209417f73200941fffdfb776a7172418081828478710d01200441086a2204200a4d0d000b0b200420034b0d010b200220046a2109200220036a2102200320046b2108410021050240024002400340200220096b41034d0d01200520092d0000220a2007476a2105200a2007460d022005200941016a2d0000220a2007476a2105200a2007460d022005200941026a2d0000220a2007476a2105200a2007460d022005200941036a2d0000220a2007476a21052008417c6a2108200941046a2109200a2007470d000c020b0b41002107200141ff0171210203402008450d02200920076a210a2008417f6a2108200741016a2107200a2d0000220a2002470d000b200a200141ff01714641016a41017120056a20076a417f6a21050b41012109200520046a21050c020b41002109200520076a20046a21050c010b20042003108a01000b20002005360204200020093602000ba106010c7f230041c0eb006b2202240020022000412810b8012100200141086a2802002103200128020421040240024020002802082202200028020c460d002001280200210520004180376a41900d6a2106200041c60e6a2107200041b0de006a418e016a2108200041086a21092000411c6a210a200041186a210b2000410c6a210c03402009200241900d6a360200200041cc266a2002418c0110b8011a20022f018c012101200041ca1a6a2002418e016a41820c10b8011a20014103460d01200041d8276a200041cc266a418c0110b8011a200041f0296a200041ca1a6a41820c10b8011a024002400240200b2802002202200a280200460d00200b200241900d6a360200200041e4286a2002418c0110b8011a20022f018c01210d200041a0d1006a2002418e016a41820c10b8011a200041b0de006a200041d8276a418c0110b8011a200041b0de006a418c016a20013b01002008200041f0296a41820c10b8011a200d4103460d0120004180376a200041b0de006a41900d10b8011a2006200041e4286a418c0110b8011a200041286a20004180376a419c0e10b8011a200041286a419c0e6a200d3b01002007200041a0d1006a41820c10b8011a0c020b200041b0de006a200041d8276a418c0110b8011a200041b0de006a418c016a20013b01002008200041f0296a41820c10b8011a0b200041286a418c016a41033b0100200041b0de006a10ec010b200041286a418c016a22022f01004103460d0220004180376a200041286a41a01a10b8011a200041a0d1006a200041286a41900d10b8011a200041b0de006a200641900d10b8011a02400240200041a0d1006a418c016a2f01004102470d00200041f0296a200041b0de006a41900d10b8011a200041a0d1006a10ec010c010b200041f0296a200041a0d1006a41900d10b8011a200041b0de006a10ec010b2005200041f0296a41900d10b8012101024020022f01004103470d00200041286a10e4010b200341016a2103200141900d6a210520092802002202200c280200470d000b0b200041b4016a41033b01000b200041286a10e4012004200336020020001044200041106a1044200041c0eb006a24000ba106010c7f230041c0eb006b2202240020022000412810b8012100200141086a2802002103200128020421040240024020002802082202200028020c460d002001280200210520004180376a41900d6a2106200041c60e6a2107200041b0de006a418e016a2108200041086a21092000411c6a210a200041186a210b2000410c6a210c03402009200241900d6a360200200041cc266a2002418c0110b8011a20022f018c012101200041ca1a6a2002418e016a41820c10b8011a20014103460d01200041d8276a200041cc266a418c0110b8011a200041f0296a200041ca1a6a41820c10b8011a024002400240200b2802002202200a280200460d00200b200241900d6a360200200041e4286a2002418c0110b8011a20022f018c01210d200041a0d1006a2002418e016a41820c10b8011a200041b0de006a200041d8276a418c0110b8011a200041b0de006a418c016a20013b01002008200041f0296a41820c10b8011a200d4103460d0120004180376a200041b0de006a41900d10b8011a2006200041e4286a418c0110b8011a200041286a20004180376a419c0e10b8011a200041286a419c0e6a200d3b01002007200041a0d1006a41820c10b8011a0c020b200041b0de006a200041d8276a418c0110b8011a200041b0de006a418c016a20013b01002008200041f0296a41820c10b8011a0b200041286a418c016a41033b0100200041b0de006a10ec010b200041286a418c016a22022f01004103460d0220004180376a200041286a41a01a10b8011a200041a0d1006a200041286a41900d10b8011a200041b0de006a200641900d10b8011a02400240200041a0d1006a418c016a2f01004102470d00200041f0296a200041b0de006a41900d10b8011a200041a0d1006a10ec010c010b200041f0296a200041a0d1006a41900d10b8011a200041b0de006a10ec010b2005200041f0296a41900d10b8012101024020022f01004103470d00200041286a10e4010b200341016a2103200141900d6a210520092802002202200c280200470d000b0b200041b4016a41033b01000b200041286a10e4012004200336020020001044200041106a1044200041c0eb006a24000bea0502047f017e230041c0006b22042400200441086a200120022003102a0240024020042802084101470d00200441306a41086a200441086a410c6a2902003703002004200429020c370330200441206a200441306a10e501200041013a00002000410c6a200441206a41086a290300370200200041046a20042903203702000c010b200428020c210541052106410021070240024002400240200241ff0171410d470d000240200341ff01712202450d002002410e470d012005410b4d0d01200441206a41086a410036020020044200370320200441086a2001200441206a410c104a20042903082208a741ff01714103470d02410521060240200441206a41ff88c000410610aa010d0020042d002b220641034f0d050b410c21070c010b200541044d0d00200441206a41046a41003a000020044100360220200441086a2001200441206a4105104a4103210620042903082208a741ff01714103470d020240200441206a41b189c000410510aa01450d0041054104200441206a41b689c000410510aa011b21060b410521070b200441206a2001200520076b106b024020042d00204104470d00200041003a0000200020063a00010c040b200441086a41086a200441206a41086a29030037030020042004290320370308200441306a200441086a10e501200041013a00002000410c6a200441306a41086a290300370200200041046a20042903303702000c030b20042008370330200441086a200441306a10f101200041013a00002000410c6a200441086a41086a290300370200200041046a20042903083702000c020b20042008370330200441086a200441306a10f101200041013a00002000410c6a200441106a290300370200200041046a20042903083702000c010b200441306a418589c000412c10a401200441136a200441386a2802003600002004200429033037000b200041046a41003a0000200041013a0000200041056a20042900083700002000410c6a2004410f6a2900003700000b200441c0006a24000be60601047f4112210202400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240024002400240200141ff0171220341c07e6a2204413f4b0d00024020040e40001e2216282f23321b3414182e0f1f0d25303a292d39421c1d460b4344352436100c090a04453b17273c030e374d051115024e4b064749083e1340192a2b2152000b41002105410021020c510b2003450d5020034101470d4e411021020c4f0b410e21020c2e0b410d21020c3d0b410d21020c020b410d21020c1a0b410e21020b410421050c4a0b410e21020c2a0b410d21020c450b410d21020c410b410721020c450b410d21020c240b410021020c040b410d21020c0b0b410021020c1c0b410d21020c150b410d21020b410f21050c3f0b410e21020c290b410021020c2c0b410e21020c100b410021020c350b410d21020c1b0b410021020c010b410e21020b410b21050c370b410121020c350b410421020c160b410521020c330b410021020c120b410021020b410e21050c310b410f21020c2f0b410021020c2c0b410021020c260b410b21020c2c0b410421020b410021050c2b0b410d21020c170b410221020c280b410421020c220b410e21020c0d0b410e21020b410d21050c250b41042105410421020c240b410321020c220b410021020c180b410421020b410121050c200b410021020b410721050c1e0b410021020c080b410a21020c1b0b410c21020c1a0b410d21020b410c21050c190b410421020c0e0b410421020c140b410d21020c0e0b410d21020b410921050c140b410e21020b410821050c120b410e21020b410a21050c100b410421020c070b410821020c0d0b410921020c0c0b410d21020c020b410621020c0a0b410e21020b410521050c090b410e21020b410621050c070b410e21020b410321050c050b410d2105410d21020c040b410e21020b410221050c020b2001417e6a41ff017141be014f0d02411121020b0b200020053a0001200020023a00000f0b41fab0c000412841e8e8c00010d101000bc10501147f230041c0006b22022400024002400240024002400240200041246a2802002203200128020022044d0d00200028021c2203200441146c6a22052802004101470d01200041306a280200220620044d0d02200028022820044102746a2207280200450d03200141086a2802002108200128020421092003200441146c6a410c6a220a2f01002103200541046a2d000e210520022001410c6a280200220b3602082002200520036c220c410674220136020c200b2001470d040240024002400240024002400240200c450d002003410374210d2003410674210e200020044102746a210f41002101200041186a2110200041106a21112004410c6c211241c0002103200921050340200a2f01002206450d03200120066e2113200b2003490d042010280200221420044d0d05200441034b0d06201128020020126a22142802082215200f2802002001201320066c6b4103746a200e20136c6a2206490d07200541c000200728020041086a200d201428020020066a201520066b1007200341c0006a210320054180016a2105200141016a2201200c490d000c020b0b200441034b0d0b0b200020044102746a22012001280200200b6a36020002402008450d00200920084101744102109d020b200241c0006a24000f0b41a0dfc000109a01000b2003200b108801000b41c8dec00020042014108901000b41b8dfc00020044104108901000b20062015108a01000b41b8dec00020042003108901000b41a0dec000109a01000b41b8dec00020042006108901000b41a0dec000109a01000b2002200241086a360238200241286a410c6a4104360200200241106a41146a41023602002002410436022c20024203370214200241f8dec00036021020022002413c6a3602302002200241386a36022820022002410c6a36023c2002200241286a360220200241106a4190dfc00010a201000b41c8dfc00020044104108901000bac0502047f027d024002402006b3430000003f94220e430000804f5d200e430000000060710d00410021060c010b200ea921060b0240024002400240024002400240024002400240200620056c220620024b0d0002400240200e200e200e8f934300004040949243000080be92220e2004417f6ab3220f200e200f5d1b220e430000804f5d200e430000000060710d00410021040c010b200ea921040b200420056c220520024b0d01200220066b210a200120066a210b200220056b210c200120056a210d024020034101470d00200a450d03200c450d042009450d052008200d2d0000200b2d000041036c6a41026a41027622023a000020094101460d06200820023a00010f0b200a450d06200c450d072009450d082008200b2d000041036c200d2d00006a220541026a4102763a000002400240024002400240024020034102490d00410221014101210203402002200a4f0d032002200c4f0d042001417f6a20094f0d05200820016a2204417f6a200541036c200b20026a2d000041036c200d20026a2d00006a22066a41086a4104763a0000200120094f0d0620042005200641036c6a41086a4104763a0000200141026a210120062105200241016a22022003490d000c020b0b200521060b2003410174417f6a220220094f0d0d200820026a200641026a4102763a00000f0b41f0e7c0002002200a108901000b4180e8c0002002200c108901000b4190e8c0002001417f6a2009108901000b41a0e8c00020012009108901000b20062002108a01000b20052002108a01000b4180e7c00041004100108901000b4190e7c00041004100108901000b41a0e7c00041004100108901000b41b0e7c00041014101108901000b41c0e7c00041004100108901000b41d0e7c00041004100108901000b41e0e7c00041004100108901000b41b0e8c00020022009108901000bda0501027f230041206b2202240002400240024002400240024002400240024002400240024002400240024002400240024020002d0000417f6a220341104b0d00024020030e110002030405060708090a0b0c0d0e0f1011000b200241106a200141d3b1c000410310c901200241106a105e21000c110b200241106a200141d6b1c000410310c9012002200041016a36020c200241106a2002410c6a41f8e8c00010381a200241106a105e21000c100b200241106a200141d0b1c000410310c901200241106a105e21000c0f0b200241106a200141cdb1c000410310c901200241106a105e21000c0e0b200241106a200141cab1c000410310c9012002200041016a36020c200241106a2002410c6a41f8e8c00010381a200241106a105e21000c0d0b200241106a200141c7b1c000410310c901200241106a105e21000c0c0b200241106a200141c4b1c000410310c901200241106a105e21000c0b0b200241106a200141c1b1c000410310c901200241106a105e21000c0a0b200241106a200141beb1c000410310c901200241106a105e21000c090b200241106a200141bbb1c000410310c901200241106a105e21000c080b200241106a200141b8b1c000410310c901200241106a105e21000c070b200241106a200141b5b1c000410310c901200241106a105e21000c060b200241106a200141b2b1c000410310c901200241106a105e21000c050b200241106a200141afb1c000410310c9012002200041016a36020c200241106a2002410c6a41f8e8c00010381a200241106a105e21000c040b200241106a200141abb1c000410410c9012002200041016a36020c200241106a2002410c6a41f8e8c00010381a200241106a105e21000c030b200241106a200141a8b1c000410310c901200241106a105e21000c020b200241106a200141a5b1c000410310c901200241106a105e21000c010b200241106a200141a2b1c000410310c901200241106a105e21000b200241206a240020000bf90502057f017e410121020240200128021841272001411c6a2802002802101103000d004102210202400240024002400240024002400240024002402000280200220041776a2203411e4b0d0041f4002104024020030e1f0a0002020302020202020202020202020202020202020202020602020202060a0b41ee0021040c030b200041dc00460d040b41a8f0c0002000103f450d02200041017267410276410773ad4280808080d0008421070c050b41f20021040b0c050b02400240200041ffff034b0d00200041a0bcc000412841f0bcc00041af02419fbfc00041bc02102c450d030c010b0240200041ffff074b0d00200041dbc1c0004121419dc2c000419e0141bbc3c00041fd02102c0d010c030b200041ef83384b0d02200041e28b746a41e28d2c490d022000419fa8746a419f18490d02200041dee2746a410e490d02200041feffff0071419ef00a460d02200041a9b2756a4129490d02200041cb91756a410a4d0d020b410121020b0c020b200041017267410276410773ad4280808080d0008421070b410321020b200021040b200141186a21032001411c6a21050240034002400240024002400240024002400240024020024101460d0041dc00210020024102460d0120024103470d0a2007422088a741ff0171417f6a220241044b0d0a024020020e050003040506000b200742ffffffff8f6083210741fd0021000c070b41002102200421000c070b410121020c060b20042007a72206410274411c7176410f712202413072200241d7006a2002410a491b21002006450d032007427f7c42ffffffff0f832007428080808070838421070c040b200742ffffffff8f608342808080802084210741fb0021000c030b200742ffffffff8f608342808080803084210741f50021000c020b200742ffffffff8f60834280808080c0008421070c010b200742ffffffff8f60834280808080108421070b410321020b200328020020002005280200280210110300450d000b41010f0b200141186a28020041272001411c6a28020028021011030021020b20020b8a0501047f200120026a210302400240024002400240024002400240200128020422044101710d002004410371450d012001280200220420026a2102024002400240200028029803200120046b2201460d00200441ff014b0d01200128020c220520012802082206460d022006200536020c200520063602080c030b20032802044103714103470d022000200236029003200341046a22002000280200417e7136020020012002410172360204200320023602000f0b2000200110360c010b20002000280200417e200441037677713602000b02400240200328020422044102710d00200028029c032003460d012000280298032003460d032004417871220520026a2102200541ff014b0d04200328020c220520032802082203460d062003200536020c200520033602080c070b200341046a2004417e7136020020012002410172360204200120026a20023602000c070b2000419c036a2001360200200020002802940320026a220236029403200120024101723602042001200028029803460d030b0f0b20004198036a2001360200200020002802900320026a22023602900320012002410172360204200120026a20023602000f0b2000200310360c020b200041003602900320004198036a41003602000f0b20002000280200417e200441037677713602000b20012002410172360204200120026a2002360200200120004198036a280200470d0020002002360290030f0b024002400240200241ff014b0d002000200241037622034103746a41086a21022000280200220441012003411f7174220371450d01200228020821000c020b20002001200210310f0b20002004200372360200200221000b200220013602082000200136020c2001200236020c200120003602080bd60402057f017e230041c0006b2204240002400240024002400240024020012d0008410f4b0d00200441106a20012002102520042d00104104470d01200441106a104b0b0240200320012903002209423888a74101746a2205418f096a2d00002202450d00200041003a0000200120092002ad423f8386370300200141086a220620062d000020026b3a000020002005418e096a2d00003a00010c030b200441086a41084110108c022009423088a7210720042d0008210220042d000941ff017121080340200241ff0171220520084f0d02200541104f0d04410f20026b2106200241016a2102200320054102746a41cc006a28020020072006410f717641ffff03712206480d000b200120012903002002ad423f8386370300200141086a220820082d000020026b3a0000200320054102746a410c6a28020021022004200310f50120042802042205200220066a22024d0d04200428020020026a2d00002102200041003a0000200020023a00010c020b200441306a41086a200441106a41086a29030037030020042004290310370330200441206a200441306a10e501200041013a00002000410c6a200441206a41086a290300370200200041046a200429032037020020042d00104104470d01200441106a104b0c010b200441206a418299c000411d10a4012004413b6a200441286a28020036000020042004290320370033200041046a41003a0000200041013a0000200041056a20042900303700002000410c6a200441376a2900003700000b200441c0006a24000f0b41e8d9c00020054110108901000b4190dac00020022005108901000bd60401047f02400240024002400240024002400240024002400240200620056c220620024b0d00200220066b210a200120066a210b0240024002400240024020034101470d00200a450d062009450d072008200b2d000022023a00004101210620094101470d014190e5c00041014101108901000b200a450d072009450d082008200b2d000022023a0000200a4102490d0920094102490d0a2008200241036c200b2d000122016a41026a4102763a000102402003417f6a220c4102490d0041022102410221060340200220094f0d03200820026a2205200141ff017141036c41026a220d200b20066a2201417e6a2d00006a4102763a00002006200a4f0d04200241016a20094f0d05200541016a200d20012d000022016a4102763a0000200241026a21022006200c492105200641016a210620050d000b0b200c200a4f0d0b2003417e6a2202200a4f0d0c200c410174220620094f0d0d200820066a200b20026a2d0000200b200c6a2d0000220241036c6a41026a4102763a00002006410172220620094f0d0e0b200820066a20023a00000f0b41e0e5c00020022009108901000b41f0e5c0002006200a108901000b4180e6c000200241016a2009108901000b20062002108a01000b41f0e4c00041004100108901000b4180e5c00041004100108901000b41a0e5c00041004100108901000b41b0e5c00041004100108901000b41c0e5c0004101200a108901000b41d0e5c00041012009108901000b4190e6c000200c200a108901000b41a0e6c0002002200a108901000b41b0e6c00020062009108901000b41c0e6c00020062009108901000bc304010d7f230041306b22032400024002400240024002402002450d00200341286a2104200041086a2105200341206a21062003411c6a2107200341246a2108200041046a21090340024020052d0000450d00200028020041c2bbc0004104200928020028020c1106000d030b2004410a3602002006428a8080801037030020072002360200200341106a41086a220a41003602002003200236021420032001360210200341086a410a2001200210170240024002400240024020032802084101470d00200328020c210b0340200a200b200a2802006a41016a220b36020002400240200b2008280200220c4f0d002003280214210d0c010b2003280214220d200b490d00200c41054f0d052003280210200b200c6b220e6a220f2004460d04200f2004200c10aa01450d040b2007280200220f200b490d02200d200f490d022003200341106a200c6a41176a2d00002003280210200b6a200f200b6b10172003280204210b20032802004101460d000b0b200a20072802003602000b200541003a00002002210b0c020b200541013a0000200e41016a210b0c010b200c4104108801000b2009280200210f2000280200210c0240200b452002200b4672220a0d002002200b4d0d052001200b6a2c000041bf7f4c0d050b200c2001200b200f28020c1106000d020240200a0d002002200b4d0d062001200b6a2c000041bf7f4c0d060b2001200b6a21012002200b6b22020d000b0b4100210b0c010b4101210b0b200341306a2400200b0f0b200120024100200b1010000b20012002200b20021010000bcf0401037f230041306b220224000240024002400240024002400340200241003a0027200241286a2001200241276a4101104a20022d00284103470d0120022d002741ff01470d000b200241003a0027200241286a2001200241276a4101104a20022d00284103470d0120022d0027210302400340200341ff0171220441ff01470d01200241003a0027200241286a2001200241276a4101104a20022d00284103470d0420022d002721030c000b0b20040d03200241186a419585c000412510a401200241136a200241206a2802003600002002200229031837000b200041046a41003a0000200041013a0000200041056a20022900083700002000410c6a2002410f6a2900003700000c040b20022002290328370308200241186a200241086a10a30220022002290318370318200241086a200241186a10f101200041013a00002000410c6a200241106a290300370200200041046a20022903083702000c030b20022002290328370308200241186a200241086a10a30220022002290318370318200241086a200241186a10f101200041013a00002000410c6a200241106a290300370200200041046a20022903083702000c020b20022002290328370308200241186a200241086a10a30220022002290318370318200241086a200241186a10f101200041013a00002000410c6a200241106a290300370200200041046a20022903083702000c010b20022003101b20022d000022014112460d0120022d00012103200020013a0001200041003a0000200041026a20033a00000b200241306a24000f0b41e8d3c000109a01000bca0401077f230041306b220324000240024020012d000841384b0d00200141096a21042001410a6a2105200141086a2106034041002107024020042d00004112470d00200341003a0027200341286a2002200341276a4101104a02400240024020032d00284103470d0020032d0027220741ff01470d03200341003a0027200341286a2002200341276a4101104a20032d00284103470d01024020032d002722070d0041ff0121070c040b0240024002400340200741ff0171220841ff01470d01200341003a0027200341286a2002200341276a4101104a20032d00284103470d0220032d002721070c000b0b2008450d0120032007101b20032d000022074112460d04200520032d00013a0000200420073a000020062d00004139490d060c070b20032003290328370308200341186a200341086a10a302200320032903183703082000200341086a10f1010c070b200341186a419f99c000412510a401200341136a200341186a41086a2802003600002003200329031837000b200041003a000020002003290008370001200041086a2003410f6a2900003700000c060b20032003290328370308200341186a200341086a10a302200320032903183703082000200341086a10f1010c050b20032003290328370308200341186a200341086a10a302200320032903183703082000200341086a10f1010c040b41f8d9c000109a01000b200620062d0000220841086a22093a000020012007ad413820086b413f71ad86200129030084370300200941ff01714139490d000b0b200041043a00000b200341306a24000b900402057f017e230041d0006b22092400200941086a20052006108c0202400240024002400240024020092d0008220520092d0009220a4f0d00200441086a210b0340200541c0004f0d04200541a89fc0006a2d0000220c20034f0d05024002402002200c4101746a220d2f0100450d000240200b2d0000220c0d00200941306a20042001102520092d00304104470d06200b2d0000210c0b200b200c417f6a3a000020042004290300220e420186370300200941106a41086a200941206a41086a29020037030020092009290220370310200e427f550d01200d2e0100220c20087141ffff03710d010240200c41014e0d00200d200c20086b3b01000c020b200d200c20086a3b01000c010b200741ff0171450d032007417f6a21070b200541016a2205200a490d000b0b200041003a000020002006417f6a3a00010c040b200041003a0000200020053a00010c030b200941c0006a41086a2205200941306a41086a220c29030037030020092009290330370340200941206a200941c0006a10e501200941106a41086a2204200941206a41086a290200370300200920092902203703102005200429030037030020092009290310370340200941306a200941c0006a10e501200041013a00002000410c6a200c290300370200200041046a20092903303702000c020b4198d3c000200541c000108901000b41a8d3c000200c2003108901000b200941d0006a24000bc00301067f230041106b22022400024002400240024002400240200041186a2802002203200128020022044d0d00200041106a2802002004410c6c6a2802080d01200441034b0d02200020044102746a4100360200200041186a280200220320044d0d03200141046a2103024002402001410c6a2f01002001410e6a2f01006c4106742205200041106a2802002004410c6c6a220628020822074d0d002006200520076b410010730c010b200641086a2005200720052007491b3602000b200241086a2205200341086a29020037030020022003290200370300200041246a280200220320044d0d04200028021c200441146c6a22032002290300370204200341013602002003410c6a2005290300370200200041306a280200220320044d0d05200128021421010240200028022820044102746a22002802002204450d00200420042802002203417f6a36020020034101470d00200010d0010b20002001360200200241106a24000f0b41b8dec00020042003108901000b41a3a9c000413541d8dec00010d101000b41e8dec00020044104108901000b41c8dec00020042003108901000b41c8dec00020042003108901000b41c8dec00020042003108901000bda0302027f057e230041e0006b220524002005200236020c2005200136020841012101024020002d00040d0020054101410220002d000522011b2202360214200541c6bbc00041c7bbc00020011b2206360210024002400240200028020022012d00004104710d00200541dc006a41c800360200200541c8003602542001411c6a28020021022005200541086a3602582005200541106a360250200128021821012005412c6a41023602002005420337021c20054184efc0003602182005200541d0006a36022820012002200541186a100f0d0120032000280200200428020c11030021010c030b200541003a00582001290210210720012902082108200541346a41eceec00036020020052001290218370350200129022021092001290228210a200520012d00303a00482001290200210b20052008370320200520073703282005200a370340200520093703382005200b3703182005200541d0006a360230200541d0006a2006200210230d00200541d0006a41c9bbc000410110230d00200541d0006a2005280208200528020c10230d00200541d0006a4181b8c00041021023450d010b410121010c010b2003200541186a200428020c11030021010b200041013a0005200041046a20013a0000200541e0006a240020000bf20201057f410021030240414020014110200141104b1b22016b20024d0d002000200141102002410b6a4178712002410b491b22046a410c6a10052202450d00200241786a21030240024002402001417f6a2205200271450d002002417c6a22062802002207417871200520026a410020016b7141786a2202200220016a200220036b41104b1b220120036b22026b21052007410371450d0120012005200128020441017172410272360204200120056a22052005280204410172360204200620022006280200410171724102723602002001200128020441017236020420002003200210200c020b200321010c010b20032802002103200120053602042001200320026a3602000b024020012802042202410371450d0020024178712203200441106a4d0d00200141046a2004200241017172410272360200200120046a2202200320046b2204410372360204200120036a2203200328020441017236020420002002200410200b200141086a21030b20030b980301017f230041d0006b22042400200420033a0009200420023a000802402002200310d201450d00200441003b014e200441106a2001200441ce006a4102104a02400240024020042d00104103470d00200420042f014e22024118742002410874418080fc077172411076220236020c200241024b0d0120042004410c6a4103108b02200441346a41023602002004410236023c20044202370224200441c0d6c000360220200420042903003703402004200441086a3602382004200441386a360230200441106a200441206a102e2004412b6a200441106a41086a28020036000020042004290310370023200041003a000420004101360200200041056a20042900203700002000410c6a200441276a2900003700000c020b20042004290310370320200441386a200441206a10a30220042004290338370338200441206a200441386a10f101200041013602002000410c6a200441286a290300370200200020042903203702040c010b2000410036020020002002417e6a3602040b200441d0006a24000f0b41b988c000412541b0d6c00010d101000b820302137f027e20002000280208200110bf0120002802002000280208220341146c6a210402400240024020014102490d002001417f6a2105200320016a21062002410e6a21072002410c6a21082002410a6a2109200241086a210a200241046a210b200241126a210c200241116a210d200241106a210e034041002103024020022802004101470d0020072f0100210f20082f0100211020092f01002111200a2f01002112200b2802002113200c2d00002101200d2d00002114200e2d00002115410121030b20042003360200200441126a20013a0000200441116a20143a0000200441106a20153a00002004410e6a200f3b01002004410c6a20103b01002004410a6a20113b0100200441086a20123b0100200441046a2013360200200441146a21042005417f6a22050d000b2006417f6a21030c010b2001450d010b200241086a290200211620022902002117200441106a200241106a280200360200200441086a201637020020042017370200200341016a21030b200041086a20033602000bef0201077f410121070240024002400240024002402002450d00200120024101746a210820004180fe037141087621094100210a200041ff0171210b0340200141026a210c200a20012d000122026a210d0240024020012d000022012009470d00200d200a490d07200d20044b0d082003200a6a210103402002450d022002417f6a210220012d0000210a200141016a2101200a200b470d000c050b0b200120094b0d02200d210a200c2101200c2008470d010c020b200d210a200c2101200c2008470d000b0b2006450d01200520066a210b200041ffff03712101410121070340200541016a210a0240024020052d00002202411874411875220d417f4c0d00200a21050c010b200a200b460d04200d41ff0071410874200541016a2d0000722102200541026a21050b200120026b22014100480d02200741017321072005200b470d000c020b0b410021070b20074101710f0b4184edc000109a01000b200a200d108a01000b200d2004108801000ba90301027f230041306b22022400024002400240024020002d000022034101460d0020034102470d01200041046a2802002100200241206a200141e1b3c000410610ce012002200041086a360210200241206a41c6b3c0004104200241106a41d4ebc00010281a20022000360210200241206a41dcb3c0004105200241106a41e4ebc00010281a200241206a10950121000c020b200220002d00013a0010200241206a200141bcb3c000410410c901200241206a200241106a4180ebc0001038105e21000c010b2002200041046a28020036020c200241106a200141c0b3c000410210ce01200241106a41c2b3c00041042002410c6a4190ebc00010282100200241103a001f200041c6b3c00041042002411f6a4180ebc000102821014114410110a9022200450d01200041106a41002800cbb540360000200041086a41002900c3b540370000200041002900bbb54037000020024294808080c00237022420022000360220200141cab3c0004107200241206a41a0ebc0001028109501210020022802242201450d00200228022020014101109d020b200241306a240020000f0b4114410110a502000bf90201067f230041306b220224002001280200210302400240200128020422044103742205450d00200341046a2106410021070340200628020020076a2107200641086a2106200541786a22050d000c020b0b410021070b02400240024002400240200141146a280200450d002004450d03024002402007410f4b0d002003280204450d010b200720076a220620074f0d020b4101210541002106200241086a21070c020b200721060b2006417f4c0d02200241086a210702402006450d002006410110a90222050d012006410110a502000b41012105410021060b200241003602102002200636020c200220053602082002200241086a360214200241186a41106a200141106a290200370300200241186a41086a200141086a290200370300200220012902003703180240200241146a41f4ebc000200241186a100f0d0020002007290200370200200041086a200741086a280200360200200241306a24000f0b108701000b418cecc00041004100108901000b10c702000b820301017f230041c0006b2202240020022001410a2002102a0240024020022802004101470d00200241286a41086a2002410c6a29020037030020022002290204370328200241186a200241286a10e501200041013b01002000410c6a200241186a41086a290300370200200041046a20022903183702000c010b0240024020022802044102470d00200241003b013e200241186a20012002413e6a4102104a20022d00184103470d0120022f013e2101200041003b0100200020014118742001410874418080fc0771724110763b01020c020b200241286a41968dc000411710a4012002410b6a200241306a28020036000020022002290328370003200041046a41003a0000200041013b0100200041056a20022900003700002000410c6a200241076a2900003700000c010b20022002290318370300200241286a200210a302200220022903283703282002200241286a10f101200041013b01002000410c6a200241086a290300370200200041046a20022903003702000b200241c0006a24000bd40201027f230041106b22022400200028020021000240024020014180014f0d000240200028020822032000280204470d0020004101106c200041086a28020021030b200028020020036a20013a0000200041086a2200200028020041016a3602000c010b2002410036020c0240024020014180104f0d0020022001413f71418001723a000d20022001410676411f7141c001723a000c410221010c010b0240200141ffff034b0d0020022001413f71418001723a000e20022001410676413f71418001723a000d20022001410c76410f7141e001723a000c410321010c010b20022001413f71418001723a000f2002200141127641f001723a000c20022001410676413f71418001723a000e20022001410c76413f71418001723a000d410421010b20002001106c20002000280208220320016a360208200320002802006a2002410c6a200110b8011a0b200241106a240041000bc90201047f0240024020024108762203450d00411f2104200241ffffff074b0d012002412620036722046b411f7176410171411f20046b4101747221040c010b410021040b200142003702102001200436021c200020044102746a4190026a2103024002400240024002402000280204220541012004411f7174220671450d00200328020022032802044178712002470d01200321040c020b200041046a200520067236020020032001360200200120033602180c030b20024100411920044101766b411f712004411f461b742100034020032000411d764104716a41106a22052802002204450d02200041017421002004210320042802044178712002470d000b0b20042802082200200136020c20042001360208200141003602182001200436020c200120003602080f0b20052001360200200120033602180b2001200136020c200120013602080bfc0201037f230041206b220324000240024041c034410410a9022204450d00200441023b01bc28200441023b01ac1b200441023b019c0e200441023b018c0141c034410410a9022205450d01200541023b01bc28200541023b01ac1b200541023b019c0e200541023b018c0120002002360208200020013703002000200329020c370230200041c4006a41023a0000200041c5006a2003280005360000200041386a200341146a290200370200200041c0006a2003411c6a280200360200200041c8006a200341056a41036a280000360000200041003b018001200020053602582000200436024c200041dc006a4284808080c000370200200041d0006a4284808080c000370200200041ec006a420037020020004200370264200041033b018201200041003a008401200041fc006a410036020020004204370274200041286a4200370300200041206a4200370300200041186a420037030020004200370310200341206a24000f0b41c034410410a502000b41c034410410a502000bcd0202027f027d024002402006b3430000003f94220c430000804f5d200c430000000060710d00410021060c010b200ca921060b02400240200620056c220a20024b0d0002400240200c200c200c8f934300004040949243000080be92220c2004417f6ab3220d200c200d5d1b220c430000804f5d200c430000000060710d00410021040c010b200ca921040b200420056c220520024b0d0102400240024002402007450d002002200a6b2104200220056b2106200120056a210b2001200a6a2101410021020340200220044f0d02200220064f0d03200220094f0d04200820026a200b20026a2d0000200120026a2d000041036c6a41026a4102763a0000200241016a2205210220052007490d000b0b0f0b41d0e6c00020022004108901000b41e0e6c00020022006108901000b41f0e6c00020022009108901000b200a2002108a01000b20052002108a01000bcb0201027f230041106b220224000240024020014180014f0d000240200028020822032000280204470d0020004101106d200041086a28020021030b200028020020036a20013a0000200041086a2200200028020041016a3602000c010b2002410036020c0240024020014180104f0d0020022001413f71418001723a000d20022001410676411f7141c001723a000c410221010c010b0240200141ffff034b0d0020022001413f71418001723a000e20022001410676413f71418001723a000d20022001410c76410f7141e001723a000c410321010c010b20022001413f71418001723a000f2002200141127641f001723a000c20022001410676413f71418001723a000e20022001410c76413f71418001723a000d410421010b20002001106d20002000280208220320016a360208200320002802006a2002410c6a200110b8011a0b200241106a24000be20201027f230041206b220224000240024002400240024002400240024020002d0000417f6a220341064b0d00024020030e0700020304050607000b200241106a200141aaacc000410810c901200241106a105e21000c070b200241106a200141b2acc000410c10c901200241106a105e21000c060b200241106a20014193acc000411710c901200241106a105e21000c050b200241106a20014184acc000410f10c9012002200041016a36020c200241106a2002410c6a41d8dfc00010381a200241106a105e21000c040b200241106a200141f6abc000410e10c9012002200041016a36020c200241106a2002410c6a41d8dfc00010381a200241106a105e21000c030b200241106a200141f3abc000410310c901200241106a105e21000c020b200241106a200141e3abc000411010c901200241106a105e21000c010b200241106a200141c9abc000411a10c901200241106a105e21000b200241206a240020000bce0201057f200128021821020240024002400240200128020c22032001460d0020012802082204200336020c2003200436020820020d010c020b0240200141144110200141146a220328020022051b6a2802002204450d002003200141106a20051b2105024003402005210602402004220341146a22052802002204450d0020040d010c020b200341106a2105200328021022040d000b0b2006410036020020020d010c020b410021032002450d010b024002402000200128021c4102746a4190026a22042802002001460d0020024110411420022802102001461b6a200336020020030d010c020b200420033602002003450d020b20032002360218024020012802102204450d0020032004360210200420033602180b200141146a2802002204450d00200341146a2004360200200420033602180b0f0b20002000280204417e2001411c6a28020077713602040bc80202057f017e230041306b22032400412721040240024020004290ce00540d00412721040340200341096a20046a2205417c6a200020004290ce008022084290ce007e7da7220641e4006e220741017441fab9c0006a2f00003b00002005417e6a2006200741e4006c6b41017441fab9c0006a2f00003b00002004417c6a2104200042ffc1d72f5621052008210020050d000c020b0b200021080b02402008a7220541e3004c0d00200341096a2004417e6a22046a2008a72205200541ffff037141e4006e220541e4006c6b41ffff037141017441fab9c0006a2f00003b00000b02400240200541094a0d00200341096a2004417f6a22046a200541306a3a00000c010b200341096a2004417e6a22046a200541017441fab9c0006a2f00003b00000b20022001418cb7c0004100200341096a20046a412720046b10152104200341306a240020040beb0202057f057e230041d0006b2203240041012104024020002d00080d0041c6bbc00041cfbbc000200028020422051b21060240200028020022072d00004104710d00410121042007280218200641012007411c6a28020028020c1106000d012000280200220728021841cabbc000418cb7c00020051b20054100472007411c6a28020028020c1106000d0120012000280200200228020c11030021040c010b200341003a00102007290210210820072902082109200341346a41eceec000360200200320072902183703082007290220210a2007290228210b200320072d00303a00482007290200210c20032009370320200320083703282003200b3703402003200a3703382003200c3703182003200341086a36023041012104200341086a2006410110230d00200341086a41c9bbc000410110230d002001200341186a200228020c11030021040b200041086a20043a00002000200028020441016a360204200341d0006a240020000bb10201037f23004180016b2202240002400240024002400240200128020022034110710d002000280200210420034120710d012004ad41012001103721000c020b20002802002104410021000340200220006a41ff006a2004410f712203413072200341d7006a2003410a491b3a00002000417f6a2100200441047622040d000b20004180016a22044181014f0d022001410141f8b9c0004102200220006a4180016a410020006b101521000c010b410021000340200220006a41ff006a2004410f712203413072200341376a2003410a491b3a00002000417f6a2100200441047622040d000b20004180016a22044181014f0d022001410141f8b9c0004102200220006a4180016a410020006b101521000b20024180016a240020000f0b2004418001108a01000b2004418001108a01000bd40202017f057d200041ff0171b32204200141ff0171b343000000c3922205431e33b0be94922106200241ff0171b343000000c392220743e1d136bf94210802400240200743bc74b33f94200492430000003f9222078b430000004f5d0d0041808080807821020c010b2007a821020b20062008922106410021000240024020024100480d0041ff0121002002418002480d010b200021020b200543e5d0e23f942105024002402006430000003f9222068b430000004f5d0d0041808080807821000c010b2006a821000b20052004922104410021010240024020004100480d0041ff0121012000418002480d010b200121000b024002402004430000003f9222048b430000004f5d0d0041808080807821010c010b2004a821010b410021030240024020014100480d0041ff0121032001418002480d010b200321010b20004108744180fe0371200241ff0171722001411074720b980301017f230041106b2202240002400240024002400240024002400240024002400240024002400240024002400240024020002d0000417f6a220041104b0d00024020000e110002030405060708090a0b0c0d0e0f1011000b2002200141a3b5c000411010c9010c110b2002200141b3b5c000410810c9010c100b200220014192b5c000411110c9010c0f0b200220014183b5c000410f10c9010c0e0b2002200141f2b4c000411110c9010c0d0b2002200141e6b4c000410c10c9010c0c0b2002200141ddb4c000410910c9010c0b0b2002200141cdb4c000411010c9010c0a0b2002200141c3b4c000410a10c9010c090b2002200141b6b4c000410d10c9010c080b2002200141acb4c000410a10c9010c070b2002200141a0b4c000410c10c9010c060b200220014195b4c000410b10c9010c050b20022001418db4c000410810c9010c040b200220014184b4c000410910c9010c030b2002200141f9b3c000410b10c9010c020b2002200141f4b3c000410510c9010c010b2002200141e7b3c000410d10c9010b2002105e2101200241106a240020010bbf0201057f230041306b220224000240200128020422030d002001280200210320024100360210200242013703082002200241086a360214200241186a41106a200341106a290200370300200241186a41086a2204200341086a29020037030020022003290200370318200241146a41a4eac000200241186a100f1a20042002280210360200200220022903083703180240200141046a22032802002205450d00200141086a2802002206450d00200520064101109d020b20032002290318370200200341086a2004280200360200200328020021030b200141013602042001410c6a2802002104200141086a22012802002105200142003702000240410c410410a9022201450d00200120043602082001200536020420012003360200200041c4ebc00036020420002001360200200241306a24000f0b410c410410a502000bb30201097f230041106b22072400200741086a200028020c22084101109e01200728020c21092007280208210a02400240024002402000280208220b450d002000280200220c200b41146c6a210d4100210e0340200e20024f0d04200c2802002001200e410c6c6a22002802002000280208200c280208200c28020c200c28021020032004200a2008200c28020428020c11040002402004450d0041002100200e210b0340200820004d0d04200b20064f0d052005200b6a200a20006a2d00003a0000200b20026a210b200041016a220f2100200f2004490d000b0b200e41016a210e200c41146a220c200d470d000b0b02402009450d00200a20094101109d020b200741106a24000f0b41a0e3c00020002008108901000b41c0e3c000200b2006108901000b41b0e3c000200e2002108901000bb00202017f017e230041c0006b22022400200241086a2001410f2002102a0240024020022802084101470d00200241306a41086a200241086a410c6a2902003703002002200229020c370330200241206a200241306a10e501200041013602002000410c6a200241206a41086a290300370200200020022903203702040c010b200241306a4100200228020c1084012002200241306a10f801200241086a200120022802002002280204104a024020022903082203a741ff01714103470d0020002002290330370204200041003602002000410c6a200241386a2802003602000c010b20022003370320200241086a200241206a10f101200041013602002000410c6a200241106a29030037020020002002290308370204200241306a10da02200241306a10e8010b200241c0006a24000bb40201027f024002400240024002400240024020014180104f0d002000200141037641f8ffffff01716a21000c010b02402001418080044f0d00200141067641606a220241e0074f0d0220004184026a2802002203200020026a4198026a2d000022024d0d0320002802800220024103746a21000c010b2001410c7641706a22024180024f0d03200020026a41f8096a2d00004106742001410676413f717222022000418c026a28020022034f0d0420004194026a280200220320002802880220026a2d000022024d0d0520002802900220024103746a21000b200029030042012001413f71ad86834200520f0b41d4efc000200241e007108901000b41e4efc00020022003108901000b41f4efc0002002418002108901000b4184f0c00020022003108901000b4194f0c00020022003108901000b9c0202017f017e230041306b2204240002400240024020032f018c014101470d00024020012d000841074b0d00200420012002102520042d00004104470d022004104b0b2003418e016a20012903002205423888a74102746a22022d00022203450d00200041808004360200200041066a20034104763a0000200120052003ad420f8386370300200141086a220120012d00002003410f716b3a0000200041046a20022f01003b01000c020b200041003602000c010b200441206a41086a200441086a29030037030020042004290300370320200441106a200441206a10e501200041013b01002000410c6a200441106a41086a290300370200200041046a200429031037020020042d00004104470d002004104b0b200441306a24000b930201037f230041106b2205240041022106024002402000280204220720016b20024f0d00200120026a220220014921010240024002402004450d002001450d01410010cb0210cb0221060c030b2001450d01410010cb0221060c020b20074101742201200220022001491b21020b0240200220026a220120024f0d0010dc02410010cb0221060c010b02400240024002402001417f4c0d00200541086a200010d801200528020c2204450d0120002802002005280208200420011095022204450d020c030b410010cb0221060c030b2001410210a90222040d010b20030d020b02402004450d0020002004360200200041046a20023602000c010b410121060b200541106a240020060f0b2001410210a502000b8e0201057f230041106b220324002003200236020c20002000280208200110c00141022104200028020822054102742106200028020021070240024002400240024020014102490d00200720066a41046a21060340024002402002450d0020022002280200220741016a3602002007417f4a0d010c060b410021020b2006417c6a20023602000240200420014f0d00200441016a2104200641046a2106200328020c21020c010b0b200520046a417f6a2105200328020c21020c010b2001450d01200720066a21060b20062002360200200041086a200541016a3602000c020b2002450d01200220022802002206417f6a36020020064101470d012003410c6a10d0010c010b000b200341106a24000bb50201057f230041c0006b2204240041012105200328020c21062003280208210720032802042108200328020021030240024002400240410028029080414101470d0041004100280294804141016a2205360294804120054103490d010c020b410042818080801037039080410b200441306a200320082007200610e601200441246a200441386a29030037020020042002360218200441bceac000360214200441fcb2c0003602102004200429033037021c41002802c0fc402203417f4c0d004100200341016a22033602c0fc40024041002802c8fc402202450d0041002802c4fc402103200441086a20002001280210110500200420042903083703102003200441106a200228020c11050041002802c0fc4021030b41002003417f6a3602c0fc4020054102490d010b000b2000200110d401000b8b0201067f230041b01b6b22012400024020002802082202200028020c460d00200141a00e6a418e016a2103200041086a21042000410c6a210503402004200241900d6a360200200141940d6a2002418c0110b8011a20022f018c012106200141a00e6a2002418e016a41820c10b8011a20064103460d01200141880c6a200141940d6a418c0110b8011a200141066a200141a00e6a41820c10b8011a200141a00e6a200141880c6a418c0110b8011a200141a00e6a418c016a20063b01002003200141066a41820c10b8011a200141a00e6a10eb01200428020022022005280200470d000b0b024020002802042202450d002000280200200241900d6c4104109d020b200141b01b6a24000bf90101017f230041106b220224002002410036020c02400240200141ff004b0d00200220013a000c410121010c010b0240200141ff0f4b0d0020022001413f71418001723a000d20022001410676411f7141c001723a000c410221010c010b0240200141ffff034b0d0020022001413f71418001723a000e20022001410676413f71418001723a000d20022001410c76410f7141e001723a000c410321010c010b20022001413f71418001723a000f2002200141127641f001723a000c20022001410676413f71418001723a000e20022001410c76413f71418001723a000d410421010b20002002410c6a200110232101200241106a240020010bf10102027f017e410221050240024002402000280204220620016b20024f0d00200120026a2202200149210102402004450d002001450d02410010cb0210cb020f0b2001450d02410010cb0221050b20050f0b20064101742201200220022001491b21020b02402002ad4204862207422088a7450d0010dc02410010cb020f0b024002400240024002402007a72205417f4c0d002006450d0120002802002006410474410420051095022201450d020c030b410010cb020f0b2005410410a90222010d010b20030d010b02402001450d0020002001360200200041046a200236020041020f0b41010f0b2005410410a502000bf10102027f017e410221050240024002402000280204220620016b20024f0d00200120026a2202200149210102402004450d002001450d02410010cb0210cb020f0b2001450d02410010cb0221050b20050f0b20064101742201200220022001491b21020b02402002ad420c7e2207422088a7450d0010dc02410010cb020f0b024002400240024002402007a72205417f4c0d002006450d0120002802002006410c6c410420051095022201450d020c030b410010cb020f0b2005410410a90222010d010b20030d010b02402001450d0020002001360200200041046a200236020041020f0b41010f0b2005410410a502000bf30102027f017e410221050240024002402000280204220620016b20024f0d00200120026a2202200149210102402004450d002001450d02410010cb0210cb020f0b2001450d02410010cb0221050b20050f0b20064101742201200220022001491b21020b02402002ad42900d7e2207422088a7450d0010dc02410010cb020f0b024002400240024002402007a72205417f4c0d002006450d012000280200200641900d6c410420051095022201450d020c030b410010cb020f0b2005410410a90222010d010b20030d010b02402001450d0020002001360200200041046a200236020041020f0b41010f0b2005410410a502000b840202017f027e230041f0006b22042400200420013602182004200336021c024020012003470d0020002002200141017410b8011a200441f0006a24000f0b2004200441186a36025020042004411c6a360254200441d8006a41146a4100360200200441989cc0003602682004420137025c200441c8dac000360258200441106a200441d0006a410410890220042903102105200441086a200441d4006a4104108902200429030821062004200441d8006a4105108802200441206a41146a4103360200200420063703402004200537033820044203370224200441b0dac000360220200420042903003703482004200441386a360230200441206a41d0dac00010af01000bf70102027f017e230041306b22042400200441106a200110a0010240024020042802104101470d0020042004290214370328200441206a200441286a10a302200020042903203702000c010b02400240200441186a28020020034f0d00200441086a41e896c000411b107d200441286a41112004280208200428020c106e2004290328220642ff01834203510d0120042006370328200441206a200441286a10a302200020042903203702000c020b20042802142105024020034101470d00200220052d00003a00000c010b200220032005200310550b20012903002106200041033a0000200120062003ad7c3703000b200441306a24000bfe0101037f230041106b22012400024020002d000022024104460d000240024020024102460d0020024101460d0220020d01200041046a220010da02200010e8010c020b200041046a2d00004102490d01200041086a220228020022002802002000280204280200110000200141086a200028020020002802041083020240200128020c22002802042203450d00200128020820032000280208109d020b200228020010ce02410c4104109d020c010b200041046a2202280200200041086a2200280200280200110000200120022802002000280200108402200128020422002802042202450d00200128020020022000280208109d020b200141106a24000be80101067f024002400240024002402002450d0041002103410021040340200320014f0d02200341016a20014f0d03200341026a20014f0d04200020036a22052d0000200541016a22062d0000200541026a22072d0000103a2108200341036a20014f0d05200520083a0000200620084108763a0000200720084110763a0000200541036a220520052d0000417f733a0000200341046a2103200441016a22042002490d000b0b0f0b41b0dcc00020032001108901000b41c0dcc000200341016a2001108901000b41d0dcc000200341026a2001108901000b41e0dcc000200341036a2001108901000bf80101037f230041106b2201240002400240024020002d00002202450d0020024102460d0120024101460d02200041046a2202280200200041086a2200280200280200110000200120022802002000280200108402200128020422002802042202450d02200128020020022000280208109d020c020b200041046a220010da02200010e8010c010b200041046a2d00004102490d00200041086a220228020022002802002000280204280200110000200141086a200028020020002802041083020240200128020c22002802042203450d00200128020820032000280208109d020b200228020010ce02410c4104109d020b200141106a24000bf80101037f230041106b2201240002400240024020002d00002202450d0020024102460d0120024101460d02200041046a2202280200200041086a2200280200280200110000200120022802002000280200108402200128020422002802042202450d02200128020020022000280208109d020c020b200041046a220010da02200010e8010c010b200041046a2d00004102490d00200041086a220228020022002802002000280204280200110000200141086a200028020020002802041083020240200128020c22002802042203450d00200128020820032000280208109d020b200228020010ce02410c4104109d020b200141106a24000bd80102027f017e41022105024002400240024002402000280204220620016b20024f0d00200120026a22022001492101024002402004450d004100210520010d0220064101742201200220022001491b21020c010b4100210520010d010b410021052002ad4202862207422088a70d00410021052007a722044100480d002006450d0120002802002006410274410420041095022201450d020c030b20050f0b2004410410a90222010d010b20030d010b02402001450d0020002001360200200041046a200236020041020f0b41010f0b2004410410a502000bd80102027f017e41022105024002400240024002402000280204220620016b20024f0d00200120026a22022001492101024002402004450d004100210520010d0220064101742201200220022001491b21020c010b4100210520010d010b410021052002ad42147e2207422088a70d00410021052007a722044100480d002006450d012000280200200641146c410420041095022201450d020c030b20050f0b2004410410a90222010d010b20030d010b02402001450d0020002001360200200041046a200236020041020f0b41010f0b2004410410a502000bd80102027f017e41022105024002400240024002402000280204220620016b20024f0d00200120026a22022001492101024002402004450d004100210520010d0220064101742201200220022001491b21020c010b4100210520010d010b410021052002ad4202862207422088a70d00410021052007a722044100480d002006450d0120002802002006410274410420041095022201450d020c030b20050f0b2004410410a90222010d010b20030d010b02402001450d0020002001360200200041046a200236020041020f0b41010f0b2004410410a502000bd80102027f017e41022105024002400240024002402000280204220620016b20024f0d00200120026a22022001492101024002402004450d004100210520010d0220064101742201200220022001491b21020c010b4100210520010d010b410021052002ad420c7e2207422088a70d00410021052007a722044100480d002006450d0120002802002006410c6c410420041095022201450d020c030b20050f0b2004410410a90222010d010b20030d010b02402001450d0020002001360200200041046a200236020041020f0b41010f0b2004410410a502000bd80102027f017e41022105024002400240024002402000280204220620016b20024f0d00200120026a22022001492101024002402004450d004100210520010d0220064101742201200220022001491b21020c010b4100210520010d010b410021052002ad42147e2207422088a70d00410021052007a722044100480d002006450d012000280200200641146c410420041095022201450d020c030b20050f0b2004410410a90222010d010b20030d010b02402001450d0020002001360200200041046a200236020041020f0b41010f0b2004410410a502000be10101047f024002400240024002402002450d0041002103410021040340200320014f0d02200020036a220520052d0000417f733a0000200341016a20014f0d03200541016a220620062d0000417f733a0000200341026a20014f0d04200541026a220620062d0000417f733a0000200341036a20014f0d05200541036a220520052d0000417f733a0000200341046a2103200441016a22042002490d000b0b0f0b41f0dcc00020032001108901000b4180ddc000200341016a2001108901000b4190ddc000200341026a2001108901000b41a0ddc000200341036a2001108901000beb0101017f230041e0006b22042400200420013602082004200336020c024020012003470d0020002002200110b8011a200441e0006a24000f0b2004200441086a36024020042004410c6a360244200441c8006a41146a4100360200200441286a41146a4105360200200441346a4104360200200441106a41146a4103360200200441ccb2c0003602582004420137024c200441a0e9c0003602482004410436022c2004420337021420044188e9c0003602102004200441c8006a3602382004200441c4006a3602302004200441c0006a3602282004200441286a360220200441106a41a8e9c00010af01000be70101047f230041306b22022400200141046a2103024020012802040d002001280200210420024100360210200242013703082002200241086a360214200241186a41106a200441106a290200370300200241186a41086a2205200441086a29020037030020022004290200370318200241146a41a4eac000200241186a100f1a2005200228021036020020022002290308370318024020032802002204450d00200141086a2802002201450d00200420014101109d020b20032002290318370200200341086a20052802003602000b200041c4ebc00036020420002003360200200241306a24000bd10101027f41022105024002400240024002402000280204220620016b20024f0d00200120026a22022001492101024002402004450d004100210520010d0220064101742201200220022001491b21020c010b4100210520010d010b41002105200220026a22012002490d004100210520014100480d002006450d0120002802002006410174410220011095022205450d020c030b20050f0b2001410210a90222050d010b20030d010b02402005450d0020002005360200200041046a200236020041020f0b41010f0b2001410210a502000bda0102047f017e230041106b2203240020002000280208200110be01200028020020002802082204410c6c6a2105024002400240024020014102490d002001417f6a2106200420016a2101034020032002109701200541086a200341086a280200360200200520032903003702002005410c6a21052006417f6a22060d000b2001417f6a21040c010b2001450d010b20022902002107200541086a200241086a28020036020020052007370200200041086a200441016a3602000c010b20022802042205450d00200228020020054101109d020b200341106a24000be40101027f230041106b22022400024002400240024020002d000022034101460d0020034102460d0120034103470d022002200141beacc000410810c9012002200041046a36020c20022002410c6a41e8dfc00010381a0c030b2002200141c8acc000410b10c9012002200041016a36020c20022002410c6a4188e0c00010381a0c020b2002200141c6acc000410210c9012002200041046a36020c20022002410c6a41f8dfc00010381a0c010b2002200141d3acc000410610c9012002200041046a36020c20022002410c6a4198e0c00010381a0b2002105e2100200241106a240020000bd40102047f017e230041206b220124000240024020002802082202200028020c460d000340200041086a22032002410c6a360200200141106a41086a2204200241086a2802003602002001200229020022053703102005a7450d02200141086a22022004280200360200200120012903103703002004200228020036020020012001290300370310200141106a10da02200141106a10e801200328020022022000410c6a280200470d000b0b200141003602100b200141106a10ef0120012000290200370310200141106a10e101200141206a24000bc80101017f02400240024020002d0001220a450d002006200a6e20056c220520036a22062005490d01200620024b0d02024002402003450d00200120056a220520036a21064100210320002d000041ff01712102034002402002450d00410021000340200320094f0d04200820036a20052d00003a0000200341016a2103200041016a220041ff01712002490d000b0b200541016a22052006470d000b0b0f0b41d8e8c00020032009108901000b41c0e8c000109a01000b20052006108a01000b20062002108801000bcf0102077f017e200141086a280200210220012802042103024002402000280200220420002802042205460d0020002802082106200128020021010340200628020022002802082207200428020022084d0d02200028020020084104746a2200280200210820002d000e2107200041066a2901002109200141046a20002f01043b0100200141066a20093701002001410e6a20073a000020012008360200200141106a2101200241016a21022005200441046a2204470d000b0b200320023602000f0b41a0dac00020082007108901000bbe0101027f41022105024002400240024002402000280204220620016b20024f0d00200120026a22022001492101024002402004450d004100210520010d0220064101742201200220022001491b21020c010b4100210520010d010b4100210520024100480d002006450d0120002802002006410120021095022201450d020c030b20050f0b2002410110a90222010d010b20030d010b02402001450d0020002001360200200041046a200236020041020f0b41010f0b2002410110a502000bd30101037f20002d00082101024020002802042202450d00200141ff0171210341012101024020030d000240200028020022032d0000410471450d0041012101200328021841c9bbc00041012003411c6a28020028020c1106000d01200041046a28020021020b024020024101470d0020002d0009450d00410121012000280200220328021841c6bbc00041012003411c6a28020028020c1106000d010b2000280200220128021841d0bbc00041012001411c6a28020028020c11060021010b200041086a20013a00000b200141ff01714100470bbb0101017f230041c0006b2201240020004200370200200041086a42003702002001410036023020014201370328200141086a200141286a4104107e20014100360228200141186a200141286a41041072200141286a4100410410a701200041186a200141086a41086a280200360200200020012903083702102000200129031837021c200041246a200141186a41086a28020036020020002001290328370228200041306a200141286a41086a280200360200200141c0006a24000bb70101057f02400240024002402002450d0041002103410021040340200320014f0d02200341016a20014f0d03200341026a20014f0d04200020036a220520052d0000200541016a22062d0000200541026a22072d0000103a22053a0000200620054108763a0000200720054110763a0000200341036a2103200441016a22042002490d000b0b0f0b4180dcc00020032001108901000b4190dcc000200341016a2001108901000b41a0dcc000200341026a2001108901000ba40101037f2001200241027422026a210320002802002100200121040240024002400340200320046b410f4d0d0120012802002000460d02200141046a2802002000460d02200141086a2802002000460d02200241706a21022001410c6a2105200141106a2204210120052802002000470d000c020b0b03402002450d022002417c6a210220012802002104200141046a210120042000470d000b0b10e30241010f0b41000ba20101067f200241086a280200210320022802042104024020002001460d0020022802002105200120006b2106200141706a2107410021020340200520026a2201200020026a22082802003602002001410e6a2008410e6a2d00003a00002001410c6a2008410c6a2f01003b0100200141046a200841046a2902003702002006200241106a2202470d000b200720006b41047620036a41016a21030b200420033602000b9a0101057f230041106b220324002000200220016b410476109702200341086a200010fd0120002802082104024020012002460d00200241706a2105200328020820044101746a210620012107034020062007410e6a2d00002007410d6a2d00006c3b0100200641026a21062002200741106a2207470d000b200520016b41047620046a41016a21040b200041086a2004360200200341106a24000b9a0101037f230041c0006b22022400200020002802082001411c6a280200200141186a2802006b41900d6d2203200128020c20012802086b41900d6d2204200420034b1b10b9012000280200210420002802082103200241086a2001412810b8011a200241306a41086a20033602002002200041086a36023420022004200341900d6c6a360230200241086a200241306a1019200241c0006a24000b9a0101037f230041c0006b22022400200020002802082001411c6a280200200141186a2802006b41900d6d2203200128020c20012802086b41900d6d2204200420034b1b10b9012000280200210420002802082103200241086a2001412810b8011a200241306a41086a20033602002002200041086a36023420022004200341900d6c6a360230200241086a200241306a1018200241c0006a24000b930101037f23004180016b2202240020002d00002103410021000340200220006a41ff006a2003410f712204413072200441d7006a2004410a491b3a00002000417f6a21002003410476410f7122030d000b024020004180016a22034181014f0d002001410141f8b9c0004102200220006a4180016a410020006b1015210020024180016a240020000f0b2003418001108a01000b920101037f23004180016b2202240020002d00002103410021000340200220006a41ff006a2003410f712204413072200441376a2004410a491b3a00002000417f6a21002003410476410f7122030d000b024020004180016a22034181014f0d002001410141f8b9c0004102200220006a4180016a410020006b1015210020024180016a240020000f0b2003418001108a01000b940102047f017e230041106b22032400200241086a280200210420022802042105024020002001460d00200228020021020340200341086a200041086a2f01002000410a6a2f01006c4106742206410110800120032903082107200241086a2006360200200220073702002002410c6a2102200441016a21042001200041106a2200470d000b0b20052004360200200341106a24000b900101037f23004180016b2202240020002802002103410021000340200220006a41ff006a2003410f712204413072200441d7006a2004410a491b3a00002000417f6a2100200341047622030d000b024020004180016a22034181014f0d002001410141f8b9c0004102200220006a4180016a410020006b1015210020024180016a240020000f0b2003418001108a01000b8f0101037f23004180016b2202240020002802002103410021000340200220006a41ff006a2003410f712204413072200441376a2004410a491b3a00002000417f6a2100200341047622030d000b024020004180016a22034181014f0d002001410141f8b9c0004102200220006a4180016a410020006b1015210020024180016a240020000f0b2003418001108a01000b900102017f017e230041206b22032400200341086a410020021084012003200341086a10f801200341186a200120032802002003280204104a0240024020032903182204a741ff01714103470d00200041043a0000200341086a10da02200341086a10e8010c010b200320043703182000200341186a10f101200341086a10da02200341086a10e8010b200341206a24000b8b0101027f024020002802042202200028020822036b20014f0d0002400240200320016a22012003490d0020024101742203200120012003491b22014100480d00024002402002450d0020002802002002410120011095022202450d010c030b2001410110a90222020d020b2001410110a502000b10b102000b20002002360200200041046a20013602000b0b8b0101027f024020002802042202200028020822036b20014f0d0002400240200320016a22012003490d0020024101742203200120012003491b22014100480d00024002402002450d0020002802002002410120011095022202450d010c030b2001410110a90222020d020b2001410110a502000b10b102000b20002002360200200041046a20013602000b0b8c0101027f230041106b220424000240410c410410a9022205450d00200520013a00082005200336020420052002360200200520042f000d3b00092005410b6a2004410d6a41026a2d00003a0000200041023a0000200041046a2005360200200020042f000a3b0001200041036a2004410a6a41026a2d00003a0000200441106a24000f0b410c410410a502000b890101017f230041206b22022400024002402001450d0020012802000d0120014100360200200241086a41086a200141086a290200370300200241086a41106a200141106a280200360200200220012902003703082000200229020c370200200041086a200241146a290200370200200141144104109d02200241206a24000f0b109e02000b109f02000b8501000240200620056c220620024b0d000240024002402007450d00200220066b2105200120066a2101410021020340200220054f0d02200220094f0d03200820026a200120026a2d00003a0000200241016a2206210220062007490d000b0b0f0b41d0e4c00020022005108901000b41e0e4c00020022009108901000b20062002108a01000b810101037f230041206b2202240020002000280208200128020420012802006b41027610bc012000280200210320002802082104200241086a200141086a28020036020020022001290200370300200241106a41086a20043602002002200041086a3602142002200320044104746a3602102002200241106a105c200241206a24000b820101017f230041306b22032400200320024100107b2003410036021020032003290300370308200341186a41106a200141106a280200360200200341186a41086a200141086a29020037030020032001290200370318200341086a2002200341186a102b200041086a200328021036020020002003290308370200200341306a24000b7e01037f20002000280208200110c3012000280200200028020822036a210402400240024020014102490d00200420022001417f6a220510cf011a200320016a21030340200441016a21042005417f6a22050d000b2003417f6a21030c010b2001450d010b200420023a0000200341016a21030b200041086a20033602000b7f02017f017e0240024002402001ad2204421e88a70d002004420286a72203417f4c0d010240024002402003450d002002450d012003410410aa0222020d020c050b410421020c010b2003410410a9022202450d030b200210cc02210320002001360204200020033602000f0b10b502000b10b602000b2003410410a502000b7802017f017e0240024002402001ad2204421c88a70d002004420486a72203417f4c0d010240024002402003450d002002450d012003410410aa0222020d020c050b410421020c010b2003410410a9022202450d030b20002001360204200020023602000f0b10b302000b10b402000b2003410410a502000b7802017f017e0240024002402001ad420c7e2204422088a70d002004a72203417f4c0d010240024002402003450d002002450d012003410410aa0222020d020c050b410421020c010b2003410410a9022202450d030b20002001360204200020023602000f0b10b702000b10b802000b2003410410a502000b7a01017f230041106b2203240020032001200210250240024020032d00004104470d00200020012f000922023a0001200141123b0009200041026a20024108763a0000410021010c010b200041046a20032903003702002000410c6a200341086a290300370200410121010b200020013a0000200341106a24000b7802017f017e0240024002402001ad2204421e88a70d002004420286a72203417f4c0d010240024002402003450d002002450d012003410410aa0222020d020c050b410421020c010b2003410410a9022202450d030b20002001360204200020023602000f0b10bd02000b10be02000b2003410410a502000b7802017f017e0240024002402001ad420c7e2204422088a70d002004a72203417f4c0d010240024002402003450d002002450d012003410410aa0222020d020c050b410421020c010b2003410410a9022202450d030b20002001360204200020023602000f0b10bf02000b10c002000b2003410410a502000b7802017f017e0240024002402001ad42147e2204422088a70d002004a72203417f4c0d010240024002402003450d002002450d012003410410aa0222020d020c050b410421020c010b2003410410a9022202450d030b20002001360204200020023602000f0b10c102000b10c202000b2003410410a502000b7802017f017e0240024002402001ad42147e2204422088a70d002004a72203417f4c0d010240024002402003450d002002450d012003410410aa0222020d020c050b410421020c010b2003410410a9022202450d030b20002001360204200020023602000f0b10c302000b10c402000b2003410410a502000b7d01017f230041306b22022400200241146a41cc00360200200241cc0036020c200220003602082002200041046a3602102001411c6a2802002100200128021821012002412c6a41023602002002420237021c200241d4ecc0003602182002200241086a36022820012000200241186a100f2101200241306a240020010b7d01017f024002402002417f4c0d00024002402002450d002002410110a90222030d012002410110a502000b410121030b20032001200210b8012103410c410410a9022201450d01200120023602082001200236020420012003360200200041dceac000360204200020013602000f0b10c602000b410c410410a502000b7201017f230041306b22032400200341086a2002410010792003410036021820032003290308370310200341206a41086a200141086a28020036020020032001290200370320200341106a2002200341206a1058200041086a200328021836020020002003290310370200200341306a24000b7701017f4103210202400240200141c4006a2d00004102460d0002400240200141386a28020022024101460d00024020024104460d0020024103470d04410121020c020b410221020c010b410021020b20002001413c6a2802003601000b200020023a00040f0b418187c000410e4180d6c00010d101000b7101017f024002400240200120016a22032001490d002003417f4c0d010240024002402003450d002002450d012003410210aa0222020d020c050b410221020c010b2003410210a9022202450d030b20002001360204200020023602000f0b10b902000b10ba02000b2003410210a502000b7301017f230041106b22022400024002402001450d0020012802000d0120014100360200200241086a200141086a2902003703002002200129020037030020002002290204370200200041086a2002410c6a280200360200200141104104109d02200241106a24000f0b109e02000b109f02000b7401047f024002402000280200220220002802042203460d002000280208280200220028020821042000280200210503402004200228020022004d0d02200520004104746a22002d000e20002d000d6c20016a21012003200241046a2202470d000b0b20010f0b41a0dac00020002004108901000b7101017f024002400240200120016a22032001490d002003417f4c0d010240024002402003450d002002450d012003410210aa0222020d020c050b410221020c010b2003410210a9022202450d030b20002001360204200020023602000f0b10bb02000b10bc02000b2003410210a502000b7301037f230041106b2203240002400240200141ff0171450d00200341086a20024100109e01200328020c2104200328020822052001200210cf011a0c010b200320024101109e0120032802042104200328020021050b200020023602082000200436020420002005360200200341106a24000b6f01027f230041106b22032400200341003602082003420137030020034100200110c3012003280208210402402001450d00200328020020046a2002200110cf011a200420016a21040b20002003290300370200200341086a2004360200200041086a2004360200200341106a24000b7802047f017e230041306b22012400200010b20210f2012102200010c80210f3012103200141086a200210a60220012903082105200210c90221042001200210ca0236021c20012004360218200120053703102001410036022420012003360220200141206a41b0ebc000200010c802200141106a1043000b7901017f230041c0006b220024002000413336020c200041d7b6c000360208200041346a41c200360200200041246a4102360200200041c30036022c200042023702142000419cecc0003602102000200041386a3602302000200041086a3602282000200041286a360220200041106a41acecc00010af01000b7001017f230041306b2202240020022001360204200220003602002002412c6a41033602002002411c6a4102360200200241033602242002420237020c2002419cedc0003602082002200241046a360228200220023602202002200241206a360218200241086a41acedc00010af01000b6d01017f230041306b2203240020032002360204200320013602002003412c6a41033602002003411c6a4102360200200341033602242003420237020c200341f4ecc000360208200320033602282003200341046a3602202003200341206a360218200341086a200010af01000b7001017f230041306b2202240020022001360204200220003602002002412c6a41033602002002411c6a4102360200200241033602242002420237020c200241bcedc0003602082002200241046a360228200220023602202002200241206a360218200241086a41ccedc00010af01000b6401027f230041206b220224002001411c6a280200210320012802182101200241086a41106a200041106a290200370300200241086a41086a200041086a2902003703002002200029020037030820012003200241086a100f2100200241206a240020000b6801027f230041106b22012400200141086a2202200041086a2802003602002001200029020037030002404110410410a9022200450d0020002001290300370204200041003602002000410c6a2002280200360200200141106a240020000f0b4110410410a502000b6801027f230041106b22012400200141086a2202200041086a2902003703002001200029020037030002404114410410a9022200450d0020002001290300370204200041003602002000410c6a2002290300370200200141106a240020000f0b4114410410a502000b7400024002400240024041ccfcc00010d70220024f0d0041ccfcc00010d70220024f0d0141ccfcc0002002200310292202450d020c030b41ccfcc0002000200310160f0b41ccfcc0002003100522020d010b41000f0b2002200020032001200120034b1b10b801210241ccfcc0002000101420020b6501027f230041206b2202240020012802002103200241086a20012802082201410010752002410036021820022002290308370310200241106a2003200320014104746a109b01200041086a200228021836020020002002290310370200200241206a24000b6101027f230041106b22012400024002402000450d0020002802002202417f460d012000200241016a360200200141086a200041046a10f5012001280208210220002000280200417f6a360200200141106a240020020f0b109e02000b109f02000b6d01017f230041306b2203240020032001360204200320003602002003412c6a41213602002003411c6a410236020020032002360228200341223602242003420237020c200341b8e9c000360208200320033602202003200341206a360218200341086a41c8e9c00010af01000b6301017f230041206b2202240020022000280200360204200241086a41106a200141106a290200370300200241086a41086a200141086a29020037030020022001290200370308200241046a41a4eac000200241086a100f2101200241206a240020010b6301017f230041206b2202240020022000280200360204200241086a41106a200141106a290200370300200241086a41086a200141086a29020037030020022001290200370308200241046a41f4ebc000200241086a100f2101200241206a240020010b6301017f230041206b2202240020022000280200360204200241086a41106a200141106a290200370300200241086a41086a200141086a29020037030020022001290200370308200241046a419cefc000200241086a100f2101200241206a240020010b6b01027f20002d00042101024020002d0005450d00200141ff0171210241012101024020020d002000280200220128021841cbbbc00041cdbbc00020012802004104711b41022001411c6a28020028020c11060021010b200041046a20013a00000b200141ff01714100470b6001017f230041206b2202240020022000360204200241086a41106a200141106a290200370300200241086a41086a200141086a29020037030020022001290200370308200241046a419cefc000200241086a100f2101200241206a240020010b6301027f230041206b2202240020012802002103200241086a200128020822014100109e012002410036021820022002290308370310200241106a2003200320016a10c801200041086a200228021836020020002002290310370200200241206a24000b6501037f024020002802082201450d0020002802002200200141146c6a210203402000280200200041046a22012802002802001100000240200128020022012802042203450d00200028020020032001280208109d020b200041146a22002002470d000b0b0b6c01027f20012802002102200141003602000240024002402002450d00200128020421034108410410a9022201450d02200120033602042001200236020041ece9c00021020c010b4101210141fce9c00021020b20002002360204200020013602000f0b4108410410a502000b6902017f037e230041306b22012400200029020821022000290210210320002902002104200141146a4100360200200120043703182001418cb7c000360210200142013702042001200141186a36020020012003370328200120023703202001200141206a10af01000b5b01037f230041106b2203240020002000280208200220016b41047610bc0120002802002104200341086a200028020822053602002003200041086a3602042003200420054104746a3602002001200220031062200341106a24000b5a01027f230041106b2203240020002000280208200220016b410176220210ba0120002000280208220420026a360208200341086a200010fc01200328020820044101746a200328020c20046b200120021049200341106a24000b5b01037f230041106b2203240020002000280208200220016b41047610bb0120002802002104200341086a200028020822053602002003200041086a360204200320042005410c6c6a3602002001200220031068200341106a24000b5c00024002402001417f4c0d000240024002402001450d002002450d012001410110aa0222020d020c040b410121020c010b2001410110a9022202450d020b20002001360204200020023602000f0b10c502000b2001410110a502000b5a01037f024020002802082201450d0020002802002100200141027421020340024020002802002201450d00200120012802002203417f6a36020020034101470d00200010d0010b200041046a21002002417c6a22020d000b0b0b5702027f027e02402001280208220228020422032003ad22042001290300220520052004561ba72201490d0020004100360200200041086a200320016b3602002000200228020020016a3602040f0b20012003108a01000b5401017f230041206b22032400200341086a41106a200241106a290200370300200341086a41086a200241086a290200370300200320022902003703082001200341086a1027200041043a0000200341206a24000b6401017f230041306b22022400200241206a200128020020012802042001280208200128020c10e601200241146a200241286a29030037020020022000360208200241bceac000360204200241fcb2c0003602002002200229032037020c2002108601000b5301017f230041206b2202240020024100200020016c4102741084012002410036020c200241106a41086a200241086a29030037030020022002290300370310200241106a108d012100200241206a240020000b5701017f230041206b22032400200341086a20024100109e012003410036021820032003290308370310200341106a2001200120026a10c801200041086a200328021836020020002003290310370200200341206a24000b5301027f230041106b22012400024002402000450d0020002802000d012000417f360200200141086a200041046a10f8012001280208210220004100360200200141106a240020020f0b109e02000b109f02000b5b02017f017e0240200141186a280200220320024d0d0020012802102002410c6c6a2202280208210120024100360208200229020021042002420137020020002001360208200020043702000f0b41c8dec00020022003108901000b5201017f230041206b22032400200341086a2002410010782003410036021820032003290308370310200341106a200220011042200041086a200328021836020020002003290310370200200341206a24000b4e01027f024020002802082201450d00200028020021002001410c6c210103400240200041046a2802002202450d00200028020020024101109d020b2000410c6a2100200141746a22010d000b0b0b5501017f0240024002402001418080c400460d0041012104200028021820012000411c6a2802002802101103000d010b2002450d012000280218200220032000411c6a28020028020c11060021040b20040f0b41000b4401037f024002402002450d00410021030340200020036a2d00002204200120036a2d00002205470d02200341016a22032002490d000b41000f0b41000f0b200420056b0b4601017f230041206b22012400200141002000108401200141106a41086a200141086a28020036020020012001290300370310200141106a108c012100200141206a240020000b500002400240024041ccfcc00010d70220014f0d0041ccfcc00020012000102922010d010c020b41ccfcc000200010052201450d010b41ccfcc0002001108202450d0020014100200010cf011a0b20010b4501017f02402000280200280200220041d4006a2802002202200128020022014d0d00200028024c200141900d6c6a2f018c014102460f0b4190d6c00020012002108901000b4501017f02402000280200280200220041e0006a2802002202200128020022014d0d002000280258200141900d6c6a2f018c014102460f0b4190d6c00020012002108901000b4b02017f017e230041206b2202240020012902002103200241146a20012902083702002002200337020c20022000360208200241e4ecc0003602042002418cb7c000360200200210b002000b3e01017f230041106b2203240020032001200210a601200041003602002000410c6a200341086a28020036020020002003290300370204200341106a24000b4001017f230041106b220224002002200141d1b3c000410b10c9012002200036020c20022002410c6a41cceac00010381a2002105e2100200241106a240020000b3c01017f024020002802082201450d00200028020021002001410c6c21010340200010e602200010e2012000410c6a2100200141746a22010d000b0b0b3a00024002402000450d0020002802000d012000417f360200200041046a20012002100e21012000410036020020010f0b109e02000b109f02000b3b01017f230041106b22032400200341086a200241086a2902003703002003200229020037030020012003101c200041043a0000200341106a24000b2e000240200041ffff03712001417f6a410f717641ffff0371450d0020000f0b2000417f2001410f71746a41016a0b3401017f230041c0006b22012400200141086a105f200041046a200141086a413410b8011a20004100360200200141c0006a24000b3601017f230041106b22032400200341086a200141086a28020036020020032001290200370300200020032002107e200341106a24000b3601017f02402002450d00200021030340200320012d00003a0000200341016a2103200141016a21012002417f6a22020d000b0b20000b3400024020002001200241014101104841ff017122004102470d000f0b024020004101710d0010b102000b41b0d9c000109a01000b3400024020002001200241014101104141ff017122004102470d000f0b024020004101710d0010b102000b41b0d9c000109a01000b3400024020002001200241014101104741ff017122004102470d000f0b024020004101710d0010b102000b41b0d9c000109a01000b3400024020002001200241014101104641ff017122004102470d000f0b024020004101710d0010b102000b41b0d9c000109a01000b3400024020002001200241014101104f41ff017122004102470d000f0b024020004101710d0010b102000b41e8dac000109a01000b3400024020002001200241014101105241ff017122004102470d000f0b024020004101710d0010b102000b4180dbc000109a01000b3400024020002001200241014101105041ff017122004102470d000f0b024020004101710d0010b102000b4180dbc000109a01000b3400024020002001200241014101105141ff017122004102470d000f0b024020004101710d0010b102000b4180dbc000109a01000b3400024020002001200241014101105741ff017122004102470d000f0b024020004101710d0010b102000b4180dbc000109a01000b3400024020002001200241014101105341ff017122004102470d000f0b024020004101710d0010b102000b4180dbc000109a01000b3400024020002001200241014101105d41ff017122004102470d000f0b024020004101710d0010b102000b4180dbc000109a01000b34002000280200210002402001109302450d002000200110660f0b02402001109402450d002000200110670f0b20002001109a020b34002000280200210002402001109302450d002000200110690f0b02402001109402450d0020002001106a0f0b200020011099020b3301017f024002402000450d0020002802002201417f460d0120002001360200200041106a2f01000f0b109e02000b109f02000b3301017f024002402000450d0020002802002201417f460d0120002001360200200041126a2f01000f0b109e02000b109f02000b3401017f20002000280208200220016b220210c30120002000280208220320026a360208200320002802006a20022001200210550b340020002001280218200220032001411c6a28020028020c1106003a00082000200136020020002003453a0009200041003602040b3101017f200041106a220110a801200110e1012000411c6a220110e502200110de01200041286a2200109f01200010e0010b2d0002402001109302450d002000200110690f0b02402001109402450d0020002001106a0f0b2000200110d7010b3001017f200028020022002002106c20002000280208220320026a360208200320002802006a2001200210b8011a41000b3001017f200028020022002002106d20002000280208220320026a360208200320002802006a2001200210b8011a41000b30002001280218200220032001411c6a28020028020c1106002102200041003a0005200020023a0004200020013602000b2c01017f02402002450d00200021030340200320013a0000200341016a21032002417f6a22020d000b0b20000b2f01017f2000280200220120012802042201417f6a360204024020014101470d0020002802004188014104109d020b0b2c01017f230041106b220324002003200136020c20032000360208200341086a41d8e9c000410020021043000b210002402000417c6a41ff01712200410c4b0d0041f81f2000764101710f0b41010b2701017f024020002802042201450d00200041086a2802002200450d00200120004101109d020b0b2501017f230041106b220224002002200136020c20022000360208200241086a10d6021a000b2501017f230041106b2201240020012000108101200110da02200110e801200141106a24000b2401017f230041106b2201240020012000106f200110da02200110e801200141106a24000b1f01027e200034020022022002423f8722037c2003852002427f55200110370b1e00200020012802042201410174360200200020014100474101743602040b2a01017f200041ece9c00041fce9c000200128020022021b3602042000200141fbb2c00020021b3602000b2700024041ccfcc00010d70220014f0d0041ccfcc0002001200010290f0b41ccfcc000200010050b2601017f200028020022012802002001280204200028020428020020002802082802001010000b2001017f024020002802042201450d00200028020020014102744104109d020b0b2001017f024020002802042201450d002000280200200141146c4104109d020b0b2001017f024020002802042201450d002000280200200141146c4104109d020b0b2001017f024020002802042201450d00200028020020014101744102109d020b0b2001017f024020002802042201450d00200028020020014102744104109d020b0b2001017f024020002802042201450d0020002802002001410c6c4104109d020b0b2001017f024020002802042201450d00200028020020014101744102109d020b0b1c0002402000280204450d00200041046a220010da02200010e8010b0b1e00024020002f018c014103460d00200010ec01200041900d6a10ec010b0b1c0020002001290200370200200041086a200141086a2902003702000b1e002000200436020c2000200336020820002002360204200020013602000b1a0020004200370204200041043602002000410c6a42003702000b1d01017f024020002802042201450d00200028020020014101109d020b0b1d01017f024020002802042201450d00200028020020014101109d020b0b1a00024020002f018c014102460d00200010da02200010e8010b0b1a00024020002f018c014102460d00200010da02200010e8010b0b1a00024020002f018c014102460d00200010da02200010e8010b0b1a01017f2000200141002802bcfc402202412a20021b110500000b1c00200128021841c0d2c00041052001411c6a28020028020c1106000b170002402000280200450d00200010da02200010e8010b0b190020002802002200280200200120002802042802201103000b1600200041023a0000200041046a20012902003702000b160002402000450d0020000f0b418ceac000109a01000b160002402000450d0020000f0b418ceac000109a01000b190020002802002200280200200120002802042802201103000b160020002001280208360204200020012802003602000b160020002001280208360204200020012802003602000b160020002001280208360204200020012802003602000b160020002001280208360204200020012802003602000b160020002001280208360204200020012802003602000b160020002001280208360204200020012802003602000b160020002001280208360204200020012802003602000b160020002001280208360204200020012802003602000b160020002001280208360204200020012802003602000b160020002001280208360204200020012802003602000b15002000280200220028020020002802082001100d0b15002000280200220028020020002802082001100d0b160020002001280208360204200020012802003602000b10002001417c6a2d00004103714100470b100020002002360204200020013602000b100020002002360204200020013602000b110020004180243b0108200042003703000b1000200041003a0008200042003703000b110020002802002000280204200110a8020b100020002002360204200020013602000b100020002002360204200020013602000b100020002002360204200020013602000b100020002002360204200020013602000b1000200020023a0001200020013a00000b100020002002360204200020013602000b100020002002360204200020013602000b1000200028020020002802082001100d0b110020002802002000280208200110a8020b110020002802002000280204200110a8020b100020012000280200200028020410130b0d0020002d00004110714104760b0d0020002d00004120714105760b0d002000200120022003108e010b0e0020002000280208200110bd010b0e0020002000280208200110c1010b0d0020002802002001103441000b0d0020003502004101200110370b0d0020003100004101200110370b0d0020002802002001200210230b0d0020003502004101200110370b0b0020002001200210af020b0d0041b09cc000411b10a002000b0e0041cb9cc00041cf0010a002000b0900200020011000000b0b002000280200200110350b0c002000280200200110ae020b0c00200020012902003702000b0b0020002802002001103b0b0a002000200110ed01000b0c00200020012902003702000b0b002000280200200110450b0a0020022000200110130b09002000200110da010b09002000200110ac010b0900200042013702000b08002000280208450b0900200041003602000b080020002001102d0b0b0041ccfcc000200010140b08002000108601000b0b0041bcecc000109a01000b07002000410c6a0b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b060010b102000b070020002802080b070020002802080b0700200028020c0b040020000b040020000b070041a8fcc0000b040020000b040020000b040020000b0c0042e4aec285979ba588110b0d00428496db81dde0a0e3e8000b0c0042e7d8f1a280eae7a45f0b0c0042d2c3b4e3aaf7e78a6f0b0d0042f6ebf4c29fdbd4d1e8000b0300000b040041080b0c0042e7d8f1a280eae7a45f0b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b02000b0bb1808180000300418080c0000bc552696e76616c696420444320646966666572656e6365206d61676e69747564652063617465676f727900000000000000002f55736572732f616275726e736f6e2f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f6a7065672d6465636f6465722d302e312e31352f7372632f6465636f6465722e7273756e657870656374656420687566666d616e20636f646563616c6c656420604f7074696f6e3a3a756e77726170282960206f6e206120604e6f6e65602076616c75657372632f6c6962636f72652f6f7074696f6e2e72732f55736572732f616275726e736f6e2f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f6a7065672d6465636f6465722d302e312e31352f7372632f6465636f6465722e7273617373657274696f6e206661696c65643a207363616e2e636f6d706f6e656e745f696e64696365732e6c656e2829203c3d204d41585f434f4d504f4e454e5453757365206f6620756e736574207175616e74697a6174696f6e207461626c657363616e206d616b657320757365206f6620756e73657420646320687566666d616e207461626c657363616e206d616b657320757365206f6620756e73657420616320687566666d616e207461626c65000000000000617474656d707420746f2063616c63756c617465207468652072656d61696e646572207769746820612064697669736f72206f66207a65726f666f756e64206d61726b65722020696e73696465207363616e2077686572652052535420776173206578706563746564666f756e6420525354207768657265205253546e6f206d61726b657220666f756e6420776865726520525354464620303020666f756e64207768657265206d61726b65722077617320657870656374656466697273742074776f206279746573206973206e6f74206120534f49206d61726b6572206d61726b657220666f756e64207768657265206e6f7420616c6c6f776564444e4c206973206f6e6c7920616c6c6f77656420696d6d6564696174656c7920616674657220746865206669727374207363616e7363616e20656e636f756e7465726564206265666f7265206672616d656e6f206461746120666f756e6452535420666f756e64206f757473696465206f6620656e74726f70792d636f64656420646174616578706c696369742070616e6963002f72757374632f366332343834646333633533326330353266313539323634653937303237386438623737636463392f7372632f6c6962636f72652f736c6963652f6d6f642e72732f55736572732f616275726e736f6e2f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f6a7065672d6465636f6465722d302e312e31352f7372632f7061727365722e7273617373657274696f6e206661696c65643a206d61726b65722e6861735f6c656e6774682829656e636f756e746572656420207769746820696e76616c6964206c656e6774682041646f626500696e76616c696420636f6c6f72207472616e73666f726d20696e2061646f626520617070207365676d656e744a464946004156493100696e76616c696420636c6173732020696e2044485461206d6178696d756d206f662074776f20687566666d616e207461626c65732070657220636c6173732061726520616c6c6f77656420696e20626173656c696e65696e76616c69642064657374696e6174696f6e206964656e74696669657220656e636f756e7465726564207461626c652077697468207a65726f206c656e67746820696e20444854656e636f756e7465726564207461626c65207769746820657863657373697665206c656e67746820696e20444854696e76616c6964206c656e67746820696e20444854696e7465726e616c206572726f723a20656e746572656420756e726561636861626c6520636f6465696e76616c696420707265636973696f6e2020696e20445154696e76616c6964206c656e67746820696e2044515400000000000000000000000000002f55736572732f616275726e736f6e2f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f6a7065672d6465636f6465722d302e312e31352f7372632f7061727365722e72737175616e74697a6174696f6e207461626c6520636f6e7461696e7320656c656d656e7420776974682061207a65726f2076616c7565445249207769746820696e76616c6964206c656e677468696e76616c6964206c656e67746820696e20534f466578706c696369742070616e696320696e206672616d65206865616465723132206269742073616d706c6520707265636973696f6e206973206e6f7420616c6c6f77656420696e20626173656c696e657a65726f20776964746820696e206672616d65206865616465727a65726f20636f6d706f6e656e7420636f756e7420696e206672616d652068656164657270726f6772657373697665206672616d652077697468206d6f7265207468616e203420636f6d706f6e656e74736475706c6963617465206672616d6520636f6d706f6e656e74206964656e74696669657220696e76616c696420686f72697a6f6e74616c2073616d706c696e6720666163746f7220696e76616c696420766572746963616c2073616d706c696e6720666163746f7220696e76616c6964207175616e74697a6174696f6e207461626c6520696e64657820696e76616c696420636f6d706f6e656e7420636f756e742020696e207363616e206865616465726475706c6963617465207363616e20636f6d706f6e656e74206964656e74696669657220000000000000746865207363616e20636f6d706f6e656e74206f7264657220646f6573206e6f7420666f6c6c6f7720746865206f7264657220696e20746865206672616d6520686561646572696e76616c6964206463207461626c6520696e64657820696e76616c6964206163207461626c6520696e646578207363616e20636f6d706f6e656e74206964656e7469666965722020646f6573206e6f74206d6174636820616e79206f662074686520636f6d706f6e656e74206964656e7469666965727320646566696e656420696e20746865206672616d657363616e2077697468206d6f7265207468616e206f6e6520636f6d706f6e656e7420616e64206d6f7265207468616e20313020626c6f636b7320706572204d4355696e76616c696420737065637472616c2073656c656374696f6e20706172616d65746572733a2073733d2c2073653d737065637472616c2073656c656374696f6e207363616e207769746820414320636f656666696369656e74732063616e27742068617665206d6f7265207468616e206f6e6520636f6d706f6e656e74696e76616c6964207375636365737369766520617070726f78696d6174696f6e20706172616d65746572733a2061683d2c20616c3d7375636365737369766520617070726f78696d6174696f6e207363616e2077697468206d6f7265207468616e206f6e6520626974206f6620696d70726f76656d656e74737065637472616c2073656c656374696f6e206973206e6f7420616c6c6f77656420696e206e6f6e2d70726f6772657373697665207363616e7375636365737369766520617070726f78696d6174696f6e206973206e6f7420616c6c6f77656420696e206e6f6e2d70726f6772657373697665207363616e63616c6c656420604f7074696f6e3a3a756e77726170282960206f6e206120604e6f6e65602076616c75657372632f6c6962636f72652f6f7074696f6e2e72730000000000002f72757374632f366332343834646333633533326330353266313539323634653937303237386438623737636463392f7372632f6c6962636f72652f736c6963652f6d6f642e72736661696c656420746f2066696c6c2077686f6c6520627566666572696e7465726e616c206572726f723a20656e746572656420756e726561636861626c6520636f64657372632f6c6962616c6c6f632f7261775f7665632e727300000000000000000000000000002f72757374632f366332343834646333633533326330353266313539323634653937303237386438623737636463392f7372632f6c6962636f72652f736c6963652f6d6f642e727300000000000000002f55736572732f616275726e736f6e2f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f6a7065672d6465636f6465722d302e312e31352f7372632f687566666d616e2e72736661696c656420746f206465636f646520687566666d616e20636f6465464620303020666f756e64207768657265206d61726b65722077617320657870656374656463616c6c656420604f7074696f6e3a3a756e77726170282960206f6e206120604e6f6e65602076616c75657372632f6c6962636f72652f6f7074696f6e2e72730000000000000000000000002f72757374632f366332343834646333633533326330353266313539323634653937303237386438623737636463392f7372632f6c6962636f72652f736c6963652f6d6f642e727300000000000000002f72757374632f366332343834646333633533326330353266313539323634653937303237386438623737636463392f7372632f6c6962636f72652f736c6963652f6d6f642e7273617373657274696f6e206661696c65643a2060286c656674203d3d20726967687429600a20206c6566743a2060602c0a2072696768743a2060603a2064657374696e6174696f6e20616e6420736f7572636520736c69636573206861766520646966666572656e74206c656e677468737372632f6c6962636f72652f736c6963652f6d6f642e72736e756c6c20706f696e7465722070617373656420746f207275737472656375727369766520757365206f6620616e206f626a65637420646574656374656420776869636820776f756c64206c65616420746f20756e7361666520616c696173696e6720696e2072757374696e7465726e616c206572726f723a20656e746572656420756e726561636861626c6520636f64657372632f6c6962616c6c6f632f7261775f7665632e7273696e7465726e616c206572726f723a20656e746572656420756e726561636861626c6520636f64657372632f6c6962616c6c6f632f7261775f7665632e7273617373657274696f6e206661696c65643a206368756e6b5f73697a6520213d20307372632f6c6962636f72652f736c6963652f6d6f642e72730000000000000000000000000000002f72757374632f366332343834646333633533326330353266313539323634653937303237386438623737636463392f7372632f6c6962636f72652f736c6963652f6d6f642e7273000108100902030a11182019120b04050c131a21283029221b140d06070e151c232a313839322b241d160f171e252c333a3b342d261f272e353c3d362f373e3f6e6f7420616c6c20636f6d706f6e656e7473206861732064617461000000000000000000000000002f55736572732f616275726e736f6e2f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f6a7065672d6465636f6465722d302e312e31352f7372632f6465636f6465722e72732f55736572732f616275726e736f6e2f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f6a7065672d6465636f6465722d302e312e31352f7372632f6465636f6465722e72736578706c696369742070616e69633420636f6d706f6e656e747320776974686f75742041646f6265204150503134206d6574616461746120746f2074656c6c20636f6c6f7220737061636563616c6c65642060526573756c743a3a756e77726170282960206f6e20616e2060457272602076616c75650000000000002f72757374632f366332343834646333633533326330353266313539323634653937303237386438623737636463392f7372632f6c6962636f72652f736c6963652f6d6f642e727300000000000000002f55736572732f616275726e736f6e2f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f6a7065672d6465636f6465722d302e312e31352f7372632f687566666d616e2e727362616420687566666d616e20636f6465206c656e67746800010501010101010100000000000000000102030405060708090a0b000301010101010101010100000000000002010303020403050504040000017d01020300041105122131410613516107227114328191a1082342b1c11552d1f02433627282090a161718191a25262728292a3435363738393a434445464748494a535455565758595a636465666768696a737475767778797a838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae1e2e3e4e5e6e7e8e9eaf1f2f3f4f5f6f7f8f9fa00020102040403040705040400010277000102031104052131061241510761711322328108144291a1b1c109233352f0156272d10a162434e125f11718191a262728292a35363738393a434445464748494a535455565758595a636465666768696a737475767778797a82838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae2e3e4e5e6e7e8e9eaf2f3f4f5f6f7f8f9fa63616c6c656420604f7074696f6e3a3a756e77726170282960206f6e206120604e6f6e65602076616c75657372632f6c6962636f72652f6f7074696f6e2e7273000000000000002f72757374632f366332343834646333633533326330353266313539323634653937303237386438623737636463392f7372632f6c6962636f72652f736c6963652f6d6f642e72732f55736572732f616275726e736f6e2f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f6a7065672d6465636f6465722d302e312e31352f7372632f776f726b65722f696d6d6564696174652e7273617373657274696f6e206661696c65643a2073656c662e726573756c74735b646174612e696e6465785d2e69735f656d707479282900000000000000002f55736572732f616275726e736f6e2f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f6a7065672d6465636f6465722d302e312e31352f7372632f776f726b65722f696d6d6564696174652e7273617373657274696f6e206661696c65643a2060286c656674203d3d20726967687429600a20206c6566743a2060602c0a2072696768743a2060600000000000000000000000617474656d707420746f2063616c63756c617465207468652072656d61696e646572207769746820612064697669736f72206f66207a65726f4e6f6e496e746567657253756273616d706c696e67526174696f53756273616d706c696e67526174696f444e4c436f6d706f6e656e74436f756e7453616d706c65507265636973696f6e41726974686d65746963456e74726f7079436f64696e674c6f73736c65737348696572617263686963616c496e7465726e616c496f556e737570706f72746564466f726d6174000000000000002f55736572732f616275726e736f6e2f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f6a7065672d6465636f6465722d302e312e31352f7372632f696463742e727363616c6c656420604f7074696f6e3a3a756e77726170282960206f6e206120604e6f6e65602076616c75657372632f6c6962636f72652f6f7074696f6e2e7273002f72757374632f366332343834646333633533326330353266313539323634653937303237386438623737636463392f7372632f6c6962636f72652f736c6963652f6d6f642e727300000000000000002f55736572732f616275726e736f6e2f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f6a7065672d6465636f6465722d302e312e31352f7372632f757073616d706c65722e7273000000000000000000000000617474656d707420746f2063616c63756c617465207468652072656d61696e646572207769746820612064697669736f72206f66207a65726f00000000000000617474656d707420746f20646976696465206279207a65726f2f55736572732f616275726e736f6e2f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f6a7065672d6465636f6465722d302e312e31352f7372632f6d61726b65722e7273696e7465726e616c206572726f723a20656e746572656420756e726561636861626c6520636f646552455354454d434f4d4a50476e415050455850444850445249444e4c445154534f53454f49534f495253544441434448544a5047534f46617373657274696f6e206661696c65643a2060286c656674203d3d20726967687429600a20206c6566743a2060602c0a2072696768743a2060603a2064657374696e6174696f6e20616e6420736f7572636520736c69636573206861766520646966666572656e74206c656e677468730000007372632f6c6962636f72652f736c6963652f6d6f642e72733a207372632f6c6962636f72652f726573756c742e72730063616c6c656420604f7074696f6e3a3a756e77726170282960206f6e206120604e6f6e65602076616c75657372632f6c6962636f72652f6f7074696f6e2e72734b696e644f73636f64656b696e646d657373616765537472696e674572726f726572726f72437573746f6d556e6578706563746564456f664f74686572496e74657272757074656457726974655a65726f54696d65644f7574496e76616c696444617461496e76616c6964496e707574576f756c64426c6f636b416c726561647945786973747342726f6b656e50697065416464724e6f74417661696c61626c6541646472496e5573654e6f74436f6e6e6563746564436f6e6e656374696f6e41626f72746564436f6e6e656374696f6e5265736574436f6e6e656374696f6e526566757365645065726d697373696f6e44656e6965644e6f74466f756e646f7065726174696f6e207375636365737366756c002f72757374632f366332343834646333633533326330353266313539323634653937303237386438623737636463392f7372632f6c6962636f72652f666d742f6d6f642e727300003a207372632f6c6962636f72652f726573756c742e72737372632f6c6962616c6c6f632f7261775f7665632e72736361706163697479206f766572666c6f776120666f726d617474696e6720747261697420696d706c656d656e746174696f6e2072657475726e656420616e206572726f720000602e2e696e646578206f7574206f6620626f756e64733a20746865206c656e20697320206275742074686520696e6465782069732063616c6c656420604f7074696f6e3a3a756e77726170282960206f6e206120604e6f6e65602076616c75657372632f6c6962636f72652f6f7074696f6e2e72733a207372632f6c6962636f72652f736c6963652f6d6f642e7273696e64657820206f7574206f662072616e676520666f7220736c696365206f66206c656e67746820736c69636520696e64657820737461727473206174202062757420656e6473206174207372632f6c6962636f72652f7374722f6d6f642e72735b2e2e2e5d6279746520696e64657820206973206f7574206f6620626f756e6473206f662060626567696e203c3d20656e642028203c3d2029207768656e20736c6963696e672060206973206e6f742061206368617220626f756e646172793b20697420697320696e7369646520202862797465732029206f66206030783030303130323033303430353036303730383039313031313132313331343135313631373138313932303231323232333234323532363237323832393330333133323333333433353336333733383339343034313432343334343435343634373438343935303531353235333534353535363537353835393630363136323633363436353636363736383639373037313732373337343735373637373738373938303831383238333834383538363837383838393930393139323933393439353936393739383939202020202c207b0a200a7d207d28290000000000000000000000000000007372632f6c6962636f72652f666d742f6d6f642e7273000000000000000000007372632f6c6962636f72652f756e69636f64652f626f6f6c5f747269652e727300010305050606030706080809110a1c0b190c140d120e160f0410031212130916011705180219031a071c021d011f1620032b062c022d0b2e01300331023202a902aa04ab08fa02fb05fd04fe03ff09ad78798b8da23057588b8c901c1ddd0e0f4b4cfbfc2e2f3f5c5d5fb5e2848d8e9192a9b1babbc5c6c9cadee4e5ff00041112293134373a3b3d494a5d848e92a9b1b4babbc6cacecfe4e500040d0e11122931343a3b4546494a5e646584919b9dc9cecf0d112945495764658d91a9b4babbc5c9dfe4e5f0040d1145496465808184b2bcbebfd5d7f0f1838586898b8c98a0a4a6a8a9acbabebfc5c7cecfdadb4898bdcdc6cecf494e4f57595e5f898e8fb1b6b7bfc1c6c7d71116175b5cf6f7feff800d6d71dedf0e0f1f6e6f1c1d5f7d7eaeafbbbcfa16171e1f46474e4f585a5c5e7e7fb5c5d4d5dcf0f1f572738f74759697c9ff2f5f262e2fa7afb7bfc7cfd7df9a409798308f1fffceff4e4f5a5b07080f10272feeef6e6f373d3f42459091feff536775c8c9d0d1d8d9e7feff00205f2282df048244081b04061181ac0e80ab351e1580e003190801042f043404070301070607110a500f1207550802041c0a090308030703020303030c0405030b06010e15053a0311070605100856070207150d500443032d03010411060f0c3a041d250d064c206d046a2580c80582b0031a0682fd035907150b1709140c140c6a060a061a0659072b05460a2c040c040103310b2c041a060b0380ac060a061f414c042d0374083c030f033c0738082a0682ff1118082f112d032010210f808c048297190b158894052f053b07020e180980af31740c80d61a0c0580ff0580b605240c9bc60ad23010848d033709815c1480b80880ba3d35040a06380846080c06740b1e035a0459098083181c0a1609460a808a06aba40c170431a10481da26070c050580a511816d1078282a064c04808d0480be031b030f0d0006010103010402080809020a050b0210011104120513111402150217021a021c051d0824016a036b02bc02d102d40cd509d602d702da01e005e802ee20f004f9040c273b3e4e4f8f9e9e9f060709363d3e56f3d0d104141836375657bd35cecfe01287898e9e040d0e11122931343a4546494a4e4f64655a5cb6b71b1c848509379091a8070a3b3e66698f926f5feeef5a629a9b2728559da0a1a3a4a7a8adbabcc4060b0c151d3a3f4551a6a7cccda007191a2225c5c604202325262833383a484a4c50535556585a5c5e606365666b73787d7f8aa4aaafb0c0d03f71727b5e227b0503042d036504012f2e80821d03310f1c0424091e052b0544040e2a80aa06240424042808340b018090813709160a088098390363080930160521031b05014038044b052f040a070907402027040c0936033a051a07040c07504937330d33072e080a81261f808128082a80a64e041e0f430e19070a0647092709750b3f412a063b050a0651060105100305808b5f2148080a80a65e22450b0a060d1338080a362c041080c03c64530c0181004808531d398107460a1d03474937030e080a0639070a8136198107839a66750b80c48abc842f8fd18247a1b98239072a040260260a460a28051382b05b65450b2f101140021e97f20e82f3a50d811f51818c89046b050d03090710936080f60a73086e1746809a140c570919808781470385420f1585502b87d580d7294b050a0402831144814b3c06010455051b3402810e2c04640c560a0d035c043d391d0d2c040907020e06809a83d50b0d030a06740c59270c0438080a0628081e520c046703290d0a06030d30600e85920000c0fbef3e00000000000e0000000000000000000000000000f8fffbffffff0700000000000014fe21fe000c00000002000000000000501e2080000c00004006000000000000108639020000002300be2100000c0000fc02000000000000d01e20c0000c0000000400000000000040012080000000000011000000000000c0c13d60000c0000000200000000000090443060000c00000003000000000000581e2080000c00000000845c8000000000000000000000f207807f000000000000000000000000f21b003f000000000000000000030000a002000000000000fe7fdfe0fffeffffff1f40000000000000000000000000e0fd66000000c301001e006420002000000000000000e00000000000001c0000001c0000000c0000000c00000000000000b03f40fe0f200000000000380000000000006000000000020000000000008701040e00008009000000000000407fe51ff89f000000000000ff7f0f0000000000d0170400000000f80f00030000003c3b00000000000040a303000000000000f0cf000000f7fffd211003fffffffffffffffb00100000000000000000ffffffff01000000000000800300000000000000008000000000ffffffff0000000000fc00000000000600000000000000000080f73f000000c0000000000000000000000300440800006000000030000000ffff038000000000c03f000080ff030000000000070000000000c813000000002000000000000000007e660008100000000000100000000000009dc1020000000030400000000000202100000000004000000000ffff0000ffff00000000000000000001000000020003000000000000000000000000000000000000000000000000000004000005000000000000000006000000000000000007000008090a000b0c0d0e0f000010111200001314151600001718191a1b001c0000001d000000000000001e1f20000000000021002200232425000000002600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000027280000000000000000000000000000000000290000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000002b2c00002d0000000000000000000000000000000000000000000000000000000000002e2f300000000000000000000000000000000000000000003100000000000000000000000000000000000000000000000000000000000000000000320033000000000000000000000000000000000000000000000000000034350000353535360000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000001000000000000000000c0076ef0000000000087000000006000000000000000f0000000c0ff01000000000002000000000000ff7f0000000000008003000000000078060700000080ef1f000000000000000800030000000000c07f001e000000000000000000000080d34000000080f8070000030000000000005801008000c01f1f0000000000000000ff5c00004000000000000000000000f9a50d000000000000000000000000803cb00100003000000000000000000000f8a70100000000000000000000000028bf00000000e0bc0f0000000000000080ff06fe0700000000f87980007e0e0000000000fc7f03000000000000000000007fbf0000fcfffffc6d000000000000007eb4bf000000000000000000a3000000000000000000000018000000000000001f000000000000007f000080070000000000000000600000000000000000a0c307f8e70f0000003c00001c00000000000000ffffffffffff7ff8ffffffffff1f2000100000f8feff00007ffffff9db07000000007f0000000000f00700000000000000000000ffffffffffffffffffffffffffffffffffff00004572726f720041c8d2c0000bd82930001000620000003c0200000900000030001000620000006c0200001e00000030001000620000006c0200001100000030001000620000004f0200001a00000030001000620000004f0200000d0000003000100062000000d7020000150000003000100062000000d90200000c0000003000100062000000840200000d0000003000100062000000c10200001e0000003000100062000000c102000011000000a90010002b000000d4001000150000005901000015000000e9001000620000006a010000090000003000100062000000890100002900000000021000390000003000100062000000aa0100005400000000021000390000003000100062000000b4010000250000003000100062000000d10100002f000000390210000d00000046021000160000005c0210000d0000006902100009000000720210000a0000005c0210000d0000007c021000190000005c0210000d0000003000100062000000710100002e000000dd02100000000000dd0210001f0000003000100062000000f00000004b0000003000100062000000f0000000210000003000100062000000d4000000210000003000100062000000d900000050000000e900100062000000630000001a0000009003100048000000eb0900000a0000009003100048000000f10900000e000000d80310006100000053000000050000005e0410000c0000006a04100015000000bb0410000e000000c904100007000000110510001f000000c904100007000000d803100061000000b101000012000000c405100012000000d605100007000000110510001f000000d605100007000000d80310006100000077010000160000000006100061000000740100000d00000000061000610000007f01000009000000d803100061000000780000000e000000c405100012000000d0061000100000007d07100025000000a207100023000000c507100021000000e607100021000000d8031000610000007d0000000e000000d803100061000000720000000e00000007081000180000001f0810000f0000002e081000240000009e08100017000000b508100017000000cc0810001a000000e6081000450000006c0910002a0000009609100005000000ea091000300000001a0a100005000000da0a10002b000000050b1000150000005901000015000000200b100048000000f10900000e000000830b100028000000ab0b100017000000ed0100001e000000d00b100048000000eb0900000a000000d00b100048000000f10900000e000000200c1000620000002d0000001c000000c40c10002b000000ef0c1000150000005901000015000000100d100048000000eb0900000a000000600d100048000000eb0900000a000000a80d10002d000000d50d10000c000000e10d100003000000e40d100034000000180e100018000000b00700000900000006000000070000009a0e100028000000c20e100017000000ed0100001e000000d90e100028000000010f100017000000ed0100001e000000180f100021000000390f100018000000a702000009000000600f100048000000eb0900000a000000600f100048000000f10900000e0000001010100062000000fa02000017000000101010006200000002030000410000007210100062000000500300000e0000001010100062000000590300002600000010101000620000005903000033000000101010006200000059030000440000001010100062000000630300002600000010101000620000006303000033000000101010006200000063030000440000001010100062000000640300001100000010101000620000006f030000210000001010100062000000700300002100000010101000620000007103000021000000101010006200000072030000210000005011100048000000eb0900000a000000a011100062000000d600000023000000a011100062000000d600000011000000a0111000620000002901000008000000a0111000620000002f01000008000000a0111000620000003501000008000000a0111000620000004601000008000000a91310002b000000d4131000150000005901000015000000f013100048000000eb0900000a000000f013100048000000f10900000e000000381410006b0000001a00000009000000e01410006b0000001c000000090000004b1510002d000000781510000c0000008415100001000000381410006b00000029000000090000009015100039000000e01410006b0000002c00000015000000e01410006b000000310000003e000000e01410006b00000034000000090000000c00000004000000040000000d0000000e00000004000000040000000f000000100000000400000004000000110000001200000004000000040000001300000014000000040000000400000015000000601610005f0000000e0000000c000000601610005f0000000e00000028000000601610005f0000000e00000045000000601610005f0000000f00000011000000601610005f0000000f0000002e000000601610005f0000000f0000004b000000601610005f0000001000000011000000601610005f0000001c00000016000000601610005f0000001e00000016000000601610005f0000001f00000016000000601610005f0000002000000016000000601610005f0000002100000016000000601610005f0000002200000016000000601610005f0000002300000016000000601610005f0000009300000009000000601610005f0000009400000009000000601610005f0000009500000009000000601610005f0000009600000009000000601610005f0000009700000009000000601610005f0000009800000009000000601610005f0000009900000009000000601610005f0000009a00000009000000bf1610002b000000ea1610001500000059010000150000000017100048000000eb0900000a0000005017100064000000330000002f00000050171000640000003b0000001100000016000000000000000100000017000000180000000000000001000000190000001a00000000000000010000001b0000001c00000000000000010000001d000000c0171000390000005017100064000000610000000c000000c017100039000000501710006400000061000000400000001e00000002000000010000001f000000501710006400000084000000190000005017100064000000840000000d000000501710006400000095000000190000005017100064000000950000000d0000005017100064000000960000000d00000050171000640000009a0000001500000050171000640000009a0000000900000050171000640000009b0000002d00000050171000640000009b0000000900000050171000640000009f0000000d0000005017100064000000a00000002c0000005017100064000000a00000000d0000005017100064000000a30000002b0000005017100064000000a30000004f0000005017100064000000a3000000090000005017100064000000a4000000090000005017100064000000ba0000001f0000005017100064000000ba000000360000005017100064000000ba0000000d0000005017100064000000d10000001f0000005017100064000000d1000000360000005017100064000000d20000000d0000005017100064000000d30000000d0000005017100064000000d70000001a0000005017100064000000d7000000310000005017100064000000d8000000090000005017100064000000dc000000160000005017100064000000dc0000002d0000005017100064000000de0000000d0000005017100064000000df0000000d0000005017100064000000e20000000900000000181000190000005017100064000000f1000000150000005017100064000000f500000011000000191810006100000087000000120000002000000004000000040000000d000000d91810002d000000061910000c000000121910000300000015191000340000004c19100018000000b0070000090000004c1910000000000064191000020000006619100015000000e503000005000000230000000800000004000000240000002500000026000000080000000400000027000000280000000000000001000000290000007c1910002b000000a71910001500000059010000150000002b00000004000000040000002c0000002d0000002e0000002f0000000000000001000000300000002b000000040000000400000031000000320000000c00000004000000330000003400000034000000350000003600000037000000380000000100000001000000390000002b00000004000000040000003a000000320000000c000000040000003b0000003c00000010000000040000003d0000003e000000320000000c000000040000003f0000002b0000000400000004000000400000002b000000040000000400000041000000440000000400000004000000450000004600000047000000d01a1000460000006301000013000000181b100000000000181b1000020000001a1b100015000000e503000005000000461b1000110000002f1b100017000000ea020000050000008c1b1000000000008d1b1000020000004d00000000000000010000004e0000008f1b100020000000af1b100012000000c11b10002b000000ec1b10001500000059010000150000001b1c100006000000211c100022000000031c1000180000006d09000005000000431c100016000000591c10000d000000031c1000180000007309000005000000811c10000b0000008c1c1000160000008c1b100001000000661c100016000000da07000009000000a21c10000e000000b01c100004000000b41c1000100000008c1b100001000000661c100016000000de07000005000000811c10000b000000c41c100026000000ea1c100008000000f21c1000060000008c1b100001000000661c100016000000eb070000050000004f0000000c000000040000005000000051000000520000008c1b100000000000ca1d100001000000011c100002000000530000000400000004000000540000005500000056000000e01d1000160000004804000028000000e01d1000160000005404000011000000001e1000200000002700000019000000001e1000200000002800000020000000001e1000200000002a00000019000000001e1000200000002b00000018000000001e1000200000002c0000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000f8030000000000000000000000000000000000000000000000000000000000000000feffffffffbfb6000000000000000000ff070000000000f8ffff0000010000000000000000000000c09f9f3d0000000002000000ffffff0700000000000000000000c0ff01000000000000f80f20382310004a0000008825100000020000882710003700000000010203040506070809080a0b0c0d0e0f10111213140215161718191a1b1c1d1e1f2002020202020202020202210202020202020202020202020202222324252602270228020202292a2b022c2d2e2f300202310202023202020202020202023302023402020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202023502360237020202020202020238023902020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202023a3b3c020202023d02023e3f4041424344454602020247020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202024802020202020202020202024902020202023b02000102020202030202020204020506020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020702020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020041a0fcc0000bf8030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000086be818000046e616d6501fbbd818000f80200105f5f7762696e6467656e5f7468726f7701473c6a7065675f6465636f6465723a3a6465636f6465723a3a4465636f6465723c523e3e3a3a6465636f64655f696e7465726e616c3a3a683139343563376463353162303865356202433c6a7065675f6465636f6465723a3a6465636f6465723a3a4465636f6465723c523e3e3a3a6465636f64655f7363616e3a3a683539643735373237366430633930333703326a7065675f6465636f6465723a3a7061727365723a3a70617273655f736f733a3a683533346563316466643039363461336504326a7065675f6465636f6465723a3a7061727365723a3a70617273655f736f663a3a68356439323732346635353066653539640537646c6d616c6c6f633a3a646c6d616c6c6f633a3a446c6d616c6c6f633a3a6d616c6c6f633a3a683537656535663061653065633464633106326a7065675f6465636f6465723a3a7061727365723a3a70617273655f6468743a3a683234373736393932646365306639393707406a7065675f6465636f6465723a3a696463743a3a64657175616e74697a655f616e645f696463745f626c6f636b3a3a683736313364636238336564653536326608366a7065675f6465636f6465723a3a6465636f6465723a3a6465636f64655f626c6f636b3a3a6839383237323539643036353132633838093b6a7065675f6465636f6465723a3a687566666d616e3a3a487566666d616e5461626c653a3a6e65773a3a68633336363166306134663939393238370a326a7065675f6465636f6465723a3a7061727365723a3a70617273655f6471743a3a68653238316438366131653036376537370b436a7065675f6465636f6465723a3a687566666d616e3a3a66696c6c5f64656661756c745f6d6a7065675f7461626c65733a3a68373030646163396562333233356137620c4f6a7065675f6465636f6465723a3a6465636f6465723a3a6465636f64655f626c6f636b5f737563636573736976655f617070726f78696d6174696f6e3a3a68316261326539663536643838383363330d313c73747220617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a68333532666631363533616337393831360e397761736d5f6a7065675f6465636f6465723a3a4a7065674465636f6465723a3a6465636f64653a3a68373964333134333261666437323133390f23636f72653a3a666d743a3a77726974653a3a6838356432383064396136623230376432102e636f72653a3a7374723a3a736c6963655f6572726f725f6661696c3a3a686634333465353935653333646336336111376a7065675f6465636f6465723a3a6465636f6465723a3a636f6d707574655f696d6167653a3a6866633836373761333533666563336437123a6a7065675f6465636f6465723a3a757073616d706c65723a3a557073616d706c65723a3a6e65773a3a6833633636646263336465643932623131132c636f72653a3a666d743a3a466f726d61747465723a3a7061643a3a68373433313865343230663063336639351435646c6d616c6c6f633a3a646c6d616c6c6f633a3a446c6d616c6c6f633a3a667265653a3a68653466363966663763366161343632361535636f72653a3a666d743a3a466f726d61747465723a3a7061645f696e74656772616c3a3a68336134656633343464663733373634351638646c6d616c6c6f633a3a646c6d616c6c6f633a3a446c6d616c6c6f633a3a7265616c6c6f633a3a6866626230626434336535613862316566172e636f72653a3a736c6963653a3a6d656d6368723a3a6d656d6368723a3a683037393066343563313262373835636218643c636f72653a3a697465723a3a61646170746572733a3a4d61703c492c20463e20617320636f72653a3a697465723a3a7472616974733a3a6974657261746f723a3a4974657261746f723e3a3a666f6c643a3a683564383532616261363239633838383419643c636f72653a3a697465723a3a61646170746572733a3a4d61703c492c20463e20617320636f72653a3a697465723a3a7472616974733a3a6974657261746f723a3a4974657261746f723e3a3a666f6c643a3a68376561393338393665333834313933651a326a7065675f6465636f6465723a3a7061727365723a3a70617273655f6170703a3a68643963343966623266333836353565331b386a7065675f6465636f6465723a3a6d61726b65723a3a4d61726b65723a3a66726f6d5f75383a3a68383530653431646533313035336232661c596a7065675f6465636f6465723a3a776f726b65723a3a696d6d6564696174653a3a496d6d656469617465576f726b65723a3a617070656e645f726f775f696d6d6564696174653a3a68386162346335343835393738656666381d6e3c6a7065675f6465636f6465723a3a757073616d706c65723a3a557073616d706c657248325632206173206a7065675f6465636f6465723a3a757073616d706c65723a3a557073616d706c653e3a3a757073616d706c655f726f773a3a68643836323263323961616137356439351e4a3c6a7065675f6465636f6465723a3a6d61726b65723a3a4d61726b657220617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a68393761303765303563663339303863641f323c6368617220617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a6837343733346234636436666637613437203e646c6d616c6c6f633a3a646c6d616c6c6f633a3a446c6d616c6c6f633a3a646973706f73655f6368756e6b3a3a686563336438313134653466646636306221406a7065675f6465636f6465723a3a687566666d616e3a3a487566666d616e4465636f6465723a3a6465636f64653a3a6866376261363866363833323130643734226e3c6a7065675f6465636f6465723a3a757073616d706c65723a3a557073616d706c657248325631206173206a7065675f6465636f6465723a3a757073616d706c65723a3a557073616d706c653e3a3a757073616d706c655f726f773a3a683436366339653562353531643861373423573c636f72653a3a666d743a3a6275696c646572733a3a506164416461707465723c275f3e20617320636f72653a3a666d743a3a57726974653e3a3a77726974655f7374723a3a683264616336363236313838373031343624433c6a7065675f6465636f6465723a3a6465636f6465723a3a4465636f6465723c523e3e3a3a726561645f6d61726b65723a3a683931376239366339373939613862653425436a7065675f6465636f6465723a3a687566666d616e3a3a487566666d616e4465636f6465723a3a726561645f626974733a3a6831643037356632613662323539633230263b6a7065675f6465636f6465723a3a6465636f6465723a3a726566696e655f6e6f6e5f7a65726f65733a3a686366636331313338373931383836616127546a7065675f6465636f6465723a3a776f726b65723a3a696d6d6564696174653a3a496d6d656469617465576f726b65723a3a73746172745f696d6d6564696174653a3a6834313865613638633566653166366338283a636f72653a3a666d743a3a6275696c646572733a3a44656275675374727563743a3a6669656c643a3a68616133373236653864393133636362392939646c6d616c6c6f633a3a646c6d616c6c6f633a3a446c6d616c6c6f633a3a6d656d616c69676e3a3a68383736313830353261353438323865312a346a7065675f6465636f6465723a3a7061727365723a3a726561645f6c656e6774683a3a68343833643934316461613835303532642b343c616c6c6f633a3a7665633a3a5665633c543e3e3a3a657874656e645f776974683a3a68316561376565343130323930663061632c32636f72653a3a756e69636f64653a3a7072696e7461626c653a3a636865636b3a3a68313562363532633063386336636535302d423c7374643a3a696f3a3a6572726f723a3a5265707220617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a68636235333364613966343231646362652e25616c6c6f633a3a666d743a3a666f726d61743a3a68323965633238356332616137623838302f326a7065675f6465636f6465723a3a7061727365723a3a70617273655f6472693a3a6863643731356236633661316565306265303b3c266d7574205720617320636f72653a3a666d743a3a57726974653e3a3a77726974655f636861723a3a68373839386465633634333930616663343143646c6d616c6c6f633a3a646c6d616c6c6f633a3a446c6d616c6c6f633a3a696e736572745f6c617267655f6368756e6b3a3a6833343838313638363438646564653065323b3c6a7065675f6465636f6465723a3a6465636f6465723a3a4465636f6465723c523e3e3a3a6e65773a3a6865313362663461373232666136306563336e3c6a7065675f6465636f6465723a3a757073616d706c65723a3a557073616d706c657248315632206173206a7065675f6465636f6465723a3a757073616d706c65723a3a557073616d706c653e3a3a757073616d706c655f726f773a3a6837646536323034376634613338386632342e616c6c6f633a3a737472696e673a3a537472696e673a3a707573683a3a683461346533393034333132633566613635553c6a7065675f6465636f6465723a3a6572726f723a3a556e737570706f727465644665617475726520617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a68336662393533653039356561393236613643646c6d616c6c6f633a3a646c6d616c6c6f633a3a446c6d616c6c6f633a3a756e6c696e6b5f6c617267655f6368756e6b3a3a6832643261376137616333376263653662372f636f72653a3a666d743a3a6e756d3a3a696d703a3a666d745f7536343a3a68633666633531373131663735656537623839636f72653a3a666d743a3a6275696c646572733a3a44656275675475706c653a3a6669656c643a3a68653965396631383139646164303162303949636f72653a3a666d743a3a6e756d3a3a3c696d706c20636f72653a3a666d743a3a446562756720666f72207573697a653e3a3a666d743a3a68343563363464653839633861396563653a366a7065675f6465636f6465723a3a6465636f6465723a3a79636263725f746f5f7267623a3a68633636393539636135643738363730363b473c7374643a3a696f3a3a6572726f723a3a4572726f724b696e6420617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a68616232653036653930323536373334353c6c3c7374643a3a70616e69636b696e673a3a636f6e74696e75655f70616e69635f666d743a3a50616e69635061796c6f61643c27613e20617320636f72653a3a70616e69633a3a426f784d6555703e3a3a626f785f6d655f75703a3a68363232386331633932373530376461653d526a7065675f6465636f6465723a3a757073616d706c65723a3a557073616d706c65723a3a757073616d706c655f616e645f696e7465726c656176655f726f773a3a68336330386366316361363435313237663e326a7065675f6465636f6465723a3a7061727365723a3a70617273655f636f6d3a3a68616431613962303162623835316665633f3d636f72653a3a756e69636f64653a3a626f6f6c5f747269653a3a426f6f6c547269653a3a6c6f6f6b75703a3a683134616237643034353064356636636640486a7065675f6465636f6465723a3a687566666d616e3a3a487566666d616e4465636f6465723a3a6465636f64655f666173745f61633a3a683466323464353661643963656435613841433c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276655f696e7465726e616c3a3a686238326464626436383235326164366342343c616c6c6f633a3a7665633a3a5665633c543e3e3a3a657874656e645f776974683a3a683935333539336264613062323737613943377374643a3a70616e69636b696e673a3a727573745f70616e69635f776974685f686f6f6b3a3a6831313363326462386131393365373933444b3c616c6c6f633a3a7665633a3a496e746f497465723c543e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6862613438633132356338353861646633452f636f72653a3a666d743a3a57726974653a3a77726974655f636861723a3a683831396534633662376364336465393946433c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276655f696e7465726e616c3a3a683138353561363563646433376338303347433c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276655f696e7465726e616c3a3a683262386638616666333130306235346248433c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276655f696e7465726e616c3a3a6865346365646463343338363265316661493b636f72653a3a736c6963653a3a3c696d706c205b545d3e3a3a636f70795f66726f6d5f736c6963653a3a68333830306537383337616161313639614a4c3c7374643a3a696f3a3a637572736f723a3a437572736f723c543e206173207374643a3a696f3a3a526561643e3a3a726561645f65786163743a3a68306135373630656665303163616362314b30636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a68396131626537633162326535333365364c416a7065675f6465636f6465723a3a6465636f6465723a3a636f6c6f725f636f6e766572745f6c696e655f7963636b3a3a68373963653732303431386330663333654d30636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a68396362633062396661373735356433614e30636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a68396362633062396661373735356433614f433c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276655f696e7465726e616c3a3a683433663730303636386163393435646250433c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276655f696e7465726e616c3a3a683133383132306234653166623062353351433c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276655f696e7465726e616c3a3a683463363663333766313365623238306652433c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276655f696e7465726e616c3a3a683962366438363334346563393936313653433c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276655f696e7465726e616c3a3a686261383536383239336339636633666354416a7065675f6465636f6465723a3a6465636f6465723a3a636f6c6f725f636f6e766572745f6c696e655f636d796b3a3a6837316235613438366162396135356235553b636f72653a3a736c6963653a3a3c696d706c205b545d3e3a3a636f70795f66726f6d5f736c6963653a3a683162643233373961343136383461353256663c7374643a3a70616e69636b696e673a3a636f6e74696e75655f70616e69635f666d743a3a50616e69635061796c6f61643c27613e20617320636f72653a3a70616e69633a3a426f784d6555703e3a3a6765743a3a683730653661633765393763346364653757433c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276655f696e7465726e616c3a3a686133616662366532356532623432383558343c616c6c6f633a3a7665633a3a5665633c543e3e3a3a657874656e645f776974683a3a686165383735343063643265333066336559483c6a7065675f6465636f6465723a3a6572726f723a3a4572726f7220617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a68613966356339393764353334363832625a4b3c616c6c6f633a3a7665633a3a496e746f497465723c543e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a68646334393836343165653530323634305b713c6a7065675f6465636f6465723a3a757073616d706c65723a3a557073616d706c657247656e65726963206173206a7065675f6465636f6465723a3a757073616d706c65723a3a557073616d706c653e3a3a757073616d706c655f726f773a3a68353164343638316333373161616164395c643c636f72653a3a697465723a3a61646170746572733a3a4d61703c492c20463e20617320636f72653a3a697465723a3a7472616974733a3a6974657261746f723a3a4974657261746f723e3a3a666f6c643a3a68353633333932383736376138343730355d433c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276655f696e7465726e616c3a3a68643436633166303730303837343263655e3a636f72653a3a666d743a3a6275696c646572733a3a44656275675475706c653a3a66696e6973683a3a68633137366562353338633335346464305f526a7065675f6465636f6465723a3a776f726b65723a3a696d6d6564696174653a3a496d6d656469617465576f726b65723a3a6e65775f696d6d6564696174653a3a686338303138343531626463613264313360426a7065675f6465636f6465723a3a6465636f6465723a3a636f6c6f725f636f6e766572745f6c696e655f79636263723a3a683530633563396666653739646230653861443c5420617320636f72653a3a736c6963653a3a536c696365436f6e7461696e733e3a3a736c6963655f636f6e7461696e733a3a683232313439396339396338393835613062643c636f72653a3a697465723a3a61646170746572733a3a436c6f6e65643c493e20617320636f72653a3a697465723a3a7472616974733a3a6974657261746f723a3a4974657261746f723e3a3a666f6c643a3a683335383139373464323436353633326663543c616c6c6f633a3a7665633a3a5665633c543e20617320616c6c6f633a3a7665633a3a53706563457874656e643c542c20493e3e3a3a737065635f657874656e643a3a683235306634383461616137313661343864543c616c6c6f633a3a7665633a3a5665633c543e20617320616c6c6f633a3a7665633a3a53706563457874656e643c542c20493e3e3a3a737065635f657874656e643a3a683035356231656437346634313637373365543c616c6c6f633a3a7665633a3a5665633c543e20617320616c6c6f633a3a7665633a3a53706563457874656e643c542c20493e3e3a3a737065635f657874656e643a3a68343233653662363639653638626239376649636f72653a3a666d743a3a6e756d3a3a3c696d706c20636f72653a3a666d743a3a4c6f77657248657820666f722069383e3a3a666d743a3a68383935663037646239626165623034346749636f72653a3a666d743a3a6e756d3a3a3c696d706c20636f72653a3a666d743a3a557070657248657820666f722069383e3a3a666d743a3a686534393561396235373739386634353868643c636f72653a3a697465723a3a61646170746572733a3a4d61703c492c20463e20617320636f72653a3a697465723a3a7472616974733a3a6974657261746f723a3a4974657261746f723e3a3a666f6c643a3a6833636566663165616136306235623861694a636f72653a3a666d743a3a6e756d3a3a3c696d706c20636f72653a3a666d743a3a4c6f77657248657820666f72206933323e3a3a666d743a3a68333437303330653662666563663739346a4a636f72653a3a666d743a3a6e756d3a3a3c696d706c20636f72653a3a666d743a3a557070657248657820666f72206933323e3a3a666d743a3a68623532613931376635323966333862666b336a7065675f6465636f6465723a3a7061727365723a3a736b69705f62797465733a3a68303662616132323461383539393930666c303c616c6c6f633a3a7665633a3a5665633c543e3e3a3a726573657276653a3a68653832303135353534356134383533306d303c616c6c6f633a3a7665633a3a5665633c543e3e3a3a726573657276653a3a68643634353235353965363663313531646e2e7374643a3a696f3a3a6572726f723a3a4572726f723a3a5f6e65773a3a68323064363638373861306366666337306f6b3c7761736d5f6a7065675f6465636f6465723a3a4a7065674465636f646572206173207761736d5f62696e6467656e3a3a636f6e766572743a3a7472616974733a3a46726f6d5761736d4162693e3a3a66726f6d5f6162693a3a6835666665333239613738353936643661706e3c6a7065675f6465636f6465723a3a757073616d706c65723a3a557073616d706c657248315631206173206a7065675f6465636f6465723a3a757073616d706c65723a3a557073616d706c653e3a3a757073616d706c655f726f773a3a683238666439613064653938303235316671543c616c6c6f633a3a7665633a3a5665633c543e20617320616c6c6f633a3a7665633a3a53706563457874656e643c542c20493e3e3a3a737065635f657874656e643a3a6864613063383339636637663733326634723d3c5420617320616c6c6f633a3a7665633a3a5370656346726f6d456c656d3e3a3a66726f6d5f656c656d3a3a683935313861636233393461623766363173343c616c6c6f633a3a7665633a3a5665633c543e3e3a3a657874656e645f776974683a3a6863353864313834636134613731363830743e3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a6833363964346430623538343737316566753e3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a6833313539636238366238303562346132763e3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a683837626634396135383036643433353977456a7065675f6465636f6465723a3a687566666d616e3a3a487566666d616e4465636f6465723a3a74616b655f6d61726b65723a3a6866636431363261646335393738343365783e3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a6832383663313932636133366661623163793e3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a68393563633266363430333732623962337a3e3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a68396364613737353339653063653661367b3e3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a68633766383165363631323962343866627c4a3c636f72653a3a6f70733a3a72616e67653a3a52616e67653c4964783e20617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a68393930663866323764363831326230397d81017374643a3a6572726f723a3a3c696d706c20636f72653a3a636f6e766572743a3a46726f6d3c262761207374723e20666f7220616c6c6f633a3a626f7865643a3a426f783c2864796e207374643a3a6572726f723a3a4572726f72202b2027737461746963293e3e3a3a66726f6d3a3a68346636633731303635656334653361617e3d3c5420617320616c6c6f633a3a7665633a3a5370656346726f6d456c656d3e3a3a66726f6d5f656c656d3a3a68343032643936626137373933323031627f3c3c6a7065675f6465636f6465723a3a6465636f6465723a3a4465636f6465723c523e3e3a3a696e666f3a3a686530323066376339316161383765323180013e3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a68653630343766336536353866366261618101703c7761736d5f6a7065675f6465636f6465723a3a4a7065674465636f646572496e707574206173207761736d5f62696e6467656e3a3a636f6e766572743a3a7472616974733a3a46726f6d5761736d4162693e3a3a66726f6d5f6162693a3a68333761396434393634643934326638378201643c636f72653a3a697465723a3a61646170746572733a3a4d61703c492c20463e20617320636f72653a3a697465723a3a7472616974733a3a6974657261746f723a3a4974657261746f723e3a3a666f6c643a3a686430303932633536316632333065643283013e3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a6831393030613032316433613836316565840128616c6c6f633a3a7665633a3a66726f6d5f656c656d3a3a68396461666564653335376630613635358501523c616c6c6f633a3a7665633a3a5665633c543e20617320616c6c6f633a3a7665633a3a53706563457874656e643c542c20493e3e3a3a66726f6d5f697465723a3a68313964336162663533653137613334378601357374643a3a70616e69636b696e673a3a636f6e74696e75655f70616e69635f666d743a3a686565373130633761393665346534363287012e636f72653a3a726573756c743a3a756e777261705f6661696c65643a3a6836316438323063656365666234326166880134636f72653a3a736c6963653a3a736c6963655f696e6465785f6c656e5f6661696c3a3a6839653162656332613730616435643230890136636f72653a3a70616e69636b696e673a3a70616e69635f626f756e64735f636865636b3a3a68353934623836306561306532613831328a0136636f72653a3a736c6963653a3a736c6963655f696e6465785f6f726465725f6661696c3a3a68663664653661636466323131373835308b01483c636f72653a3a666d743a3a417267756d656e74733c275f3e20617320636f72653a3a666d743a3a446973706c61793e3a3a666d743a3a68363265363933396336616331323338388c01703c7761736d5f6a7065675f6465636f6465723a3a4a7065674465636f646572496e707574206173207761736d5f62696e6467656e3a3a636f6e766572743a3a7472616974733a3a496e746f5761736d4162693e3a3a696e746f5f6162693a3a68323266343135313661396662303639318d016b3c7761736d5f6a7065675f6465636f6465723a3a4a7065674465636f646572206173207761736d5f62696e6467656e3a3a636f6e766572743a3a7472616974733a3a496e746f5761736d4162693e3a3a696e746f5f6162693a3a68333430313565336134373664353162378e010d5f5f72646c5f7265616c6c6f638f01443c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a636c6f6e653a3a436c6f6e653e3a3a636c6f6e653a3a68633233323164313230383132353135349001166a7065676465636f6465725f6f75747075745f70747291012e636f72653a3a726573756c743a3a756e777261705f6661696c65643a3a686537643661393337666466376439646592013a3c266d7574205720617320636f72653a3a666d743a3a57726974653e3a3a77726974655f666d743a3a686564646435626233393061363364636193013a3c266d7574205720617320636f72653a3a666d743a3a57726974653e3a3a77726974655f666d743a3a683561313561653363383964343435366294013a3c266d7574205720617320636f72653a3a666d743a3a57726974653e3a3a77726974655f666d743a3a683435656537633938643936343939316295013b636f72653a3a666d743a3a6275696c646572733a3a44656275675374727563743a3a66696e6973683a3a686136393731653131376138633932653996012e636f72653a3a666d743a3a57726974653a3a77726974655f666d743a3a68343634303736383262313338346262629701443c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a636c6f6e653a3a436c6f6e653e3a3a636c6f6e653a3a68343234373631313435633933623537659801463c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a68346139646638653539663366336136399901643c7374643a3a70616e69636b696e673a3a626567696e5f70616e69633a3a50616e69635061796c6f61643c413e20617320636f72653a3a70616e69633a3a426f784d6555703e3a3a626f785f6d655f75703a3a68653536316134633830653565626535379a0129636f72653a3a70616e69636b696e673a3a70616e69633a3a68353436633162636139386534363339359b01543c616c6c6f633a3a7665633a3a5665633c543e20617320616c6c6f633a3a7665633a3a53706563457874656e643c542c20493e3e3a3a737065635f657874656e643a3a68303961643032336361333039313833339c016f3c616c6c6f633a3a7665633a3a5665633c543e20617320616c6c6f633a3a7665633a3a53706563457874656e643c26276120542c20636f72653a3a736c6963653a3a497465723c27612c20543e3e3e3a3a737065635f657874656e643a3a68376364313062346165393537336338359d01543c616c6c6f633a3a7665633a3a5665633c543e20617320616c6c6f633a3a7665633a3a53706563457874656e643c542c20493e3e3a3a737065635f657874656e643a3a68323534363434666632663861623731669e013e3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a68636330313832333161306232646561389f01463c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6836303539636536326561356164633165a0014d3c7374643a3a696f3a3a637572736f723a3a437572736f723c543e206173207374643a3a696f3a3a427566526561643e3a3a66696c6c5f6275663a3a6838393939373836313233373630393461a1016c3c6a7065675f6465636f6465723a3a776f726b65723a3a696d6d6564696174653a3a496d6d656469617465576f726b6572206173206a7065675f6465636f6465723a3a776f726b65723a3a576f726b65723e3a3a73746172743a3a6865353535633930353066353462616139a201327374643a3a70616e69636b696e673a3a626567696e5f70616e69635f666d743a3a6864363933646430353339663231336239a3010f6a7065676465636f6465725f6e6577a40150616c6c6f633a3a736c6963653a3a3c696d706c20616c6c6f633a3a626f72726f773a3a546f4f776e656420666f72205b545d3e3a3a746f5f6f776e65643a3a6837623363313664383064663564366236a5011a6a7065676465636f646572696e7075745f696e7075745f707472a601596a7065675f6465636f6465723a3a776f726b65723a3a696d6d6564696174653a3a496d6d656469617465576f726b65723a3a6765745f726573756c745f696d6d6564696174653a3a6866373636303436623461633935663864a7013d3c5420617320616c6c6f633a3a7665633a3a5370656346726f6d456c656d3e3a3a66726f6d5f656c656d3a3a6863663365646431346132386430346537a801463c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6835383537613736366231383466303965a90143636f72653a3a666d743a3a466f726d61747465723a3a7061645f696e74656772616c3a3a77726974655f7072656669783a3a6861663036343034393861363337653265aa01066d656d636d70ab01146a7065676465636f646572696e7075745f6e6577ac01125f5f72646c5f616c6c6f635f7a65726f6564ad0154636f72653a3a697465723a3a7472616974733a3a6974657261746f723a3a4974657261746f723a3a7472795f666f725f656163683a3a7b7b636c6f737572657d7d3a3a6834343234366430643662366366393763ae0154636f72653a3a697465723a3a7472616974733a3a6974657261746f723a3a4974657261746f723a3a7472795f666f725f656163683a3a7b7b636c6f737572657d7d3a3a6864663037363861653834646136326131af012d636f72653a3a70616e69636b696e673a3a70616e69635f666d743a3a6831663438303266333832386234383635b001713c6a7065675f6465636f6465723a3a776f726b65723a3a696d6d6564696174653a3a496d6d656469617465576f726b6572206173206a7065675f6465636f6465723a3a776f726b65723a3a576f726b65723e3a3a6765745f726573756c743a3a6839376333373136383064616137383530b101e1013c7374643a3a6572726f723a3a3c696d706c20636f72653a3a636f6e766572743a3a46726f6d3c616c6c6f633a3a737472696e673a3a537472696e673e20666f7220616c6c6f633a3a626f7865643a3a426f783c2864796e207374643a3a6572726f723a3a4572726f72202b20636f72653a3a6d61726b65723a3a53656e64202b20636f72653a3a6d61726b65723a3a53796e63202b2027737461746963293e3e3a3a66726f6d3a3a537472696e674572726f7220617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a6839356431336531636136363239363337b201463c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6830643132623366303235633837306561b301126a7065676465636f6465725f6465636f6465b401713c6a7065675f6465636f6465723a3a776f726b65723a3a696d6d6564696174653a3a496d6d656469617465576f726b6572206173206a7065675f6465636f6465723a3a776f726b65723a3a576f726b65723e3a3a617070656e645f726f773a3a6865373638363565306433383765363263b501306a7065675f6465636f6465723a3a687566666d616e3a3a657874656e643a3a6832323930656632326435353964376266b6016a3c6a7065675f6465636f6465723a3a776f726b65723a3a696d6d6564696174653a3a496d6d656469617465576f726b6572206173206a7065675f6465636f6465723a3a776f726b65723a3a576f726b65723e3a3a6e65773a3a6831363461353635383335396565323038b70128616c6c6f633a3a7665633a3a66726f6d5f656c656d3a3a6834653264656264373733383335663939b801066d656d637079b9013a3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276653a3a6833383161663464346531666635613461ba013a3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276653a3a6835316661386130633966363663613835bb013a3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276653a3a6839383338623836366630343535653734bc013a3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276653a3a6864646332343630643930373665396238bd013a3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276653a3a6835613261643131313632313131313436be013a3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276653a3a6832356439656366396538323439613066bf013a3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276653a3a6833653166343034373365316664343739c0013a3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276653a3a6839363733323066383132353037396139c1013a3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276653a3a6861666531313163306639353932656432c2013a3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276653a3a6862393065316431623134333430383430c3013a3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a726573657276653a3a6863623839306531646539656338323765c401303c265420617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a6835383139383333336136306532663331c501303c265420617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a6835623463613265363666303736656666c601116a7065676465636f6465725f7769647468c701126a7065676465636f6465725f686569676874c8016f3c616c6c6f633a3a7665633a3a5665633c543e20617320616c6c6f633a3a7665633a3a53706563457874656e643c26276120542c20636f72653a3a736c6963653a3a497465723c27612c20543e3e3e3a3a737065635f657874656e643a3a6838383263316439336134396166636534c90134636f72653a3a666d743a3a466f726d61747465723a3a64656275675f7475706c653a3a6865636633613063373263353762663035ca0130636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6865313735316439383633613030393234cb0147636f72653a3a666d743a3a6e756d3a3a3c696d706c20636f72653a3a666d743a3a446562756720666f72206933323e3a3a666d743a3a6830303565306537653965313038363037cc013a3c266d7574205720617320636f72653a3a666d743a3a57726974653e3a3a77726974655f7374723a3a6836373530386437303764316665663133cd013a3c266d7574205720617320636f72653a3a666d743a3a57726974653e3a3a77726974655f7374723a3a6863353535646363363334353839383564ce0135636f72653a3a666d743a3a466f726d61747465723a3a64656275675f7374727563743a3a6834656437313532633038646138636333cf01066d656d736574d001333c616c6c6f633a3a73796e633a3a4172633c543e3e3a3a64726f705f736c6f773a3a6862643430653831613533353932353765d1012e7374643a3a70616e69636b696e673a3a626567696e5f70616e69633a3a6866383961333239336165316338316631d2013b6a7065675f6465636f6465723a3a6d61726b65723a3a4d61726b65723a3a6861735f6c656e6774683a3a6834643033343366313265316539323966d30130636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6866383962386663313563346239633962d4010a727573745f70616e6963d5011b5f5f7762675f6a7065676465636f646572696e7075745f66726565d601165f5f7762675f6a7065676465636f6465725f66726565d7014e636f72653a3a666d743a3a6e756d3a3a696d703a3a3c696d706c20636f72653a3a666d743a3a446973706c617920666f72206933323e3a3a666d743a3a6833303031363736313134303362653830d801413c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a63757272656e745f6c61796f75743a3a6831306661653662663738663638336433d9015e3c7374643a3a70616e69636b696e673a3a626567696e5f70616e69633a3a50616e69635061796c6f61643c413e20617320636f72653a3a70616e69633a3a426f784d6555703e3a3a6765743a3a6835626432313638343530323636353361da010b5f5f72646c5f616c6c6f63db018001636f72653a3a7374723a3a7472616974733a3a3c696d706c20636f72653a3a736c6963653a3a536c696365496e6465783c7374723e20666f7220636f72653a3a6f70733a3a72616e67653a3a52616e67653c7573697a653e3e3a3a696e6465783a3a7b7b636c6f737572657d7d3a3a6835653237346132306138613766386439dc01503c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6835313630376232613032353831653634dd01503c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6830666364613830643764636438663930de01503c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6832373165306165306233383763323261df01503c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6838353338306636333661383264336631e001503c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6862633031663261383335383335663665e101503c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6862643832346164333033666639373434e201503c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6863323763656635393330363133336133e30130636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6861653332613564303436393035316334e40130636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6837356263353165623934333264623030e501363c5420617320636f72653a3a636f6e766572743a3a46726f6d3c543e3e3a3a66726f6d3a3a6834656261643234356432313365326331e6013e636f72653a3a70616e69633a3a4c6f636174696f6e3a3a696e7465726e616c5f636f6e7374727563746f723a3a6838613263333335373036333734656535e7013a7761736d5f62696e6467656e3a3a616e797265663a3a484541505f534c41423a3a5f5f696e69743a3a6832663136613739653433306363353362e801503c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6866316435613531336363353731633639e90130636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6832643335626435616436303261376332ea0130636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6836643962313739653537653066663436eb0130636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6836643962313739653537653066663436ec0130636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6836643962313739653537653066663436ed0108727573745f6f6f6dee013e3c636f72653a3a666d743a3a4572726f7220617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a6837333461613833613263313735613531ef0130636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6834306236613030353563363565616635f001303c265420617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a6866653537326431356538383034613764f101633c6a7065675f6465636f6465723a3a6572726f723a3a4572726f7220617320636f72653a3a636f6e766572743a3a46726f6d3c7374643a3a696f3a3a6572726f723a3a4572726f723e3e3a3a66726f6d3a3a6839393562353663353938343536333232f201343c636f72653a3a6f7074696f6e3a3a4f7074696f6e3c543e3e3a3a756e777261703a3a6838633836343662626536643137343835f301343c636f72653a3a6f7074696f6e3a3a4f7074696f6e3c543e3e3a3a756e777261703a3a6864366361656333386136393934346563f401303c265420617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a6834313739336132653065303535366662f501493c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64657265663a3a44657265663e3a3a64657265663a3a6832393739633830663535633136623066f601493c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64657265663a3a44657265663e3a3a64657265663a3a6861376635383932393366663063323137f701503c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64657265663a3a44657265664d75743e3a3a64657265665f6d75743a3a6831656632653337303666336436306130f801503c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64657265663a3a44657265664d75743e3a3a64657265665f6d75743a3a6832303531356334633538653734653837f901493c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64657265663a3a44657265663e3a3a64657265663a3a6835623666363465373230666366626166fa01493c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64657265663a3a44657265663e3a3a64657265663a3a6837616339653665326239336366396335fb01493c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64657265663a3a44657265663e3a3a64657265663a3a6861623337333030666335363833366231fc01503c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64657265663a3a44657265664d75743e3a3a64657265665f6d75743a3a6834636265343638623336646331666630fd01503c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64657265663a3a44657265664d75743e3a3a64657265665f6d75743a3a6836633938383962393736626432393839fe01503c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64657265663a3a44657265664d75743e3a3a64657265665f6d75743a3a6866336163336438313834636664326333ff01303c265420617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a68383764343737663939613830303736648002303c265420617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a68313835343236626634666632306432658102753c7374643a3a7379735f636f6d6d6f6e3a3a70726f636573733a3a44656661756c74456e764b657920617320636f72653a3a626f72726f773a3a426f72726f773c7374643a3a6666693a3a6f735f7374723a3a4f735374723e3e3a3a626f72726f773a3a6833323537376532646337616239333137820242646c6d616c6c6f633a3a646c6d616c6c6f633a3a446c6d616c6c6f633a3a63616c6c6f635f6d7573745f636c6561723a3a68386362656432353764373535663131638302313c636f72653a3a7074723a3a556e697175653c543e3e3a3a61735f7074723a3a68336663613833306135633937323938658402313c636f72653a3a7074723a3a556e697175653c543e3e3a3a61735f7074723a3a686163316463353463636564393436396585023d6a7065675f6465636f6465723a3a687566666d616e3a3a487566666d616e4465636f6465723a3a6e65773a3a686334666565323531303438393331613286023f6a7065675f6465636f6465723a3a687566666d616e3a3a487566666d616e4465636f6465723a3a72657365743a3a68393565373539383137633930633365658702323c265420617320636f72653a3a666d743a3a446973706c61793e3a3a666d743a3a683133663965633031616164616261373988022d636f72653a3a666d743a3a417267756d656e7456313a3a6e65773a3a683832653364326261313234356331306489022d636f72653a3a666d743a3a417267756d656e7456313a3a6e65773a3a68623233336564386234323535633733338a022d636f72653a3a666d743a3a417267756d656e7456313a3a6e65773a3a68623466393738653939633162343130368b022d636f72653a3a666d743a3a417267756d656e7456313a3a6e65773a3a68623537376161626332353838313836338c024e3c4920617320636f72653a3a697465723a3a7472616974733a3a636f6c6c6563743a3a496e746f4974657261746f723e3a3a696e746f5f697465723a3a68613830653933323535393364643137318d024e3c4920617320636f72653a3a697465723a3a7472616974733a3a636f6c6c6563743a3a496e746f4974657261746f723e3a3a696e746f5f697465723a3a68633531336361333166336230336233398e024e3c4920617320636f72653a3a697465723a3a7472616974733a3a636f6c6c6563743a3a496e746f4974657261746f723e3a3a696e746f5f697465723a3a68333732313233303830313131626262328f02433c616c6c6f633a3a737472696e673a3a537472696e6720617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a68323036383431636161666630333164369002e3013c7374643a3a6572726f723a3a3c696d706c20636f72653a3a636f6e766572743a3a46726f6d3c616c6c6f633a3a737472696e673a3a537472696e673e20666f7220616c6c6f633a3a626f7865643a3a426f783c2864796e207374643a3a6572726f723a3a4572726f72202b20636f72653a3a6d61726b65723a3a53656e64202b20636f72653a3a6d61726b65723a3a53796e63202b2027737461746963293e3e3a3a66726f6d3a3a537472696e674572726f7220617320636f72653a3a666d743a3a446973706c61793e3a3a666d743a3a68383832653632383333353439353562379102323c265420617320636f72653a3a666d743a3a446973706c61793e3a3a666d743a3a68343465383132336532616433313566379202323c265420617320636f72653a3a666d743a3a446973706c61793e3a3a666d743a3a6837313531363263636366373962616537930238636f72653a3a666d743a3a466f726d61747465723a3a64656275675f6c6f7765725f6865783a3a6833376363623735323337643231653837940238636f72653a3a666d743a3a466f726d61747465723a3a64656275675f75707065725f6865783a3a686331323066353462373931336232326295020e5f5f727573745f7265616c6c6f639602303c616c6c6f633a3a7665633a3a5665633c543e3e3a3a726573657276653a3a68393030346266656461653635333666329702303c616c6c6f633a3a7665633a3a5665633c543e3e3a3a726573657276653a3a683863616661363831646165633763613798023b3c266d7574205720617320636f72653a3a666d743a3a57726974653e3a3a77726974655f636861723a3a683963343231396365383236343666366299024e636f72653a3a666d743a3a6e756d3a3a696d703a3a3c696d706c20636f72653a3a666d743a3a446973706c617920666f72207533323e3a3a666d743a3a68626138653664343133626535366364669a024d636f72653a3a666d743a3a6e756d3a3a696d703a3a3c696d706c20636f72653a3a666d743a3a446973706c617920666f722075383e3a3a666d743a3a68363262316663346166376438663830369b023a3c266d7574205720617320636f72653a3a666d743a3a57726974653e3a3a77726974655f7374723a3a68373462353939333565626566373337669c0234636f72653a3a666d743a3a417267756d656e7456313a3a73686f775f7573697a653a3a68323633353962303033363665356532369d020e5f5f727573745f6465616c6c6f639e02317761736d5f62696e6467656e3a3a5f5f72743a3a7468726f775f6e756c6c3a3a68393430313261316239336566333737659f02327761736d5f62696e6467656e3a3a5f5f72743a3a626f72726f775f6661696c3a3a6839393131333032373838626564316363a0022a7761736d5f62696e6467656e3a3a7468726f775f7374723a3a6837366136366539326230643434653234a102303c265420617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a6833303461653864333061353032656231a202303c265420617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a6834356237616336653564343764376334a302363c5420617320636f72653a3a636f6e766572743a3a46726f6d3c543e3e3a3a66726f6d3a3a6862616234643137383765666466633164a402303c265420617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a6865366339653766623665373365386535a50233616c6c6f633a3a616c6c6f633a3a68616e646c655f616c6c6f635f6572726f723a3a6832366365326564396463656337643338a6022e636f72653a3a70616e69633a3a4c6f636174696f6e3a3a66696c653a3a6864356133663231316161383830663161a7023b3c266d7574205720617320636f72653a3a666d743a3a57726974653e3a3a77726974655f636861723a3a6834343138623063636136313433353039a802333c73747220617320636f72653a3a666d743a3a446973706c61793e3a3a666d743a3a6833383635346263396236663137666133a9020c5f5f727573745f616c6c6f63aa02135f5f727573745f616c6c6f635f7a65726f6564ab02333c616c6c6f633a3a7261775f7665633a3a5261775665633c543e3e3a3a6e65773a3a6834663730616335363332306362656265ac02313c616c6c6f633a3a7665633a3a5665633c543e3e3a3a69735f656d7074793a3a6835653934333537386431376566656231ad022b7374643a3a6572726f723a3a4572726f723a3a63617573653a3a6861396436393434373939346466353765ae02433c7374643a3a696f3a3a6572726f723a3a4572726f7220617320636f72653a3a666d743a3a44656275673e3a3a666d743a3a6835366338633863623963613230323062af020d5f5f72646c5f6465616c6c6f63b00211727573745f626567696e5f756e77696e64b10234616c6c6f633a3a7261775f7665633a3a63617061636974795f6f766572666c6f773a3a6838633964626566663937313038393966b20233636f72653a3a70616e69633a3a50616e6963496e666f3a3a6c6f636174696f6e3a3a6862396230326664346662656234306432b3024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6833313337383639663430313432303262b4024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6837633562326262613335313462393838b5024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6836346362646662373135366339616338b6024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6837323065373436653934396464336530b7024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6837383961613532383566653431316362b8024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6837363039343465376232383333633066b9024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6865313533356530373264626264356134ba024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6863353132366563333830316263393839bb024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6832626139653637353932646233316435bc024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6834303430313361353535306232353438bd024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6835313235333565373463653830306366be024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6861396563316134636366356463386263bf024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6863313338323337363437316337393435c0024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6839326333636166303433323135363538c1024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6838383362633531643966393331376534c2024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6832326364616163376566616433613134c3024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6831656564343833363161653935636164c4024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6837636237316366653262663963303063c5024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6865663165306663613239396234623433c6024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6839646662303162663938653034613366c7024b3c616c6c6f633a3a7261775f7665633a3a5261775665633c542c20413e3e3a3a616c6c6f636174655f696e3a3a7b7b636c6f737572657d7d3a3a6864656234633839366332626232633032c80232636f72653a3a70616e69633a3a50616e6963496e666f3a3a6d6573736167653a3a6866383333316137633132623166363765c9022e636f72653a3a70616e69633a3a4c6f636174696f6e3a3a6c696e653a3a6833306533346634323863366462313766ca0230636f72653a3a70616e69633a3a4c6f636174696f6e3a3a636f6c756d6e3a3a6865376564356438346639653061643839cb02363c5420617320636f72653a3a636f6e766572743a3a46726f6d3c543e3e3a3a66726f6d3a3a6839643262623138326331363463323464cc02363c5420617320636f72653a3a636f6e766572743a3a496e746f3c553e3e3a3a696e746f3a3a6864346238313037393065353161353438cd023b7761736d5f62696e6467656e3a3a616e797265663a3a484541505f534c41423a3a5f5f67657469743a3a6864326137353261363136326537316164ce02313c636f72653a3a7074723a3a556e697175653c543e3e3a3a61735f7074723a3a6863613537386365626132623536323830cf02363c5420617320636f72653a3a636f6e766572743a3a46726f6d3c543e3e3a3a66726f6d3a3a6865643332313433616334383832373662d0023d3c5420617320636f72653a3a636f6e766572743a3a54727946726f6d3c553e3e3a3a7472795f66726f6d3a3a6866663461383833663930376530383232d102313c5420617320636f72653a3a616e793a3a416e793e3a3a747970655f69643a3a6835663534323333633636343239313831d202313c5420617320636f72653a3a616e793a3a416e793e3a3a747970655f69643a3a6865386134623365313165313436363062d302313c5420617320636f72653a3a616e793a3a416e793e3a3a747970655f69643a3a6834353338376461666538613833386437d402313c5420617320636f72653a3a616e793a3a416e793e3a3a747970655f69643a3a6837383464353137323930303739326466d5022d7374643a3a6572726f723a3a4572726f723a3a747970655f69643a3a6835666463356333663330613233623564d602125f5f727573745f73746172745f70616e6963d70241646c6d616c6c6f633a3a646c6d616c6c6f633a3a446c6d616c6c6f633a3a6d616c6c6f635f616c69676e6d656e743a3a6864306539656166663333326365373664d802313c5420617320636f72653a3a616e793a3a416e793e3a3a747970655f69643a3a6863663931663965306565306135663562d902046d61696eda02463c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6837653034366431376161646165373065db02463c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6862356631326637363830333261393536dc02363c5420617320636f72653a3a636f6e766572743a3a46726f6d3c543e3e3a3a66726f6d3a3a6837626362646465393965396536363234dd02416a7065675f6465636f6465723a3a6465636f6465723a3a636f6c6f725f636f6e766572745f6c696e655f6e756c6c3a3a6835343063376430666336313438393337de0230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6830346664666563613631336537346264df0230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6832373763663334636364323064333361e00230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6837663637363639663438636130326231e10230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6838373130333537383930383062663336e20230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6866373466353933343433393136346665e302363c5420617320636f72653a3a636f6e766572743a3a46726f6d3c543e3e3a3a66726f6d3a3a6861383461666631643764376432383865e402463c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6831343730353337383230313234306238e502463c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6833333961303861316339303366666135e602463c616c6c6f633a3a7665633a3a5665633c543e20617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6839393161386430663361653162373435e70230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6834386630396333373866353163613263e80230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6861653966316634393661323132313932e90230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6861666562346230393765363636343561ea0230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6862393964373430646663323337353862eb0230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6866663834376632396666636537613666ec0230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6838373130333537383930383062663336ed0230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6835313730313463383531626664333965ee0230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6838636565383164353330333736666330ef0230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6862343033313939396662336266363130f00230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6830376265396539383933383637326161f10230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6833376265326630343961666462613661f202563c7374643a3a7379735f636f6d6d6f6e3a3a7468726561645f6c6f63616c3a3a4b657920617320636f72653a3a6f70733a3a64726f703a3a44726f703e3a3a64726f703a3a6836346634623535633262663139306538f302377374643a3a616c6c6f633a3a64656661756c745f616c6c6f635f6572726f725f686f6f6b3a3a6861323964613233393034346135616630f40230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6830313731356464613430323964663633f50230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6830323539636161346234623765343236f60230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a6831633033663138316135363734333461f70230636f72653a3a7074723a3a7265616c5f64726f705f696e5f706c6163653a3a683463623436313937326333323764386300fe808080000970726f64756365727302086c616e677561676501045275737404323031380c70726f6365737365642d6279030572757374631d312e33342e32202836633234383464633320323031392d30352d3133290677616c72757305302e382e300c7761736d2d62696e6467656e12302e322e3438202861336464643039376529".match(/../g).map((function(e){return parseInt(e,16)})))},e.prototype.init=function(){return r(this,void 0,void 0,(function(){var e,t,n=this;return i(this,(function(r){switch(r.label){case 0:return e={wbg:{__wbindgen_throw:function(e,t){var r=new Uint8Array(n.wasm().memory.buffer).subarray(e,e+t),i=String.fromCharCode.apply(null,r);throw n.logger.error(i),new Error(i)}}},[4,WebAssembly.instantiate(this.module(),e)];case 1:return t=r.sent(),this.wasmInternal=t.instance.exports,this.wasmInternal.__wbindgen_start(),[2]}}))}))},e.prototype.wasm=function(){return this.wasmInternal},e.prototype.free=function(){this.wasmInternal=null},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){this.timeoutMs=1e4,this.waitDurationMs=3e3};t.default=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(167),a=n(178),s=function(){function e(e,t,n){this.configuration=e,this.logger=t,this.mediaStreamBroker=n;var r=this.configuration.urls.screenSharingURL;this.screenSharingSession=new o.default(this.mediaStreamBroker,this.logger,this.configuration.screenSharingSessionOptions).screenSharingSessionFactory().create(r,this.configuration.credentials.joinToken)}return e.prototype.open=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){switch(t.label){case 0:return this.logger.warn("ScreenShareFacade has been deprecated and will be removed beginning with version 2.0.0. Instead use the startContentShareFromScreenCapture() and stopContentShare() methods on the AudioVideoFacade."),[4,new a.default(this.logger,(function(){return e.screenSharingSession.open(e.configuration.screenSharingTimeoutMs)}),"DefaultScreenShareFacadeOpen").run()];case 1:return t.sent(),[2]}}))}))},e.prototype.close=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){switch(t.label){case 0:return[4,new a.default(this.logger,(function(){return e.screenSharingSession.close(e.configuration.screenSharingTimeoutMs)}),"DefaultScreenShareFacadeClose").run()];case 1:return t.sent(),[2]}}))}))},e.prototype.start=function(e){return r(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){switch(n.label){case 0:return[4,new a.default(this.logger,(function(){return t.screenSharingSession.start(e)}),"DefaultScreenShareFacadeStart").run()];case 1:return n.sent(),[2]}}))}))},e.prototype.stop=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){switch(t.label){case 0:return[4,new a.default(this.logger,(function(){return e.screenSharingSession.stop()}),"DefaultScreenShareFacadeStop").run()];case 1:return t.sent(),[2]}}))}))},e.prototype.pause=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){switch(t.label){case 0:return[4,new a.default(this.logger,(function(){return e.screenSharingSession.pause()}),"DefaultScreenShareFacadePause").run()];case 1:return t.sent(),[2]}}))}))},e.prototype.unpause=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){switch(t.label){case 0:return[4,new a.default(this.logger,(function(){return e.screenSharingSession.unpause()}),"DefaultScreenShareFacadeUnpause").run()];case 1:return t.sent(),[2]}}))}))},e.prototype.registerObserver=function(e){this.screenSharingSession.registerObserver(e)},e.prototype.unregisterObserver=function(e){this.screenSharingSession.deregisterObserver(e)},e}();t.default=s},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(59),o=n(56),a=n(1),s=n(169),c=n(61),u=n(62),l=n(63),d=n(64),f=n(66),p=n(67),h=n(68),m=n(176),g=function(){function e(e,t,n){void 0===n&&(n={}),this.mediaStreamBroker=e,this.logger=t,this.options=n,this.screenSharingSessionFactoryMemo=null,this.backoffFactoryMemo=null}return e.prototype.screenSharingSessionFactory=function(){return this.screenSharingSessionFactoryMemo=this.screenSharingSessionFactoryMemo||new m.default(this.displayMediaConstraints,this.reconnectingPromisedWebSocketFactory(),this.messageSerialization(),this.mediaStreamBroker,this.screenSharingStreamFactory(),this.mediaRecordingFactory(),this.logger),this.screenSharingSessionFactoryMemo},e.prototype.displayMediaConstraints=function(e){return{audio:!1,video:r(r({},!e&&{frameRate:{max:3}}),e&&{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxFrameRate:3}})}},e.prototype.screenSharingStreamFactory=function(){return new d.default},e.prototype.mediaRecordingFactory=function(){var e={};return a.default.of(this.options.bitRate).map((function(t){return e.videoBitsPerSecond=t})),new s.default(e)},e.prototype.reconnectingPromisedWebSocketFactory=function(){return new u.default(this.promisedWebSocketFactory(),this.backOffFactory(),a.default.of(this.options.reconnectRetryLimit).getOrElse(5))},e.prototype.backOffFactory=function(){return this.backoffFactoryMemo=this.backoffFactoryMemo||new i.default(1e3,100,300),this.backoffFactoryMemo},e.prototype.promisedWebSocketFactory=function(){return new c.default(this.domWebSocketFactory())},e.prototype.domWebSocketFactory=function(){return new o.default},e.prototype.messageSerialization=function(){return new p.default(this.typeSerialization(),this.flagSerialization(),this.screenSignalingSerialization())},e.prototype.typeSerialization=function(){return new h.default},e.prototype.flagSerialization=function(){return new f.default},e.prototype.screenSignalingSerialization=function(){return new l.default},e}();t.default=g},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r)||this;return o.limit=i,o.attempts=0,o}return i(t,e),t.prototype.nextBackoffAmountMs=function(){if(this.attempts++,this.attempts>this.limit)throw new Error("retry limit exceeded");return e.prototype.nextBackoffAmountMs.call(this)},t}(n(23).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(170),i=function(){function e(e){void 0===e&&(e={}),this.mediaRecordingOptions=e}return e.prototype.create=function(e){return new r.default(e,this.mediaRecordingOptions)},e}();t.default=i},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(1),a=n(60),s=function(){function e(t,n,i){void 0===n&&(n={}),void 0===i&&(i=e.browser),this.mediaStream=t,this.browser=i,this.delegate=null,this.listeners=new Map,this.options=r(r({},n),e.options)}return e.prototype.key=function(){var e=this;if(!this.delegate||"paused"!==this.delegate.state){var t=this.delegate,n=null===t?this.mediaStream:this.mediaStream.clone();this.delegate=new MediaRecorder(n,this.options),this.delegate.addEventListener("dataavailable",(function(t){e.dispatchEvent(t)})),this.delegate.stream.getTracks().forEach((function(t){t.addEventListener("ended",(function(){var n=new CustomEvent(a.default.EndedEvent,{detail:t});e.dispatchEvent(n)}))})),null!==t&&(this.browser.hasChromiumWebRTC()&&t.stream.getTracks().forEach((function(e){return e.stop()})),t.stop()),this.delegate.start(this.timeSliceMs)}},e.prototype.start=function(e){this.timeSliceMs=e,this.key()},e.prototype.stop=function(){var e=this;return new Promise((function(t,n){null===e.delegate&&n(new Error("not started")),e.delegate.addEventListener("stop",(function(){t()})),e.delegate.stream.getTracks().forEach((function(e){e.stop()})),e.delegate.stop()}))},e.prototype.pause=function(){var e=this;return new Promise((function(t,n){null===e.delegate&&n(new Error("not started")),e.delegate.addEventListener("pause",(function(){t()})),e.delegate.pause()}))},e.prototype.unpause=function(){var e=this;return new Promise((function(t,n){null===e.delegate&&n(new Error("not started")),t(),e.delegate.resume()}))},Object.defineProperty(e.prototype,"recordingState",{get:function(){return this.delegate.state},enumerable:!1,configurable:!0}),e.prototype.addEventListener=function(e,t){var n=this;o.default.of(this.listeners.get(e)).defaulting(new Set).map((function(e){return e.add(t)})).map((function(t){return n.listeners.set(e,t)}))},e.prototype.dispatchEvent=function(e){return o.default.of(this.listeners.get(e.type)).map((function(t){t.forEach((function(t){return t(e)}))})),e.defaultPrevented},e.prototype.removeEventListener=function(e,t){o.default.of(this.listeners.get(e)).map((function(e){return e.delete(t)}))},e.browser=new i.default,e.options={mimeType:"video/webm; codecs=vp8"},e}();t.default=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(8),s=function(){function e(e){this.webSocket=e,this.callbacks=new Map}return Object.defineProperty(e.prototype,"url",{get:function(){return this.webSocket.url},enumerable:!1,configurable:!0}),e.prototype.open=function(e){return r(this,void 0,void 0,(function(){var t,n=this;return i(this,(function(r){return t=new Promise((function(e,t){n.webSocket.onclose=function(e){n.dispatchEvent(e)},n.webSocket.onmessage=function(e){n.dispatchEvent(e)},n.webSocket.onopen=function(t){n.dispatchEvent(t),e(t)},n.webSocket.onerror=function(e){n.dispatchEvent(e),t(e)}})),[2,this.withTimeout(t,e)]}))}))},e.prototype.close=function(e,t,n){return r(this,void 0,void 0,(function(){var r,o=this;return i(this,(function(i){return r=new Promise((function(e,r){o.webSocket.onclose=function(t){o.dispatchEvent(t),e(t)},o.webSocket.onerror=function(e){o.dispatchEvent(e),r(e)},o.webSocket.close(t,n)})),[2,this.withTimeout(r,e)]}))}))},e.prototype.send=function(e){this.webSocket.send(e)},e.prototype.onMessage=function(e){return this.addEventListener("message",e),this},e.prototype.onClose=function(e){return this.addEventListener("close",e),this},e.prototype.dispatchEvent=function(e){return o.default.of(this.callbacks.get(e.type)).map((function(t){return t.forEach((function(t){return t(e)}))})),e.defaultPrevented},e.prototype.addEventListener=function(e,t){var n=this;o.default.of(this.callbacks.get(e)).defaulting(new Set).map((function(e){return e.add(t)})).map((function(t){return n.callbacks.set(e,t)}))},e.prototype.removeEventListener=function(e,t){o.default.of(this.callbacks.get(e)).map((function(e){return e.delete(t)}))},e.prototype.withTimeout=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){return n=new Promise((function(e,n){new a.default(t).start((function(){n(new Error("Promise timed out after "+t+"ms"))}))})),[2,Promise.race([e,n])]}))}))},e}();t.default=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(8),s=n(173),c=function(){function e(e,t,n,r,i){this.url=e,this.protocols=t,this.binaryType=n,this.webSocketFactory=r,this.backoff=i,this.callbacks=new Map,this.timeoutScheduler=null,this.webSocket=null}return e.prototype.close=function(e,t,n){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){return null===this.webSocket?[2,Promise.reject(new Error("closed"))]:(this.willCloseWebSocket(),r=this.webSocket,this.webSocket=null,[2,r.close(e,t,n)])}))}))},e.prototype.open=function(t){return r(this,void 0,void 0,(function(){var n=this;return i(this,(function(r){return null!==this.webSocket?[2,Promise.reject(new Error("opened"))]:(this.webSocket=this.webSocketFactory.create(this.url,this.protocols,this.binaryType),this.webSocket.addEventListener("close",(function(r){if(e.normalClosureCodes.indexOf(r.code)<=-1)try{var i=n.backoff.nextBackoffAmountMs();n.timeoutScheduler=new a.default(i),n.timeoutScheduler.start((function(){n.timeoutScheduler.stop(),n.open(t).catch((function(e){n.dispatchEvent(new CustomEvent("reconnect_error",{detail:e}))})).then((function(){}))})),n.dispatchEvent(new CustomEvent("reconnect"))}catch(e){n.dispatchEvent(r)}else n.dispatchEvent(r);n.webSocket=null})),this.webSocket.addEventListener("message",(function(e){n.dispatchEvent(e)})),this.webSocket.addEventListener("open",(function(e){n.didOpenWebSocket(),n.dispatchEvent(e)})),[2,this.webSocket.open(t).catch((function(e){throw n.webSocket=null,e}))])}))}))},e.prototype.send=function(e){if(null===this.webSocket)throw new Error("closed");this.webSocket.send(e)},e.prototype.dispatchEvent=function(e){return o.default.of(this.callbacks.get(e.type)).map((function(t){return t.forEach((function(t){return t(e)}))})),e.defaultPrevented},e.prototype.addEventListener=function(e,t){var n=this;o.default.of(this.callbacks.get(e)).defaulting(new Set).map((function(e){return e.add(t)})).map((function(t){return n.callbacks.set(e,t)}))},e.prototype.removeEventListener=function(e,t){o.default.of(this.callbacks.get(e)).map((function(e){return e.delete(t)}))},e.prototype.didOpenWebSocket=function(){o.default.of(this.timeoutScheduler).map((function(e){return e.stop()})),this.backoff.reset(),this.timeoutScheduler=null},e.prototype.willCloseWebSocket=function(){this.didOpenWebSocket()},e.normalClosureCodes=Array.of(s.default.Normal,s.default.EmptyCloseFrame),e}();t.default=c},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PromisedWebSocketClosureCode=void 0,function(e){e[e.Normal=1e3]="Normal",e[e.EmptyCloseFrame=1005]="EmptyCloseFrame"}(r=t.PromisedWebSocketClosureCode||(t.PromisedWebSocketClosureCode={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.message=e}return Object.defineProperty(e.prototype,"attendeeId",{get:function(){return this.message.attendeeId},enumerable:!1,configurable:!0}),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(60),i=n(24),o=n(15),a=n(65),s=function(){function e(e){this.mediaRecording=e,this.listeners=new Map}return e.prototype.key=function(){return this.mediaRecording.key()},e.prototype.start=function(e){var t=this;this.mediaRecording.addEventListener("dataavailable",(function(e){t.onDataAvailable(e)})),this.mediaRecording.addEventListener(r.default.EndedEvent,(function(){t.dispatchEvent(new CustomEvent(a.default.EndedEvent))}));var n={type:o.default.StreamStart,flags:[i.default.Local],data:new Uint8Array([])};this.dispatchEvent(this.newMessageEvent(n)),this.mediaRecording.start(e)},e.prototype.stop=function(){var e=this;return this.mediaRecording.stop().then((function(){var t={type:o.default.StreamEnd,flags:[i.default.Local],data:new Uint8Array([])};e.dispatchEvent(e.newMessageEvent(t))}))},e.prototype.pause=function(){var e=this;return this.mediaRecording.pause().then((function(){var t={type:o.default.StreamPause,flags:[i.default.Local],data:new Uint8Array([])};e.dispatchEvent(e.newMessageEvent(t))}))},e.prototype.unpause=function(){var e=this;return this.mediaRecording.unpause().then((function(){var t={type:o.default.StreamUnpause,flags:[i.default.Local],data:new Uint8Array([])};e.dispatchEvent(e.newMessageEvent(t))}))},e.prototype.addEventListener=function(e,t){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t)},e.prototype.dispatchEvent=function(e){return this.listeners.has(e.type)&&this.listeners.get(e.type).forEach((function(t){t(e)})),e.defaultPrevented},e.prototype.removeEventListener=function(e,t){this.listeners.has(e)&&this.listeners.get(e).delete(t)},e.prototype.onDataAvailable=function(e){if(0!==e.data.size){var t={type:o.default.WebM,flags:[i.default.Broadcast],data:e.data};this.dispatchEvent(this.newMessageEvent(t))}},e.prototype.newMessageEvent=function(e){return new CustomEvent(a.default.MessageEvent,{detail:e})},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(177),i=function(){function e(e,t,n,r,i,o,a,s){void 0===s&&(s=100),this.mediaConstraintsProvider=e,this.webSocketFactory=t,this.messageSerialization=n,this.mediaStreamBroker=r,this.screenShareStreamFactory=i,this.mediaRecordingFactory=o,this.logger=a,this.timeSliceMs=s}return e.prototype.create=function(t,n){var i=[e.SessionKey,n],o=this.webSocketFactory.create(t,i,e.BinaryType);return new r.default(o,this.mediaConstraintsProvider,this.timeSliceMs,this.messageSerialization,this.mediaStreamBroker,this.screenShareStreamFactory,this.mediaRecordingFactory,this.logger)},e.SessionKey="_aws_wt_session",e.BinaryType="arraybuffer",e}();t.default=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(1),s=n(8),c=n(65),u=n(24),l=n(15),d=function(){function e(e,t,n,r,i,s,c,u,l){var d=this;void 0===l&&(l=new o.default),this.webSocket=e,this.constraintsProvider=t,this.timeSliceMs=n,this.messageSerialization=r,this.mediaStreamBroker=i,this.screenShareStreamFactory=s,this.mediaRecordingFactory=c,this.logger=u,this.browserBehavior=l,this.observerQueue=new Set,this.stream=null,this.webSocket.addEventListener("message",(function(e){d.didReceiveMessageEvent(e),d.logger.debug((function(){return"dispatched message event"}))})),this.webSocket.addEventListener("close",(function(e){d.logger.info("screen sharing connection closed"),d.stop().catch((function(){})),d.observerQueue.forEach((function(t){a.default.of(t.didClose).map((function(n){return n.bind(t)(e)}))}))})),this.webSocket.addEventListener("reconnect",(function(e){d.logger.info("screen sharing connection reconnecting"),d.stop().catch((function(){})),d.observerQueue.forEach((function(t){a.default.of(t.willReconnect).map((function(n){return n.bind(t)(e)}))}))})),this.webSocket.addEventListener("reconnect_error",(function(e){d.logger.info("reconnect attempt failed"),d.observerQueue.forEach((function(t){a.default.of(t.didFailReconnectAttempt).map((function(n){return n.bind(t)(e)}))}))})),this.webSocket.addEventListener("open",(function(e){d.logger.info("screen sharing connection opened"),d.observerQueue.forEach((function(t){a.default.of(t.didOpen).map((function(n){return n.bind(t)(e)}))}))}))}return e.prototype.open=function(e){return this.logger.info("opening screen sharing connection to "+this.webSocket.url),this.webSocket.open(e)},e.prototype.close=function(e){var t=this;return this.webSocket.close(e).then((function(e){return t.observerQueue.forEach((function(t){a.default.of(t.didClose).map((function(n){return n.bind(t)(e)}))})),e}))},e.prototype.start=function(e,t){return r(this,void 0,void 0,(function(){var n,r,o=this;return i(this,(function(i){switch(i.label){case 0:if(null==t&&(t=3e3),null!==this.stream)throw new Error("started");if(this.browserBehavior.screenShareUnsupported())throw new Error("Safari browser does not support screen sharing");return[4,this.mediaStreamBroker.acquireDisplayInputStream(this.constraintsProvider(e))];case 1:return n=i.sent(),t>0?[4,this.ping(t)]:[3,3];case 2:i.sent(),i.label=3;case 3:return(r=this.screenShareStreamFactory.create(this.mediaRecordingFactory.create(n))).addEventListener(c.default.MessageEvent,(function(e){try{o.send(e.detail),o.logger.debug((function(){return"dispatched screen sharing stream message event"}))}catch(e){o.logger.error(e)}})),r.addEventListener(c.default.EndedEvent,(function(){o.logger.info("stream ended"),o.stop().then((function(){}))})),r.start(this.timeSliceMs),this.stream=r,this.observerQueue.forEach((function(e){a.default.of(e.didStartScreenSharing).map((function(t){return t.bind(e)()}))})),this.logger.info("screen sharing stream started"),[2]}}))}))},e.prototype.stop=function(){var e=this;return new Promise((function(t,n){if(null===e.stream)return n(new Error("not started"));e.stream.stop().then((function(){e.observerQueue.forEach((function(e){a.default.of(e.didStopScreenSharing).map((function(t){return t.bind(e)()}))}))})).then((function(){e.logger.info("screen sharing stream stopped")})).finally((function(){e.stream=null})).then(t)}))},e.prototype.pause=function(){var e=this;return new Promise((function(t,n){if(null===e.stream)return n(new Error("not started"));e.stream.pause().then((function(){e.observerQueue.forEach((function(e){a.default.of(e.didPauseScreenSharing).map((function(t){return t.bind(e)()}))}))})),e.logger.info("screen sharing stream paused"),t()}))},e.prototype.unpause=function(){var e=this;return new Promise((function(t,n){if(null===e.stream)return n(new Error("not started"));e.stream.unpause().then((function(){e.observerQueue.forEach((function(e){a.default.of(e.didUnpauseScreenSharing).map((function(t){return t.bind(e)()}))}))})),e.logger.info("screen sharing stream unpaused"),t()}))},e.prototype.ping=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o=this;return i(this,(function(i){return t=this,n=new Promise((function(e){var n={didReceiveHeartbeatResponse:function(){t.deregisterObserver(this),e()}},r={type:l.default.HeartbeatRequestType,flags:[u.default.Local],data:new Uint8Array([])};o.registerObserver(n),o.send(r)})),r=new Promise((function(t,n){new s.default(e).start((function(){n(new Error("ping timed out after "+e+"ms"))}))})),[2,Promise.race([n,r])]}))}))},e.prototype.registerObserver=function(e){return this.observerQueue.add(e),this},e.prototype.deregisterObserver=function(e){return this.observerQueue.delete(e),this},e.prototype.didReceiveMessageEvent=function(e){switch(this.logger.debug((function(){return"didReceiveMessageEvent: "+new Uint8Array(e.data)})),this.messageSerialization.deserialize(new Uint8Array(e.data)).type){case l.default.HeartbeatResponseType:return this.didReceiveHeartbeatResponseMessage();case l.default.HeartbeatRequestType:return this.didReceiveHeartbeatRequestMessage();case l.default.StreamStop:return this.didReceiveStreamStopMessage();case l.default.KeyRequest:return this.didReceiveKeyRequest();default:return this.didReceiveUnknownMessage()}},e.prototype.didReceiveHeartbeatResponseMessage=function(){this.logger.info("received heartbeat response message"),this.observerQueue.forEach((function(e){a.default.of(e.didReceiveHeartbeatResponse).map((function(t){return t.bind(e)()}))}))},e.prototype.didReceiveKeyRequest=function(){this.logger.info("received key request message"),this.stream.key()},e.prototype.didReceiveStreamStopMessage=function(){this.logger.debug((function(){return"received stream stop message"})),this.observerQueue.forEach((function(e){a.default.of(e.didReceiveStreamStopMessage).map((function(t){return t.bind(e)()}))})),this.stop().then((function(){}))},e.prototype.didReceiveUnknownMessage=function(){this.logger.debug((function(){return"received unknown message"})),this.observerQueue.forEach((function(e){a.default.of(e.didReceiveUnknownMessage).map((function(t){return t.bind(e)()}))}))},e.prototype.didReceiveHeartbeatRequestMessage=function(){this.logger.debug((function(){return"received heartbeat request"})),this.observerQueue.forEach((function(e){a.default.of(e.didReceiveHeartbeatRequest).map((function(t){return t.bind(e)()}))}));var e={type:l.default.HeartbeatResponseType,flags:[u.default.Local],data:new Uint8Array([])};try{this.send(e),this.observerQueue.forEach((function(e){a.default.of(e.didSendHeartbeatResponse).map((function(t){return t.bind(e)()}))}))}catch(e){this.logger.error(e)}},e.prototype.send=function(e){try{return this.webSocket.send(this.messageSerialization.serialize(e)),this.logger.debug((function(){return"sent screen sharing message"})),this.observerQueue.forEach((function(t){a.default.of(t.didSendScreenSharingMessage).map((function(n){return n.bind(t)(e.type)}))})),e}catch(e){throw this.observerQueue.forEach((function(t){a.default.of(t.didFailSend).map((function(n){return n.bind(t)(e)}))})),e}},e}();t.default=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,r){void 0===r&&(r="RunnableTask");var i=e.call(this,t)||this;return i.fn=n,i.taskName=r,i}return i(t,e),t.prototype.run=function(){return this.fn().then((function(){}))},t}(n(0).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(59),i=n(56),o=n(160),a=n(1),s=n(61),c=n(62),u=n(180),l=n(183),d=n(186),f=n(197),p=n(199),h=function(){function e(e,t){this.configuration=e,this.logger=t,this.dragObserverFactory=function(e,t,n){return new o.default(e,n,t)};var n=new c.default(new s.default(new i.default),new r.default(1e3,100,300),a.default.of(e.screenSharingSessionOptions.reconnectRetryLimit).getOrElse(5));this.screenViewing=new f.default(new d.default(new u.default,this.dragObserverFactory,n,new l.default(n,t).screenSignalingSessionFactory(),this.logger,{},window))}return e.prototype.open=function(){var e=new p.default(this.configuration.urls.screenViewingURL,this.configuration.urls.screenDataURL,this.configuration.credentials.joinToken,this.configuration.screenViewingTimeoutMs);return this.screenViewing.open(e)},e.prototype.close=function(){return this.screenViewing.close()},e.prototype.start=function(e){return this.logger.warn("ScreenShareViewFacade has been deprecated and will be removed beginning with version 2.0.0. Instead use the startContentShareFromScreenCapture() and stopContentShare() methods on the AudioVideoFacade."),this.screenViewing.start(e)},e.prototype.stop=function(){return this.screenViewing.stop()},e.prototype.presentScaleToFit=function(){this.screenViewing.presentScaleToFit()},e.prototype.presentDragAndZoom=function(){this.screenViewing.presentDragAndZoom()},e.prototype.zoomIn=function(e){this.screenViewing.zoomIn(e)},e.prototype.zoomOut=function(e){this.screenViewing.zoomOut(e)},e.prototype.zoom=function(e){this.screenViewing.zoom(e)},e.prototype.zoomReset=function(){this.screenViewing.zoomReset()},e.prototype.registerObserver=function(e){this.screenViewing.registerObserver(e)},e.prototype.unregisterObserver=function(e){this.screenViewing.unregisterObserver(e)},e}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(248),i=n(182),o=function(){function e(e){this.provider=e}return e.prototype.create=function(e){return this.provider?this.provider():new i.default(new r.ResizeObserver(e))},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContentRect=function(e){if("getBBox"in e){var t=e.getBBox();return Object.freeze({height:t.height,left:0,top:0,width:t.width})}var n=window.getComputedStyle(e);return Object.freeze({height:parseFloat(n.height||"0"),left:parseFloat(n.paddingLeft||"0"),top:parseFloat(n.paddingTop||"0"),width:parseFloat(n.width||"0")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.resizeObserver=e}return e.prototype.observe=function(e){this.resizeObserver.observe(e)},e.prototype.unobserve=function(e){this.resizeObserver.unobserve(e)},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(63),i=n(66),o=n(67),a=n(68),s=n(184),c=function(){function e(e,t){this.webSocketFactory=e,this.logger=t,this.memo=null}return e.prototype.screenSignalingSessionFactory=function(){return this.memo=this.memo||new s.default(this.webSocketFactory,this.screenSharingMessageSerialization(),this.logger),this.memo},e.prototype.screenSharingMessageSerialization=function(){return new o.default(new a.default,new i.default,new r.default)},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(185),i=function(){function e(e,t,n){this.webSocketFactory=e,this.messageSerialization=t,this.logger=n}return e.prototype.create=function(e,t){var n=[r.default.SessionKey,t];return new r.default(this.webSocketFactory.create(e,n,"arraybuffer"),this.messageSerialization,this.logger)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(24),o=n(15),a=n(69),s=function(){function e(e,t,n){var r=this;this.webSocket=e,this.messageSerialization=t,this.logger=n,this.listeners=new Map,this.webSocket.addEventListener("message",(function(e){r.onMessageHandler(e)})),this.webSocket.addEventListener("close",(function(e){r.dispatchEvent(e)}))}return e.prototype.open=function(e){return this.webSocket.open(e)},e.prototype.close=function(e){return this.webSocket.close(e)},e.prototype.addEventListener=function(e,t){var n=this;r.default.of(this.listeners.get(e)).defaulting(new Set).map((function(e){return e.add(t)})).map((function(t){return n.listeners.set(e,t)}))},e.prototype.dispatchEvent=function(e){return r.default.of(this.listeners.get(e.type)).map((function(t){return t.forEach((function(t){return t(e)}))})),e.defaultPrevented},e.prototype.removeEventListener=function(e,t){r.default.of(this.listeners.get(e)).map((function(e){return e.delete(t)}))},e.prototype.onMessageHandler=function(e){var t=new Uint8Array(e.data),n=this.messageSerialization.deserialize(t);switch(n.type){case o.default.HeartbeatRequestType:this.logger.info("DefaultScreenSignalingSession received HeartbeatRequest");var r={type:o.default.HeartbeatResponseType,flags:[i.default.Local],data:new Uint8Array([])};this.logger.info("Sending HeartbeatResponseType"),this.webSocket.send(this.messageSerialization.serialize(r)),this.dispatchEvent(new CustomEvent(a.default.Heartbeat));break;case o.default.StreamStart:this.logger.info("received StreamStart; "+JSON.stringify(n.detail));var s=new CustomEvent(a.default.StreamStart,{detail:n.detail});this.dispatchEvent(s);break;case o.default.StreamEnd:this.logger.info("received StreamEnd; "+JSON.stringify(n.detail));var c=new CustomEvent(a.default.StreamEnd,{detail:n.detail});this.dispatchEvent(c);break;case o.default.PresenterSwitch:this.logger.info("received PresenterSwitch; "+JSON.stringify(n.detail));var u=new CustomEvent(a.default.StreamSwitch,{detail:n.detail});this.dispatchEvent(u)}},e.SessionKey="_aws_wt_session",e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(57),i=n(187),o=n(188),a=n(192),s=n(193),c=n(194),u=n(195),l=n(196),d=function(){function e(e,t,n,r,i,o,a){var s=this.createSession(n,i,o),c=this.createJPEGDecoderController(i,o),u=this.createDeltaRenderer(c,i,a,e,t,o),l=this.createDeltaSource(u,i,o),d=this.createViewer(u,i,o),f=this.createMessageHandler(s,u,l,d,i,o),p=this.createMessageDispatcher(f,o),h=this.createSignalingSession(r,o);h.registerObserver({streamDidStart:function(e){u.revealViewport()},streamDidStop:function(e){u.hideViewport()}}),this.viewingSession=s.withObserver(p),this.deltaRenderer=u,this.deltaSource=l,this.jpegDecoderController=c,this.messageDispatcher=p,this.messageHandler=f,this.signalingSession=h,this.viewer=d}return e.prototype.createSession=function(e,t,n){var r=new c.default(e,t);return n&&n.sessionProvider&&n.sessionProvider(r)||r},e.prototype.createDeltaRenderer=function(e,t,n,r,i,a){var s=new o.default(e,t,n,r,i);return a&&a.deltaRendererProvider&&a.deltaRendererProvider(s)||s},e.prototype.createDeltaSource=function(e,t,n){var r=new a.default(e,t);return n&&n.deltaSourceProvider&&n.deltaSourceProvider(r)||r},e.prototype.createJPEGDecoderController=function(e,t){var n=new r.default(e,65536);return t&&t.jpegDecoderControllerProvider&&t.jpegDecoderControllerProvider(n)||n},e.prototype.createMessageDispatcher=function(e,t){var n=new i.default(e);return t&&t.messageDispatcherProvider&&t.messageDispatcherProvider(n)||n},e.prototype.createMessageHandler=function(e,t,n,r,i,o){var a=new s.default(e,t,n,r,i);return o&&o.messageHandlerProvider&&o.messageHandlerProvider(a)||a},e.prototype.createViewer=function(e,t,n){var r=new l.default(e,t);return n&&n.viewerProvider&&n.viewerProvider(r)||r},e.prototype.createSignalingSession=function(e,t){var n=new u.default(e);return t&&t.signalingSession&&t.signalingSession(n)||n},e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70),i=function(){function e(e){this.messageHandler=e}return e.prototype.didCloseWebSocket=function(e){},e.prototype.didReceiveWebSocketMessage=function(e){var t=new DataView(e.data);switch(t.getUint8(0)){case r.default.ECHO_REQUEST:return void this.messageHandler.handleEchoRequest(t);case r.default.SETUP:return void this.messageHandler.handleSetup(t);case r.default.DELTA:return void this.messageHandler.handleDelta(t);case r.default.SYNC:return void this.messageHandler.handleSync(t);case r.default.NOSCREEN:return void this.messageHandler.handleNoScreen(t);case r.default.ENDSCREEN:return void this.messageHandler.handleEndScreen(t);default:this.messageHandler.handleDefault(t)}},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(189),o=n(190),a=n(31),s=n(191),c=function(){function e(e,t,n,r,o){var s=this;this.jpegDecoderController=e,this.logger=t,this.window=n,this.dragObserverFactory=o,this.syncBuffer=[],this.jpegDataArrays=[],this.hasRendered=[],this.presentation=new i.default,this.policy=new a.default,this.viewport=null,this.content=null,this.dragObserver=null,this.resizeObserver=r.create((function(){return s.updatePresentation&&s.updatePresentation()}))}return e.make2DArray=function(e,t){for(var n=[],r=0;r<t;r++)n[r]=new Array(e);return n},e.prototype.buildViewer=function(t){this.logger.info("DefaultScreenViewingDeltaRenderer: Building viewer with info "+JSON.stringify(t)),this.syncBuffer=e.make2DArray(t.screenWidth,t.screenHeight),this.jpegDataArrays=e.make2DArray(t.screenWidth,t.screenHeight),this.hasRendered=e.make2DArray(t.screenWidth,t.screenHeight),this.jpegDecoderInstance=this.jpegDecoderController.createInstance(t.macroBlock,t.macroBlock),this.imageDimensions=t},e.prototype.resizeAndSync=function(){if(this.imageDimensions&&this.jpegDecoderInstance){var t=this.window.performance.now();!this.content||t-this.lastResizeAndSyncTime<e.SYNC_TIMEOUT_MS||(this.logger.debug((function(){return"DefaultScreenViewingDeltaRenderer: sync'ing"})),this.content.width===this.imageDimensions.imageWidthPixels&&this.content.height===this.imageDimensions.imageHeightPixels||(this.content.width=this.imageDimensions.imageWidthPixels,this.content.height=this.imageDimensions.imageHeightPixels,this.updatePresentation&&this.updatePresentation()),this.renderSync(),this.lastResizeAndSyncTime=this.window.performance.now())}},e.prototype.renderSync=function(){this.logger.debug((function(){return"DefaultScreenViewingDeltaRenderer: Rendering sync"}));var e=this.getContext();if(e)for(var t=function(t){for(var r=function(r){var i=r*n.imageDimensions.macroBlock,o=t*n.imageDimensions.macroBlock,a=n.hasRendered[t][r],s=n.jpegDataArrays[t][r];if(!s||a)return"continue";var c=n.getImageData(s);if(!c)return"continue";e.putImageData(c,i,o),n.hasRendered[t][r]=!0,n.logger.debug((function(){return"rendered row="+t+" col="+r}))},i=0;i<n.imageDimensions.screenWidth;i++)r(i)},n=this,r=0;r<this.imageDimensions.screenHeight;r++)t(r)},e.prototype.getImageData=function(e){try{return this.jpegDecoderInstance.decodeToImageData(e)}catch(e){this.logger.error(e)}},e.prototype.getContext=function(){return this.content&&this.content.getContext("2d")},e.prototype.close=function(){this.logger.info("DefaultScreenViewingDeltaRenderer: Closing"),this.getContext()&&this.getContext().clearRect(0,0,this.content.width,this.content.height),this.viewport&&this.viewport.removeChild(this.content),this.dragObserver&&this.dragObserver.unobserve(),this.content=null,this.viewport=null,this.dragObserver=null},e.prototype.setViewport=function(t){var n=this;this.viewport||this.content?this.logger.warn("Current view must be closed before starting anew"):(this.viewport=t,this.content=this.window.document.createElement("canvas"),this.viewport.prepend(this.content),this.resizeObserver.observe(t),this.dragObserver=this.dragObserverFactory(this.window,(function(e){e.type!==r.default.BEGIN&&n.updatePresentation&&n.updatePresentation({type:o.ZoomType.NONE},e)}),t),this.imageDimensions&&(this.hasRendered=e.make2DArray(this.imageDimensions.screenWidth,this.imageDimensions.screenHeight)))},e.prototype.hideViewport=function(){this.content&&(this.content.style.display="none")},e.prototype.revealViewport=function(){this.content&&(this.content.style.display="block")},e.prototype.changePresentationPolicy=function(e){this.policy=e,this.updatePresentation()},e.prototype.zoomRelative=function(e){this.updatePresentation({type:o.ZoomType.ZOOM,relativeFactor:e})},e.prototype.zoomAbsolute=function(e){this.updatePresentation({type:o.ZoomType.ZOOM,absoluteFactor:e})},e.prototype.zoomReset=function(){this.updatePresentation({type:o.ZoomType.RESET})},e.prototype.updatePresentation=function(e,t){this.imageDimensions&&this.viewport&&this.content&&this.presentation.present(s.default.createSource(this.imageDimensions),s.default.createViewport(this.viewport,this.window),s.default.createContent(this.content,this.window),this.policy,e,t)},e.SYNC_TIMEOUT_MS=500,e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(71),o=function(){function e(){}return e.prototype.present=function(t,n,r,i,o,a){var s=n.getDimensions()[0]/n.getDimensions()[1],c=t.getDimensions()[0]/t.getDimensions()[1],u={dimensions:r.getDimensions(),translations:r.getTranslations()},l={contentPlacement:u,sourceDimensions:t.getDimensions(),sourceAspectRatio:c,viewportDimensions:n.getDimensions(),viewportAspectRatio:s,scale:r.getDimensions()[0]/t.getDimensions()[0],boxType:e.boxType(c,s),focus:{normalizedContentFocus:e.contentFocus(u,a),normalizedViewportFocus:e.viewportFocus(n.getDimensions(),a)}},d=i.calculate(l,{zoom:o,drag:a});n.setPosition("relative"),n.setOverflow("hidden"),r.setPosition("absolute"),r.setDimensions(d.dimensions),r.setTranslations(d.translations)},e.cssPixels=function(e){return e+"px"},e.boxType=function(e,t){return e>t?i.default.LETTER_BOX:e<t?i.default.PILLAR_BOX:i.default.NONE},e.contentFocus=function(e,t){return t&&t.type!==r.default.END?t.type===r.default.BEGIN?[(t.coords[0]-e.translations[0])/e.dimensions[0],(t.coords[1]-e.translations[1])/e.dimensions[1]]:[(t.last.coords[0]-e.translations[0])/e.dimensions[0],(t.last.coords[1]-e.translations[1])/e.dimensions[1]]:[.5,.5]},e.viewportFocus=function(e,t){return t&&t.type!==r.default.END?[t.coords[0]/e[0],t.coords[1]/e[1]]:[.5,.5]},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomType=void 0,function(e){e[e.ZOOM=0]="ZOOM",e[e.RESET=1]="RESET",e[e.NONE=2]="NONE"}(t.ZoomType||(t.ZoomType={}))},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.createContent=function(e,t){return{getPosition:function(){return e.style.position},getDimensions:function(){return[parseFloat(t.getComputedStyle(e).width.replace("px","")),parseFloat(t.getComputedStyle(e).height.replace("px",""))]},getTranslations:function(){return[parseFloat(t.getComputedStyle(e).left.replace("px","")),parseFloat(t.getComputedStyle(e).top.replace("px",""))]},setPosition:function(t){e.style.position=t},setDimensions:function(t){var n=r(t,2),i=n[0],o=n[1];e.style.width=i+"px",e.style.height=o+"px"},setTranslations:function(t){var n=r(t,2),i=n[0],o=n[1];e.style.left=i+"px",e.style.top=o+"px"}}},e.createSource=function(e){return{getDimensions:function(){return[e.imageWidthPixels,e.imageHeightPixels]}}},e.createViewport=function(e,t){return{getDimensions:function(){return[parseFloat(t.getComputedStyle(e).width.replace("px","")),parseFloat(t.getComputedStyle(e).height.replace("px",""))]},setOverflow:function(t){e.style.overflow=t},setPosition:function(t){e.style.position=t}}},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.deltaRenderer=e,this.logger=t}return e.prototype.flushSyncBuffer=function(){this.logger.debug((function(){return"DefaultScreenViewingDeltaSource: Flushing sync buffer"}));for(var e=0;e<this.deltaRenderer.imageDimensions.screenHeight;e++)for(var t=0;t<this.deltaRenderer.imageDimensions.screenWidth;t++)this.deltaRenderer.syncBuffer[e][t]&&(this.deltaRenderer.jpegDataArrays[e][t]=this.deltaRenderer.syncBuffer[e][t],this.deltaRenderer.syncBuffer[e][t]=null,this.deltaRenderer.hasRendered[e][t]=!1)},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70),i=function(){function e(e,t,n,r,i){this.client=e,this.deltaRenderer=t,this.deltaSource=n,this.viewer=r,this.logger=i}return e.prototype.handleEchoRequest=function(e){this.logger.info("DefaultScreenViewingMessageHandler: Handling echo request message"),e.setUint8(0,r.default.ECHO_RESPONSE);try{this.client.send(new Uint8Array(e.buffer))}catch(e){this.logger.warn("DefaultScreenViewingMessageHandler: Error sending echo response"),this.logger.warn(e)}},e.prototype.handleSetup=function(t){var n=t.getInt32(1),r=t.getInt32(5),i=t.getInt32(9);this.logger.info("DefaultScreenViewingMessageHandler: Handling setup message, received width = "+n+", height = "+r+", and macro block = "+i);var o=e.calculateImageDimensions(n,r,i);this.deltaRenderer.buildViewer(o)},e.calculateImageDimensions=function(e,t,n){var r=e%n,i=t%n;return{imageWidthPixels:e,imageHeightPixels:t,macroBlock:n,screenWidth:Math.floor(e/n)+(0===r?0:1),screenHeight:Math.floor(t/n)+(0===i?0:1),edgeWidth:0===r?n:r,edgeHeight:0===i?n:i,tileWidth:n,tileHeight:n}},e.prototype.handleDelta=function(e){this.logger.debug((function(){return"DefaultScreenViewingMessageHandler: Handling delta"}));var t=e.getUint8(1),n=e.getUint8(2);this.deltaSource.pendingDx=t,this.deltaSource.pendingDy=n},e.prototype.handleSync=function(e){this.logger.debug((function(){return"DefaultScreenViewingMessageHandler: Handling sync"})),this.deltaSource.flushSyncBuffer(),this.viewer.resizeAndSync(),this.deltaSource.notShared&&(this.deltaSource.notShared=!1)},e.prototype.handleNoScreen=function(e){this.logger.info("DefaultScreenViewingMessageHandler: Handling no screen"),this.deltaSource.notShared=!0},e.prototype.handleEndScreen=function(e){this.logger.info("DefaultScreenViewingMessageHandler: Handling end screen"),this.viewer.stop()},e.prototype.handleDefault=function(t){this.logger.debug((function(){return"DefaultScreenViewingMessageHandler: Handling default"}));var n=t.getUint8(0),r=t.getUint8(1);if(e.shouldHandle(n,r)){var i=this.deltaSource.pendingDx,o=this.deltaSource.pendingDy;this.deltaRenderer.syncBuffer[o][i]=new Uint8Array(t.buffer)}},e.shouldHandle=function(e,t){return e===r.default.JPEG_HEADER_BYTE_0&&t===r.default.JPEG_HEADER_BYTE_1},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e,t){this.webSocketFactory=e,this.logger=t,this.webSocket=null}return e.prototype.withObserver=function(e){return this.observer=e,this},e.prototype.openConnection=function(e){var t=this;return this.logger.info("DefaultScreenViewingSession: Opening connection"),this.webSocket?Promise.reject(new Error("Must close existing connection before opening a new one")):(this.webSocket=this.webSocketFactory.create(e.screenViewingURL,e.protocols(),"arraybuffer"),this.webSocket.addEventListener("message",(function(e){r.default.of(t.observer).map((function(n){r.default.of(n.didReceiveWebSocketMessage).map((function(n){return n.bind(t.observer)(e)}))}))})),this.webSocket.addEventListener("close",(function(e){r.default.of(t.observer).map((function(n){r.default.of(n.didCloseWebSocket).map((function(n){return n.bind(t.observer)(e)}))})),t.webSocket=null})),this.webSocket.open(e.timeoutMs))},e.prototype.closeConnection=function(){if(this.logger.info("DefaultScreenViewingSession: Closing connection"),!this.webSocket)return Promise.reject(new Error("No websocket to close"));var t=this.webSocket;return this.webSocket=null,t.close(e.DEFAULT_TIMEOUT).then((function(){}))},e.prototype.send=function(e){this.logger.debug((function(){return"DefaultScreenViewingSession: Sending "+e.byteLength+" bytes"})),this.webSocket.send(e)},e.DEFAULT_TIMEOUT=1e3,e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(69),o=function(){function e(e){this.screenSignalingSessionFactory=e,this.DEFAULT_TIMEOUT_MS=500,this.observers=new Set}return e.prototype.open=function(e){var t=this;return this.session?Promise.reject(new Error("Must close connection before opening another")):(this.session=this.screenSignalingSessionFactory.create(e.screenDataURL,e.sessionToken),this.session.addEventListener(i.default.StreamStart,(function(e){t.observers.forEach((function(t){r.default.of(t.streamDidStart).map((function(t){return t(e.detail)}))}))})),this.session.addEventListener(i.default.StreamEnd,(function(e){t.observers.forEach((function(t){r.default.of(t.streamDidStop).map((function(t){return t(e.detail)}))}))})),this.session.addEventListener(i.default.StreamSwitch,(function(e){t.observers.forEach((function(t){return r.default.of(t.streamDidSwitch).map((function(t){return t(e.detail)}))}))})),this.session.open(e.timeoutMs).then((function(){})))},e.prototype.close=function(){if(!this.session)return Promise.resolve();var e=this.session;return this.session=null,e.close(this.DEFAULT_TIMEOUT_MS).then((function(){}))},e.prototype.registerObserver=function(e){this.observers.add(e)},e.prototype.unregisterObserver=function(e){this.observers.delete(e)},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.deltaRenderer=e,this.logger=t}return e.prototype.start=function(e){this.logger.info("DefaultScreenViewingViewer: Starting"),this.deltaRenderer.setViewport(e)},e.prototype.stop=function(){this.logger.info("DefaultScreenViewingViewer: Stopping"),this.deltaRenderer.close()},e.prototype.resizeAndSync=function(){this.deltaRenderer.resizeAndSync()},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(198),i=n(31),o=function(){function e(e){this.componentContext=e}return e.prototype.open=function(e){var t=this;return this.request=e,this.componentContext.jpegDecoderController.init().then((function(){return t.componentContext.signalingSession.open(e)})).then((function(){}))},e.prototype.close=function(){var e=this;return this.stop().catch((function(){})).finally((function(){return e.componentContext.signalingSession.close()}))},e.prototype.start=function(e){return this.componentContext.viewer.start(e),this.componentContext.viewingSession.openConnection(this.request).then((function(){}))},e.prototype.stop=function(){return this.componentContext.viewer.stop(),this.componentContext.viewingSession.closeConnection()},e.prototype.presentScaleToFit=function(){this.componentContext.deltaRenderer.changePresentationPolicy(new i.default)},e.prototype.presentDragAndZoom=function(){this.componentContext.deltaRenderer.changePresentationPolicy(new r.default)},e.prototype.zoomIn=function(e){this.componentContext.deltaRenderer.zoomRelative(e||1.25)},e.prototype.zoomOut=function(e){this.componentContext.deltaRenderer.zoomRelative(e||.8)},e.prototype.zoom=function(e){this.componentContext.deltaRenderer.zoomAbsolute(e)},e.prototype.zoomReset=function(){this.componentContext.deltaRenderer.zoomReset()},e.prototype.registerObserver=function(e){this.componentContext.signalingSession.registerObserver(e)},e.prototype.unregisterObserver=function(e){this.componentContext.signalingSession.unregisterObserver(e)},e}();t.default=o},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(22),o=n(190),a=n(31),s=function(){function e(){this.calculate=function(t,n){var r=e.getNewContentDimensions(t.contentPlacement.dimensions,t.sourceDimensions,n);return e.shouldScaleToFit(r,t.viewportDimensions,n)?(new a.default).calculate(t):n&&n.drag&&n.drag.type!==i.default.END?{dimensions:r,translations:[t.focus.normalizedViewportFocus[0]*t.viewportDimensions[0]-t.focus.normalizedContentFocus[0]*r[0],t.focus.normalizedViewportFocus[1]*t.viewportDimensions[1]-t.focus.normalizedContentFocus[1]*r[1]]}:{dimensions:r,translations:[e.centerOrRemoveWhitespaceDim(r[0],t.contentPlacement.translations[0],t.viewportDimensions[0]),e.centerOrRemoveWhitespaceDim(r[1],t.contentPlacement.translations[1],t.viewportDimensions[1])]}}}return e.getNewContentDimensions=function(e,t,n){return n&&n.zoom&&n.zoom.relativeFactor?e.map((function(e){return e*n.zoom.relativeFactor})):n&&n.zoom&&n.zoom.absoluteFactor?t.map((function(e){return e*n.zoom.absoluteFactor})):e},e.centerOrRemoveWhitespaceDim=function(e,t,n){return e<=n?n/2-e/2:t>0?0:t+e<n?n-e:t},e.shouldScaleToFit=function(e,t,n){var i=r(e,2),a=i[0],s=i[1],c=r(t,2),u=c[0],l=c[1];return n&&n.zoom&&n.zoom.type===o.ZoomType.RESET||a<=u&&s<=l},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){this.screenViewingURLWithOptionalSessionToken=e,this.screenDataURL=t,this.sessionToken=n,this.timeoutMs=r}return Object.defineProperty(e.prototype,"screenViewingURL",{get:function(){return this.screenViewingURLWithOptionalSessionToken.includes("&session_token=")?this.screenViewingURLWithOptionalSessionToken:this.screenViewingURLWithOptionalSessionToken+"&session_token="+this.sessionToken},enumerable:!1,configurable:!0}),e.prototype.protocols=function(){return[]},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n,r){this.sequenceNumber=e,this.message=t,this.timestampMs=n,this.logLevel=r};t.default=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=function(e){function t(){return e.call(this,o.default.DEBUG)||this}return i(t,e),t}(n(202).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=function(){function e(e){void 0===e&&(e=r.default.OFF),this.level=e}return e.prototype.info=function(e){},e.prototype.warn=function(e){},e.prototype.error=function(e){},e.prototype.debug=function(e){r.default.DEBUG<this.level||"string"!=typeof e&&e()},e.prototype.setLogLevel=function(e){this.level=e},e.prototype.getLogLevel=function(){return this.level},e}();t.default=i},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){e.exports=n(273)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(5);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(5),i=n(279),o=n(280),a=n(207),s=n(281),c=n(284),u=n(285),l=n(210);e.exports=function(e){return new Promise((function(t,n){var d=e.data,f=e.headers,p=e.responseType;r.isFormData(d)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(m+":"+g)}var b=s(e.baseURL,e.url);function v(){if(h){var r="getAllResponseHeaders"in h?c(h.getAllResponseHeaders()):null,o={data:p&&"text"!==p&&"json"!==p?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h};i(t,n,o),h=null}}if(h.open(e.method.toUpperCase(),a(b,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,"onloadend"in h?h.onloadend=v:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(v)},h.onabort=function(){h&&(n(l("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){n(l("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var y=(e.withCredentials||u(b))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;y&&(f[e.xsrfHeaderName]=y)}"setRequestHeader"in h&&r.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:h.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),p&&"json"!==p&&(h.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),n(e),h=null)})),d||(d=null),h.send(d)}))}},function(e,t,n){"use strict";var r=n(208);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(5);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function u(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),r.forEach(o,u),r.forEach(a,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=c(e[r],t[r]):r in e&&(n[r]=c(void 0,e[r]))}));var l=i.concat(o).concat(a).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(d,u),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";n.r(t),n.d(t,"isNetworkError",(function(){return l})),n.d(t,"isRetryableError",(function(){return p})),n.d(t,"isSafeRequestError",(function(){return h})),n.d(t,"isIdempotentRequestError",(function(){return m})),n.d(t,"isNetworkOrIdempotentRequestError",(function(){return g})),n.d(t,"exponentialDelay",(function(){return v})),n.d(t,"default",(function(){return w}));var r=n(216),i=n.n(r);function o(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return!e.response&&Boolean(e.code)&&"ECONNABORTED"!==e.code&&i()(e)}var d=["get","head","options"],f=d.concat(["put","delete"]);function p(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}function h(e){return!!e.config&&(p(e)&&-1!==d.indexOf(e.config.method))}function m(e){return!!e.config&&(p(e)&&-1!==f.indexOf(e.config.method))}function g(e){return l(e)||m(e)}function b(){return 0}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=100*Math.pow(2,e),n=.2*t*Math.random();return t+n}function y(e){var t=e["axios-retry"]||{};return t.retryCount=t.retryCount||0,e["axios-retry"]=t,t}function S(){return(S=a((function*(e,t,n,r){var i=n.retryCount<e&&t(r);if("object"==typeof i)try{return yield i,!0}catch(e){return!1}return i}))).apply(this,arguments)}function w(e,t){e.interceptors.request.use(e=>(y(e).lastRequestTime=Date.now(),e)),e.interceptors.response.use(null,function(){var n=a((function*(n){var{config:r}=n;if(!r)return Promise.reject(n);var{retries:i=3,retryCondition:o=g,retryDelay:a=b,shouldResetTimeout:s=!1}=function(e,t){return c(c({},t),e["axios-retry"])}(r,t),u=y(r);if(yield function(e,t,n,r){return S.apply(this,arguments)}(i,o,u,n)){u.retryCount+=1;var l=a(u.retryCount,n);if(function(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}(e,r),!s&&r.timeout&&u.lastRequestTime){var d=Date.now()-u.lastRequestTime;r.timeout=Math.max(r.timeout-d-l,1)}return r.transformRequest=[e=>e],new Promise(t=>setTimeout(()=>t(e(r)),l))}return Promise.reject(n)}));return function(e){return n.apply(this,arguments)}}())}w.isNetworkError=l,w.isSafeRequestError=h,w.isIdempotentRequestError=m,w.isNetworkOrIdempotentRequestError=g,w.exponentialDelay=v,w.isRetryableError=p},function(e,t,n){var r;e.exports=(r=n(32),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),c[i]=n(e.pow(r,1/3)),i++),r++}();var u=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],d=n[6],f=n[7],p=0;p<64;p++){if(p<16)u[p]=0|e[t+p];else{var h=u[p-15],m=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,g=u[p-2],b=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;u[p]=m+u[p-7]+b+u[p-16]}var v=r&i^r&o^i&o,y=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),S=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&d)+c[p]+u[p];f=d,d=l,l=s,s=a+S|0,a=o,o=i,i=r,r=S+(y+v)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),r.SHA256)},function(e,t,n){"use strict";const r=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);e.exports=e=>!r.has(e&&e.code)},function(e,t,n){(function(e){var t;!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return i(t[a][1][e]||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){t.exports={version:"2.0",metadata:{apiVersion:"2014-06-30",endpointPrefix:"cognito-identity",jsonVersion:"1.1",protocol:"json",serviceFullName:"Amazon Cognito Identity",serviceId:"Cognito Identity",signatureVersion:"v4",targetPrefix:"AWSCognitoIdentityService",uid:"cognito-identity-2014-06-30"},operations:{CreateIdentityPool:{input:{type:"structure",required:["IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},SupportedLoginProviders:{shape:"S4"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S8"},CognitoIdentityProviders:{shape:"Sa"},SamlProviderARNs:{shape:"Sf"},IdentityPoolTags:{shape:"Sg"}}},output:{shape:"Sj"}},DeleteIdentities:{input:{type:"structure",required:["IdentityIdsToDelete"],members:{IdentityIdsToDelete:{type:"list",member:{}}}},output:{type:"structure",members:{UnprocessedIdentityIds:{type:"list",member:{type:"structure",members:{IdentityId:{},ErrorCode:{}}}}}}},DeleteIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}}},DescribeIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{}}},output:{shape:"Su"}},DescribeIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{shape:"Sj"}},GetCredentialsForIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"Sz"},CustomRoleArn:{}}},output:{type:"structure",members:{IdentityId:{},Credentials:{type:"structure",members:{AccessKeyId:{},SecretKey:{},SessionToken:{},Expiration:{type:"timestamp"}}}}}},GetId:{input:{type:"structure",required:["IdentityPoolId"],members:{AccountId:{},IdentityPoolId:{},Logins:{shape:"Sz"}}},output:{type:"structure",members:{IdentityId:{}}}},GetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{type:"structure",members:{IdentityPoolId:{},Roles:{shape:"S1b"},RoleMappings:{shape:"S1d"}}}},GetOpenIdToken:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"Sz"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},GetOpenIdTokenForDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId","Logins"],members:{IdentityPoolId:{},IdentityId:{},Logins:{shape:"Sz"},TokenDuration:{type:"long"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},ListIdentities:{input:{type:"structure",required:["IdentityPoolId","MaxResults"],members:{IdentityPoolId:{},MaxResults:{type:"integer"},NextToken:{},HideDisabled:{type:"boolean"}}},output:{type:"structure",members:{IdentityPoolId:{},Identities:{type:"list",member:{shape:"Su"}},NextToken:{}}}},ListIdentityPools:{input:{type:"structure",required:["MaxResults"],members:{MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityPools:{type:"list",member:{type:"structure",members:{IdentityPoolId:{},IdentityPoolName:{}}}},NextToken:{}}}},ListTagsForResource:{input:{type:"structure",required:["ResourceArn"],members:{ResourceArn:{}}},output:{type:"structure",members:{Tags:{shape:"Sg"}}}},LookupDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{},IdentityId:{},DeveloperUserIdentifier:{},MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityId:{},DeveloperUserIdentifierList:{type:"list",member:{}},NextToken:{}}}},MergeDeveloperIdentities:{input:{type:"structure",required:["SourceUserIdentifier","DestinationUserIdentifier","DeveloperProviderName","IdentityPoolId"],members:{SourceUserIdentifier:{},DestinationUserIdentifier:{},DeveloperProviderName:{},IdentityPoolId:{}}},output:{type:"structure",members:{IdentityId:{}}}},SetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId","Roles"],members:{IdentityPoolId:{},Roles:{shape:"S1b"},RoleMappings:{shape:"S1d"}}}},TagResource:{input:{type:"structure",required:["ResourceArn"],members:{ResourceArn:{},Tags:{shape:"Sg"}}},output:{type:"structure",members:{}}},UnlinkDeveloperIdentity:{input:{type:"structure",required:["IdentityId","IdentityPoolId","DeveloperProviderName","DeveloperUserIdentifier"],members:{IdentityId:{},IdentityPoolId:{},DeveloperProviderName:{},DeveloperUserIdentifier:{}}}},UnlinkIdentity:{input:{type:"structure",required:["IdentityId","Logins","LoginsToRemove"],members:{IdentityId:{},Logins:{shape:"Sz"},LoginsToRemove:{shape:"Sv"}}}},UntagResource:{input:{type:"structure",required:["ResourceArn"],members:{ResourceArn:{},TagKeys:{type:"list",member:{}}}},output:{type:"structure",members:{}}},UpdateIdentityPool:{input:{shape:"Sj"},output:{shape:"Sj"}}},shapes:{S4:{type:"map",key:{},value:{}},S8:{type:"list",member:{}},Sa:{type:"list",member:{type:"structure",members:{ProviderName:{},ClientId:{},ServerSideTokenCheck:{type:"boolean"}}}},Sf:{type:"list",member:{}},Sg:{type:"map",key:{},value:{}},Sj:{type:"structure",required:["IdentityPoolId","IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolId:{},IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},SupportedLoginProviders:{shape:"S4"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S8"},CognitoIdentityProviders:{shape:"Sa"},SamlProviderARNs:{shape:"Sf"},IdentityPoolTags:{shape:"Sg"}}},Su:{type:"structure",members:{IdentityId:{},Logins:{shape:"Sv"},CreationDate:{type:"timestamp"},LastModifiedDate:{type:"timestamp"}}},Sv:{type:"list",member:{}},Sz:{type:"map",key:{},value:{}},S1b:{type:"map",key:{},value:{}},S1d:{type:"map",key:{},value:{type:"structure",required:["Type"],members:{Type:{},AmbiguousRoleResolution:{},RulesConfiguration:{type:"structure",required:["Rules"],members:{Rules:{type:"list",member:{type:"structure",required:["Claim","MatchType","Value","RoleARN"],members:{Claim:{},MatchType:{},Value:{},RoleARN:{}}}}}}}}}}}},{}],2:[function(e,t,n){t.exports={pagination:{}}},{}],3:[function(e,t,n){t.exports={version:"2.0",metadata:{apiVersion:"2017-02-15",endpointPrefix:"connect",jsonVersion:"1.0",protocol:"json",serviceAbbreviation:"Connect",serviceFullName:"AmazonConnectCTIService",signatureVersion:"",targetPrefix:"AmazonConnectCTIService",uid:"connect-2017-02-15"},operations:{AcceptContact:{input:{type:"structure",required:["authentication","contactId"],members:{authentication:{shape:"S2"},contactId:{}}},output:{type:"structure",members:{}}},ClearContact:{input:{type:"structure",required:["contactId"],members:{contactId:{}}},output:{type:"structure",members:{}}},CompleteContact:{input:{type:"structure",required:["contactId"],members:{contactId:{}}},output:{type:"structure",members:{}}},ConferenceConnections:{input:{type:"structure",required:["authentication","contactId"],members:{authentication:{shape:"S2"},contactId:{}}},output:{type:"structure",members:{}}},CreateAdditionalConnection:{input:{type:"structure",required:["authentication","contactId","endpoint"],members:{authentication:{shape:"S2"},contactId:{},endpoint:{shape:"Se"}}},output:{type:"structure",members:{}}},CreateOutboundContact:{input:{type:"structure",required:["authentication","endpoint"],members:{authentication:{shape:"S2"},endpoint:{shape:"Se"},queueARN:{}}},output:{type:"structure",members:{}}},CreateTaskContact:{input:{type:"structure",required:["endpoint","name"],members:{endpoint:{shape:"Se"},previousContactId:{},name:{},description:{},references:{shape:"Sr"},idempotencyToken:{},scheduledTime:{type:"long"}}},output:{type:"structure",members:{contactId:{}}}},CreateTransport:{input:{type:"structure",required:["transportType","authentication"],members:{transportType:{},participantId:{},contactId:{},softphoneClientId:{},authentication:{shape:"S2"}}},output:{type:"structure",members:{webSocketTransport:{type:"structure",required:["url","transportLifeTimeInSeconds"],members:{url:{},transportLifeTimeInSeconds:{type:"long"},expiry:{}}},chatTokenTransport:{type:"structure",required:["participantToken","expiry"],members:{participantToken:{},expiry:{}}},softphoneTransport:{type:"structure",required:["softphoneMediaConnections"],members:{softphoneMediaConnections:{type:"list",member:{type:"structure",required:["username","credential","urls"],members:{username:{},credential:{},urls:{type:"list",member:{}}}}}}}}}},DestroyConnection:{input:{type:"structure",required:["authentication","contactId","connectionId"],members:{authentication:{shape:"S2"},contactId:{},connectionId:{}}},output:{type:"structure",members:{}}},GetAgentConfiguration:{input:{type:"structure",required:["authentication"],members:{authentication:{shape:"S2"}}},output:{type:"structure",required:["configuration"],members:{configuration:{shape:"S1h"}}}},GetAgentPermissions:{input:{type:"structure",required:["authentication"],members:{authentication:{shape:"S2"},nextToken:{},maxResults:{type:"integer"}}},output:{type:"structure",required:["permissions"],members:{permissions:{type:"list",member:{}},nextToken:{}}}},GetAgentSnapshot:{input:{type:"structure",required:["authentication"],members:{authentication:{shape:"S2"},nextToken:{},timeout:{type:"long"}}},output:{type:"structure",required:["snapshot","nextToken"],members:{snapshot:{type:"structure",required:["state","contacts","snapshotTimestamp"],members:{state:{shape:"S20"},nextState:{shape:"S20"},agentAvailabilityState:{type:"structure",members:{state:{},timeStamp:{type:"timestamp"}}},contacts:{type:"list",member:{type:"structure",required:["contactId","type","state","connections","attributes"],members:{contactId:{},initialContactId:{},type:{},state:{type:"structure",required:["type","timestamp"],members:{type:{},timestamp:{type:"timestamp"}}},queue:{shape:"Sk"},queueTimestamp:{type:"timestamp"},connections:{type:"list",member:{type:"structure",required:["connectionId","state","type","initial"],members:{connectionId:{},endpoint:{shape:"Se"},state:{type:"structure",required:["type","timestamp"],members:{type:{},timestamp:{type:"timestamp"}}},type:{},initial:{type:"boolean"},softphoneMediaInfo:{type:"structure",members:{callType:{},autoAccept:{type:"boolean"},mediaLegContextToken:{},callContextToken:{},callConfigJson:{}}},chatMediaInfo:{type:"structure",members:{chatAutoAccept:{type:"boolean"},connectionData:{},customerName:{}}},monitoringInfo:{type:"structure",members:{agent:{type:"structure",members:{agentName:{}}},joinTimeStamp:{type:"timestamp"}}},mute:{type:"boolean"},quickConnectName:{}}}},attributes:{type:"map",key:{},value:{type:"structure",required:["name"],members:{name:{},value:{}}}},contactDuration:{},name:{},description:{},references:{shape:"Sr"},initiationMethod:{},contactFeatures:{type:"structure",members:{attachmentsEnabled:{type:"boolean"}}}}}},snapshotTimestamp:{type:"timestamp"}}},nextToken:{}}}},GetAgentStates:{input:{type:"structure",required:["authentication"],members:{authentication:{shape:"S2"},nextToken:{},maxResults:{type:"integer"}}},output:{type:"structure",required:["states"],members:{states:{type:"list",member:{shape:"S20"}},nextToken:{}}}},GetDialableCountryCodes:{input:{type:"structure",required:["authentication"],members:{authentication:{shape:"S2"},nextToken:{},maxResults:{type:"integer"}}},output:{type:"structure",required:["countryCodes"],members:{countryCodes:{type:"list",member:{}},nextToken:{}}}},GetEndpoints:{input:{type:"structure",required:["authentication","queueARNs"],members:{authentication:{shape:"S2"},queueARNs:{type:"list",member:{}},nextToken:{},maxResults:{type:"integer"}}},output:{type:"structure",members:{endpoints:{type:"list",member:{shape:"Se"}},nextToken:{}}}},GetNewAuthToken:{input:{type:"structure",required:["authentication","refreshToken"],members:{authentication:{shape:"S2"},refreshToken:{}}},output:{type:"structure",members:{newAuthToken:{},expirationDateTime:{type:"timestamp"}}}},GetRoutingProfileQueues:{input:{type:"structure",required:["authentication","routingProfileARN"],members:{authentication:{shape:"S2"},routingProfileARN:{},nextToken:{},maxResults:{type:"integer"}}},output:{type:"structure",required:["queues"],members:{queues:{type:"list",member:{shape:"Sk"}},nextToken:{}}}},HoldConnection:{input:{type:"structure",required:["authentication","contactId","connectionId"],members:{authentication:{shape:"S2"},contactId:{},connectionId:{}}},output:{type:"structure",members:{}}},MuteParticipant:{input:{type:"structure",required:["authentication","contactId","connectionId"],members:{authentication:{shape:"S2"},contactId:{},connectionId:{}}},output:{type:"structure",members:{}}},NotifyContactIssue:{input:{type:"structure",required:["authentication","contactId"],members:{authentication:{shape:"S2"},contactId:{},issueCode:{},description:{},clientLogs:{}}},output:{type:"structure",members:{}}},PutAgentState:{input:{type:"structure",required:["authentication","state"],members:{authentication:{shape:"S2"},state:{shape:"S20"},enqueueNextState:{type:"boolean"}}},output:{type:"structure",members:{}}},RejectContact:{input:{type:"structure",required:["contactId"],members:{contactId:{}}},output:{type:"structure",members:{}}},ResumeConnection:{input:{type:"structure",required:["authentication","contactId","connectionId"],members:{authentication:{shape:"S2"},contactId:{},connectionId:{}}},output:{type:"structure",members:{}}},SendClientLogs:{input:{type:"structure",required:["authentication","logEvents"],members:{authentication:{shape:"S2"},logEvents:{type:"list",member:{type:"structure",members:{timestamp:{type:"timestamp"},component:{},message:{}}}}}},output:{type:"structure",members:{}}},SendDigits:{input:{type:"structure",required:["authentication","contactId","connectionId","digits"],members:{authentication:{shape:"S2"},contactId:{},connectionId:{},digits:{}}},output:{type:"structure",members:{}}},SendSoftphoneCallMetrics:{input:{type:"structure",required:["authentication","contactId","softphoneStreamStatistics"],members:{authentication:{shape:"S2"},contactId:{},ccpVersion:{},softphoneStreamStatistics:{shape:"S3r"}}},output:{type:"structure",members:{}}},SendSoftphoneCallReport:{input:{type:"structure",required:["authentication","contactId","report"],members:{authentication:{shape:"S2"},contactId:{},ccpVersion:{},report:{type:"structure",members:{callStartTime:{type:"timestamp"},callEndTime:{type:"timestamp"},softphoneStreamStatistics:{shape:"S3r"},gumTimeMillis:{type:"long"},initializationTimeMillis:{type:"long"},iceCollectionTimeMillis:{type:"long"},signallingConnectTimeMillis:{type:"long"},handshakeTimeMillis:{type:"long"},preTalkTimeMillis:{type:"long"},talkTimeMillis:{type:"long"},cleanupTimeMillis:{type:"long"},iceCollectionFailure:{type:"boolean"},signallingConnectionFailure:{type:"boolean"},handshakeFailure:{type:"boolean"},gumOtherFailure:{type:"boolean"},gumTimeoutFailure:{type:"boolean"},createOfferFailure:{type:"boolean"},setLocalDescriptionFailure:{type:"boolean"},userBusyFailure:{type:"boolean"},invalidRemoteSDPFailure:{type:"boolean"},noRemoteIceCandidateFailure:{type:"boolean"},setRemoteDescriptionFailure:{type:"boolean"}}}}},output:{type:"structure",members:{}}},ToggleActiveConnections:{input:{type:"structure",required:["authentication","contactId","connectionId"],members:{authentication:{shape:"S2"},contactId:{},connectionId:{}}},output:{type:"structure",members:{}}},UnmuteParticipant:{input:{type:"structure",required:["authentication","contactId","connectionId"],members:{authentication:{shape:"S2"},contactId:{},connectionId:{}}},output:{type:"structure",members:{}}},UpdateAgentConfiguration:{input:{type:"structure",required:["authentication","configuration"],members:{authentication:{shape:"S2"},configuration:{shape:"S1h"}}},output:{type:"structure",members:{}}}},shapes:{S2:{type:"structure",members:{agentARN:{},authToken:{}}},Se:{type:"structure",required:["type"],members:{endpointARN:{},type:{},name:{},phoneNumber:{},agentLogin:{},queue:{shape:"Sk"}}},Sk:{type:"structure",members:{queueARN:{},name:{}}},Sr:{type:"map",key:{},value:{type:"structure",required:["value","type"],members:{value:{},type:{}}}},S1h:{type:"structure",required:["name","softphoneEnabled","softphoneAutoAccept","extension","routingProfile"],members:{name:{},username:{},softphoneEnabled:{type:"boolean"},softphoneAutoAccept:{type:"boolean"},extension:{},routingProfile:{type:"structure",members:{name:{},routingProfileARN:{},defaultOutboundQueue:{shape:"Sk"},channelConcurrencyMap:{type:"map",key:{},value:{type:"long"}}}},agentPreferences:{type:"map",key:{},value:{}}}},S20:{type:"structure",required:["type","name"],members:{agentStateARN:{},type:{},name:{},startTimestamp:{type:"timestamp"}}},S3r:{type:"list",member:{type:"structure",members:{timestamp:{type:"timestamp"},softphoneStreamType:{},packetCount:{type:"long"},packetsLost:{type:"long"},audioLevel:{type:"double"},jitterBufferMillis:{type:"long"},roundTripTimeMillis:{type:"long"}}}}}}},{}],4:[function(e,t,n){t.exports={acm:{name:"ACM",cors:!0},apigateway:{name:"APIGateway",cors:!0},applicationautoscaling:{prefix:"application-autoscaling",name:"ApplicationAutoScaling",cors:!0},appstream:{name:"AppStream"},autoscaling:{name:"AutoScaling",cors:!0},batch:{name:"Batch"},budgets:{name:"Budgets"},clouddirectory:{name:"CloudDirectory",versions:["2016-05-10*"]},cloudformation:{name:"CloudFormation",cors:!0},cloudfront:{name:"CloudFront",versions:["2013-05-12*","2013-11-11*","2014-05-31*","2014-10-21*","2014-11-06*","2015-04-17*","2015-07-27*","2015-09-17*","2016-01-13*","2016-01-28*","2016-08-01*","2016-08-20*","2016-09-07*","2016-09-29*","2016-11-25*","2017-03-25*","2017-10-30*","2018-06-18*","2018-11-05*"],cors:!0},cloudhsm:{name:"CloudHSM",cors:!0},cloudsearch:{name:"CloudSearch"},cloudsearchdomain:{name:"CloudSearchDomain"},cloudtrail:{name:"CloudTrail",cors:!0},cloudwatch:{prefix:"monitoring",name:"CloudWatch",cors:!0},cloudwatchevents:{prefix:"events",name:"CloudWatchEvents",versions:["2014-02-03*"],cors:!0},cloudwatchlogs:{prefix:"logs",name:"CloudWatchLogs",cors:!0},codebuild:{name:"CodeBuild",cors:!0},codecommit:{name:"CodeCommit",cors:!0},codedeploy:{name:"CodeDeploy",cors:!0},codepipeline:{name:"CodePipeline",cors:!0},cognitoidentity:{prefix:"cognito-identity",name:"CognitoIdentity",cors:!0},cognitoidentityserviceprovider:{prefix:"cognito-idp",name:"CognitoIdentityServiceProvider",cors:!0},cognitosync:{prefix:"cognito-sync",name:"CognitoSync",cors:!0},configservice:{prefix:"config",name:"ConfigService",cors:!0},connect:{name:"Connect",cors:!0},cur:{name:"CUR",cors:!0},datapipeline:{name:"DataPipeline"},devicefarm:{name:"DeviceFarm",cors:!0},directconnect:{name:"DirectConnect",cors:!0},directoryservice:{prefix:"ds",name:"DirectoryService"},discovery:{name:"Discovery"},dms:{name:"DMS"},dynamodb:{name:"DynamoDB",cors:!0},dynamodbstreams:{prefix:"streams.dynamodb",name:"DynamoDBStreams",cors:!0},ec2:{name:"EC2",versions:["2013-06-15*","2013-10-15*","2014-02-01*","2014-05-01*","2014-06-15*","2014-09-01*","2014-10-01*","2015-03-01*","2015-04-15*","2015-10-01*","2016-04-01*","2016-09-15*"],cors:!0},ecr:{name:"ECR",cors:!0},ecs:{name:"ECS",cors:!0},efs:{prefix:"elasticfilesystem",name:"EFS",cors:!0},elasticache:{name:"ElastiCache",versions:["2012-11-15*","2014-03-24*","2014-07-15*","2014-09-30*"],cors:!0},elasticbeanstalk:{name:"ElasticBeanstalk",cors:!0},elb:{prefix:"elasticloadbalancing",name:"ELB",cors:!0},elbv2:{prefix:"elasticloadbalancingv2",name:"ELBv2",cors:!0},emr:{prefix:"elasticmapreduce",name:"EMR",cors:!0},es:{name:"ES"},elastictranscoder:{name:"ElasticTranscoder",cors:!0},firehose:{name:"Firehose",cors:!0},gamelift:{name:"GameLift",cors:!0},glacier:{name:"Glacier"},health:{name:"Health"},iam:{name:"IAM",cors:!0},importexport:{name:"ImportExport"},inspector:{name:"Inspector",versions:["2015-08-18*"],cors:!0},iot:{name:"Iot",cors:!0},iotdata:{prefix:"iot-data",name:"IotData",cors:!0},kinesis:{name:"Kinesis",cors:!0},kinesisanalytics:{name:"KinesisAnalytics"},kms:{name:"KMS",cors:!0},lambda:{name:"Lambda",cors:!0},lexruntime:{prefix:"runtime.lex",name:"LexRuntime",cors:!0},lightsail:{name:"Lightsail"},machinelearning:{name:"MachineLearning",cors:!0},marketplacecommerceanalytics:{name:"MarketplaceCommerceAnalytics",cors:!0},marketplacemetering:{prefix:"meteringmarketplace",name:"MarketplaceMetering"},mturk:{prefix:"mturk-requester",name:"MTurk",cors:!0},mobileanalytics:{name:"MobileAnalytics",cors:!0},opsworks:{name:"OpsWorks",cors:!0},opsworkscm:{name:"OpsWorksCM"},organizations:{name:"Organizations"},pinpoint:{name:"Pinpoint"},polly:{name:"Polly",cors:!0},rds:{name:"RDS",versions:["2014-09-01*"],cors:!0},redshift:{name:"Redshift",cors:!0},rekognition:{name:"Rekognition",cors:!0},resourcegroupstaggingapi:{name:"ResourceGroupsTaggingAPI"},route53:{name:"Route53",cors:!0},route53domains:{name:"Route53Domains",cors:!0},s3:{name:"S3",dualstackAvailable:!0,cors:!0},s3control:{name:"S3Control",dualstackAvailable:!0},servicecatalog:{name:"ServiceCatalog",cors:!0},ses:{prefix:"email",name:"SES",cors:!0},shield:{name:"Shield"},simpledb:{prefix:"sdb",name:"SimpleDB"},sms:{name:"SMS"},snowball:{name:"Snowball"},sns:{name:"SNS",cors:!0},sqs:{name:"SQS",cors:!0},ssm:{name:"SSM",cors:!0},storagegateway:{name:"StorageGateway",cors:!0},stepfunctions:{prefix:"states",name:"StepFunctions"},sts:{name:"STS",cors:!0},support:{name:"Support"},swf:{name:"SWF"},xray:{name:"XRay",cors:!0},waf:{name:"WAF",cors:!0},wafregional:{prefix:"waf-regional",name:"WAFRegional"},workdocs:{name:"WorkDocs",cors:!0},workspaces:{name:"WorkSpaces"},codestar:{name:"CodeStar"},lexmodelbuildingservice:{prefix:"lex-models",name:"LexModelBuildingService",cors:!0},marketplaceentitlementservice:{prefix:"entitlement.marketplace",name:"MarketplaceEntitlementService"},athena:{name:"Athena"},greengrass:{name:"Greengrass"},dax:{name:"DAX"},migrationhub:{prefix:"AWSMigrationHub",name:"MigrationHub"},cloudhsmv2:{name:"CloudHSMV2"},glue:{name:"Glue"},mobile:{name:"Mobile"},pricing:{name:"Pricing",cors:!0},costexplorer:{prefix:"ce",name:"CostExplorer",cors:!0},mediaconvert:{name:"MediaConvert"},medialive:{name:"MediaLive"},mediapackage:{name:"MediaPackage"},mediastore:{name:"MediaStore"},mediastoredata:{prefix:"mediastore-data",name:"MediaStoreData",cors:!0},appsync:{name:"AppSync"},guardduty:{name:"GuardDuty"},mq:{name:"MQ"},comprehend:{name:"Comprehend",cors:!0},iotjobsdataplane:{prefix:"iot-jobs-data",name:"IoTJobsDataPlane"},kinesisvideoarchivedmedia:{prefix:"kinesis-video-archived-media",name:"KinesisVideoArchivedMedia",cors:!0},kinesisvideomedia:{prefix:"kinesis-video-media",name:"KinesisVideoMedia",cors:!0},kinesisvideo:{name:"KinesisVideo",cors:!0},sagemakerruntime:{prefix:"runtime.sagemaker",name:"SageMakerRuntime"},sagemaker:{name:"SageMaker"},translate:{name:"Translate",cors:!0},resourcegroups:{prefix:"resource-groups",name:"ResourceGroups",cors:!0},alexaforbusiness:{name:"AlexaForBusiness"},cloud9:{name:"Cloud9"},serverlessapplicationrepository:{prefix:"serverlessrepo",name:"ServerlessApplicationRepository"},servicediscovery:{name:"ServiceDiscovery"},workmail:{name:"WorkMail"},autoscalingplans:{prefix:"autoscaling-plans",name:"AutoScalingPlans"},transcribeservice:{prefix:"transcribe",name:"TranscribeService"},acmpca:{prefix:"acm-pca",name:"ACMPCA"},fms:{name:"FMS"},secretsmanager:{name:"SecretsManager",cors:!0},iotanalytics:{name:"IoTAnalytics",cors:!0},iot1clickdevicesservice:{prefix:"iot1click-devices",name:"IoT1ClickDevicesService"},iot1clickprojects:{prefix:"iot1click-projects",name:"IoT1ClickProjects"},pi:{name:"PI"},neptune:{name:"Neptune"},mediatailor:{name:"MediaTailor"},eks:{name:"EKS"},macie:{name:"Macie"},dlm:{name:"DLM"},signer:{name:"Signer"},chime:{name:"Chime"},pinpointemail:{prefix:"pinpoint-email",name:"PinpointEmail"},ram:{name:"RAM"},route53resolver:{name:"Route53Resolver"},pinpointsmsvoice:{prefix:"sms-voice",name:"PinpointSMSVoice"},quicksight:{name:"QuickSight"},rdsdataservice:{prefix:"rds-data",name:"RDSDataService"},amplify:{name:"Amplify"},datasync:{name:"DataSync"},robomaker:{name:"RoboMaker"},transfer:{name:"Transfer"},globalaccelerator:{name:"GlobalAccelerator"},comprehendmedical:{name:"ComprehendMedical",cors:!0},kinesisanalyticsv2:{name:"KinesisAnalyticsV2"},mediaconnect:{name:"MediaConnect"},fsx:{name:"FSx"},securityhub:{name:"SecurityHub"},appmesh:{name:"AppMesh",versions:["2018-10-01*"]},licensemanager:{prefix:"license-manager",name:"LicenseManager"},kafka:{name:"Kafka"},apigatewaymanagementapi:{name:"ApiGatewayManagementApi"},apigatewayv2:{name:"ApiGatewayV2"},docdb:{name:"DocDB"},backup:{name:"Backup"},worklink:{name:"WorkLink"},textract:{name:"Textract"},managedblockchain:{name:"ManagedBlockchain"},mediapackagevod:{prefix:"mediapackage-vod",name:"MediaPackageVod"},groundstation:{name:"GroundStation"},iotthingsgraph:{name:"IoTThingsGraph"},iotevents:{name:"IoTEvents"},ioteventsdata:{prefix:"iotevents-data",name:"IoTEventsData"},personalize:{name:"Personalize",cors:!0},personalizeevents:{prefix:"personalize-events",name:"PersonalizeEvents",cors:!0},personalizeruntime:{prefix:"personalize-runtime",name:"PersonalizeRuntime",cors:!0},applicationinsights:{prefix:"application-insights",name:"ApplicationInsights"},servicequotas:{prefix:"service-quotas",name:"ServiceQuotas"},ec2instanceconnect:{prefix:"ec2-instance-connect",name:"EC2InstanceConnect"},eventbridge:{name:"EventBridge"},lakeformation:{name:"LakeFormation"},forecastservice:{prefix:"forecast",name:"ForecastService",cors:!0},forecastqueryservice:{prefix:"forecastquery",name:"ForecastQueryService",cors:!0},qldb:{name:"QLDB"},qldbsession:{prefix:"qldb-session",name:"QLDBSession"},workmailmessageflow:{name:"WorkMailMessageFlow"}}},{}],5:[function(e,t,n){t.exports={version:"2.0",metadata:{apiVersion:"2011-06-15",endpointPrefix:"sts",globalEndpoint:"sts.amazonaws.com",protocol:"query",serviceAbbreviation:"AWS STS",serviceFullName:"AWS Security Token Service",serviceId:"STS",signatureVersion:"v4",uid:"sts-2011-06-15",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/"},operations:{AssumeRole:{input:{type:"structure",required:["RoleArn","RoleSessionName"],members:{RoleArn:{},RoleSessionName:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"},ExternalId:{},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"AssumeRoleResult",type:"structure",members:{Credentials:{shape:"Sc"},AssumedRoleUser:{shape:"Sh"},PackedPolicySize:{type:"integer"}}}},AssumeRoleWithSAML:{input:{type:"structure",required:["RoleArn","PrincipalArn","SAMLAssertion"],members:{RoleArn:{},PrincipalArn:{},SAMLAssertion:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithSAMLResult",type:"structure",members:{Credentials:{shape:"Sc"},AssumedRoleUser:{shape:"Sh"},PackedPolicySize:{type:"integer"},Subject:{},SubjectType:{},Issuer:{},Audience:{},NameQualifier:{}}}},AssumeRoleWithWebIdentity:{input:{type:"structure",required:["RoleArn","RoleSessionName","WebIdentityToken"],members:{RoleArn:{},RoleSessionName:{},WebIdentityToken:{},ProviderId:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithWebIdentityResult",type:"structure",members:{Credentials:{shape:"Sc"},SubjectFromWebIdentityToken:{},AssumedRoleUser:{shape:"Sh"},PackedPolicySize:{type:"integer"},Provider:{},Audience:{}}}},DecodeAuthorizationMessage:{input:{type:"structure",required:["EncodedMessage"],members:{EncodedMessage:{}}},output:{resultWrapper:"DecodeAuthorizationMessageResult",type:"structure",members:{DecodedMessage:{}}}},GetAccessKeyInfo:{input:{type:"structure",required:["AccessKeyId"],members:{AccessKeyId:{}}},output:{resultWrapper:"GetAccessKeyInfoResult",type:"structure",members:{Account:{}}}},GetCallerIdentity:{input:{type:"structure",members:{}},output:{resultWrapper:"GetCallerIdentityResult",type:"structure",members:{UserId:{},Account:{},Arn:{}}}},GetFederationToken:{input:{type:"structure",required:["Name"],members:{Name:{},Policy:{},PolicyArns:{shape:"S4"},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"GetFederationTokenResult",type:"structure",members:{Credentials:{shape:"Sc"},FederatedUser:{type:"structure",required:["FederatedUserId","Arn"],members:{FederatedUserId:{},Arn:{}}},PackedPolicySize:{type:"integer"}}}},GetSessionToken:{input:{type:"structure",members:{DurationSeconds:{type:"integer"},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"GetSessionTokenResult",type:"structure",members:{Credentials:{shape:"Sc"}}}}},shapes:{S4:{type:"list",member:{type:"structure",members:{arn:{}}}},Sc:{type:"structure",required:["AccessKeyId","SecretAccessKey","SessionToken","Expiration"],members:{AccessKeyId:{},SecretAccessKey:{},SessionToken:{},Expiration:{type:"timestamp"}}},Sh:{type:"structure",required:["AssumedRoleId","Arn"],members:{AssumedRoleId:{},Arn:{}}}}}},{}],6:[function(e,t,n){arguments[4][2][0].apply(n,arguments)},{dup:2}],7:[function(e,t,n){e("../lib/node_loader");var r=e("../lib/core"),i=r.Service,o=r.apiLoader;o.services.cognitoidentity={},r.CognitoIdentity=i.defineService("cognitoidentity",["2014-06-30"]),e("../lib/services/cognitoidentity"),Object.defineProperty(o.services.cognitoidentity,"2014-06-30",{get:function(){var t=e("../apis/cognito-identity-2014-06-30.min.json");return t.paginators=e("../apis/cognito-identity-2014-06-30.paginators.json").pagination,t},enumerable:!0,configurable:!0}),t.exports=r.CognitoIdentity},{"../apis/cognito-identity-2014-06-30.min.json":1,"../apis/cognito-identity-2014-06-30.paginators.json":2,"../lib/core":18,"../lib/node_loader":16,"../lib/services/cognitoidentity":60}],8:[function(e,t,n){e("../lib/node_loader");var r=e("../lib/core"),i=r.Service,o=r.apiLoader;o.services.sts={},r.STS=i.defineService("sts",["2011-06-15"]),e("../lib/services/sts"),Object.defineProperty(o.services.sts,"2011-06-15",{get:function(){var t=e("../apis/sts-2011-06-15.min.json");return t.paginators=e("../apis/sts-2011-06-15.paginators.json").pagination,t},enumerable:!0,configurable:!0}),t.exports=r.STS},{"../apis/sts-2011-06-15.min.json":5,"../apis/sts-2011-06-15.paginators.json":6,"../lib/core":18,"../lib/node_loader":16,"../lib/services/sts":61}],9:[function(e,t,n){function r(e,t){if(!r.services.hasOwnProperty(e))throw new Error("InvalidService: Failed to load api for "+e);return r.services[e][t]}r.services={},t.exports=r},{}],10:[function(e,t,n){var r=e("./browserHmac"),i=e("./browserMd5"),o=e("./browserSha1"),a=e("./browserSha256");t.exports={createHash:function(e){if("md5"===(e=e.toLowerCase()))return new i;if("sha256"===e)return new a;if("sha1"===e)return new o;throw new Error("Hash algorithm "+e+" is not supported in the browser SDK")},createHmac:function(e,t){if("md5"===(e=e.toLowerCase()))return new r(i,t);if("sha256"===e)return new r(a,t);if("sha1"===e)return new r(o,t);throw new Error("HMAC algorithm "+e+" is not supported in the browser SDK")},createSign:function(){throw new Error("createSign is not implemented in the browser")}}},{"./browserHmac":12,"./browserMd5":13,"./browserSha1":14,"./browserSha256":15}],11:[function(e,t,n){var r=e("buffer/").Buffer;"undefined"!=typeof ArrayBuffer&&void 0===ArrayBuffer.isView&&(ArrayBuffer.isView=function(e){return i.indexOf(Object.prototype.toString.call(e))>-1});var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"];t.exports={isEmptyData:function(e){return"string"==typeof e?0===e.length:0===e.byteLength},convertToBuffer:function(e){return"string"==typeof e&&(e=new r(e,"utf8")),ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}}},{"buffer/":81}],12:[function(e,t,n){var r=e("./browserHashUtils");function i(e,t){this.hash=new e,this.outer=new e;var n=function(e,t){var n=r.convertToBuffer(t);if(n.byteLength>e.BLOCK_SIZE){var i=new e;i.update(n),n=i.digest()}var o=new Uint8Array(e.BLOCK_SIZE);return o.set(n),o}(e,t),i=new Uint8Array(e.BLOCK_SIZE);i.set(n);for(var o=0;o<e.BLOCK_SIZE;o++)n[o]^=54,i[o]^=92;this.hash.update(n),this.outer.update(i);for(o=0;o<n.byteLength;o++)n[o]=0}t.exports=i,i.prototype.update=function(e){if(r.isEmptyData(e)||this.error)return this;try{this.hash.update(r.convertToBuffer(e))}catch(e){this.error=e}return this},i.prototype.digest=function(e){return this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest(e)}},{"./browserHashUtils":11}],13:[function(e,t,n){var r=e("./browserHashUtils"),i=e("buffer/").Buffer;function o(){this.state=[1732584193,4023233417,2562383102,271733878],this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}function a(e,t,n,r,i,o){return((t=(t+e&4294967295)+(r+o&4294967295)&4294967295)<<i|t>>>32-i)+n&4294967295}function s(e,t,n,r,i,o,s){return a(t&n|~t&r,e,t,i,o,s)}function c(e,t,n,r,i,o,s){return a(t&r|n&~r,e,t,i,o,s)}function u(e,t,n,r,i,o,s){return a(t^n^r,e,t,i,o,s)}function l(e,t,n,r,i,o,s){return a(n^(t|~r),e,t,i,o,s)}t.exports=o,o.BLOCK_SIZE=64,o.prototype.update=function(e){if(r.isEmptyData(e))return this;if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=r.convertToBuffer(e),n=0,i=t.byteLength;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,t[n++]),i--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0);return this},o.prototype.digest=function(e){if(!this.finished){var t=this.buffer,n=this.bufferLength,r=8*this.bytesHashed;if(t.setUint8(this.bufferLength++,128),n%64>=56){for(var o=this.bufferLength;o<64;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<56;o++)t.setUint8(o,0);t.setUint32(56,r>>>0,!0),t.setUint32(60,Math.floor(r/4294967296),!0),this.hashBuffer(),this.finished=!0}var a=new DataView(new ArrayBuffer(16));for(o=0;o<4;o++)a.setUint32(4*o,this.state[o],!0);var s=new i(a.buffer,a.byteOffset,a.byteLength);return e?s.toString(e):s},o.prototype.hashBuffer=function(){var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],o=t[3];n=s(n,r,i,o,e.getUint32(0,!0),7,3614090360),o=s(o,n,r,i,e.getUint32(4,!0),12,3905402710),i=s(i,o,n,r,e.getUint32(8,!0),17,606105819),r=s(r,i,o,n,e.getUint32(12,!0),22,3250441966),n=s(n,r,i,o,e.getUint32(16,!0),7,4118548399),o=s(o,n,r,i,e.getUint32(20,!0),12,1200080426),i=s(i,o,n,r,e.getUint32(24,!0),17,2821735955),r=s(r,i,o,n,e.getUint32(28,!0),22,4249261313),n=s(n,r,i,o,e.getUint32(32,!0),7,1770035416),o=s(o,n,r,i,e.getUint32(36,!0),12,2336552879),i=s(i,o,n,r,e.getUint32(40,!0),17,4294925233),r=s(r,i,o,n,e.getUint32(44,!0),22,2304563134),n=s(n,r,i,o,e.getUint32(48,!0),7,1804603682),o=s(o,n,r,i,e.getUint32(52,!0),12,4254626195),i=s(i,o,n,r,e.getUint32(56,!0),17,2792965006),n=c(n,r=s(r,i,o,n,e.getUint32(60,!0),22,1236535329),i,o,e.getUint32(4,!0),5,4129170786),o=c(o,n,r,i,e.getUint32(24,!0),9,3225465664),i=c(i,o,n,r,e.getUint32(44,!0),14,643717713),r=c(r,i,o,n,e.getUint32(0,!0),20,3921069994),n=c(n,r,i,o,e.getUint32(20,!0),5,3593408605),o=c(o,n,r,i,e.getUint32(40,!0),9,38016083),i=c(i,o,n,r,e.getUint32(60,!0),14,3634488961),r=c(r,i,o,n,e.getUint32(16,!0),20,3889429448),n=c(n,r,i,o,e.getUint32(36,!0),5,568446438),o=c(o,n,r,i,e.getUint32(56,!0),9,3275163606),i=c(i,o,n,r,e.getUint32(12,!0),14,4107603335),r=c(r,i,o,n,e.getUint32(32,!0),20,1163531501),n=c(n,r,i,o,e.getUint32(52,!0),5,2850285829),o=c(o,n,r,i,e.getUint32(8,!0),9,4243563512),i=c(i,o,n,r,e.getUint32(28,!0),14,1735328473),n=u(n,r=c(r,i,o,n,e.getUint32(48,!0),20,2368359562),i,o,e.getUint32(20,!0),4,4294588738),o=u(o,n,r,i,e.getUint32(32,!0),11,2272392833),i=u(i,o,n,r,e.getUint32(44,!0),16,1839030562),r=u(r,i,o,n,e.getUint32(56,!0),23,4259657740),n=u(n,r,i,o,e.getUint32(4,!0),4,2763975236),o=u(o,n,r,i,e.getUint32(16,!0),11,1272893353),i=u(i,o,n,r,e.getUint32(28,!0),16,4139469664),r=u(r,i,o,n,e.getUint32(40,!0),23,3200236656),n=u(n,r,i,o,e.getUint32(52,!0),4,681279174),o=u(o,n,r,i,e.getUint32(0,!0),11,3936430074),i=u(i,o,n,r,e.getUint32(12,!0),16,3572445317),r=u(r,i,o,n,e.getUint32(24,!0),23,76029189),n=u(n,r,i,o,e.getUint32(36,!0),4,3654602809),o=u(o,n,r,i,e.getUint32(48,!0),11,3873151461),i=u(i,o,n,r,e.getUint32(60,!0),16,530742520),n=l(n,r=u(r,i,o,n,e.getUint32(8,!0),23,3299628645),i,o,e.getUint32(0,!0),6,4096336452),o=l(o,n,r,i,e.getUint32(28,!0),10,1126891415),i=l(i,o,n,r,e.getUint32(56,!0),15,2878612391),r=l(r,i,o,n,e.getUint32(20,!0),21,4237533241),n=l(n,r,i,o,e.getUint32(48,!0),6,1700485571),o=l(o,n,r,i,e.getUint32(12,!0),10,2399980690),i=l(i,o,n,r,e.getUint32(40,!0),15,4293915773),r=l(r,i,o,n,e.getUint32(4,!0),21,2240044497),n=l(n,r,i,o,e.getUint32(32,!0),6,1873313359),o=l(o,n,r,i,e.getUint32(60,!0),10,4264355552),i=l(i,o,n,r,e.getUint32(24,!0),15,2734768916),r=l(r,i,o,n,e.getUint32(52,!0),21,1309151649),n=l(n,r,i,o,e.getUint32(16,!0),6,4149444226),o=l(o,n,r,i,e.getUint32(44,!0),10,3174756917),i=l(i,o,n,r,e.getUint32(8,!0),15,718787259),r=l(r,i,o,n,e.getUint32(36,!0),21,3951481745),t[0]=n+t[0]&4294967295,t[1]=r+t[1]&4294967295,t[2]=i+t[2]&4294967295,t[3]=o+t[3]&4294967295}},{"./browserHashUtils":11,"buffer/":81}],14:[function(e,t,n){var r=e("buffer/").Buffer,i=e("./browserHashUtils");new Uint32Array([1518500249,1859775393,-1894007588,-899497514]),Math.pow(2,53);function o(){this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=new Uint32Array(80),this.offset=0,this.shift=24,this.totalLength=0}t.exports=o,o.BLOCK_SIZE=64,o.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");if(i.isEmptyData(e))return this;var t=(e=i.convertToBuffer(e)).length;this.totalLength+=8*t;for(var n=0;n<t;n++)this.write(e[n]);return this},o.prototype.write=function(e){this.block[this.offset]|=(255&e)<<this.shift,this.shift?this.shift-=8:(this.offset++,this.shift=24),16===this.offset&&this.processBlock()},o.prototype.digest=function(e){this.write(128),(this.offset>14||14===this.offset&&this.shift<24)&&this.processBlock(),this.offset=14,this.shift=24,this.write(0),this.write(0),this.write(this.totalLength>0xffffffffff?this.totalLength/1099511627776:0),this.write(this.totalLength>4294967295?this.totalLength/4294967296:0);for(var t=24;t>=0;t-=8)this.write(this.totalLength>>t);var n=new r(20),i=new DataView(n.buffer);return i.setUint32(0,this.h0,!1),i.setUint32(4,this.h1,!1),i.setUint32(8,this.h2,!1),i.setUint32(12,this.h3,!1),i.setUint32(16,this.h4,!1),e?n.toString(e):n},o.prototype.processBlock=function(){for(var e=16;e<80;e++){var t=this.block[e-3]^this.block[e-8]^this.block[e-14]^this.block[e-16];this.block[e]=t<<1|t>>>31}var n,r,i=this.h0,o=this.h1,a=this.h2,s=this.h3,c=this.h4;for(e=0;e<80;e++){e<20?(n=s^o&(a^s),r=1518500249):e<40?(n=o^a^s,r=1859775393):e<60?(n=o&a|s&(o|a),r=2400959708):(n=o^a^s,r=3395469782);var u=(i<<5|i>>>27)+n+c+r+(0|this.block[e]);c=s,s=a,a=o<<30|o>>>2,o=i,i=u}for(this.h0=this.h0+i|0,this.h1=this.h1+o|0,this.h2=this.h2+a|0,this.h3=this.h3+s|0,this.h4=this.h4+c|0,this.offset=0,e=0;e<16;e++)this.block[e]=0}},{"./browserHashUtils":11,"buffer/":81}],15:[function(e,t,n){var r=e("buffer/").Buffer,i=e("./browserHashUtils"),o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=Math.pow(2,53)-1;function s(){this.state=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}t.exports=s,s.BLOCK_SIZE=64,s.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");if(i.isEmptyData(e))return this;var t=0,n=(e=i.convertToBuffer(e)).byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>a)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0);return this},s.prototype.digest=function(e){if(!this.finished){var t=8*this.bytesHashed,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),i=this.bufferLength;if(n.setUint8(this.bufferLength++,128),i%64>=56){for(var o=this.bufferLength;o<64;o++)n.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<56;o++)n.setUint8(o,0);n.setUint32(56,Math.floor(t/4294967296),!0),n.setUint32(60,t),this.hashBuffer(),this.finished=!0}var a=new r(32);for(o=0;o<8;o++)a[4*o]=this.state[o]>>>24&255,a[4*o+1]=this.state[o]>>>16&255,a[4*o+2]=this.state[o]>>>8&255,a[4*o+3]=this.state[o]>>>0&255;return e?a.toString(e):a},s.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],c=t[5],u=t[6],l=t[7],d=0;d<64;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var f=this.temp[d-2],p=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,h=((f=this.temp[d-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(p+this.temp[d-7]|0)+(h+this.temp[d-16]|0)}var m=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&c^~s&u)|0)+(l+(o[d]+this.temp[d]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&i^r&i)|0;l=u,u=c,c=s,s=a+m|0,a=i,i=r,r=n,n=m+g|0}t[0]+=n,t[1]+=r,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=c,t[6]+=u,t[7]+=l}},{"./browserHashUtils":11,"buffer/":81}],16:[function(e,t,n){(function(n){(function(){var n=e("./util");n.crypto.lib=e("./browserCryptoLib"),n.Buffer=e("buffer/").Buffer,n.url=e("url/"),n.querystring=e("querystring/"),n.realClock=e("./realclock/browserClock"),n.environment="js",n.createEventStream=e("./event-stream/buffered-create-event-stream").createEventStream,n.isBrowser=function(){return!0},n.isNode=function(){return!1};var r=e("./core");if(t.exports=r,e("./credentials"),e("./credentials/credential_provider_chain"),e("./credentials/temporary_credentials"),e("./credentials/chainable_temporary_credentials"),e("./credentials/web_identity_credentials"),e("./credentials/cognito_identity_credentials"),e("./credentials/saml_credentials"),r.XML.Parser=e("./xml/browser_parser"),e("./http/xhr"),void 0===i)var i={browser:!0}}).call(this)}).call(this,e("_process"))},{"./browserCryptoLib":10,"./core":18,"./credentials":19,"./credentials/chainable_temporary_credentials":20,"./credentials/cognito_identity_credentials":21,"./credentials/credential_provider_chain":22,"./credentials/saml_credentials":23,"./credentials/temporary_credentials":24,"./credentials/web_identity_credentials":25,"./event-stream/buffered-create-event-stream":27,"./http/xhr":35,"./realclock/browserClock":52,"./util":71,"./xml/browser_parser":72,_process:86,"buffer/":81,"querystring/":92,"url/":94}],17:[function(e,t,n){var r,i=e("./core");e("./credentials"),e("./credentials/credential_provider_chain"),i.Config=i.util.inherit({constructor:function(e){void 0===e&&(e={}),e=this.extractCredentials(e),i.util.each.call(this,this.keys,(function(t,n){this.set(t,e[t],n)}))},getCredentials:function(e){var t=this;function n(n){e(n,n?null:t.credentials)}function r(e,t){return new i.util.error(t||new Error,{code:"CredentialsError",message:e,name:"CredentialsError"})}t.credentials?"function"==typeof t.credentials.get?t.credentials.get((function(e){e&&(e=r("Could not load credentials from "+t.credentials.constructor.name,e)),n(e)})):function(){var e=null;t.credentials.accessKeyId&&t.credentials.secretAccessKey||(e=r("Missing credentials")),n(e)}():t.credentialProvider?t.credentialProvider.resolve((function(e,i){e&&(e=r("Could not load credentials from any providers",e)),t.credentials=i,n(e)})):n(r("No credentials to load"))},update:function(e,t){t=t||!1,e=this.extractCredentials(e),i.util.each.call(this,e,(function(e,n){(t||Object.prototype.hasOwnProperty.call(this.keys,e)||i.Service.hasService(e))&&this.set(e,n)}))},loadFromPath:function(e){this.clear();var t=JSON.parse(i.util.readFileSync(e)),n=new i.FileSystemCredentials(e),r=new i.CredentialProviderChain;return r.providers.unshift(n),r.resolve((function(e,n){if(e)throw e;t.credentials=n})),this.constructor(t),this},clear:function(){i.util.each.call(this,this.keys,(function(e){delete this[e]})),this.set("credentials",void 0),this.set("credentialProvider",void 0)},set:function(e,t,n){void 0===t?(void 0===n&&(n=this.keys[e]),this[e]="function"==typeof n?n.call(this):n):"httpOptions"===e&&this[e]?this[e]=i.util.merge(this[e],t):this[e]=t},keys:{credentials:null,credentialProvider:null,region:null,logger:null,apiVersions:{},apiVersion:null,endpoint:void 0,httpOptions:{timeout:12e4},maxRetries:void 0,maxRedirects:10,paramValidation:!0,sslEnabled:!0,s3ForcePathStyle:!1,s3BucketEndpoint:!1,s3DisableBodySigning:!0,computeChecksums:!0,convertResponseTypes:!0,correctClockSkew:!1,customUserAgent:null,dynamoDbCrc32:!0,systemClockOffset:0,signatureVersion:null,signatureCache:!0,retryDelayOptions:{},useAccelerateEndpoint:!1,clientSideMonitoring:!1,endpointDiscoveryEnabled:!1,endpointCacheSize:1e3,hostPrefixEnabled:!0,stsRegionalEndpoints:null},extractCredentials:function(e){return e.accessKeyId&&e.secretAccessKey&&((e=i.util.copy(e)).credentials=new i.Credentials(e)),e},setPromisesDependency:function(e){r=e,null===e&&"function"==typeof Promise&&(r=Promise);var t=[i.Request,i.Credentials,i.CredentialProviderChain];i.S3&&(t.push(i.S3),i.S3.ManagedUpload&&t.push(i.S3.ManagedUpload)),i.util.addPromises(t,r)},getPromisesDependency:function(){return r}}),i.config=new i.Config},{"./core":18,"./credentials":19,"./credentials/credential_provider_chain":22}],18:[function(e,t,n){var r={util:e("./util")};({}).toString(),t.exports=r,r.util.update(r,{VERSION:"2.553.0",Signers:{},Protocol:{Json:e("./protocol/json"),Query:e("./protocol/query"),Rest:e("./protocol/rest"),RestJson:e("./protocol/rest_json"),RestXml:e("./protocol/rest_xml")},XML:{Builder:e("./xml/builder"),Parser:null},JSON:{Builder:e("./json/builder"),Parser:e("./json/parser")},Model:{Api:e("./model/api"),Operation:e("./model/operation"),Shape:e("./model/shape"),Paginator:e("./model/paginator"),ResourceWaiter:e("./model/resource_waiter")},apiLoader:e("./api_loader"),EndpointCache:e("../vendor/endpoint-cache").EndpointCache}),e("./sequential_executor"),e("./service"),e("./config"),e("./http"),e("./event_listeners"),e("./request"),e("./response"),e("./resource_waiter"),e("./signers/request_signer"),e("./param_validator"),r.events=new r.SequentialExecutor,r.util.memoizedProperty(r,"endpointCache",(function(){return new r.EndpointCache(r.config.endpointCacheSize)}),!0)},{"../vendor/endpoint-cache":103,"./api_loader":9,"./config":17,"./event_listeners":33,"./http":34,"./json/builder":36,"./json/parser":37,"./model/api":38,"./model/operation":40,"./model/paginator":41,"./model/resource_waiter":42,"./model/shape":43,"./param_validator":44,"./protocol/json":46,"./protocol/query":47,"./protocol/rest":48,"./protocol/rest_json":49,"./protocol/rest_xml":50,"./request":55,"./resource_waiter":56,"./response":57,"./sequential_executor":58,"./service":59,"./signers/request_signer":63,"./util":71,"./xml/builder":73}],19:[function(e,t,n){var r=e("./core");r.Credentials=r.util.inherit({constructor:function(){if(r.util.hideProperties(this,["secretAccessKey"]),this.expired=!1,this.expireTime=null,this.refreshCallbacks=[],1===arguments.length&&"object"==typeof arguments[0]){var e=arguments[0].credentials||arguments[0];this.accessKeyId=e.accessKeyId,this.secretAccessKey=e.secretAccessKey,this.sessionToken=e.sessionToken}else this.accessKeyId=arguments[0],this.secretAccessKey=arguments[1],this.sessionToken=arguments[2]},expiryWindow:15,needsRefresh:function(){var e=r.util.date.getDate().getTime(),t=new Date(e+1e3*this.expiryWindow);return!!(this.expireTime&&t>this.expireTime)||(this.expired||!this.accessKeyId||!this.secretAccessKey)},get:function(e){var t=this;this.needsRefresh()?this.refresh((function(n){n||(t.expired=!1),e&&e(n)})):e&&e()},refresh:function(e){this.expired=!1,e()},coalesceRefresh:function(e,t){var n=this;1===n.refreshCallbacks.push(e)&&n.load((function(e){r.util.arrayEach(n.refreshCallbacks,(function(n){t?n(e):r.util.defer((function(){n(e)}))})),n.refreshCallbacks.length=0}))},load:function(e){e()}}),r.Credentials.addPromisesToClass=function(e){this.prototype.getPromise=r.util.promisifyMethod("get",e),this.prototype.refreshPromise=r.util.promisifyMethod("refresh",e)},r.Credentials.deletePromisesFromClass=function(){delete this.prototype.getPromise,delete this.prototype.refreshPromise},r.util.addPromises(r.Credentials)},{"./core":18}],20:[function(e,t,n){var r=e("../core"),i=e("../../clients/sts");r.ChainableTemporaryCredentials=r.util.inherit(r.Credentials,{constructor:function(e){r.Credentials.call(this),e=e||{},this.errorCode="ChainableTemporaryCredentialsProviderFailure",this.expired=!0,this.tokenCodeFn=null;var t=r.util.copy(e.params)||{};if(t.RoleArn&&(t.RoleSessionName=t.RoleSessionName||"temporary-credentials"),t.SerialNumber){if(!e.tokenCodeFn||"function"!=typeof e.tokenCodeFn)throw new r.util.error(new Error("tokenCodeFn must be a function when params.SerialNumber is given"),{code:this.errorCode});this.tokenCodeFn=e.tokenCodeFn}var n=r.util.merge({params:t,credentials:e.masterCredentials||r.config.credentials},e.stsConfig||{});this.service=new i(n)},refresh:function(e){this.coalesceRefresh(e||r.util.fn.callback)},load:function(e){var t=this,n=t.service.config.params.RoleArn?"assumeRole":"getSessionToken";this.getTokenCode((function(r,i){var o={};r?e(r):(i&&(o.TokenCode=i),t.service[n](o,(function(n,r){n||t.service.credentialsFrom(r,t),e(n)})))}))},getTokenCode:function(e){var t=this;this.tokenCodeFn?this.tokenCodeFn(this.service.config.params.SerialNumber,(function(n,i){if(n){var o=n;return n instanceof Error&&(o=n.message),void e(r.util.error(new Error("Error fetching MFA token: "+o),{code:t.errorCode}))}e(null,i)})):e(null)}})},{"../../clients/sts":8,"../core":18}],21:[function(e,t,n){var r=e("../core"),i=e("../../clients/cognitoidentity"),o=e("../../clients/sts");r.CognitoIdentityCredentials=r.util.inherit(r.Credentials,{localStorageKey:{id:"aws.cognito.identity-id.",providers:"aws.cognito.identity-providers."},constructor:function(e,t){r.Credentials.call(this),this.expired=!0,this.params=e,this.data=null,this._identityId=null,this._clientConfig=r.util.copy(t||{}),this.loadCachedId();var n=this;Object.defineProperty(this,"identityId",{get:function(){return n.loadCachedId(),n._identityId||n.params.IdentityId},set:function(e){n._identityId=e}})},refresh:function(e){this.coalesceRefresh(e||r.util.fn.callback)},load:function(e){var t=this;t.createClients(),t.data=null,t._identityId=null,t.getId((function(n){n?(t.clearIdOnNotAuthorized(n),e(n)):t.params.RoleArn?t.getCredentialsFromSTS(e):t.getCredentialsForIdentity(e)}))},clearCachedId:function(){this._identityId=null,delete this.params.IdentityId;var e=this.params.IdentityPoolId,t=this.params.LoginId||"";delete this.storage[this.localStorageKey.id+e+t],delete this.storage[this.localStorageKey.providers+e+t]},clearIdOnNotAuthorized:function(e){"NotAuthorizedException"==e.code&&this.clearCachedId()},getId:function(e){var t=this;if("string"==typeof t.params.IdentityId)return e(null,t.params.IdentityId);t.cognito.getId((function(n,r){!n&&r.IdentityId?(t.params.IdentityId=r.IdentityId,e(null,r.IdentityId)):e(n)}))},loadCredentials:function(e,t){e&&t&&(t.expired=!1,t.accessKeyId=e.Credentials.AccessKeyId,t.secretAccessKey=e.Credentials.SecretKey,t.sessionToken=e.Credentials.SessionToken,t.expireTime=e.Credentials.Expiration)},getCredentialsForIdentity:function(e){var t=this;t.cognito.getCredentialsForIdentity((function(n,r){n?t.clearIdOnNotAuthorized(n):(t.cacheId(r),t.data=r,t.loadCredentials(t.data,t)),e(n)}))},getCredentialsFromSTS:function(e){var t=this;t.cognito.getOpenIdToken((function(n,r){n?(t.clearIdOnNotAuthorized(n),e(n)):(t.cacheId(r),t.params.WebIdentityToken=r.Token,t.webIdentityCredentials.refresh((function(n){n||(t.data=t.webIdentityCredentials.data,t.sts.credentialsFrom(t.data,t)),e(n)})))}))},loadCachedId:function(){if(r.util.isBrowser()&&!this.params.IdentityId){var e=this.getStorage("id");if(e&&this.params.Logins){var t=Object.keys(this.params.Logins);0!==(this.getStorage("providers")||"").split(",").filter((function(e){return-1!==t.indexOf(e)})).length&&(this.params.IdentityId=e)}else e&&(this.params.IdentityId=e)}},createClients:function(){var e=this._clientConfig;if(this.webIdentityCredentials=this.webIdentityCredentials||new r.WebIdentityCredentials(this.params,e),!this.cognito){var t=r.util.merge({},e);t.params=this.params,this.cognito=new i(t)}this.sts=this.sts||new o(e)},cacheId:function(e){this._identityId=e.IdentityId,this.params.IdentityId=this._identityId,r.util.isBrowser()&&(this.setStorage("id",e.IdentityId),this.params.Logins&&this.setStorage("providers",Object.keys(this.params.Logins).join(",")))},getStorage:function(e){return this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]},setStorage:function(e,t){try{this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]=t}catch(e){}},storage:function(){try{var e=r.util.isBrowser()&&null!==window.localStorage&&"object"==typeof window.localStorage?window.localStorage:{};return e["aws.test-storage"]="foobar",delete e["aws.test-storage"],e}catch(e){return{}}}()})},{"../../clients/cognitoidentity":7,"../../clients/sts":8,"../core":18}],22:[function(e,t,n){var r=e("../core");r.CredentialProviderChain=r.util.inherit(r.Credentials,{constructor:function(e){this.providers=e||r.CredentialProviderChain.defaultProviders.slice(0),this.resolveCallbacks=[]},resolve:function(e){var t=this;if(0===t.providers.length)return e(new Error("No providers")),t;if(1===t.resolveCallbacks.push(e)){var n=0,i=t.providers.slice(0);!function e(o,a){if(!o&&a||n===i.length)return r.util.arrayEach(t.resolveCallbacks,(function(e){e(o,a)})),void(t.resolveCallbacks.length=0);var s=i[n++];(a="function"==typeof s?s.call():s).get?a.get((function(t){e(t,t?null:a)})):e(null,a)}()}return t}}),r.CredentialProviderChain.defaultProviders=[],r.CredentialProviderChain.addPromisesToClass=function(e){this.prototype.resolvePromise=r.util.promisifyMethod("resolve",e)},r.CredentialProviderChain.deletePromisesFromClass=function(){delete this.prototype.resolvePromise},r.util.addPromises(r.CredentialProviderChain)},{"../core":18}],23:[function(e,t,n){var r=e("../core"),i=e("../../clients/sts");r.SAMLCredentials=r.util.inherit(r.Credentials,{constructor:function(e){r.Credentials.call(this),this.expired=!0,this.params=e},refresh:function(e){this.coalesceRefresh(e||r.util.fn.callback)},load:function(e){var t=this;t.createClients(),t.service.assumeRoleWithSAML((function(n,r){n||t.service.credentialsFrom(r,t),e(n)}))},createClients:function(){this.service=this.service||new i({params:this.params})}})},{"../../clients/sts":8,"../core":18}],24:[function(e,t,n){var r=e("../core"),i=e("../../clients/sts");r.TemporaryCredentials=r.util.inherit(r.Credentials,{constructor:function(e,t){r.Credentials.call(this),this.loadMasterCredentials(t),this.expired=!0,this.params=e||{},this.params.RoleArn&&(this.params.RoleSessionName=this.params.RoleSessionName||"temporary-credentials")},refresh:function(e){this.coalesceRefresh(e||r.util.fn.callback)},load:function(e){var t=this;t.createClients(),t.masterCredentials.get((function(){t.service.config.credentials=t.masterCredentials,(t.params.RoleArn?t.service.assumeRole:t.service.getSessionToken).call(t.service,(function(n,r){n||t.service.credentialsFrom(r,t),e(n)}))}))},loadMasterCredentials:function(e){for(this.masterCredentials=e||r.config.credentials;this.masterCredentials.masterCredentials;)this.masterCredentials=this.masterCredentials.masterCredentials;"function"!=typeof this.masterCredentials.get&&(this.masterCredentials=new r.Credentials(this.masterCredentials))},createClients:function(){this.service=this.service||new i({params:this.params})}})},{"../../clients/sts":8,"../core":18}],25:[function(e,t,n){var r=e("../core"),i=e("../../clients/sts");r.WebIdentityCredentials=r.util.inherit(r.Credentials,{constructor:function(e,t){r.Credentials.call(this),this.expired=!0,this.params=e,this.params.RoleSessionName=this.params.RoleSessionName||"web-identity",this.data=null,this._clientConfig=r.util.copy(t||{})},refresh:function(e){this.coalesceRefresh(e||r.util.fn.callback)},load:function(e){var t=this;t.createClients(),t.service.assumeRoleWithWebIdentity((function(n,r){t.data=null,n||(t.data=r,t.service.credentialsFrom(r,t)),e(n)}))},createClients:function(){if(!this.service){var e=r.util.merge({},this._clientConfig);e.params=this.params,this.service=new i(e)}}})},{"../../clients/sts":8,"../core":18}],26:[function(e,t,n){(function(n){(function(){var r=e("./core"),i=e("./util"),o=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"];function a(e){var t=e.service,n=t.api||{},r=(n.operations,{});return t.config.region&&(r.region=t.config.region),n.serviceId&&(r.serviceId=n.serviceId),t.config.credentials.accessKeyId&&(r.accessKeyId=t.config.credentials.accessKeyId),r}function s(e,t){var n={};return function e(t,n,r){r&&null!=n&&"structure"===r.type&&r.required&&r.required.length>0&&i.arrayEach(r.required,(function(i){var o=r.members[i];if(!0===o.endpointDiscoveryId){var a=o.isLocationName?o.name:i;t[a]=String(n[i])}else e(t,n[i],o)}))}(n,e.params,t),n}function c(e){var t=e.service,n=t.api,o=n.operations?n.operations[e.operation]:void 0,c=s(e,o?o.input:void 0),u=a(e);Object.keys(c).length>0&&(u=i.update(u,c),o&&(u.operation=o.name));var l=r.endpointCache.get(u);if(!l||1!==l.length||""!==l[0].Address)if(l&&l.length>0)e.httpRequest.updateEndpoint(l[0].Address);else{var f=t.makeRequest(n.endpointOperation,{Operation:o.name,Identifiers:c});d(f),f.removeListener("validate",r.EventListeners.Core.VALIDATE_PARAMETERS),f.removeListener("retry",r.EventListeners.Core.RETRY_CHECK),r.endpointCache.put(u,[{Address:"",CachePeriodInMinutes:1}]),f.send((function(e,t){t&&t.Endpoints?r.endpointCache.put(u,t.Endpoints):e&&r.endpointCache.put(u,[{Address:"",CachePeriodInMinutes:1}])}))}}var u={};function l(e,t){var n=e.service,o=n.api,c=o.operations?o.operations[e.operation]:void 0,l=c?c.input:void 0,f=s(e,l),p=a(e);Object.keys(f).length>0&&(p=i.update(p,f),c&&(p.operation=c.name));var h=r.EndpointCache.getKeyString(p),m=r.endpointCache.get(h);if(m&&1===m.length&&""===m[0].Address)return u[h]||(u[h]=[]),void u[h].push({request:e,callback:t});if(m&&m.length>0)e.httpRequest.updateEndpoint(m[0].Address),t();else{var g=n.makeRequest(o.endpointOperation,{Operation:c.name,Identifiers:f});g.removeListener("validate",r.EventListeners.Core.VALIDATE_PARAMETERS),d(g),r.endpointCache.put(h,[{Address:"",CachePeriodInMinutes:60}]),g.send((function(n,o){if(n){var a={code:"EndpointDiscoveryException",message:"Request cannot be fulfilled without specifying an endpoint",retryable:!1};if(e.response.error=i.error(n,a),r.endpointCache.remove(p),u[h]){var s=u[h];i.arrayEach(s,(function(e){e.request.response.error=i.error(n,a),e.callback()})),delete u[h]}}else if(o&&(r.endpointCache.put(h,o.Endpoints),e.httpRequest.updateEndpoint(o.Endpoints[0].Address),u[h])){s=u[h];i.arrayEach(s,(function(e){e.request.httpRequest.updateEndpoint(o.Endpoints[0].Address),e.callback()})),delete u[h]}t()}))}}function d(e){var t=e.service.api.apiVersion;t&&!e.httpRequest.headers["x-amz-api-version"]&&(e.httpRequest.headers["x-amz-api-version"]=t)}function f(e){var t=e.error,n=e.httpResponse;if(t&&("InvalidEndpointException"===t.code||421===n.statusCode)){var o=e.request,c=o.service.api.operations||{},u=s(o,c[o.operation]?c[o.operation].input:void 0),l=a(o);Object.keys(u).length>0&&(l=i.update(l,u),c[o.operation]&&(l.operation=c[o.operation].name)),r.endpointCache.remove(l)}}function p(e){return["false","0"].indexOf(e)>=0}t.exports={discoverEndpoint:function(e,t){var a=e.service||{};if(function(e){if(e._originalConfig&&e._originalConfig.endpoint&&!0===e._originalConfig.endpointDiscoveryEnabled)throw i.error(new Error,{code:"ConfigurationException",message:"Custom endpoint is supplied; endpointDiscoveryEnabled must not be true."});var t=r.config[e.serviceIdentifier]||{};return Boolean(r.config.endpoint||t.endpoint||e._originalConfig&&e._originalConfig.endpoint)}(a)||e.isPresigned())return t();if(!function(e){if(!0===(e.service||{}).config.endpointDiscoveryEnabled)return!0;if(i.isBrowser())return!1;for(var t=0;t<o.length;t++){var a=o[t];if(Object.prototype.hasOwnProperty.call(n.env,a)){if(""===n.env[a]||void 0===n.env[a])throw i.error(new Error,{code:"ConfigurationException",message:"environmental variable "+a+" cannot be set to nothing"});if(!p(n.env[a]))return!0}}var s={};try{s=r.util.iniLoader?r.util.iniLoader.loadFrom({isConfig:!0,filename:n.env[r.util.sharedConfigFileEnv]}):{}}catch(e){}var c=s[n.env.AWS_PROFILE||r.util.defaultProfile]||{};if(Object.prototype.hasOwnProperty.call(c,"endpoint_discovery_enabled")){if(void 0===c.endpoint_discovery_enabled)throw i.error(new Error,{code:"ConfigurationException",message:"config file entry 'endpoint_discovery_enabled' cannot be set to nothing"});if(!p(c.endpoint_discovery_enabled))return!0}return!1}(e))return t();e.httpRequest.appendToUserAgent("endpoint-discovery");var s=(a.api.operations||{})[e.operation];switch(s?s.endpointDiscoveryRequired:"NULL"){case"OPTIONAL":c(e),e.addNamedListener("INVALIDATE_CACHED_ENDPOINTS","extractError",f),t();break;case"REQUIRED":e.addNamedListener("INVALIDATE_CACHED_ENDPOINTS","extractError",f),l(e,t);break;case"NULL":default:t()}},requiredDiscoverEndpoint:l,optionalDiscoverEndpoint:c,marshallCustomIdentifiers:s,getCacheKey:a,invalidateCachedEndpoint:f}}).call(this)}).call(this,e("_process"))},{"./core":18,"./util":71,_process:86}],27:[function(e,t,n){var r=e("../event-stream/event-message-chunker").eventMessageChunker,i=e("./parse-event").parseEvent;t.exports={createEventStream:function(e,t,n){for(var o=r(e),a=[],s=0;s<o.length;s++)a.push(i(t,o[s],n));return a}}},{"../event-stream/event-message-chunker":28,"./parse-event":30}],28:[function(e,t,n){t.exports={eventMessageChunker:function(e){for(var t=[],n=0;n<e.length;){var r=e.readInt32BE(n),i=e.slice(n,r+n);n+=r,t.push(i)}return t}}},{}],29:[function(e,t,n){var r=e("../core").util,i=r.buffer.toBuffer;function o(e){if(8!==e.length)throw new Error("Int64 buffers must be exactly 8 bytes");r.Buffer.isBuffer(e)||(e=i(e)),this.bytes=e}function a(e){for(var t=0;t<8;t++)e[t]^=255;for(t=7;t>-1&&(e[t]++,0===e[t]);t--);}o.fromNumber=function(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(e+" is too large (or, if negative, too small) to represent as an Int64");for(var t=new Uint8Array(8),n=7,r=Math.abs(Math.round(e));n>-1&&r>0;n--,r/=256)t[n]=r;return e<0&&a(t),new o(t)},o.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&a(e),parseInt(e.toString("hex"),16)*(t?-1:1)},o.prototype.toString=function(){return String(this.valueOf())},t.exports={Int64:o}},{"../core":18}],30:[function(e,t,n){var r=e("./parse-message").parseMessage;t.exports={parseEvent:function(e,t,n){var i=r(t),o=i.headers[":message-type"];if(o){if("error"===o.value)throw function(e){var t=e.headers[":error-code"],n=e.headers[":error-message"],r=new Error(n.value||n);return r.code=r.name=t.value||t,r}(i);if("event"!==o.value)return}var a=i.headers[":event-type"],s=n.members[a.value];if(s){var c={},u=s.eventPayloadMemberName;if(u){var l=s.members[u];"binary"===l.type?c[u]=i.body:c[u]=e.parse(i.body.toString(),l)}for(var d=s.eventHeaderMemberNames,f=0;f<d.length;f++){var p=d[f];i.headers[p]&&(c[p]=s.members[p].toType(i.headers[p].value))}var h={};return h[a.value]=c,h}}}},{"./parse-message":31}],31:[function(e,t,n){var r=e("./int64").Int64,i=e("./split-message").splitMessage;function o(e){for(var t={},n=0;n<e.length;){var i=e.readUInt8(n++),o=e.slice(n,n+i).toString();switch(n+=i,e.readUInt8(n++)){case 0:t[o]={type:"boolean",value:!0};break;case 1:t[o]={type:"boolean",value:!1};break;case 2:t[o]={type:"byte",value:e.readInt8(n++)};break;case 3:t[o]={type:"short",value:e.readInt16BE(n)},n+=2;break;case 4:t[o]={type:"integer",value:e.readInt32BE(n)},n+=4;break;case 5:t[o]={type:"long",value:new r(e.slice(n,n+8))},n+=8;break;case 6:var a=e.readUInt16BE(n);n+=2,t[o]={type:"binary",value:e.slice(n,n+a)},n+=a;break;case 7:var s=e.readUInt16BE(n);n+=2,t[o]={type:"string",value:e.slice(n,n+s).toString()},n+=s;break;case 8:t[o]={type:"timestamp",value:new Date(new r(e.slice(n,n+8)).valueOf())},n+=8;break;case 9:var c=e.slice(n,n+16).toString("hex");n+=16,t[o]={type:"uuid",value:c.substr(0,8)+"-"+c.substr(8,4)+"-"+c.substr(12,4)+"-"+c.substr(16,4)+"-"+c.substr(20)};break;default:throw new Error("Unrecognized header type tag")}}return t}t.exports={parseMessage:function(e){var t=i(e);return{headers:o(t.headers),body:t.body}}}},{"./int64":29,"./split-message":32}],32:[function(e,t,n){var r=e("../core").util,i=r.buffer.toBuffer;t.exports={splitMessage:function(e){if(r.Buffer.isBuffer(e)||(e=i(e)),e.length<16)throw new Error("Provided message too short to accommodate event stream message overhead");if(e.length!==e.readUInt32BE(0))throw new Error("Reported message length does not match received message length");var t=e.readUInt32BE(8);if(t!==r.crypto.crc32(e.slice(0,8)))throw new Error("The prelude checksum specified in the message ("+t+") does not match the calculated CRC32 checksum.");var n=e.readUInt32BE(e.length-4);if(n!==r.crypto.crc32(e.slice(0,e.length-4)))throw new Error("The message checksum did not match the expected value of "+n);var o=12+e.readUInt32BE(4);return{headers:e.slice(12,o),body:e.slice(o,e.length-4)}}}},{"../core":18}],33:[function(e,t,n){var r=e("./core"),i=e("./sequential_executor"),o=e("./discover_endpoint").discoverEndpoint;r.EventListeners={Core:{}},r.EventListeners={Core:(new i).addNamedListeners((function(e,t){t("VALIDATE_CREDENTIALS","validate",(function(e,t){if(!e.service.api.signatureVersion&&!e.service.config.signatureVersion)return t();e.service.config.getCredentials((function(n){n&&(e.response.error=r.util.error(n,{code:"CredentialsError",message:"Missing credentials in config"})),t()}))})),e("VALIDATE_REGION","validate",(function(e){e.service.config.region||e.service.isGlobalEndpoint||(e.response.error=r.util.error(new Error,{code:"ConfigError",message:"Missing region in config"}))})),e("BUILD_IDEMPOTENCY_TOKENS","validate",(function(e){if(e.service.api.operations){var t=e.service.api.operations[e.operation];if(t){var n=t.idempotentMembers;if(n.length){for(var i=r.util.copy(e.params),o=0,a=n.length;o<a;o++)i[n[o]]||(i[n[o]]=r.util.uuid.v4());e.params=i}}}})),e("VALIDATE_PARAMETERS","validate",(function(e){if(e.service.api.operations){var t=e.service.api.operations[e.operation].input,n=e.service.config.paramValidation;new r.ParamValidator(n).validate(t,e.params)}})),t("COMPUTE_SHA256","afterBuild",(function(e,t){if(e.haltHandlersOnError(),e.service.api.operations){var n=e.service.api.operations[e.operation],i=n?n.authtype:"";if(!e.service.api.signatureVersion&&!i&&!e.service.config.signatureVersion)return t();if(e.service.getSignerClass(e)===r.Signers.V4){var o=e.httpRequest.body||"";if(i.indexOf("unsigned-body")>=0)return e.httpRequest.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",t();r.util.computeSha256(o,(function(n,r){n?t(n):(e.httpRequest.headers["X-Amz-Content-Sha256"]=r,t())}))}else t()}})),e("SET_CONTENT_LENGTH","afterBuild",(function(e){var t=function(e){if(!e.service.api.operations)return"";var t=e.service.api.operations[e.operation];return t?t.authtype:""}(e),n=r.util.getRequestPayloadShape(e);if(void 0===e.httpRequest.headers["Content-Length"])try{var i=r.util.string.byteLength(e.httpRequest.body);e.httpRequest.headers["Content-Length"]=i}catch(r){if(n&&n.isStreaming){if(n.requiresLength)throw r;if(t.indexOf("unsigned-body")>=0)return void(e.httpRequest.headers["Transfer-Encoding"]="chunked");throw r}throw r}})),e("SET_HTTP_HOST","afterBuild",(function(e){e.httpRequest.headers.Host=e.httpRequest.endpoint.host})),e("RESTART","restart",(function(){var e=this.response.error;e&&e.retryable&&(this.httpRequest=new r.HttpRequest(this.service.endpoint,this.service.region),this.response.retryCount<this.service.config.maxRetries?this.response.retryCount++:this.response.error=null)}));t("DISCOVER_ENDPOINT","sign",o,!0),t("SIGN","sign",(function(e,t){var n=e.service,r=(e.service.api.operations||{})[e.operation],i=r?r.authtype:"";if(!n.api.signatureVersion&&!i&&!n.config.signatureVersion)return t();n.config.getCredentials((function(i,o){if(i)return e.response.error=i,t();try{var a=n.getSkewCorrectedDate(),s=new(n.getSignerClass(e))(e.httpRequest,n.api.signingName||n.api.endpointPrefix,{signatureCache:n.config.signatureCache,operation:r,signatureVersion:n.api.signatureVersion});s.setServiceClientId(n._clientId),delete e.httpRequest.headers.Authorization,delete e.httpRequest.headers.Date,delete e.httpRequest.headers["X-Amz-Date"],s.addAuthorization(o,a),e.signedAt=a}catch(t){e.response.error=t}t()}))})),e("VALIDATE_RESPONSE","validateResponse",(function(e){this.service.successfulResponse(e,this)?(e.data={},e.error=null):(e.data=null,e.error=r.util.error(new Error,{code:"UnknownError",message:"An unknown error occurred."}))})),t("SEND","send",(function(e,t){function n(n){e.httpResponse.stream=n;var i=e.request.httpRequest.stream,o=e.request.service,a=o.api,s=e.request.operation,c=a.operations[s]||{};n.on("headers",(function(i,a,s){if(e.request.emit("httpHeaders",[i,a,e,s]),!e.httpResponse.streaming)if(2===r.HttpClient.streamsApiVersion){if(c.hasEventOutput&&o.successfulResponse(e))return e.request.emit("httpDone"),void t();n.on("readable",(function(){var t=n.read();null!==t&&e.request.emit("httpData",[t,e])}))}else n.on("data",(function(t){e.request.emit("httpData",[t,e])}))})),n.on("end",(function(){if(!i||!i.didCallback){if(2===r.HttpClient.streamsApiVersion&&c.hasEventOutput&&o.successfulResponse(e))return;e.request.emit("httpDone"),t()}}))}function i(n){if("RequestAbortedError"!==n.code){var i="TimeoutError"===n.code?n.code:"NetworkingError";n=r.util.error(n,{code:i,region:e.request.httpRequest.region,hostname:e.request.httpRequest.endpoint.hostname,retryable:!0})}e.error=n,e.request.emit("httpError",[e.error,e],(function(){t()}))}function o(){var t,o=r.HttpClient.getInstance(),a=e.request.service.config.httpOptions||{};try{var s=o.handleRequest(e.request.httpRequest,a,n,i);(t=s).on("sendProgress",(function(t){e.request.emit("httpUploadProgress",[t,e])})),t.on("receiveProgress",(function(t){e.request.emit("httpDownloadProgress",[t,e])}))}catch(e){i(e)}}e.httpResponse._abortCallback=t,e.error=null,e.data=null,(e.request.service.getSkewCorrectedDate()-this.signedAt)/1e3>=600?this.emit("sign",[this],(function(e){e?t(e):o()})):o()})),e("HTTP_HEADERS","httpHeaders",(function(e,t,n,i){n.httpResponse.statusCode=e,n.httpResponse.statusMessage=i,n.httpResponse.headers=t,n.httpResponse.body=r.util.buffer.toBuffer(""),n.httpResponse.buffers=[],n.httpResponse.numBytes=0;var o=t.date||t.Date,a=n.request.service;if(o){var s=Date.parse(o);a.config.correctClockSkew&&a.isClockSkewed(s)&&a.applyClockOffset(s)}})),e("HTTP_DATA","httpData",(function(e,t){if(e){if(r.util.isNode()){t.httpResponse.numBytes+=e.length;var n=t.httpResponse.headers["content-length"],i={loaded:t.httpResponse.numBytes,total:n};t.request.emit("httpDownloadProgress",[i,t])}t.httpResponse.buffers.push(r.util.buffer.toBuffer(e))}})),e("HTTP_DONE","httpDone",(function(e){if(e.httpResponse.buffers&&e.httpResponse.buffers.length>0){var t=r.util.buffer.concat(e.httpResponse.buffers);e.httpResponse.body=t}delete e.httpResponse.numBytes,delete e.httpResponse.buffers})),e("FINALIZE_ERROR","retry",(function(e){e.httpResponse.statusCode&&(e.error.statusCode=e.httpResponse.statusCode,void 0===e.error.retryable&&(e.error.retryable=this.service.retryableError(e.error,this)))})),e("INVALIDATE_CREDENTIALS","retry",(function(e){if(e.error)switch(e.error.code){case"RequestExpired":case"ExpiredTokenException":case"ExpiredToken":e.error.retryable=!0,e.request.service.config.credentials.expired=!0}})),e("EXPIRED_SIGNATURE","retry",(function(e){var t=e.error;t&&"string"==typeof t.code&&"string"==typeof t.message&&t.code.match(/Signature/)&&t.message.match(/expired/)&&(e.error.retryable=!0)})),e("CLOCK_SKEWED","retry",(function(e){e.error&&this.service.clockSkewError(e.error)&&this.service.config.correctClockSkew&&(e.error.retryable=!0)})),e("REDIRECT","retry",(function(e){e.error&&e.error.statusCode>=300&&e.error.statusCode<400&&e.httpResponse.headers.location&&(this.httpRequest.endpoint=new r.Endpoint(e.httpResponse.headers.location),this.httpRequest.headers.Host=this.httpRequest.endpoint.host,e.error.redirect=!0,e.error.retryable=!0)})),e("RETRY_CHECK","retry",(function(e){e.error&&(e.error.redirect&&e.redirectCount<e.maxRedirects?e.error.retryDelay=0:e.retryCount<e.maxRetries&&(e.error.retryDelay=this.service.retryDelays(e.retryCount)||0))})),t("RESET_RETRY_STATE","afterRetry",(function(e,t){var n,r=!1;e.error&&(n=e.error.retryDelay||0,e.error.retryable&&e.retryCount<e.maxRetries?(e.retryCount++,r=!0):e.error.redirect&&e.redirectCount<e.maxRedirects&&(e.redirectCount++,r=!0)),r?(e.error=null,setTimeout(t,n)):t()}))})),CorePost:(new i).addNamedListeners((function(e){e("EXTRACT_REQUEST_ID","extractData",r.util.extractRequestId),e("EXTRACT_REQUEST_ID","extractError",r.util.extractRequestId),e("ENOTFOUND_ERROR","httpError",(function(e){if("NetworkingError"===e.code&&"ENOTFOUND"===e.errno){var t="Inaccessible host: `"+e.hostname+"'. This service may not be available in the `"+e.region+"' region.";this.response.error=r.util.error(new Error(t),{code:"UnknownEndpoint",region:e.region,hostname:e.hostname,retryable:!0,originalError:e})}}))})),Logger:(new i).addNamedListeners((function(t){t("LOG_REQUEST","complete",(function(t){var n=t.request,i=n.service.config.logger;if(i){var o=function(){var o=(t.request.service.getSkewCorrectedDate().getTime()-n.startTime.getTime())/1e3,a=!!i.isTTY,s=t.httpResponse.statusCode,c=n.params;n.service.api.operations&&n.service.api.operations[n.operation]&&n.service.api.operations[n.operation].input&&(c=function e(t,n){if(!n)return n;switch(t.type){case"structure":var i={};return r.util.each(n,(function(n,r){Object.prototype.hasOwnProperty.call(t.members,n)?i[n]=e(t.members[n],r):i[n]=r})),i;case"list":var o=[];return r.util.arrayEach(n,(function(n,r){o.push(e(t.member,n))})),o;case"map":var a={};return r.util.each(n,(function(n,r){a[n]=e(t.value,r)})),a;default:return t.isSensitive?"***SensitiveInformation***":n}}(n.service.api.operations[n.operation].input,n.params));var u=e("util").inspect(c,!0,null),l="";return a&&(l+="[33m"),l+="[AWS "+n.service.serviceIdentifier+" "+s,l+=" "+o.toString()+"s "+t.retryCount+" retries]",a&&(l+="[0;1m"),l+=" "+r.util.string.lowerFirst(n.operation),l+="("+u+")",a&&(l+="[0m"),l}();"function"==typeof i.log?i.log(o):"function"==typeof i.write&&i.write(o+"\n")}}))})),Json:(new i).addNamedListeners((function(t){var n=e("./protocol/json");t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)})),Rest:(new i).addNamedListeners((function(t){var n=e("./protocol/rest");t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)})),RestJson:(new i).addNamedListeners((function(t){var n=e("./protocol/rest_json");t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)})),RestXml:(new i).addNamedListeners((function(t){var n=e("./protocol/rest_xml");t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)})),Query:(new i).addNamedListeners((function(t){var n=e("./protocol/query");t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)}))}},{"./core":18,"./discover_endpoint":26,"./protocol/json":46,"./protocol/query":47,"./protocol/rest":48,"./protocol/rest_json":49,"./protocol/rest_xml":50,"./sequential_executor":58,util:97}],34:[function(e,t,n){var r=e("./core"),i=r.util.inherit;r.Endpoint=i({constructor:function(e,t){if(r.util.hideProperties(this,["slashes","auth","hash","search","query"]),null==e)throw new Error("Invalid endpoint: "+e);if("string"!=typeof e)return r.util.copy(e);e.match(/^http/)||(e=((t&&void 0!==t.sslEnabled?t.sslEnabled:r.config.sslEnabled)?"https":"http")+"://"+e);r.util.update(this,r.util.urlParse(e)),this.port?this.port=parseInt(this.port,10):this.port="https:"===this.protocol?443:80}}),r.HttpRequest=i({constructor:function(e,t){e=new r.Endpoint(e),this.method="POST",this.path=e.path||"/",this.headers={},this.body="",this.endpoint=e,this.region=t,this._userAgent="",this.setUserAgent()},setUserAgent:function(){this._userAgent=this.headers[this.getUserAgentHeaderName()]=r.util.userAgent()},getUserAgentHeaderName:function(){return(r.util.isBrowser()?"X-Amz-":"")+"User-Agent"},appendToUserAgent:function(e){"string"==typeof e&&e&&(this._userAgent+=" "+e),this.headers[this.getUserAgentHeaderName()]=this._userAgent},getUserAgent:function(){return this._userAgent},pathname:function(){return this.path.split("?",1)[0]},search:function(){var e=this.path.split("?",2)[1];return e?(e=r.util.queryStringParse(e),r.util.queryParamsToString(e)):""},updateEndpoint:function(e){var t=new r.Endpoint(e);this.endpoint=t,this.path=t.path||"/"}}),r.HttpResponse=i({constructor:function(){this.statusCode=void 0,this.headers={},this.body=void 0,this.streaming=!1,this.stream=null},createUnbufferedStream:function(){return this.streaming=!0,this.stream}}),r.HttpClient=i({}),r.HttpClient.getInstance=function(){return void 0===this.singleton&&(this.singleton=new this),this.singleton}},{"./core":18}],35:[function(e,t,n){var r=e("../core"),i=e("events").EventEmitter;e("../http"),r.XHRClient=r.util.inherit({handleRequest:function(e,t,n,o){var a=this,s=e.endpoint,c=new i,u=s.protocol+"//"+s.hostname;80!==s.port&&443!==s.port&&(u+=":"+s.port),u+=e.path;var l=new XMLHttpRequest,d=!1;e.stream=l,l.addEventListener("readystatechange",(function(){try{if(0===l.status)return}catch(e){return}this.readyState>=this.HEADERS_RECEIVED&&!d&&(c.statusCode=l.status,c.headers=a.parseHeaders(l.getAllResponseHeaders()),c.emit("headers",c.statusCode,c.headers,l.statusText),d=!0),this.readyState===this.DONE&&a.finishRequest(l,c)}),!1),l.upload.addEventListener("progress",(function(e){c.emit("sendProgress",e)})),l.addEventListener("progress",(function(e){c.emit("receiveProgress",e)}),!1),l.addEventListener("timeout",(function(){o(r.util.error(new Error("Timeout"),{code:"TimeoutError"}))}),!1),l.addEventListener("error",(function(){o(r.util.error(new Error("Network Failure"),{code:"NetworkingError"}))}),!1),l.addEventListener("abort",(function(){o(r.util.error(new Error("Request aborted"),{code:"RequestAbortedError"}))}),!1),n(c),l.open(e.method,u,!1!==t.xhrAsync),r.util.each(e.headers,(function(e,t){"Content-Length"!==e&&"User-Agent"!==e&&"Host"!==e&&l.setRequestHeader(e,t)})),t.timeout&&!1!==t.xhrAsync&&(l.timeout=t.timeout),t.xhrWithCredentials&&(l.withCredentials=!0);try{l.responseType="arraybuffer"}catch(e){}try{e.body?l.send(e.body):l.send()}catch(t){if(!e.body||"object"!=typeof e.body.buffer)throw t;l.send(e.body.buffer)}return c},parseHeaders:function(e){var t={};return r.util.arrayEach(e.split(/\r?\n/),(function(e){var n=e.split(":",1)[0],r=e.substring(n.length+2);n.length>0&&(t[n.toLowerCase()]=r)})),t},finishRequest:function(e,t){var n;if("arraybuffer"===e.responseType&&e.response){var i=e.response;n=new r.util.Buffer(i.byteLength);for(var o=new Uint8Array(i),a=0;a<n.length;++a)n[a]=o[a]}try{n||"string"!=typeof e.responseText||(n=new r.util.Buffer(e.responseText))}catch(e){}n&&t.emit("data",n),t.emit("end")}}),r.HttpClient.prototype=r.XHRClient.prototype,r.HttpClient.streamsApiVersion=1},{"../core":18,"../http":34,events:82}],36:[function(e,t,n){var r=e("../util");function i(){}function o(e,t){if(t&&null!=e)switch(t.type){case"structure":return function(e,t){var n={};return r.each(e,(function(e,r){var i=t.members[e];if(i){if("body"!==i.location)return;var a=i.isLocationName?i.name:e,s=o(r,i);void 0!==s&&(n[a]=s)}})),n}(e,t);case"map":return function(e,t){var n={};return r.each(e,(function(e,r){var i=o(r,t.value);void 0!==i&&(n[e]=i)})),n}(e,t);case"list":return function(e,t){var n=[];return r.arrayEach(e,(function(e){var r=o(e,t.member);void 0!==r&&n.push(r)})),n}(e,t);default:return function(e,t){return t.toWireFormat(e)}(e,t)}}i.prototype.build=function(e,t){return JSON.stringify(o(e,t))},t.exports=i},{"../util":71}],37:[function(e,t,n){var r=e("../util");function i(){}function o(e,t){if(t&&void 0!==e)switch(t.type){case"structure":return function(e,t){if(null==e)return;var n={},i=t.members;return r.each(i,(function(t,r){var i=r.isLocationName?r.name:t;if(Object.prototype.hasOwnProperty.call(e,i)){var a=o(e[i],r);void 0!==a&&(n[t]=a)}})),n}(e,t);case"map":return function(e,t){if(null==e)return;var n={};return r.each(e,(function(e,r){var i=o(r,t.value);n[e]=void 0===i?null:i})),n}(e,t);case"list":return function(e,t){if(null==e)return;var n=[];return r.arrayEach(e,(function(e){var r=o(e,t.member);void 0===r?n.push(null):n.push(r)})),n}(e,t);default:return function(e,t){return t.toType(e)}(e,t)}}i.prototype.parse=function(e,t){return o(JSON.parse(e),t)},t.exports=i},{"../util":71}],38:[function(e,t,n){var r=e("./collection"),i=e("./operation"),o=e("./shape"),a=e("./paginator"),s=e("./resource_waiter"),c=e("../util"),u=c.property,l=c.memoizedProperty;t.exports=function(e,t){var n=this;e=e||{},(t=t||{}).api=this,e.metadata=e.metadata||{},u(this,"isApi",!0,!1),u(this,"apiVersion",e.metadata.apiVersion),u(this,"endpointPrefix",e.metadata.endpointPrefix),u(this,"signingName",e.metadata.signingName),u(this,"globalEndpoint",e.metadata.globalEndpoint),u(this,"signatureVersion",e.metadata.signatureVersion),u(this,"jsonVersion",e.metadata.jsonVersion),u(this,"targetPrefix",e.metadata.targetPrefix),u(this,"protocol",e.metadata.protocol),u(this,"timestampFormat",e.metadata.timestampFormat),u(this,"xmlNamespaceUri",e.metadata.xmlNamespace),u(this,"abbreviation",e.metadata.serviceAbbreviation),u(this,"fullName",e.metadata.serviceFullName),u(this,"serviceId",e.metadata.serviceId),l(this,"className",(function(){var t=e.metadata.serviceAbbreviation||e.metadata.serviceFullName;return t?("ElasticLoadBalancing"===(t=t.replace(/^Amazon|AWS\s*|\(.*|\s+|\W+/g,""))&&(t="ELB"),t):null})),u(this,"operations",new r(e.operations,t,(function(e,n){return new i(e,n,t)}),c.string.lowerFirst,(function(e,t){!0===t.endpointoperation&&u(n,"endpointOperation",c.string.lowerFirst(e))}))),u(this,"shapes",new r(e.shapes,t,(function(e,n){return o.create(n,t)}))),u(this,"paginators",new r(e.paginators,t,(function(e,n){return new a(e,n,t)}))),u(this,"waiters",new r(e.waiters,t,(function(e,n){return new s(e,n,t)}),c.string.lowerFirst)),t.documentation&&(u(this,"documentation",e.documentation),u(this,"documentationUrl",e.documentationUrl))}},{"../util":71,"./collection":39,"./operation":40,"./paginator":41,"./resource_waiter":42,"./shape":43}],39:[function(e,t,n){var r=e("../util").memoizedProperty;function i(e,t,n,i){r(this,i(e),(function(){return n(e,t)}))}t.exports=function(e,t,n,r,o){for(var a in r=r||String,e)Object.prototype.hasOwnProperty.call(e,a)&&(i.call(this,a,e[a],n,r),o&&o(a,e[a]))}},{"../util":71}],40:[function(e,t,n){var r=e("./shape"),i=e("../util"),o=i.property,a=i.memoizedProperty;t.exports=function(e,t,n){var i=this;n=n||{},o(this,"name",t.name||e),o(this,"api",n.api,!1),t.http=t.http||{},o(this,"endpoint",t.endpoint),o(this,"httpMethod",t.http.method||"POST"),o(this,"httpPath",t.http.requestUri||"/"),o(this,"authtype",t.authtype||""),o(this,"endpointDiscoveryRequired",t.endpointdiscovery?t.endpointdiscovery.required?"REQUIRED":"OPTIONAL":"NULL"),a(this,"input",(function(){return t.input?r.create(t.input,n):new r.create({type:"structure"},n)})),a(this,"output",(function(){return t.output?r.create(t.output,n):new r.create({type:"structure"},n)})),a(this,"errors",(function(){var e=[];if(!t.errors)return null;for(var i=0;i<t.errors.length;i++)e.push(r.create(t.errors[i],n));return e})),a(this,"paginator",(function(){return n.api.paginators[e]})),n.documentation&&(o(this,"documentation",t.documentation),o(this,"documentationUrl",t.documentationUrl)),a(this,"idempotentMembers",(function(){var e=[],t=i.input,n=t.members;if(!t.members)return e;for(var r in n)n.hasOwnProperty(r)&&!0===n[r].isIdempotent&&e.push(r);return e})),a(this,"hasEventOutput",(function(){return function(e){var t=e.members,n=e.payload;if(!e.members)return!1;if(n){return t[n].isEventStream}for(var r in t)if(!t.hasOwnProperty(r)&&!0===t[r].isEventStream)return!0;return!1}(i.output)}))}},{"../util":71,"./shape":43}],41:[function(e,t,n){var r=e("../util").property;t.exports=function(e,t){r(this,"inputToken",t.input_token),r(this,"limitKey",t.limit_key),r(this,"moreResults",t.more_results),r(this,"outputToken",t.output_token),r(this,"resultKey",t.result_key)}},{"../util":71}],42:[function(e,t,n){var r=e("../util"),i=r.property;t.exports=function(e,t,n){n=n||{},i(this,"name",e),i(this,"api",n.api,!1),t.operation&&i(this,"operation",r.string.lowerFirst(t.operation));var o=this;["type","description","delay","maxAttempts","acceptors"].forEach((function(e){var n=t[e];n&&i(o,e,n)}))}},{"../util":71}],43:[function(e,t,n){var r=e("./collection"),i=e("../util");function o(e,t,n){null!=n&&i.property.apply(this,arguments)}function a(e,t){e.constructor.prototype[t]||i.memoizedProperty.apply(this,arguments)}function s(e,t,n){t=t||{},o(this,"shape",e.shape),o(this,"api",t.api,!1),o(this,"type",e.type),o(this,"enum",e.enum),o(this,"min",e.min),o(this,"max",e.max),o(this,"pattern",e.pattern),o(this,"location",e.location||this.location||"body"),o(this,"name",this.name||e.xmlName||e.queryName||e.locationName||n),o(this,"isStreaming",e.streaming||this.isStreaming||!1),o(this,"requiresLength",e.requiresLength,!1),o(this,"isComposite",e.isComposite||!1),o(this,"isShape",!0,!1),o(this,"isQueryName",Boolean(e.queryName),!1),o(this,"isLocationName",Boolean(e.locationName),!1),o(this,"isIdempotent",!0===e.idempotencyToken),o(this,"isJsonValue",!0===e.jsonvalue),o(this,"isSensitive",!0===e.sensitive||e.prototype&&!0===e.prototype.sensitive),o(this,"isEventStream",Boolean(e.eventstream),!1),o(this,"isEvent",Boolean(e.event),!1),o(this,"isEventPayload",Boolean(e.eventpayload),!1),o(this,"isEventHeader",Boolean(e.eventheader),!1),o(this,"isTimestampFormatSet",Boolean(e.timestampFormat)||e.prototype&&!0===e.prototype.isTimestampFormatSet,!1),o(this,"endpointDiscoveryId",Boolean(e.endpointdiscoveryid),!1),o(this,"hostLabel",Boolean(e.hostLabel),!1),t.documentation&&(o(this,"documentation",e.documentation),o(this,"documentationUrl",e.documentationUrl)),e.xmlAttribute&&o(this,"isXmlAttribute",e.xmlAttribute||!1),o(this,"defaultValue",null),this.toWireFormat=function(e){return null==e?"":e},this.toType=function(e){return e}}function c(e){s.apply(this,arguments),o(this,"isComposite",!0),e.flattened&&o(this,"flattened",e.flattened||!1)}function u(e,t){var n=this,i=null,u=!this.isShape;c.apply(this,arguments),u&&(o(this,"defaultValue",(function(){return{}})),o(this,"members",{}),o(this,"memberNames",[]),o(this,"required",[]),o(this,"isRequired",(function(){return!1}))),e.members&&(o(this,"members",new r(e.members,t,(function(e,n){return s.create(n,t,e)}))),a(this,"memberNames",(function(){return e.xmlOrder||Object.keys(e.members)})),e.event&&(a(this,"eventPayloadMemberName",(function(){for(var e=n.members,t=n.memberNames,r=0,i=t.length;r<i;r++)if(e[t[r]].isEventPayload)return t[r]})),a(this,"eventHeaderMemberNames",(function(){for(var e=n.members,t=n.memberNames,r=[],i=0,o=t.length;i<o;i++)e[t[i]].isEventHeader&&r.push(t[i]);return r})))),e.required&&(o(this,"required",e.required),o(this,"isRequired",(function(t){if(!i){i={};for(var n=0;n<e.required.length;n++)i[e.required[n]]=!0}return i[t]}),!1,!0)),o(this,"resultWrapper",e.resultWrapper||null),e.payload&&o(this,"payload",e.payload),"string"==typeof e.xmlNamespace?o(this,"xmlNamespaceUri",e.xmlNamespace):"object"==typeof e.xmlNamespace&&(o(this,"xmlNamespacePrefix",e.xmlNamespace.prefix),o(this,"xmlNamespaceUri",e.xmlNamespace.uri))}function l(e,t){var n=this,r=!this.isShape;if(c.apply(this,arguments),r&&o(this,"defaultValue",(function(){return[]})),e.member&&a(this,"member",(function(){return s.create(e.member,t)})),this.flattened){var i=this.name;a(this,"name",(function(){return n.member.name||i}))}}function d(e,t){var n=!this.isShape;c.apply(this,arguments),n&&(o(this,"defaultValue",(function(){return{}})),o(this,"key",s.create({type:"string"},t)),o(this,"value",s.create({type:"string"},t))),e.key&&a(this,"key",(function(){return s.create(e.key,t)})),e.value&&a(this,"value",(function(){return s.create(e.value,t)}))}function f(){s.apply(this,arguments);var e=["rest-xml","query","ec2"];this.toType=function(t){return t=this.api&&e.indexOf(this.api.protocol)>-1?t||"":t,this.isJsonValue?JSON.parse(t):t&&"function"==typeof t.toString?t.toString():t},this.toWireFormat=function(e){return this.isJsonValue?JSON.stringify(e):e}}function p(){s.apply(this,arguments),this.toType=function(e){var t=i.base64.decode(e);if(this.isSensitive&&i.isNode()&&"function"==typeof i.Buffer.alloc){var n=i.Buffer.alloc(t.length,t);t.fill(0),t=n}return t},this.toWireFormat=i.base64.encode}function h(){p.apply(this,arguments)}function m(){s.apply(this,arguments),this.toType=function(e){return"boolean"==typeof e?e:null==e?null:"true"===e}}s.normalizedTypes={character:"string",double:"float",long:"integer",short:"integer",biginteger:"integer",bigdecimal:"float",blob:"binary"},s.types={structure:u,list:l,map:d,boolean:m,timestamp:function(e){var t=this;if(s.apply(this,arguments),e.timestampFormat)o(this,"timestampFormat",e.timestampFormat);else if(t.isTimestampFormatSet&&this.timestampFormat)o(this,"timestampFormat",this.timestampFormat);else if("header"===this.location)o(this,"timestampFormat","rfc822");else if("querystring"===this.location)o(this,"timestampFormat","iso8601");else if(this.api)switch(this.api.protocol){case"json":case"rest-json":o(this,"timestampFormat","unixTimestamp");break;case"rest-xml":case"query":case"ec2":o(this,"timestampFormat","iso8601")}this.toType=function(e){return null==e?null:"function"==typeof e.toUTCString?e:"string"==typeof e||"number"==typeof e?i.date.parseTimestamp(e):null},this.toWireFormat=function(e){return i.date.format(e,t.timestampFormat)}},float:function(){s.apply(this,arguments),this.toType=function(e){return null==e?null:parseFloat(e)},this.toWireFormat=this.toType},integer:function(){s.apply(this,arguments),this.toType=function(e){return null==e?null:parseInt(e,10)},this.toWireFormat=this.toType},string:f,base64:h,binary:p},s.resolve=function(e,t){if(e.shape){var n=t.api.shapes[e.shape];if(!n)throw new Error("Cannot find shape reference: "+e.shape);return n}return null},s.create=function(e,t,n){if(e.isShape)return e;var r=s.resolve(e,t);if(r){var i=Object.keys(e);t.documentation||(i=i.filter((function(e){return!e.match(/documentation/)})));var o=function(){r.constructor.call(this,e,t,n)};return o.prototype=r,new o}e.type||(e.members?e.type="structure":e.member?e.type="list":e.key?e.type="map":e.type="string");var a=e.type;if(s.normalizedTypes[e.type]&&(e.type=s.normalizedTypes[e.type]),s.types[e.type])return new s.types[e.type](e,t,n);throw new Error("Unrecognized shape type: "+a)},s.shapes={StructureShape:u,ListShape:l,MapShape:d,StringShape:f,BooleanShape:m,Base64Shape:h},t.exports=s},{"../util":71,"./collection":39}],44:[function(e,t,n){var r=e("./core");r.ParamValidator=r.util.inherit({constructor:function(e){!0!==e&&void 0!==e||(e={min:!0}),this.validation=e},validate:function(e,t,n){if(this.errors=[],this.validateMember(e,t||{},n||"params"),this.errors.length>1){var i=this.errors.join("\n* ");throw i="There were "+this.errors.length+" validation errors:\n* "+i,r.util.error(new Error(i),{code:"MultipleValidationErrors",errors:this.errors})}if(1===this.errors.length)throw this.errors[0];return!0},fail:function(e,t){this.errors.push(r.util.error(new Error(t),{code:e}))},validateStructure:function(e,t,n){var r;this.validateType(t,n,["object"],"structure");for(var i=0;e.required&&i<e.required.length;i++){var o=t[r=e.required[i]];null==o&&this.fail("MissingRequiredParameter","Missing required key '"+r+"' in "+n)}for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=t[r],s=e.members[r];if(void 0!==s){var c=[n,r].join(".");this.validateMember(s,a,c)}else this.fail("UnexpectedParameter","Unexpected key '"+r+"' found in "+n)}return!0},validateMember:function(e,t,n){switch(e.type){case"structure":return this.validateStructure(e,t,n);case"list":return this.validateList(e,t,n);case"map":return this.validateMap(e,t,n);default:return this.validateScalar(e,t,n)}},validateList:function(e,t,n){if(this.validateType(t,n,[Array])){this.validateRange(e,t.length,n,"list member count");for(var r=0;r<t.length;r++)this.validateMember(e.member,t[r],n+"["+r+"]")}},validateMap:function(e,t,n){if(this.validateType(t,n,["object"],"map")){var r=0;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(this.validateMember(e.key,i,n+"[key='"+i+"']"),this.validateMember(e.value,t[i],n+"['"+i+"']"),r++);this.validateRange(e,r,n,"map member count")}},validateScalar:function(e,t,n){switch(e.type){case null:case void 0:case"string":return this.validateString(e,t,n);case"base64":case"binary":return this.validatePayload(t,n);case"integer":case"float":return this.validateNumber(e,t,n);case"boolean":return this.validateType(t,n,["boolean"]);case"timestamp":return this.validateType(t,n,[Date,/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/,"number"],"Date object, ISO-8601 string, or a UNIX timestamp");default:return this.fail("UnkownType","Unhandled type "+e.type+" for "+n)}},validateString:function(e,t,n){var r=["string"];e.isJsonValue&&(r=r.concat(["number","object","boolean"])),null!==t&&this.validateType(t,n,r)&&(this.validateEnum(e,t,n),this.validateRange(e,t.length,n,"string length"),this.validatePattern(e,t,n),this.validateUri(e,t,n))},validateUri:function(e,t,n){"uri"===e.location&&0===t.length&&this.fail("UriParameterError",'Expected uri parameter to have length >= 1, but found "'+t+'" for '+n)},validatePattern:function(e,t,n){this.validation.pattern&&void 0!==e.pattern&&(new RegExp(e.pattern).test(t)||this.fail("PatternMatchError",'Provided value "'+t+'" does not match regex pattern /'+e.pattern+"/ for "+n))},validateRange:function(e,t,n,r){this.validation.min&&void 0!==e.min&&t<e.min&&this.fail("MinRangeError","Expected "+r+" >= "+e.min+", but found "+t+" for "+n),this.validation.max&&void 0!==e.max&&t>e.max&&this.fail("MaxRangeError","Expected "+r+" <= "+e.max+", but found "+t+" for "+n)},validateEnum:function(e,t,n){this.validation.enum&&void 0!==e.enum&&-1===e.enum.indexOf(t)&&this.fail("EnumError","Found string value of "+t+", but expected "+e.enum.join("|")+" for "+n)},validateType:function(e,t,n,i){if(null==e)return!1;for(var o=!1,a=0;a<n.length;a++){if("string"==typeof n[a]){if(typeof e===n[a])return!0}else if(n[a]instanceof RegExp){if((e||"").toString().match(n[a]))return!0}else{if(e instanceof n[a])return!0;if(r.util.isType(e,n[a]))return!0;i||o||(n=n.slice()),n[a]=r.util.typeName(n[a])}o=!0}var s=i;s||(s=n.join(", ").replace(/,([^,]+)$/,", or$1"));var c=s.match(/^[aeiou]/i)?"n":"";return this.fail("InvalidParameterType","Expected "+t+" to be a"+c+" "+s),!1},validateNumber:function(e,t,n){if(null!=t){if("string"==typeof t){var r=parseFloat(t);r.toString()===t&&(t=r)}this.validateType(t,n,["number"])&&this.validateRange(e,t,n,"numeric value")}},validatePayload:function(e,t){if(null!=e&&"string"!=typeof e&&(!e||"number"!=typeof e.byteLength)){if(r.util.isNode()){var n=r.util.stream.Stream;if(r.util.Buffer.isBuffer(e)||e instanceof n)return}else if(void 0!==typeof Blob&&e instanceof Blob)return;var i=["Buffer","Stream","File","Blob","ArrayBuffer","DataView"];if(e)for(var o=0;o<i.length;o++){if(r.util.isType(e,i[o]))return;if(r.util.typeName(e.constructor)===i[o])return}this.fail("InvalidParameterType","Expected "+t+" to be a string, Buffer, Stream, Blob, or typed array object")}}})},{"./core":18}],45:[function(e,t,n){var r=e("../util"),i=e("../core");t.exports={populateHostPrefix:function(e){if(!e.service.config.hostPrefixEnabled)return e;var t,n,o,a=e.service.api.operations[e.operation];if(function(e){var t=e.service.api,n=t.operations[e.operation],i=t.endpointOperation&&t.endpointOperation===r.string.lowerFirst(n.name);return"NULL"!==n.endpointDiscoveryRequired||!0===i}(e))return e;if(a.endpoint&&a.endpoint.hostPrefix){var s=function(e,t,n){return r.each(n.members,(function(n,i){if(!0===i.hostLabel){if("string"!=typeof t[n]||""===t[n])throw r.error(new Error,{message:"Parameter "+n+" should be a non-empty string.",code:"InvalidParameter"});var o=new RegExp("\\{"+n+"\\}","g");e=e.replace(o,t[n])}})),e}(a.endpoint.hostPrefix,e.params,a.input);!function(e,t){e.host&&(e.host=t+e.host);e.hostname&&(e.hostname=t+e.hostname)}(e.httpRequest.endpoint,s),t=e.httpRequest.endpoint.hostname,n=t.split("."),o=/^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9]$/,r.arrayEach(n,(function(e){if(!e.length||e.length<1||e.length>63)throw r.error(new Error,{code:"ValidationError",message:"Hostname label length should be between 1 to 63 characters, inclusive."});if(!o.test(e))throw i.util.error(new Error,{code:"ValidationError",message:e+" is not hostname compatible."})}))}return e}}},{"../core":18,"../util":71}],46:[function(e,t,n){var r=e("../util"),i=e("../json/builder"),o=e("../json/parser"),a=e("./helpers").populateHostPrefix;t.exports={buildRequest:function(e){var t=e.httpRequest,n=e.service.api,r=n.targetPrefix+"."+n.operations[e.operation].name,o=n.jsonVersion||"1.0",s=n.operations[e.operation].input,c=new i;1===o&&(o="1.0"),t.body=c.build(e.params||{},s),t.headers["Content-Type"]="application/x-amz-json-"+o,t.headers["X-Amz-Target"]=r,a(e)},extractError:function(e){var t={},n=e.httpResponse;if(t.code=n.headers["x-amzn-errortype"]||"UnknownError","string"==typeof t.code&&(t.code=t.code.split(":")[0]),n.body.length>0)try{var i=JSON.parse(n.body.toString());(i.__type||i.code)&&(t.code=(i.__type||i.code).split("#").pop()),"RequestEntityTooLarge"===t.code?t.message="Request body must be less than 1 MB":t.message=i.message||i.Message||null}catch(i){t.statusCode=n.statusCode,t.message=n.statusMessage}else t.statusCode=n.statusCode,t.message=n.statusCode.toString();e.error=r.error(new Error,t)},extractData:function(e){var t=e.httpResponse.body.toString()||"{}";if(!1===e.request.service.config.convertResponseTypes)e.data=JSON.parse(t);else{var n=e.request.service.api.operations[e.request.operation].output||{},r=new o;e.data=r.parse(t,n)}}}},{"../json/builder":36,"../json/parser":37,"../util":71,"./helpers":45}],47:[function(e,t,n){var r=e("../core"),i=e("../util"),o=e("../query/query_param_serializer"),a=e("../model/shape"),s=e("./helpers").populateHostPrefix;t.exports={buildRequest:function(e){var t=e.service.api.operations[e.operation],n=e.httpRequest;n.headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",n.params={Version:e.service.api.apiVersion,Action:t.name},(new o).serialize(e.params,t.input,(function(e,t){n.params[e]=t})),n.body=i.queryParamsToString(n.params),s(e)},extractError:function(e){var t,n=e.httpResponse.body.toString();if(n.match("<UnknownOperationException"))t={Code:"UnknownOperation",Message:"Unknown operation "+e.request.operation};else try{t=(new r.XML.Parser).parse(n)}catch(n){t={Code:e.httpResponse.statusCode,Message:e.httpResponse.statusMessage}}t.requestId&&!e.requestId&&(e.requestId=t.requestId),t.Errors&&(t=t.Errors),t.Error&&(t=t.Error),t.Code?e.error=i.error(new Error,{code:t.Code,message:t.Message}):e.error=i.error(new Error,{code:e.httpResponse.statusCode,message:null})},extractData:function(e){var t=e.request,n=t.service.api.operations[t.operation].output||{},o=n;if(o.resultWrapper){var s=a.create({type:"structure"});s.members[o.resultWrapper]=n,s.memberNames=[o.resultWrapper],i.property(n,"name",n.resultWrapper),n=s}var c=new r.XML.Parser;if(n&&n.members&&!n.members._XAMZRequestId){var u=a.create({type:"string"},{api:{protocol:"query"}},"requestId");n.members._XAMZRequestId=u}var l=c.parse(e.httpResponse.body.toString(),n);e.requestId=l._XAMZRequestId||l.requestId,l._XAMZRequestId&&delete l._XAMZRequestId,o.resultWrapper&&l[o.resultWrapper]&&(i.update(l,l[o.resultWrapper]),delete l[o.resultWrapper]),e.data=l}}},{"../core":18,"../model/shape":43,"../query/query_param_serializer":51,"../util":71,"./helpers":45}],48:[function(e,t,n){var r=e("../util"),i=e("./helpers").populateHostPrefix;function o(e,t,n,i){var o=[e,t].join("/");o=o.replace(/\/+/g,"/");var a={},s=!1;if(r.each(n.members,(function(e,t){var n=i[e];if(null!=n)if("uri"===t.location){var c=new RegExp("\\{"+t.name+"(\\+)?\\}");o=o.replace(c,(function(e,t){return(t?r.uriEscapePath:r.uriEscape)(String(n))}))}else"querystring"===t.location&&(s=!0,"list"===t.type?a[t.name]=n.map((function(e){return r.uriEscape(t.member.toWireFormat(e).toString())})):"map"===t.type?r.each(n,(function(e,t){Array.isArray(t)?a[e]=t.map((function(e){return r.uriEscape(String(e))})):a[e]=r.uriEscape(String(t))})):a[t.name]=r.uriEscape(t.toWireFormat(n).toString()))})),s){o+=o.indexOf("?")>=0?"&":"?";var c=[];r.arrayEach(Object.keys(a).sort(),(function(e){Array.isArray(a[e])||(a[e]=[a[e]]);for(var t=0;t<a[e].length;t++)c.push(r.uriEscape(String(e))+"="+a[e][t])})),o+=c.join("&")}return o}t.exports={buildRequest:function(e){!function(e){e.httpRequest.method=e.service.api.operations[e.operation].httpMethod}(e),function(e){var t=e.service.api.operations[e.operation],n=t.input,r=o(e.httpRequest.endpoint.path,t.httpPath,n,e.params);e.httpRequest.path=r}(e),function(e){var t=e.service.api.operations[e.operation];r.each(t.input.members,(function(t,n){var i=e.params[t];null!=i&&("headers"===n.location&&"map"===n.type?r.each(i,(function(t,r){e.httpRequest.headers[n.name+t]=r})):"header"===n.location&&(i=n.toWireFormat(i).toString(),n.isJsonValue&&(i=r.base64.encode(i)),e.httpRequest.headers[n.name]=i))}))}(e),i(e)},extractError:function(){},extractData:function(e){var t=e.request,n={},i=e.httpResponse,o=t.service.api.operations[t.operation].output,a={};r.each(i.headers,(function(e,t){a[e.toLowerCase()]=t})),r.each(o.members,(function(e,t){var o=(t.name||e).toLowerCase();if("headers"===t.location&&"map"===t.type){n[e]={};var s=t.isLocationName?t.name:"",c=new RegExp("^"+s+"(.+)","i");r.each(i.headers,(function(t,r){var i=t.match(c);null!==i&&(n[e][i[1]]=r)}))}else if("header"===t.location){if(void 0!==a[o]){var u=t.isJsonValue?r.base64.decode(a[o]):a[o];n[e]=t.toType(u)}}else"statusCode"===t.location&&(n[e]=parseInt(i.statusCode,10))})),e.data=n},generateURI:o}},{"../util":71,"./helpers":45}],49:[function(e,t,n){var r=e("../util"),i=e("./rest"),o=e("./json"),a=e("../json/builder"),s=e("../json/parser");function c(e,t){e.service.api.operations[e.operation].input;if(!e.httpRequest.headers["Content-Type"]){var n=t?"binary/octet-stream":"application/json";e.httpRequest.headers["Content-Type"]=n}}t.exports={buildRequest:function(e){i.buildRequest(e),["HEAD","DELETE"].indexOf(e.httpRequest.method)<0&&function(e){var t=new a,n=e.service.api.operations[e.operation].input;if(n.payload){var r,i=n.members[n.payload];if(void 0===(r=e.params[n.payload]))return;"structure"===i.type?(e.httpRequest.body=t.build(r,i),c(e)):(e.httpRequest.body=r,("binary"===i.type||i.isStreaming)&&c(e,!0))}else{var o=t.build(e.params,n);"{}"===o&&"GET"===e.httpRequest.method||(e.httpRequest.body=o),c(e)}}(e)},extractError:function(e){o.extractError(e)},extractData:function(e){i.extractData(e);var t=e.request,n=t.service.api.operations[t.operation],a=t.service.api.operations[t.operation].output||{};if(n.hasEventOutput,a.payload){var c=a.members[a.payload],u=e.httpResponse.body;if(c.isEventStream)l=new s,e.data[payload]=r.createEventStream(2===AWS.HttpClient.streamsApiVersion?e.httpResponse.stream:u,l,c);else if("structure"===c.type||"list"===c.type){var l=new s;e.data[a.payload]=l.parse(u,c)}else"binary"===c.type||c.isStreaming?e.data[a.payload]=u:e.data[a.payload]=c.toType(u)}else{var d=e.data;o.extractData(e),e.data=r.merge(d,e.data)}}}},{"../json/builder":36,"../json/parser":37,"../util":71,"./json":46,"./rest":48}],50:[function(e,t,n){var r=e("../core"),i=e("../util"),o=e("./rest");t.exports={buildRequest:function(e){o.buildRequest(e),["GET","HEAD"].indexOf(e.httpRequest.method)<0&&function(e){var t=e.service.api.operations[e.operation].input,n=new r.XML.Builder,o=e.params,a=t.payload;if(a){var s=t.members[a];if(void 0===(o=o[a]))return;if("structure"===s.type){var c=s.name;e.httpRequest.body=n.toXML(o,s,c,!0)}else e.httpRequest.body=o}else e.httpRequest.body=n.toXML(o,t,t.name||t.shape||i.string.upperFirst(e.operation)+"Request")}(e)},extractError:function(e){var t;o.extractError(e);try{t=(new r.XML.Parser).parse(e.httpResponse.body.toString())}catch(n){t={Code:e.httpResponse.statusCode,Message:e.httpResponse.statusMessage}}t.Errors&&(t=t.Errors),t.Error&&(t=t.Error),t.Code?e.error=i.error(new Error,{code:t.Code,message:t.Message}):e.error=i.error(new Error,{code:e.httpResponse.statusCode,message:null})},extractData:function(e){var t;o.extractData(e);var n=e.request,a=e.httpResponse.body,s=n.service.api.operations[n.operation],c=s.output,u=(s.hasEventOutput,c.payload);if(u){var l=c.members[u];l.isEventStream?(t=new r.XML.Parser,e.data[u]=i.createEventStream(2===r.HttpClient.streamsApiVersion?e.httpResponse.stream:e.httpResponse.body,t,l)):"structure"===l.type?(t=new r.XML.Parser,e.data[u]=t.parse(a.toString(),l)):"binary"===l.type||l.isStreaming?e.data[u]=a:e.data[u]=l.toType(a)}else if(a.length>0){var d=(t=new r.XML.Parser).parse(a.toString(),c);i.update(e.data,d)}}}},{"../core":18,"../util":71,"./rest":48}],51:[function(e,t,n){var r=e("../util");function i(){}function o(e){return e.isQueryName||"ec2"!==e.api.protocol?e.name:e.name[0].toUpperCase()+e.name.substr(1)}function a(e,t,n,i){r.each(n.members,(function(n,r){var a=t[n];if(null!=a){var c=o(r);s(c=e?e+"."+c:c,a,r,i)}}))}function s(e,t,n,i){null!=t&&("structure"===n.type?a(e,t,n,i):"list"===n.type?function(e,t,n,i){var a=n.member||{};0!==t.length?r.arrayEach(t,(function(t,r){var c="."+(r+1);if("ec2"===n.api.protocol)c+="";else if(n.flattened){if(a.name){var u=e.split(".");u.pop(),u.push(o(a)),e=u.join(".")}}else c="."+(a.name?a.name:"member")+c;s(e+c,t,a,i)})):i.call(this,e,null)}(e,t,n,i):"map"===n.type?function(e,t,n,i){var o=1;r.each(t,(function(t,r){var a=(n.flattened?".":".entry.")+o+++".",c=a+(n.key.name||"key"),u=a+(n.value.name||"value");s(e+c,t,n.key,i),s(e+u,r,n.value,i)}))}(e,t,n,i):i(e,n.toWireFormat(t).toString()))}i.prototype.serialize=function(e,t,n){a("",e,t,n)},t.exports=i},{"../util":71}],52:[function(e,t,n){t.exports={now:function(){return"undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():Date.now()}}},{}],53:[function(e,t,n){var r=e("./util"),i=e("./region_config_data.json");function o(e,t){r.each(t,(function(t,n){"globalEndpoint"!==t&&(void 0!==e.config[t]&&null!==e.config[t]||(e.config[t]=n))}))}t.exports=function(e){for(var t=function(e){var t=e.config.region,n=function(e){if(!e)return null;var t=e.split("-");return t.length<3?null:t.slice(0,t.length-2).join("-")+"-*"}(t),r=e.api.endpointPrefix;return[[t,r],[n,r],[t,"*"],[n,"*"],["*",r],["*","*"]].map((function(e){return e[0]&&e[1]?e.join("/"):null}))}(e),n=0;n<t.length;n++){var a=t[n];if(a&&Object.prototype.hasOwnProperty.call(i.rules,a)){var s=i.rules[a];return"string"==typeof s&&(s=i.patterns[s]),e.config.useDualstack&&r.isDualstackAvailable(e)&&((s=r.copy(s)).endpoint="{service}.dualstack.{region}.amazonaws.com"),e.isGlobalEndpoint=!!s.globalEndpoint,s.signatureVersion||(s.signatureVersion="v4"),void o(e,s)}}}},{"./region_config_data.json":54,"./util":71}],54:[function(e,t,n){t.exports={rules:{"*/*":{endpoint:"{service}.{region}.amazonaws.com"},"cn-*/*":{endpoint:"{service}.{region}.amazonaws.com.cn"},"*/budgets":"globalSSL","*/cloudfront":"globalSSL","*/iam":"globalSSL","*/sts":"globalSSL","*/importexport":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2",globalEndpoint:!0},"*/route53":{endpoint:"https://{service}.amazonaws.com",signatureVersion:"v3https",globalEndpoint:!0},"*/waf":"globalSSL","us-gov-*/iam":"globalGovCloud","us-gov-*/sts":{endpoint:"{service}.{region}.amazonaws.com"},"us-gov-west-1/s3":"s3signature","us-west-1/s3":"s3signature","us-west-2/s3":"s3signature","eu-west-1/s3":"s3signature","ap-southeast-1/s3":"s3signature","ap-southeast-2/s3":"s3signature","ap-northeast-1/s3":"s3signature","sa-east-1/s3":"s3signature","us-east-1/s3":{endpoint:"{service}.amazonaws.com",signatureVersion:"s3"},"us-east-1/sdb":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2"},"*/sdb":{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"v2"}},patterns:{globalSSL:{endpoint:"https://{service}.amazonaws.com",globalEndpoint:!0},globalGovCloud:{endpoint:"{service}.us-gov.amazonaws.com"},s3signature:{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"s3"}}}},{}],55:[function(e,t,n){(function(t){(function(){var n=e("./core"),r=e("./state_machine"),i=n.util.inherit,o=n.util.domain,a=e("jmespath"),s={success:1,error:1,complete:1};var c=new r;c.setupStates=function(){var e=function(e,t){var n=this;n._haltHandlersOnError=!1,n.emit(n._asm.currentState,(function(e){if(e)if(r=n,Object.prototype.hasOwnProperty.call(s,r._asm.currentState)){if(!(o&&n.domain instanceof o.Domain))throw e;e.domainEmitter=n,e.domain=n.domain,e.domainThrown=!1,n.domain.emit("error",e)}else n.response.error=e,t(e);else t(n.response.error);var r}))};this.addState("validate","build","error",e),this.addState("build","afterBuild","restart",e),this.addState("afterBuild","sign","restart",e),this.addState("sign","send","retry",e),this.addState("retry","afterRetry","afterRetry",e),this.addState("afterRetry","sign","error",e),this.addState("send","validateResponse","retry",e),this.addState("validateResponse","extractData","extractError",e),this.addState("extractError","extractData","retry",e),this.addState("extractData","success","retry",e),this.addState("restart","build","error",e),this.addState("success","complete","complete",e),this.addState("error","complete","complete",e),this.addState("complete",null,null,e)},c.setupStates(),n.Request=i({constructor:function(e,t,i){var a=e.endpoint,s=e.config.region,u=e.config.customUserAgent;e.isGlobalEndpoint&&(s="us-east-1"),this.domain=o&&o.active,this.service=e,this.operation=t,this.params=i||{},this.httpRequest=new n.HttpRequest(a,s),this.httpRequest.appendToUserAgent(u),this.startTime=e.getSkewCorrectedDate(),this.response=new n.Response(this),this._asm=new r(c.states,"validate"),this._haltHandlersOnError=!1,n.SequentialExecutor.call(this),this.emit=this.emitEvent},send:function(e){return e&&(this.httpRequest.appendToUserAgent("callback"),this.on("complete",(function(t){e.call(t,t.error,t.data)}))),this.runTo(),this.response},build:function(e){return this.runTo("send",e)},runTo:function(e,t){return this._asm.runTo(e,t,this),this},abort:function(){return this.removeAllListeners("validateResponse"),this.removeAllListeners("extractError"),this.on("validateResponse",(function(e){e.error=n.util.error(new Error("Request aborted by user"),{code:"RequestAbortedError",retryable:!1})})),this.httpRequest.stream&&!this.httpRequest.stream.didCallback&&(this.httpRequest.stream.abort(),this.httpRequest._abortCallback?this.httpRequest._abortCallback():this.removeAllListeners("send")),this},eachPage:function(e){e=n.util.fn.makeAsync(e,3),this.on("complete",(function t(r){e.call(r,r.error,r.data,(function(i){!1!==i&&(r.hasNextPage()?r.nextPage().on("complete",t).send():e.call(r,null,null,n.util.fn.noop))}))})).send()},eachItem:function(e){var t=this;this.eachPage((function(r,i){if(r)return e(r,null);if(null===i)return e(null,null);var o=t.service.paginationConfig(t.operation).resultKey;Array.isArray(o)&&(o=o[0]);var s=a.search(i,o),c=!0;return n.util.arrayEach(s,(function(t){if(!1===(c=e(null,t)))return n.util.abort})),c}))},isPageable:function(){return!!this.service.paginationConfig(this.operation)},createReadStream:function(){var e=n.util.stream,r=this,i=null;return 2===n.HttpClient.streamsApiVersion?(i=new e.PassThrough,t.nextTick((function(){r.send()}))):((i=new e.Stream).readable=!0,i.sent=!1,i.on("newListener",(function(e){i.sent||"data"!==e||(i.sent=!0,t.nextTick((function(){r.send()})))}))),this.on("error",(function(e){i.emit("error",e)})),this.on("httpHeaders",(function(t,o,a){if(t<300){r.removeListener("httpData",n.EventListeners.Core.HTTP_DATA),r.removeListener("httpError",n.EventListeners.Core.HTTP_ERROR),r.on("httpError",(function(e){a.error=e,a.error.retryable=!1}));var s,c=!1;if("HEAD"!==r.httpRequest.method&&(s=parseInt(o["content-length"],10)),void 0!==s&&!isNaN(s)&&s>=0){c=!0;var u=0}var l=function(){c&&u!==s?i.emit("error",n.util.error(new Error("Stream content length mismatch. Received "+u+" of "+s+" bytes."),{code:"StreamContentLengthMismatch"})):2===n.HttpClient.streamsApiVersion?i.end():i.emit("end")},d=a.httpResponse.createUnbufferedStream();if(2===n.HttpClient.streamsApiVersion)if(c){var f=new e.PassThrough;f._write=function(t){return t&&t.length&&(u+=t.length),e.PassThrough.prototype._write.apply(this,arguments)},f.on("end",l),i.on("error",(function(e){c=!1,d.unpipe(f),f.emit("end"),f.end()})),d.pipe(f).pipe(i,{end:!1})}else d.pipe(i);else c&&d.on("data",(function(e){e&&e.length&&(u+=e.length)})),d.on("data",(function(e){i.emit("data",e)})),d.on("end",l);d.on("error",(function(e){c=!1,i.emit("error",e)}))}})),i},emitEvent:function(e,t,r){"function"==typeof t&&(r=t,t=null),r||(r=function(){}),t||(t=this.eventParameters(e,this.response)),n.SequentialExecutor.prototype.emit.call(this,e,t,(function(e){e&&(this.response.error=e),r.call(this,e)}))},eventParameters:function(e){switch(e){case"restart":case"validate":case"sign":case"build":case"afterValidate":case"afterBuild":return[this];case"error":return[this.response.error,this.response];default:return[this.response]}},presign:function(e,t){return t||"function"!=typeof e||(t=e,e=null),(new n.Signers.Presign).sign(this.toGet(),e,t)},isPresigned:function(){return Object.prototype.hasOwnProperty.call(this.httpRequest.headers,"presigned-expires")},toUnauthenticated:function(){return this._unAuthenticated=!0,this.removeListener("validate",n.EventListeners.Core.VALIDATE_CREDENTIALS),this.removeListener("sign",n.EventListeners.Core.SIGN),this},toGet:function(){return"query"!==this.service.api.protocol&&"ec2"!==this.service.api.protocol||(this.removeListener("build",this.buildAsGet),this.addListener("build",this.buildAsGet)),this},buildAsGet:function(e){e.httpRequest.method="GET",e.httpRequest.path=e.service.endpoint.path+"?"+e.httpRequest.body,e.httpRequest.body="",delete e.httpRequest.headers["Content-Length"],delete e.httpRequest.headers["Content-Type"]},haltHandlersOnError:function(){this._haltHandlersOnError=!0}}),n.Request.addPromisesToClass=function(e){this.prototype.promise=function(){var t=this;return this.httpRequest.appendToUserAgent("promise"),new e((function(e,n){t.on("complete",(function(t){t.error?n(t.error):e(Object.defineProperty(t.data||{},"$response",{value:t}))})),t.runTo()}))}},n.Request.deletePromisesFromClass=function(){delete this.prototype.promise},n.util.addPromises(n.Request),n.util.mixin(n.Request,n.SequentialExecutor)}).call(this)}).call(this,e("_process"))},{"./core":18,"./state_machine":70,_process:86,jmespath:85}],56:[function(e,t,n){var r=e("./core"),i=r.util.inherit,o=e("jmespath");function a(e){var t=e.request._waiter,n=t.config.acceptors,r=!1,i="retry";n.forEach((function(n){if(!r){var o=t.matchers[n.matcher];o&&o(e,n.expected,n.argument)&&(r=!0,i=n.state)}})),!r&&e.error&&(i="failure"),"success"===i?t.setSuccess(e):t.setError(e,"retry"===i)}r.ResourceWaiter=i({constructor:function(e,t){this.service=e,this.state=t,this.loadWaiterConfig(this.state)},service:null,state:null,config:null,matchers:{path:function(e,t,n){try{var r=o.search(e.data,n)}catch(e){return!1}return o.strictDeepEqual(r,t)},pathAll:function(e,t,n){try{var r=o.search(e.data,n)}catch(e){return!1}Array.isArray(r)||(r=[r]);var i=r.length;if(!i)return!1;for(var a=0;a<i;a++)if(!o.strictDeepEqual(r[a],t))return!1;return!0},pathAny:function(e,t,n){try{var r=o.search(e.data,n)}catch(e){return!1}Array.isArray(r)||(r=[r]);for(var i=r.length,a=0;a<i;a++)if(o.strictDeepEqual(r[a],t))return!0;return!1},status:function(e,t){var n=e.httpResponse.statusCode;return"number"==typeof n&&n===t},error:function(e,t){return"string"==typeof t&&e.error?t===e.error.code:t===!!e.error}},listeners:(new r.SequentialExecutor).addNamedListeners((function(e){e("RETRY_CHECK","retry",(function(e){var t=e.request._waiter;e.error&&"ResourceNotReady"===e.error.code&&(e.error.retryDelay=1e3*(t.config.delay||0))})),e("CHECK_OUTPUT","extractData",a),e("CHECK_ERROR","extractError",a)})),wait:function(e,t){"function"==typeof e&&(t=e,e=void 0),e&&e.$waiter&&("number"==typeof(e=r.util.copy(e)).$waiter.delay&&(this.config.delay=e.$waiter.delay),"number"==typeof e.$waiter.maxAttempts&&(this.config.maxAttempts=e.$waiter.maxAttempts),delete e.$waiter);var n=this.service.makeRequest(this.config.operation,e);return n._waiter=this,n.response.maxRetries=this.config.maxAttempts,n.addListeners(this.listeners),t&&n.send(t),n},setSuccess:function(e){e.error=null,e.data=e.data||{},e.request.removeAllListeners("extractData")},setError:function(e,t){e.data=null,e.error=r.util.error(e.error||new Error,{code:"ResourceNotReady",message:"Resource is not in the state "+this.state,retryable:t})},loadWaiterConfig:function(e){if(!this.service.api.waiters[e])throw new r.util.error(new Error,{code:"StateNotFoundError",message:"State "+e+" not found."});this.config=r.util.copy(this.service.api.waiters[e])}})},{"./core":18,jmespath:85}],57:[function(e,t,n){var r=e("./core"),i=r.util.inherit,o=e("jmespath");r.Response=i({constructor:function(e){this.request=e,this.data=null,this.error=null,this.retryCount=0,this.redirectCount=0,this.httpResponse=new r.HttpResponse,e&&(this.maxRetries=e.service.numRetries(),this.maxRedirects=e.service.config.maxRedirects)},nextPage:function(e){var t,n=this.request.service,i=this.request.operation;try{t=n.paginationConfig(i,!0)}catch(e){this.error=e}if(!this.hasNextPage()){if(e)e(this.error,null);else if(this.error)throw this.error;return null}var o=r.util.copy(this.request.params);if(this.nextPageTokens){var a=t.inputToken;"string"==typeof a&&(a=[a]);for(var s=0;s<a.length;s++)o[a[s]]=this.nextPageTokens[s];return n.makeRequest(this.request.operation,o,e)}return e?e(null,null):null},hasNextPage:function(){return this.cacheNextPageTokens(),!!this.nextPageTokens||void 0===this.nextPageTokens&&void 0},cacheNextPageTokens:function(){if(Object.prototype.hasOwnProperty.call(this,"nextPageTokens"))return this.nextPageTokens;this.nextPageTokens=void 0;var e=this.request.service.paginationConfig(this.request.operation);if(!e)return this.nextPageTokens;if(this.nextPageTokens=null,e.moreResults&&!o.search(this.data,e.moreResults))return this.nextPageTokens;var t=e.outputToken;return"string"==typeof t&&(t=[t]),r.util.arrayEach.call(this,t,(function(e){var t=o.search(this.data,e);t&&(this.nextPageTokens=this.nextPageTokens||[],this.nextPageTokens.push(t))})),this.nextPageTokens}})},{"./core":18,jmespath:85}],58:[function(e,t,n){var r=e("./core");r.SequentialExecutor=r.util.inherit({constructor:function(){this._events={}},listeners:function(e){return this._events[e]?this._events[e].slice(0):[]},on:function(e,t,n){return this._events[e]?n?this._events[e].unshift(t):this._events[e].push(t):this._events[e]=[t],this},onAsync:function(e,t,n){return t._isAsync=!0,this.on(e,t,n)},removeListener:function(e,t){var n=this._events[e];if(n){for(var r=n.length,i=-1,o=0;o<r;++o)n[o]===t&&(i=o);i>-1&&n.splice(i,1)}return this},removeAllListeners:function(e){return e?delete this._events[e]:this._events={},this},emit:function(e,t,n){n||(n=function(){});var r=this.listeners(e),i=r.length;return this.callListeners(r,t,n),i>0},callListeners:function(e,t,n,i){var o=this,a=i||null;function s(i){if(i&&(a=r.util.error(a||new Error,i),o._haltHandlersOnError))return n.call(o,a);o.callListeners(e,t,n,a)}for(;e.length>0;){var c=e.shift();if(c._isAsync)return void c.apply(o,t.concat([s]));try{c.apply(o,t)}catch(e){a=r.util.error(a||new Error,e)}if(a&&o._haltHandlersOnError)return void n.call(o,a)}n.call(o,a)},addListeners:function(e){var t=this;return e._events&&(e=e._events),r.util.each(e,(function(e,n){"function"==typeof n&&(n=[n]),r.util.arrayEach(n,(function(n){t.on(e,n)}))})),t},addNamedListener:function(e,t,n,r){return this[e]=n,this.addListener(t,n,r),this},addNamedAsyncListener:function(e,t,n,r){return n._isAsync=!0,this.addNamedListener(e,t,n,r)},addNamedListeners:function(e){var t=this;return e((function(){t.addNamedListener.apply(t,arguments)}),(function(){t.addNamedAsyncListener.apply(t,arguments)})),this}}),r.SequentialExecutor.prototype.addListener=r.SequentialExecutor.prototype.on,t.exports=r.SequentialExecutor},{"./core":18}],59:[function(e,t,n){(function(n){(function(){var r=e("./core"),i=e("./model/api"),o=e("./region_config"),a=r.util.inherit,s=0;r.Service=a({constructor:function(e){if(!this.loadServiceClass)throw r.util.error(new Error,"Service must be constructed with `new' operator");var t=this.loadServiceClass(e||{});if(t){var n=r.util.copy(e),i=new t(e);return Object.defineProperty(i,"_originalConfig",{get:function(){return n},enumerable:!1,configurable:!0}),i._clientId=++s,i}this.initialize(e)},initialize:function(e){var t=r.config[this.serviceIdentifier];if(this.config=new r.Config(r.config),t&&this.config.update(t,!0),e&&this.config.update(e,!0),this.validateService(),this.config.endpoint||o(this),this.config.endpoint=this.endpointFromTemplate(this.config.endpoint),this.setEndpoint(this.config.endpoint),r.SequentialExecutor.call(this),r.Service.addDefaultMonitoringListeners(this),(this.config.clientSideMonitoring||r.Service._clientSideMonitoring)&&this.publisher){var i=this.publisher;this.addNamedListener("PUBLISH_API_CALL","apiCall",(function(e){n.nextTick((function(){i.eventHandler(e)}))})),this.addNamedListener("PUBLISH_API_ATTEMPT","apiCallAttempt",(function(e){n.nextTick((function(){i.eventHandler(e)}))}))}},validateService:function(){},loadServiceClass:function(e){var t=e;if(r.util.isEmpty(this.api)){if(t.apiConfig)return r.Service.defineServiceApi(this.constructor,t.apiConfig);if(this.constructor.services){(t=new r.Config(r.config)).update(e,!0);var n=t.apiVersions[this.constructor.serviceIdentifier];return n=n||t.apiVersion,this.getLatestServiceClass(n)}return null}return null},getLatestServiceClass:function(e){return e=this.getLatestServiceVersion(e),null===this.constructor.services[e]&&r.Service.defineServiceApi(this.constructor,e),this.constructor.services[e]},getLatestServiceVersion:function(e){if(!this.constructor.services||0===this.constructor.services.length)throw new Error("No services defined on "+this.constructor.serviceIdentifier);if(e?r.util.isType(e,Date)&&(e=r.util.date.iso8601(e).split("T")[0]):e="latest",Object.hasOwnProperty(this.constructor.services,e))return e;for(var t=Object.keys(this.constructor.services).sort(),n=null,i=t.length-1;i>=0;i--)if("*"!==t[i][t[i].length-1]&&(n=t[i]),t[i].substr(0,10)<=e)return n;throw new Error("Could not find "+this.constructor.serviceIdentifier+" API to satisfy version constraint `"+e+"'")},api:{},defaultRetryCount:3,customizeRequests:function(e){if(e){if("function"!=typeof e)throw new Error("Invalid callback type '"+typeof e+"' provided in customizeRequests");this.customRequestHandler=e}else this.customRequestHandler=null},makeRequest:function(e,t,n){if("function"==typeof t&&(n=t,t=null),t=t||{},this.config.params){var i=this.api.operations[e];i&&(t=r.util.copy(t),r.util.each(this.config.params,(function(e,n){i.input.members[e]&&(void 0!==t[e]&&null!==t[e]||(t[e]=n))})))}var o=new r.Request(this,e,t);return this.addAllRequestListeners(o),this.attachMonitoringEmitter(o),n&&o.send(n),o},makeUnauthenticatedRequest:function(e,t,n){"function"==typeof t&&(n=t,t={});var r=this.makeRequest(e,t).toUnauthenticated();return n?r.send(n):r},waitFor:function(e,t,n){return new r.ResourceWaiter(this,e).wait(t,n)},addAllRequestListeners:function(e){for(var t=[r.events,r.EventListeners.Core,this.serviceInterface(),r.EventListeners.CorePost],n=0;n<t.length;n++)t[n]&&e.addListeners(t[n]);this.config.paramValidation||e.removeListener("validate",r.EventListeners.Core.VALIDATE_PARAMETERS),this.config.logger&&e.addListeners(r.EventListeners.Logger),this.setupRequestListeners(e),"function"==typeof this.constructor.prototype.customRequestHandler&&this.constructor.prototype.customRequestHandler(e),Object.prototype.hasOwnProperty.call(this,"customRequestHandler")&&"function"==typeof this.customRequestHandler&&this.customRequestHandler(e)},apiCallEvent:function(e){var t=e.service.api.operations[e.operation],n={Type:"ApiCall",Api:t?t.name:e.operation,Version:1,Service:e.service.api.serviceId||e.service.api.endpointPrefix,Region:e.httpRequest.region,MaxRetriesExceeded:0,UserAgent:e.httpRequest.getUserAgent()},r=e.response;if(r.httpResponse.statusCode&&(n.FinalHttpStatusCode=r.httpResponse.statusCode),r.error){var i=r.error;r.httpResponse.statusCode>299?(i.code&&(n.FinalAwsException=i.code),i.message&&(n.FinalAwsExceptionMessage=i.message)):((i.code||i.name)&&(n.FinalSdkException=i.code||i.name),i.message&&(n.FinalSdkExceptionMessage=i.message))}return n},apiAttemptEvent:function(e){var t=e.service.api.operations[e.operation],n={Type:"ApiCallAttempt",Api:t?t.name:e.operation,Version:1,Service:e.service.api.serviceId||e.service.api.endpointPrefix,Fqdn:e.httpRequest.endpoint.hostname,UserAgent:e.httpRequest.getUserAgent()},r=e.response;return r.httpResponse.statusCode&&(n.HttpStatusCode=r.httpResponse.statusCode),!e._unAuthenticated&&e.service.config.credentials&&e.service.config.credentials.accessKeyId&&(n.AccessKey=e.service.config.credentials.accessKeyId),r.httpResponse.headers?(e.httpRequest.headers["x-amz-security-token"]&&(n.SessionToken=e.httpRequest.headers["x-amz-security-token"]),r.httpResponse.headers["x-amzn-requestid"]&&(n.XAmznRequestId=r.httpResponse.headers["x-amzn-requestid"]),r.httpResponse.headers["x-amz-request-id"]&&(n.XAmzRequestId=r.httpResponse.headers["x-amz-request-id"]),r.httpResponse.headers["x-amz-id-2"]&&(n.XAmzId2=r.httpResponse.headers["x-amz-id-2"]),n):n},attemptFailEvent:function(e){var t=this.apiAttemptEvent(e),n=e.response,r=n.error;return n.httpResponse.statusCode>299?(r.code&&(t.AwsException=r.code),r.message&&(t.AwsExceptionMessage=r.message)):((r.code||r.name)&&(t.SdkException=r.code||r.name),r.message&&(t.SdkExceptionMessage=r.message)),t},attachMonitoringEmitter:function(e){var t,n,i,o,a,s,c=0,u=this;e.on("validate",(function(){o=r.util.realClock.now(),s=Date.now()}),!0),e.on("sign",(function(){n=r.util.realClock.now(),t=Date.now(),a=e.httpRequest.region,c++}),!0),e.on("validateResponse",(function(){i=Math.round(r.util.realClock.now()-n)})),e.addNamedListener("API_CALL_ATTEMPT","success",(function(){var n=u.apiAttemptEvent(e);n.Timestamp=t,n.AttemptLatency=i>=0?i:0,n.Region=a,u.emit("apiCallAttempt",[n])})),e.addNamedListener("API_CALL_ATTEMPT_RETRY","retry",(function(){var o=u.attemptFailEvent(e);o.Timestamp=t,i=i||Math.round(r.util.realClock.now()-n),o.AttemptLatency=i>=0?i:0,o.Region=a,u.emit("apiCallAttempt",[o])})),e.addNamedListener("API_CALL","complete",(function(){var t=u.apiCallEvent(e);if(t.AttemptCount=c,!(t.AttemptCount<=0)){t.Timestamp=s;var n=Math.round(r.util.realClock.now()-o);t.Latency=n>=0?n:0;var i=e.response;"number"==typeof i.retryCount&&"number"==typeof i.maxRetries&&i.retryCount>=i.maxRetries&&(t.MaxRetriesExceeded=1),u.emit("apiCall",[t])}}))},setupRequestListeners:function(e){},getSignerClass:function(e){var t,n=null,i="";e&&(i=(n=(e.service.api.operations||{})[e.operation]||null)?n.authtype:"");return t=this.config.signatureVersion?this.config.signatureVersion:"v4"===i||"v4-unsigned-body"===i?"v4":this.api.signatureVersion,r.Signers.RequestSigner.getVersion(t)},serviceInterface:function(){switch(this.api.protocol){case"ec2":case"query":return r.EventListeners.Query;case"json":return r.EventListeners.Json;case"rest-json":return r.EventListeners.RestJson;case"rest-xml":return r.EventListeners.RestXml}if(this.api.protocol)throw new Error("Invalid service `protocol' "+this.api.protocol+" in API config")},successfulResponse:function(e){return e.httpResponse.statusCode<300},numRetries:function(){return void 0!==this.config.maxRetries?this.config.maxRetries:this.defaultRetryCount},retryDelays:function(e){return r.util.calculateRetryDelay(e,this.config.retryDelayOptions)},retryableError:function(e){return!!this.timeoutError(e)||(!!this.networkingError(e)||(!!this.expiredCredentialsError(e)||(!!this.throttledError(e)||e.statusCode>=500)))},networkingError:function(e){return"NetworkingError"===e.code},timeoutError:function(e){return"TimeoutError"===e.code},expiredCredentialsError:function(e){return"ExpiredTokenException"===e.code},clockSkewError:function(e){switch(e.code){case"RequestTimeTooSkewed":case"RequestExpired":case"InvalidSignatureException":case"SignatureDoesNotMatch":case"AuthFailure":case"RequestInTheFuture":return!0;default:return!1}},getSkewCorrectedDate:function(){return new Date(Date.now()+this.config.systemClockOffset)},applyClockOffset:function(e){e&&(this.config.systemClockOffset=e-Date.now())},isClockSkewed:function(e){if(e)return Math.abs(this.getSkewCorrectedDate().getTime()-e)>=3e4},throttledError:function(e){if(429===e.statusCode)return!0;switch(e.code){case"ProvisionedThroughputExceededException":case"Throttling":case"ThrottlingException":case"RequestLimitExceeded":case"RequestThrottled":case"RequestThrottledException":case"TooManyRequestsException":case"TransactionInProgressException":return!0;default:return!1}},endpointFromTemplate:function(e){if("string"!=typeof e)return e;var t=e;return t=(t=(t=t.replace(/\{service\}/g,this.api.endpointPrefix)).replace(/\{region\}/g,this.config.region)).replace(/\{scheme\}/g,this.config.sslEnabled?"https":"http")},setEndpoint:function(e){this.endpoint=new r.Endpoint(e,this.config)},paginationConfig:function(e,t){var n=this.api.operations[e].paginator;if(!n){if(t){var i=new Error;throw r.util.error(i,"No pagination configuration for "+e)}return null}return n}}),r.util.update(r.Service,{defineMethods:function(e){r.util.each(e.prototype.api.operations,(function(t){e.prototype[t]||("none"===e.prototype.api.operations[t].authtype?e.prototype[t]=function(e,n){return this.makeUnauthenticatedRequest(t,e,n)}:e.prototype[t]=function(e,n){return this.makeRequest(t,e,n)})}))},defineService:function(e,t,n){r.Service._serviceMap[e]=!0,Array.isArray(t)||(n=t,t=[]);var i=a(r.Service,n||{});if("string"==typeof e){r.Service.addVersions(i,t);var o=i.serviceIdentifier||e;i.serviceIdentifier=o}else i.prototype.api=e,r.Service.defineMethods(i);if(r.SequentialExecutor.call(this.prototype),!this.prototype.publisher&&r.util.clientSideMonitoring){var s=r.util.clientSideMonitoring.Publisher,c=(0,r.util.clientSideMonitoring.configProvider)();this.prototype.publisher=new s(c),c.enabled&&(r.Service._clientSideMonitoring=!0)}return r.SequentialExecutor.call(i.prototype),r.Service.addDefaultMonitoringListeners(i.prototype),i},addVersions:function(e,t){Array.isArray(t)||(t=[t]),e.services=e.services||{};for(var n=0;n<t.length;n++)void 0===e.services[t[n]]&&(e.services[t[n]]=null);e.apiVersions=Object.keys(e.services).sort()},defineServiceApi:function(e,t,n){var o=a(e,{serviceIdentifier:e.serviceIdentifier});function s(e){e.isApi?o.prototype.api=e:o.prototype.api=new i(e)}if("string"==typeof t){if(n)s(n);else try{s(r.apiLoader(e.serviceIdentifier,t))}catch(n){throw r.util.error(n,{message:"Could not find API configuration "+e.serviceIdentifier+"-"+t})}Object.prototype.hasOwnProperty.call(e.services,t)||(e.apiVersions=e.apiVersions.concat(t).sort()),e.services[t]=o}else s(t);return r.Service.defineMethods(o),o},hasService:function(e){return Object.prototype.hasOwnProperty.call(r.Service._serviceMap,e)},addDefaultMonitoringListeners:function(e){e.addNamedListener("MONITOR_EVENTS_BUBBLE","apiCallAttempt",(function(t){var n=Object.getPrototypeOf(e);n._events&&n.emit("apiCallAttempt",[t])})),e.addNamedListener("CALL_EVENTS_BUBBLE","apiCall",(function(t){var n=Object.getPrototypeOf(e);n._events&&n.emit("apiCall",[t])}))},_serviceMap:{}}),r.util.mixin(r.Service,r.SequentialExecutor),t.exports=r.Service}).call(this)}).call(this,e("_process"))},{"./core":18,"./model/api":38,"./region_config":53,_process:86}],60:[function(e,t,n){var r=e("../core");r.util.update(r.CognitoIdentity.prototype,{getOpenIdToken:function(e,t){return this.makeUnauthenticatedRequest("getOpenIdToken",e,t)},getId:function(e,t){return this.makeUnauthenticatedRequest("getId",e,t)},getCredentialsForIdentity:function(e,t){return this.makeUnauthenticatedRequest("getCredentialsForIdentity",e,t)}})},{"../core":18}],61:[function(e,t,n){(function(t){(function(){var n=e("../core"),r=e("../region_config");n.util.update(n.STS.prototype,{credentialsFrom:function(e,t){return e?(t||(t=new n.TemporaryCredentials),t.expired=!1,t.accessKeyId=e.Credentials.AccessKeyId,t.secretAccessKey=e.Credentials.SecretAccessKey,t.sessionToken=e.Credentials.SessionToken,t.expireTime=e.Credentials.Expiration,t):null},assumeRoleWithWebIdentity:function(e,t){return this.makeUnauthenticatedRequest("assumeRoleWithWebIdentity",e,t)},assumeRoleWithSAML:function(e,t){return this.makeUnauthenticatedRequest("assumeRoleWithSAML",e,t)},validateRegionalEndpointsFlagValue:function(e,t){if(!("string"==typeof e&&["legacy","regional"].indexOf(e.toLowerCase())>=0))throw n.util.error(new Error,t);this.config.stsRegionalEndpoints=e.toLowerCase()},validateRegionalEndpointsFlag:function(){var e=this.config;if(e.stsRegionalEndpoints&&this.validateRegionalEndpointsFlagValue(e.stsRegionalEndpoints,{code:"InvalidConfiguration",message:'invalid "stsRegionalEndpoints" configuration. Expect "legacy"  or "regional". Got "'+e.stsRegionalEndpoints+'".'}),n.util.isNode()){if(Object.prototype.hasOwnProperty.call(t.env,"AWS_STS_REGIONAL_ENDPOINTS")){var r=t.env.AWS_STS_REGIONAL_ENDPOINTS;this.validateRegionalEndpointsFlagValue(r,{code:"InvalidEnvironmentalVariable",message:'invalid AWS_STS_REGIONAL_ENDPOINTS environmental variable. Expect "legacy"  or "regional". Got "'+t.env.AWS_STS_REGIONAL_ENDPOINTS+'".'})}var i={};try{i=n.util.getProfilesFromSharedConfig(n.util.iniLoader)[t.env.AWS_PROFILE||n.util.defaultProfile]}catch(e){}if(i&&Object.prototype.hasOwnProperty.call(i,"sts_regional_endpoints")){var o=i.sts_regional_endpoints;this.validateRegionalEndpointsFlagValue(o,{code:"InvalidConfiguration",message:'invalid sts_regional_endpoints profile config. Expect "legacy"  or "regional". Got "'+i.sts_regional_endpoints+'".'})}}},optInRegionalEndpoint:function(){this.validateRegionalEndpointsFlag();var e=this.config;if("regional"===e.stsRegionalEndpoints){if(r(this),!this.isGlobalEndpoint)return;if(this.isGlobalEndpoint=!1,!e.region)throw n.util.error(new Error,{code:"ConfigError",message:"Missing region in config"});var t=e.endpoint.indexOf(".amazonaws.com");e.endpoint=e.endpoint.substring(0,t)+"."+e.region+e.endpoint.substring(t)}},validateService:function(){this.optInRegionalEndpoint()}})}).call(this)}).call(this,e("_process"))},{"../core":18,"../region_config":53,_process:86}],62:[function(e,t,n){var r=e("../core"),i=r.util.inherit,o="presigned-expires";function a(e){var t=e.httpRequest.headers[o],n=e.service.getSignerClass(e);if(delete e.httpRequest.headers["User-Agent"],delete e.httpRequest.headers["X-Amz-User-Agent"],n===r.Signers.V4){if(t>604800){throw r.util.error(new Error,{code:"InvalidExpiryTime",message:"Presigning does not support expiry time greater than a week with SigV4 signing.",retryable:!1})}e.httpRequest.headers[o]=t}else{if(n!==r.Signers.S3)throw r.util.error(new Error,{message:"Presigning only supports S3 or SigV4 signing.",code:"UnsupportedSigner",retryable:!1});var i=e.service?e.service.getSkewCorrectedDate():r.util.date.getDate();e.httpRequest.headers[o]=parseInt(r.util.date.unixTimestamp(i)+t,10).toString()}}function s(e){var t=e.httpRequest.endpoint,n=r.util.urlParse(e.httpRequest.path),i={};n.search&&(i=r.util.queryStringParse(n.search.substr(1)));var a=e.httpRequest.headers.Authorization.split(" ");if("AWS"===a[0])a=a[1].split(":"),i.AWSAccessKeyId=a[0],i.Signature=a[1],r.util.each(e.httpRequest.headers,(function(e,t){e===o&&(e="Expires"),0===e.indexOf("x-amz-meta-")&&(delete i[e],e=e.toLowerCase()),i[e]=t})),delete e.httpRequest.headers[o],delete i.Authorization,delete i.Host;else if("AWS4-HMAC-SHA256"===a[0]){a.shift();var s=a.join(" ").match(/Signature=(.*?)(?:,|\s|\r?\n|$)/)[1];i["X-Amz-Signature"]=s,delete i.Expires}t.pathname=n.pathname,t.search=r.util.queryParamsToString(i)}r.Signers.Presign=i({sign:function(e,t,n){if(e.httpRequest.headers[o]=t||3600,e.on("build",a),e.on("sign",s),e.removeListener("afterBuild",r.EventListeners.Core.SET_CONTENT_LENGTH),e.removeListener("afterBuild",r.EventListeners.Core.COMPUTE_SHA256),e.emit("beforePresign",[e]),!n){if(e.build(),e.response.error)throw e.response.error;return r.util.urlFormat(e.httpRequest.endpoint)}e.build((function(){this.response.error?n(this.response.error):n(null,r.util.urlFormat(e.httpRequest.endpoint))}))}}),t.exports=r.Signers.Presign},{"../core":18}],63:[function(e,t,n){var r=e("../core"),i=r.util.inherit;r.Signers.RequestSigner=i({constructor:function(e){this.request=e},setServiceClientId:function(e){this.serviceClientId=e},getServiceClientId:function(){return this.serviceClientId}}),r.Signers.RequestSigner.getVersion=function(e){switch(e){case"v2":return r.Signers.V2;case"v3":return r.Signers.V3;case"s3v4":case"v4":return r.Signers.V4;case"s3":return r.Signers.S3;case"v3https":return r.Signers.V3Https}throw new Error("Unknown signing version "+e)},e("./v2"),e("./v3"),e("./v3https"),e("./v4"),e("./s3"),e("./presign")},{"../core":18,"./presign":62,"./s3":64,"./v2":65,"./v3":66,"./v3https":67,"./v4":68}],64:[function(e,t,n){var r=e("../core"),i=r.util.inherit;r.Signers.S3=i(r.Signers.RequestSigner,{subResources:{acl:1,accelerate:1,analytics:1,cors:1,lifecycle:1,delete:1,inventory:1,location:1,logging:1,metrics:1,notification:1,partNumber:1,policy:1,requestPayment:1,replication:1,restore:1,tagging:1,torrent:1,uploadId:1,uploads:1,versionId:1,versioning:1,versions:1,website:1},responseHeaders:{"response-content-type":1,"response-content-language":1,"response-expires":1,"response-cache-control":1,"response-content-disposition":1,"response-content-encoding":1},addAuthorization:function(e,t){this.request.headers["presigned-expires"]||(this.request.headers["X-Amz-Date"]=r.util.date.rfc822(t)),e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken);var n=this.sign(e.secretAccessKey,this.stringToSign()),i="AWS "+e.accessKeyId+":"+n;this.request.headers.Authorization=i},stringToSign:function(){var e=this.request,t=[];t.push(e.method),t.push(e.headers["Content-MD5"]||""),t.push(e.headers["Content-Type"]||""),t.push(e.headers["presigned-expires"]||"");var n=this.canonicalizedAmzHeaders();return n&&t.push(n),t.push(this.canonicalizedResource()),t.join("\n")},canonicalizedAmzHeaders:function(){var e=[];r.util.each(this.request.headers,(function(t){t.match(/^x-amz-/i)&&e.push(t)})),e.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:1}));var t=[];return r.util.arrayEach.call(this,e,(function(e){t.push(e.toLowerCase()+":"+String(this.request.headers[e]))})),t.join("\n")},canonicalizedResource:function(){var e=this.request,t=e.path.split("?"),n=t[0],i=t[1],o="";if(e.virtualHostedBucket&&(o+="/"+e.virtualHostedBucket),o+=n,i){var a=[];r.util.arrayEach.call(this,i.split("&"),(function(e){var t=e.split("=")[0],n=e.split("=")[1];if(this.subResources[t]||this.responseHeaders[t]){var r={name:t};void 0!==n&&(this.subResources[t]?r.value=n:r.value=decodeURIComponent(n)),a.push(r)}})),a.sort((function(e,t){return e.name<t.name?-1:1})),a.length&&(i=[],r.util.arrayEach(a,(function(e){void 0===e.value?i.push(e.name):i.push(e.name+"="+e.value)})),o+="?"+i.join("&"))}return o},sign:function(e,t){return r.util.crypto.hmac(e,t,"base64","sha1")}}),t.exports=r.Signers.S3},{"../core":18}],65:[function(e,t,n){var r=e("../core"),i=r.util.inherit;r.Signers.V2=i(r.Signers.RequestSigner,{addAuthorization:function(e,t){t||(t=r.util.date.getDate());var n=this.request;n.params.Timestamp=r.util.date.iso8601(t),n.params.SignatureVersion="2",n.params.SignatureMethod="HmacSHA256",n.params.AWSAccessKeyId=e.accessKeyId,e.sessionToken&&(n.params.SecurityToken=e.sessionToken),delete n.params.Signature,n.params.Signature=this.signature(e),n.body=r.util.queryParamsToString(n.params),n.headers["Content-Length"]=n.body.length},signature:function(e){return r.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var e=[];return e.push(this.request.method),e.push(this.request.endpoint.host.toLowerCase()),e.push(this.request.pathname()),e.push(r.util.queryParamsToString(this.request.params)),e.join("\n")}}),t.exports=r.Signers.V2},{"../core":18}],66:[function(e,t,n){var r=e("../core"),i=r.util.inherit;r.Signers.V3=i(r.Signers.RequestSigner,{addAuthorization:function(e,t){var n=r.util.date.rfc822(t);this.request.headers["X-Amz-Date"]=n,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken),this.request.headers["X-Amzn-Authorization"]=this.authorization(e,n)},authorization:function(e){return"AWS3 AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,SignedHeaders="+this.signedHeaders()+",Signature="+this.signature(e)},signedHeaders:function(){var e=[];return r.util.arrayEach(this.headersToSign(),(function(t){e.push(t.toLowerCase())})),e.sort().join(";")},canonicalHeaders:function(){var e=this.request.headers,t=[];return r.util.arrayEach(this.headersToSign(),(function(n){t.push(n.toLowerCase().trim()+":"+String(e[n]).trim())})),t.sort().join("\n")+"\n"},headersToSign:function(){var e=[];return r.util.each(this.request.headers,(function(t){("Host"===t||"Content-Encoding"===t||t.match(/^X-Amz/i))&&e.push(t)})),e},signature:function(e){return r.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var e=[];return e.push(this.request.method),e.push("/"),e.push(""),e.push(this.canonicalHeaders()),e.push(this.request.body),r.util.crypto.sha256(e.join("\n"))}}),t.exports=r.Signers.V3},{"../core":18}],67:[function(e,t,n){var r=e("../core"),i=r.util.inherit;e("./v3"),r.Signers.V3Https=i(r.Signers.V3,{authorization:function(e){return"AWS3-HTTPS AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,Signature="+this.signature(e)},stringToSign:function(){return this.request.headers["X-Amz-Date"]}}),t.exports=r.Signers.V3Https},{"../core":18,"./v3":66}],68:[function(e,t,n){var r=e("../core"),i=e("./v4_credentials"),o=r.util.inherit;r.Signers.V4=o(r.Signers.RequestSigner,{constructor:function(e,t,n){r.Signers.RequestSigner.call(this,e),this.serviceName=t,n=n||{},this.signatureCache="boolean"!=typeof n.signatureCache||n.signatureCache,this.operation=n.operation,this.signatureVersion=n.signatureVersion},algorithm:"AWS4-HMAC-SHA256",addAuthorization:function(e,t){var n=r.util.date.iso8601(t).replace(/[:\-]|\.\d{3}/g,"");this.isPresigned()?this.updateForPresigned(e,n):this.addHeaders(e,n),this.request.headers.Authorization=this.authorization(e,n)},addHeaders:function(e,t){this.request.headers["X-Amz-Date"]=t,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken)},updateForPresigned:function(e,t){var n=this.credentialString(t),i={"X-Amz-Date":t,"X-Amz-Algorithm":this.algorithm,"X-Amz-Credential":e.accessKeyId+"/"+n,"X-Amz-Expires":this.request.headers["presigned-expires"],"X-Amz-SignedHeaders":this.signedHeaders()};e.sessionToken&&(i["X-Amz-Security-Token"]=e.sessionToken),this.request.headers["Content-Type"]&&(i["Content-Type"]=this.request.headers["Content-Type"]),this.request.headers["Content-MD5"]&&(i["Content-MD5"]=this.request.headers["Content-MD5"]),this.request.headers["Cache-Control"]&&(i["Cache-Control"]=this.request.headers["Cache-Control"]),r.util.each.call(this,this.request.headers,(function(e,t){if("presigned-expires"!==e&&this.isSignableHeader(e)){var n=e.toLowerCase();0===n.indexOf("x-amz-meta-")?i[n]=t:0===n.indexOf("x-amz-")&&(i[e]=t)}}));var o=this.request.path.indexOf("?")>=0?"&":"?";this.request.path+=o+r.util.queryParamsToString(i)},authorization:function(e,t){var n=[],r=this.credentialString(t);return n.push(this.algorithm+" Credential="+e.accessKeyId+"/"+r),n.push("SignedHeaders="+this.signedHeaders()),n.push("Signature="+this.signature(e,t)),n.join(", ")},signature:function(e,t){var n=i.getSigningKey(e,t.substr(0,8),this.request.region,this.serviceName,this.signatureCache);return r.util.crypto.hmac(n,this.stringToSign(t),"hex")},stringToSign:function(e){var t=[];return t.push("AWS4-HMAC-SHA256"),t.push(e),t.push(this.credentialString(e)),t.push(this.hexEncodedHash(this.canonicalString())),t.join("\n")},canonicalString:function(){var e=[],t=this.request.pathname();return"s3"!==this.serviceName&&"s3v4"!==this.signatureVersion&&(t=r.util.uriEscapePath(t)),e.push(this.request.method),e.push(t),e.push(this.request.search()),e.push(this.canonicalHeaders()+"\n"),e.push(this.signedHeaders()),e.push(this.hexEncodedBodyHash()),e.join("\n")},canonicalHeaders:function(){var e=[];r.util.each.call(this,this.request.headers,(function(t,n){e.push([t,n])})),e.sort((function(e,t){return e[0].toLowerCase()<t[0].toLowerCase()?-1:1}));var t=[];return r.util.arrayEach.call(this,e,(function(e){var n=e[0].toLowerCase();if(this.isSignableHeader(n)){var i=e[1];if(null==i||"function"!=typeof i.toString)throw r.util.error(new Error("Header "+n+" contains invalid value"),{code:"InvalidHeader"});t.push(n+":"+this.canonicalHeaderValues(i.toString()))}})),t.join("\n")},canonicalHeaderValues:function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},signedHeaders:function(){var e=[];return r.util.each.call(this,this.request.headers,(function(t){t=t.toLowerCase(),this.isSignableHeader(t)&&e.push(t)})),e.sort().join(";")},credentialString:function(e){return i.createScope(e.substr(0,8),this.request.region,this.serviceName)},hexEncodedHash:function(e){return r.util.crypto.sha256(e,"hex")},hexEncodedBodyHash:function(){var e=this.request;return this.isPresigned()&&"s3"===this.serviceName&&!e.body?"UNSIGNED-PAYLOAD":e.headers["X-Amz-Content-Sha256"]?e.headers["X-Amz-Content-Sha256"]:this.hexEncodedHash(this.request.body||"")},unsignableHeaders:["authorization","content-type","content-length","user-agent","presigned-expires","expect","x-amzn-trace-id"],isSignableHeader:function(e){return 0===e.toLowerCase().indexOf("x-amz-")||this.unsignableHeaders.indexOf(e)<0},isPresigned:function(){return!!this.request.headers["presigned-expires"]}}),t.exports=r.Signers.V4},{"../core":18,"./v4_credentials":69}],69:[function(e,t,n){var r=e("../core"),i={},o=[],a="aws4_request";t.exports={createScope:function(e,t,n){return[e.substr(0,8),t,n,a].join("/")},getSigningKey:function(e,t,n,s,c){var u=[r.util.crypto.hmac(e.secretAccessKey,e.accessKeyId,"base64"),t,n,s].join("_");if((c=!1!==c)&&u in i)return i[u];var l=r.util.crypto.hmac("AWS4"+e.secretAccessKey,t,"buffer"),d=r.util.crypto.hmac(l,n,"buffer"),f=r.util.crypto.hmac(d,s,"buffer"),p=r.util.crypto.hmac(f,a,"buffer");return c&&(i[u]=p,o.push(u),o.length>50&&delete i[o.shift()]),p},emptyCache:function(){i={},o=[]}}},{"../core":18}],70:[function(e,t,n){function r(e,t){this.currentState=t||null,this.states=e||{}}r.prototype.runTo=function(e,t,n,r){"function"==typeof e&&(r=n,n=t,t=e,e=null);var i=this,o=i.states[i.currentState];o.fn.call(n||i,r,(function(r){if(r){if(!o.fail)return t?t.call(n,r):null;i.currentState=o.fail}else{if(!o.accept)return t?t.call(n):null;i.currentState=o.accept}if(i.currentState===e)return t?t.call(n,r):null;i.runTo(e,t,n,r)}))},r.prototype.addState=function(e,t,n,r){return"function"==typeof t?(r=t,t=null,n=null):"function"==typeof n&&(r=n,n=null),this.currentState||(this.currentState=e),this.states[e]={accept:t,fail:n,fn:r},this},t.exports=r},{}],71:[function(e,t,n){(function(n,r){(function(){var i,o={environment:"nodejs",engine:function(){if(o.isBrowser()&&"undefined"!=typeof navigator)return navigator.userAgent;var e=n.platform+"/"+n.version;return n.env.AWS_EXECUTION_ENV&&(e+=" exec-env/"+n.env.AWS_EXECUTION_ENV),e},userAgent:function(){var t=o.environment,n="aws-sdk-"+t+"/"+e("./core").VERSION;return"nodejs"===t&&(n+=" "+o.engine()),n},uriEscape:function(e){var t=encodeURIComponent(e);return t=(t=t.replace(/[^A-Za-z0-9_.~\-%]+/g,escape)).replace(/[*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))},uriEscapePath:function(e){var t=[];return o.arrayEach(e.split("/"),(function(e){t.push(o.uriEscape(e))})),t.join("/")},urlParse:function(e){return o.url.parse(e)},urlFormat:function(e){return o.url.format(e)},queryStringParse:function(e){return o.querystring.parse(e)},queryParamsToString:function(e){var t=[],n=o.uriEscape,r=Object.keys(e).sort();return o.arrayEach(r,(function(r){var i=e[r],a=n(r),s=a+"=";if(Array.isArray(i)){var c=[];o.arrayEach(i,(function(e){c.push(n(e))})),s=a+"="+c.sort().join("&"+a+"=")}else null!=i&&(s=a+"="+n(i));t.push(s)})),t.join("&")},readFileSync:function(t){return o.isBrowser()?null:e("fs").readFileSync(t,"utf-8")},base64:{encode:function(e){if("number"==typeof e)throw o.error(new Error("Cannot base64 encode number "+e));return null==e?e:o.buffer.toBuffer(e).toString("base64")},decode:function(e){if("number"==typeof e)throw o.error(new Error("Cannot base64 decode number "+e));return null==e?e:o.buffer.toBuffer(e,"base64")}},buffer:{toBuffer:function(e,t){return"function"==typeof o.Buffer.from&&o.Buffer.from!==Uint8Array.from?o.Buffer.from(e,t):new o.Buffer(e,t)},alloc:function(e,t,n){if("number"!=typeof e)throw new Error("size passed to alloc must be a number.");if("function"==typeof o.Buffer.alloc)return o.Buffer.alloc(e,t,n);var r=new o.Buffer(e);return void 0!==t&&"function"==typeof r.fill&&r.fill(t,void 0,void 0,n),r},toStream:function(e){o.Buffer.isBuffer(e)||(e=o.buffer.toBuffer(e));var t=new o.stream.Readable,n=0;return t._read=function(r){if(n>=e.length)return t.push(null);var i=n+r;i>e.length&&(i=e.length),t.push(e.slice(n,i)),n=i},t},concat:function(e){var t,n,r=0,i=0;for(n=0;n<e.length;n++)r+=e[n].length;for(t=o.buffer.alloc(r),n=0;n<e.length;n++)e[n].copy(t,i),i+=e[n].length;return t}},string:{byteLength:function(t){if(null==t)return 0;if("string"==typeof t&&(t=o.buffer.toBuffer(t)),"number"==typeof t.byteLength)return t.byteLength;if("number"==typeof t.length)return t.length;if("number"==typeof t.size)return t.size;if("string"==typeof t.path)return e("fs").lstatSync(t.path).size;throw o.error(new Error("Cannot determine length of "+t),{object:t})},upperFirst:function(e){return e[0].toUpperCase()+e.substr(1)},lowerFirst:function(e){return e[0].toLowerCase()+e.substr(1)}},ini:{parse:function(e){var t,n={};return o.arrayEach(e.split(/\r?\n/),(function(e){var r=(e=e.split(/(^|\s)[;#]/)[0]).match(/^\s*\[([^\[\]]+)\]\s*$/);if(r)t=r[1];else if(t){var i=e.match(/^\s*(.+?)\s*=\s*(.+?)\s*$/);i&&(n[t]=n[t]||{},n[t][i[1]]=i[2])}})),n}},fn:{noop:function(){},callback:function(e){if(e)throw e},makeAsync:function(e,t){return t&&t<=e.length?e:function(){var t=Array.prototype.slice.call(arguments,0),n=t.pop(),r=e.apply(null,t);n(r)}}},date:{getDate:function(){return i||(i=e("./core")),i.config.systemClockOffset?new Date((new Date).getTime()+i.config.systemClockOffset):new Date},iso8601:function(e){return void 0===e&&(e=o.date.getDate()),e.toISOString().replace(/\.\d{3}Z$/,"Z")},rfc822:function(e){return void 0===e&&(e=o.date.getDate()),e.toUTCString()},unixTimestamp:function(e){return void 0===e&&(e=o.date.getDate()),e.getTime()/1e3},from:function(e){return"number"==typeof e?new Date(1e3*e):new Date(e)},format:function(e,t){return t||(t="iso8601"),o.date[t](o.date.from(e))},parseTimestamp:function(e){if("number"==typeof e)return new Date(1e3*e);if(e.match(/^\d+$/))return new Date(1e3*e);if(e.match(/^\d{4}/))return new Date(e);if(e.match(/^\w{3},/))return new Date(e);throw o.error(new Error("unhandled timestamp format: "+e),{code:"TimestampParserError"})}},crypto:{crc32Table:[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],crc32:function(e){var t=o.crypto.crc32Table,n=-1;"string"==typeof e&&(e=o.buffer.toBuffer(e));for(var r=0;r<e.length;r++){n=n>>>8^t[255&(n^e.readUInt8(r))]}return(-1^n)>>>0},hmac:function(e,t,n,r){return n||(n="binary"),"buffer"===n&&(n=void 0),r||(r="sha256"),"string"==typeof t&&(t=o.buffer.toBuffer(t)),o.crypto.lib.createHmac(r,e).update(t).digest(n)},md5:function(e,t,n){return o.crypto.hash("md5",e,t,n)},sha256:function(e,t,n){return o.crypto.hash("sha256",e,t,n)},hash:function(e,t,n,r){var i=o.crypto.createHash(e);n||(n="binary"),"buffer"===n&&(n=void 0),"string"==typeof t&&(t=o.buffer.toBuffer(t));var a=o.arraySliceFn(t),s=o.Buffer.isBuffer(t);if(o.isBrowser()&&"undefined"!=typeof ArrayBuffer&&t&&t.buffer instanceof ArrayBuffer&&(s=!0),r&&"object"==typeof t&&"function"==typeof t.on&&!s)t.on("data",(function(e){i.update(e)})),t.on("error",(function(e){r(e)})),t.on("end",(function(){r(null,i.digest(n))}));else{if(!r||!a||s||"undefined"==typeof FileReader){o.isBrowser()&&"object"==typeof t&&!s&&(t=new o.Buffer(new Uint8Array(t)));var c=i.update(t).digest(n);return r&&r(null,c),c}var u=0,l=new FileReader;l.onerror=function(){r(new Error("Failed to read data."))},l.onload=function(){var e=new o.Buffer(new Uint8Array(l.result));i.update(e),u+=e.length,l._continueReading()},l._continueReading=function(){if(u>=t.size)r(null,i.digest(n));else{var e=u+524288;e>t.size&&(e=t.size),l.readAsArrayBuffer(a.call(t,u,e))}},l._continueReading()}},toHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push(("0"+e.charCodeAt(n).toString(16)).substr(-2,2));return t.join("")},createHash:function(e){return o.crypto.lib.createHash(e)}},abort:{},each:function(e,t){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))if(t.call(this,n,e[n])===o.abort)break}},arrayEach:function(e,t){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))if(t.call(this,e[n],parseInt(n,10))===o.abort)break}},update:function(e,t){return o.each(t,(function(t,n){e[t]=n})),e},merge:function(e,t){return o.update(o.copy(e),t)},copy:function(e){if(null==e)return e;var t={};for(var n in e)t[n]=e[n];return t},isEmpty:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},arraySliceFn:function(e){var t=e.slice||e.webkitSlice||e.mozSlice;return"function"==typeof t?t:null},isType:function(e,t){return"function"==typeof t&&(t=o.typeName(t)),Object.prototype.toString.call(e)==="[object "+t+"]"},typeName:function(e){if(Object.prototype.hasOwnProperty.call(e,"name"))return e.name;var t=e.toString(),n=t.match(/^\s*function (.+)\(/);return n?n[1]:t},error:function(e,t){var n=null;return"string"==typeof e.message&&""!==e.message&&("string"==typeof t||t&&t.message)&&((n=o.copy(e)).message=e.message),e.message=e.message||null,"string"==typeof t?e.message=t:"object"==typeof t&&null!==t&&(o.update(e,t),t.message&&(e.message=t.message),(t.code||t.name)&&(e.code=t.code||t.name),t.stack&&(e.stack=t.stack)),"function"==typeof Object.defineProperty&&(Object.defineProperty(e,"name",{writable:!0,enumerable:!1}),Object.defineProperty(e,"message",{enumerable:!0})),e.name=t&&t.name||e.name||e.code||"Error",e.time=new Date,n&&(e.originalError=n),e},inherit:function(e,t){var n=null;if(void 0===t)t=e,e=Object,n={};else{var r=function(){};r.prototype=e.prototype,n=new r}return t.constructor===Object&&(t.constructor=function(){if(e!==Object)return e.apply(this,arguments)}),t.constructor.prototype=n,o.update(t.constructor.prototype,t),t.constructor.__super__=e,t.constructor},mixin:function(){for(var e=arguments[0],t=1;t<arguments.length;t++)for(var n in arguments[t].prototype){var r=arguments[t].prototype[n];"constructor"!==n&&(e.prototype[n]=r)}return e},hideProperties:function(e,t){"function"==typeof Object.defineProperty&&o.arrayEach(t,(function(t){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0})}))},property:function(e,t,n,r,i){var o={configurable:!0,enumerable:void 0===r||r};"function"!=typeof n||i?(o.value=n,o.writable=!0):o.get=n,Object.defineProperty(e,t,o)},memoizedProperty:function(e,t,n,r){var i=null;o.property(e,t,(function(){return null===i&&(i=n()),i}),r)},hoistPayloadMember:function(e){var t=e.request,n=t.operation,r=t.service.api.operations[n],i=r.output;if(i.payload&&!r.hasEventOutput){var a=i.members[i.payload],s=e.data[i.payload];"structure"===a.type&&o.each(s,(function(t,n){o.property(e.data,t,n,!1)}))}},computeSha256:function(t,n){if(o.isNode()){var r=o.stream.Stream,i=e("fs");if("function"==typeof r&&t instanceof r){if("string"!=typeof t.path)return n(new Error("Non-file stream objects are not supported with SigV4"));var a={};"number"==typeof t.start&&(a.start=t.start),"number"==typeof t.end&&(a.end=t.end),t=i.createReadStream(t.path,a)}}o.crypto.sha256(t,"hex",(function(e,t){e?n(e):n(null,t)}))},isClockSkewed:function(e){if(e)return o.property(i.config,"isClockSkewed",Math.abs((new Date).getTime()-e)>=3e5,!1),i.config.isClockSkewed},applyClockOffset:function(e){e&&(i.config.systemClockOffset=e-(new Date).getTime())},extractRequestId:function(e){var t=e.httpResponse.headers["x-amz-request-id"]||e.httpResponse.headers["x-amzn-requestid"];!t&&e.data&&e.data.ResponseMetadata&&(t=e.data.ResponseMetadata.RequestId),t&&(e.requestId=t),e.error&&(e.error.requestId=t)},addPromises:function(e,t){var n=!1;void 0===t&&i&&i.config&&(t=i.config.getPromisesDependency()),void 0===t&&"undefined"!=typeof Promise&&(t=Promise),"function"!=typeof t&&(n=!0),Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var o=e[r];n?o.deletePromisesFromClass&&o.deletePromisesFromClass():o.addPromisesToClass&&o.addPromisesToClass(t)}},promisifyMethod:function(e,t){return function(){var n=this,r=Array.prototype.slice.call(arguments);return new t((function(t,i){r.push((function(e,n){e?i(e):t(n)})),n[e].apply(n,r)}))}},isDualstackAvailable:function(t){if(!t)return!1;var n=e("../apis/metadata.json");return"string"!=typeof t&&(t=t.serviceIdentifier),!("string"!=typeof t||!n.hasOwnProperty(t))&&!!n[t].dualstackAvailable},calculateRetryDelay:function(e,t){t||(t={});var n=t.customBackoff||null;if("function"==typeof n)return n(e);var r="number"==typeof t.base?t.base:100;return Math.random()*(Math.pow(2,e)*r)},handleRequestWithRetries:function(e,t,n){t||(t={});var r=i.HttpClient.getInstance(),a=t.httpOptions||{},s=0,c=function(e){var r=t.maxRetries||0;if(e&&"TimeoutError"===e.code&&(e.retryable=!0),e&&e.retryable&&s<r){s++;var i=o.calculateRetryDelay(s,t.retryDelayOptions);setTimeout(u,i+(e.retryAfter||0))}else n(e)},u=function(){var t="";r.handleRequest(e,a,(function(e){e.on("data",(function(e){t+=e.toString()})),e.on("end",(function(){var r=e.statusCode;if(r<300)n(null,t);else{var i=1e3*parseInt(e.headers["retry-after"],10)||0,a=o.error(new Error,{retryable:r>=500||429===r});i&&a.retryable&&(a.retryAfter=i),c(a)}}))}),c)};i.util.defer(u)},uuid:{v4:function(){return e("uuid").v4()}},convertPayloadToString:function(e){var t=e.request,n=t.operation,r=t.service.api.operations[n].output||{};r.payload&&e.data[r.payload]&&(e.data[r.payload]=e.data[r.payload].toString())},defer:function(e){"object"==typeof n&&"function"==typeof n.nextTick?n.nextTick(e):"function"==typeof r?r(e):setTimeout(e,0)},getRequestPayloadShape:function(e){var t=e.service.api.operations;if(t){var n=(t||{})[e.operation];if(n&&n.input&&n.input.payload)return n.input.members[n.input.payload]}},getProfilesFromSharedConfig:function(e,t){var r={},i={};if(n.env[o.configOptInEnv])i=e.loadFrom({isConfig:!0,filename:n.env[o.sharedConfigFileEnv]});for(var a=e.loadFrom({filename:t||n.env[o.configOptInEnv]&&n.env[o.sharedCredentialsFileEnv]}),s=0,c=Object.keys(i);s<c.length;s++)r[c[s]]=i[c[s]];for(s=0,c=Object.keys(a);s<c.length;s++)r[c[s]]=a[c[s]];return r},defaultProfile:"default",configOptInEnv:"AWS_SDK_LOAD_CONFIG",sharedCredentialsFileEnv:"AWS_SHARED_CREDENTIALS_FILE",sharedConfigFileEnv:"AWS_CONFIG_FILE",imdsDisabledEnv:"AWS_EC2_METADATA_DISABLED"};t.exports=o}).call(this)}).call(this,e("_process"),e("timers").setImmediate)},{"../apis/metadata.json":4,"./core":18,_process:86,fs:79,timers:93,uuid:98}],72:[function(e,t,n){var r=e("../util"),i=e("../model/shape");function o(){}function a(e,t){for(var n=e.getElementsByTagName(t),r=0,i=n.length;r<i;r++)if(n[r].parentNode===e)return n[r]}function s(e,t){switch(t||(t={}),t.type){case"structure":return c(e,t);case"map":return function(e,t){var n={},r=t.key.name||"key",i=t.value.name||"value",o=t.flattened?t.name:"entry",c=e.firstElementChild;for(;c;){if(c.nodeName===o){var u=a(c,r).textContent,l=a(c,i);n[u]=s(l,t.value)}c=c.nextElementSibling}return n}(e,t);case"list":return function(e,t){var n=[],r=t.flattened?t.name:t.member.name||"member",i=e.firstElementChild;for(;i;)i.nodeName===r&&n.push(s(i,t.member)),i=i.nextElementSibling;return n}(e,t);case void 0:case null:return function(e){if(null==e)return"";if(!e.firstElementChild)return null===e.parentNode.parentNode?{}:0===e.childNodes.length?"":e.textContent;var t={type:"structure",members:{}},n=e.firstElementChild;for(;n;){var r=n.nodeName;Object.prototype.hasOwnProperty.call(t.members,r)?t.members[r].type="list":t.members[r]={name:r},n=n.nextElementSibling}return c(e,t)}(e);default:return function(e,t){if(e.getAttribute){var n=e.getAttribute("encoding");"base64"===n&&(t=new i.create({type:n}))}var r=e.textContent;""===r&&(r=null);return"function"==typeof t.toType?t.toType(r):r}(e,t)}}function c(e,t){var n={};return null===e||r.each(t.members,(function(t,r){if(r.isXmlAttribute){if(Object.prototype.hasOwnProperty.call(e.attributes,r.name)){var i=e.attributes[r.name].value;n[t]=s({textContent:i},r)}}else{var o=r.flattened?e:a(e,r.name);o?n[t]=s(o,r):r.flattened||"list"!==r.type||(n[t]=r.defaultValue)}})),n}o.prototype.parse=function(e,t){if(""===e.replace(/^\s+/,""))return{};var n,i;try{if(window.DOMParser){try{n=(new DOMParser).parseFromString(e,"text/xml")}catch(e){throw r.error(new Error("Parse error in document"),{originalError:e,code:"XMLParserError",retryable:!0})}if(null===n.documentElement)throw r.error(new Error("Cannot parse empty document."),{code:"XMLParserError",retryable:!0});var o=n.getElementsByTagName("parsererror")[0];if(o&&(o.parentNode===n||"body"===o.parentNode.nodeName||o.parentNode.parentNode===n||"body"===o.parentNode.parentNode.nodeName)){var c=o.getElementsByTagName("div")[0]||o;throw r.error(new Error(c.textContent||"Parser error in document"),{code:"XMLParserError",retryable:!0})}}else{if(!window.ActiveXObject)throw new Error("Cannot load XML parser");if((n=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,!n.loadXML(e))throw r.error(new Error("Parse error in document"),{code:"XMLParserError",retryable:!0})}}catch(e){i=e}if(n&&n.documentElement&&!i){var u=s(n.documentElement,t),l=a(n.documentElement,"ResponseMetadata");return l&&(u.ResponseMetadata=s(l,{})),u}if(i)throw r.error(i||new Error,{code:"XMLParserError",retryable:!0});return{}},t.exports=o},{"../model/shape":43,"../util":71}],73:[function(e,t,n){var r=e("../util"),i=e("./xml-node").XmlNode,o=e("./xml-text").XmlText;function a(){}function s(e,t,n){switch(n.type){case"structure":return function(e,t,n){r.arrayEach(n.memberNames,(function(r){var o=n.members[r];if("body"===o.location){var a=t[r],u=o.name;if(null!=a)if(o.isXmlAttribute)e.addAttribute(u,a);else if(o.flattened)s(e,a,o);else{var l=new i(u);e.addChildNode(l),c(l,o),s(l,a,o)}}}))}(e,t,n);case"map":return function(e,t,n){var o=n.key.name||"key",a=n.value.name||"value";r.each(t,(function(t,r){var c=new i(n.flattened?n.name:"entry");e.addChildNode(c);var u=new i(o),l=new i(a);c.addChildNode(u),c.addChildNode(l),s(u,t,n.key),s(l,r,n.value)}))}(e,t,n);case"list":return function(e,t,n){n.flattened?r.arrayEach(t,(function(t){var r=n.member.name||n.name,o=new i(r);e.addChildNode(o),s(o,t,n.member)})):r.arrayEach(t,(function(t){var r=n.member.name||"member",o=new i(r);e.addChildNode(o),s(o,t,n.member)}))}(e,t,n);default:return function(e,t,n){e.addChildNode(new o(n.toWireFormat(t)))}(e,t,n)}}function c(e,t,n){var r,i="xmlns";t.xmlNamespaceUri?(r=t.xmlNamespaceUri,t.xmlNamespacePrefix&&(i+=":"+t.xmlNamespacePrefix)):n&&t.api.xmlNamespaceUri&&(r=t.api.xmlNamespaceUri),r&&e.addAttribute(i,r)}a.prototype.toXML=function(e,t,n,r){var o=new i(n);return c(o,t,!0),s(o,e,t),o.children.length>0||r?o.toString():""},t.exports=a},{"../util":71,"./xml-node":76,"./xml-text":77}],74:[function(e,t,n){t.exports={escapeAttribute:function(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}}},{}],75:[function(e,t,n){t.exports={escapeElement:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}},{}],76:[function(e,t,n){var r=e("./escape-attribute").escapeAttribute;function i(e,t){void 0===t&&(t=[]),this.name=e,this.children=t,this.attributes={}}i.prototype.addAttribute=function(e,t){return this.attributes[e]=t,this},i.prototype.addChildNode=function(e){return this.children.push(e),this},i.prototype.removeAttribute=function(e){return delete this.attributes[e],this},i.prototype.toString=function(){for(var e=Boolean(this.children.length),t="<"+this.name,n=this.attributes,i=0,o=Object.keys(n);i<o.length;i++){var a=o[i],s=n[a];null!=s&&(t+=" "+a+'="'+r(""+s)+'"')}return t+(e?">"+this.children.map((function(e){return e.toString()})).join("")+"</"+this.name+">":"/>")},t.exports={XmlNode:i}},{"./escape-attribute":74}],77:[function(e,t,n){var r=e("./escape-element").escapeElement;function i(e){this.value=e}i.prototype.toString=function(){return r(""+this.value)},t.exports={XmlText:i}},{"./escape-element":75}],78:[function(e,t,n){"use strict";n.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],79:[function(e,t,n){},{}],80:[function(r,i,o){(function(e){(function(){!function(r){"object"==typeof o&&o&&o.nodeType,"object"==typeof i&&i&&i.nodeType;var a="object"==typeof e&&e;a.global!==a&&a.window!==a&&a.self;var s,c=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function m(e){throw RangeError(f[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function b(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(d,".")).split("."),t).join(".")}function v(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function y(e){return g(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function S(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=36)e=p(e/35);return p(r+36*e/(e+38))}function E(e){var t,n,r,i,o,a,s,u,l,d,f,h=[],g=e.length,b=0,v=128,S=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),h.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=b,a=1,s=36;i>=g&&m("invalid-input"),((u=(f=e.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||u>p((c-b)/a))&&m("overflow"),b+=u*a,!(u<(l=s<=S?1:s>=S+26?26:s-S));s+=36)a>p(c/(d=36-l))&&m("overflow"),a*=d;S=w(b-o,t=h.length+1,0==o),p(b/t)>c-v&&m("overflow"),v+=p(b/t),b%=t,h.splice(b++,0,v)}return y(h)}function C(e){var t,n,r,i,o,a,s,u,l,d,f,g,b,y,E,C=[];for(g=(e=v(e)).length,t=128,n=0,o=72,a=0;a<g;++a)(f=e[a])<128&&C.push(h(f));for(r=i=C.length,i&&C.push("-");r<g;){for(s=c,a=0;a<g;++a)(f=e[a])>=t&&f<s&&(s=f);for(s-t>p((c-n)/(b=r+1))&&m("overflow"),n+=(s-t)*b,t=s,a=0;a<g;++a)if((f=e[a])<t&&++n>c&&m("overflow"),f==t){for(u=n,l=36;!(u<(d=l<=o?1:l>=o+26?26:l-o));l+=36)E=u-d,y=36-d,C.push(h(S(d+E%y,0))),u=p(E/y);C.push(h(S(u,0))),o=w(n,b,r==i),n=0,++r}++n,++t}return C.join("")}s={version:"1.3.2",ucs2:{decode:v,encode:y},decode:E,encode:C,toASCII:function(e){return b(e,(function(e){return l.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return b(e,(function(e){return u.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(t=function(){return s}.call(o,n,o,i))||(i.exports=t)}()}).call(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],81:[function(t,n,r){(function(e,n){(function(){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
"use strict";var n=t("base64-js"),i=t("ieee754"),o=t("isarray");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var d=!0,f=0;f<c;f++)if(u(e,o+f)!==u(t,f)){d=!1;break}if(d)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function S(e,t,n,r){return q(B(t,e.length-n),e,n,r)}function w(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return w(e,t,n,r)}function C(e,t,n,r){return q(V(t),e,n,r)}function T(e,t,n,r){return q(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function _(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,c,u=e[i],l=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=n)switch(d){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}r.Buffer=c,r.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},r.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),r.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=e.slice(t,n),d=0;d<s;++d)if(u[d]!==l[d]){o=u[d],a=l[d];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=j(e[o]);return i}function x(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:B(new c(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"base64-js":78,buffer:81,ieee754:83,isarray:84}],82:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,s,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(a(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),r=(u=n.slice()).length,c=0;c<r;c++)u[c].apply(this,s);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],83:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=u}return(p?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*m}},{}],84:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],85:[function(e,t,n){!function(e){"use strict";function t(e){return null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e,i){if(e===i)return!0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(i))return!1;if(!0===t(e)){if(e.length!==i.length)return!1;for(var o=0;o<e.length;o++)if(!1===r(e[o],i[o]))return!1;return!0}if(!0===n(e)){var a={};for(var s in e)if(hasOwnProperty.call(e,s)){if(!1===r(e[s],i[s]))return!1;a[s]=!0}for(var c in i)if(hasOwnProperty.call(i,c)&&!0!==a[c])return!1;return!0}return!1}function i(e){if(""===e||!1===e||null===e)return!0;if(t(e)&&0===e.length)return!0;if(n(e)){for(var r in e)if(e.hasOwnProperty(r))return!1;return!0}return!1}var o;o="function"==typeof String.prototype.trimLeft?function(e){return e.trimLeft()}:function(e){return e.match(/^\s*(.*)/)[1]};var a=0,s=2,c={".":"Dot","*":"Star",",":"Comma",":":"Colon","{":"Lbrace","}":"Rbrace","]":"Rbracket","(":"Lparen",")":"Rparen","@":"Current"},u={"<":!0,">":!0,"=":!0,"!":!0},l={" ":!0,"\t":!0,"\n":!0};function d(e){return e>="0"&&e<="9"||"-"===e}function f(){}f.prototype={tokenize:function(e){var t,n,r,i,o=[];for(this._current=0;this._current<e.length;)if((i=e[this._current])>="a"&&i<="z"||i>="A"&&i<="Z"||"_"===i)t=this._current,n=this._consumeUnquotedIdentifier(e),o.push({type:"UnquotedIdentifier",value:n,start:t});else if(void 0!==c[e[this._current]])o.push({type:c[e[this._current]],value:e[this._current],start:this._current}),this._current++;else if(d(e[this._current]))r=this._consumeNumber(e),o.push(r);else if("["===e[this._current])r=this._consumeLBracket(e),o.push(r);else if('"'===e[this._current])t=this._current,n=this._consumeQuotedIdentifier(e),o.push({type:"QuotedIdentifier",value:n,start:t});else if("'"===e[this._current])t=this._current,n=this._consumeRawStringLiteral(e),o.push({type:"Literal",value:n,start:t});else if("`"===e[this._current]){t=this._current;var a=this._consumeLiteral(e);o.push({type:"Literal",value:a,start:t})}else if(void 0!==u[e[this._current]])o.push(this._consumeOperator(e));else if(void 0!==l[e[this._current]])this._current++;else if("&"===e[this._current])t=this._current,this._current++,"&"===e[this._current]?(this._current++,o.push({type:"And",value:"&&",start:t})):o.push({type:"Expref",value:"&",start:t});else{if("|"!==e[this._current]){var s=new Error("Unknown character:"+e[this._current]);throw s.name="LexerError",s}t=this._current,this._current++,"|"===e[this._current]?(this._current++,o.push({type:"Or",value:"||",start:t})):o.push({type:"Pipe",value:"|",start:t})}return o},_consumeUnquotedIdentifier:function(e){var t,n=this._current;for(this._current++;this._current<e.length&&((t=e[this._current])>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||"_"===t);)this._current++;return e.slice(n,this._current)},_consumeQuotedIdentifier:function(e){var t=this._current;this._current++;for(var n=e.length;'"'!==e[this._current]&&this._current<n;){var r=this._current;"\\"!==e[r]||"\\"!==e[r+1]&&'"'!==e[r+1]?r++:r+=2,this._current=r}return this._current++,JSON.parse(e.slice(t,this._current))},_consumeRawStringLiteral:function(e){var t=this._current;this._current++;for(var n=e.length;"'"!==e[this._current]&&this._current<n;){var r=this._current;"\\"!==e[r]||"\\"!==e[r+1]&&"'"!==e[r+1]?r++:r+=2,this._current=r}return this._current++,e.slice(t+1,this._current-1).replace("\\'","'")},_consumeNumber:function(e){var t=this._current;this._current++;for(var n=e.length;d(e[this._current])&&this._current<n;)this._current++;return{type:"Number",value:parseInt(e.slice(t,this._current)),start:t}},_consumeLBracket:function(e){var t=this._current;return this._current++,"?"===e[this._current]?(this._current++,{type:"Filter",value:"[?",start:t}):"]"===e[this._current]?(this._current++,{type:"Flatten",value:"[]",start:t}):{type:"Lbracket",value:"[",start:t}},_consumeOperator:function(e){var t=this._current,n=e[t];return this._current++,"!"===n?"="===e[this._current]?(this._current++,{type:"NE",value:"!=",start:t}):{type:"Not",value:"!",start:t}:"<"===n?"="===e[this._current]?(this._current++,{type:"LTE",value:"<=",start:t}):{type:"LT",value:"<",start:t}:">"===n?"="===e[this._current]?(this._current++,{type:"GTE",value:">=",start:t}):{type:"GT",value:">",start:t}:"="===n&&"="===e[this._current]?(this._current++,{type:"EQ",value:"==",start:t}):void 0},_consumeLiteral:function(e){this._current++;for(var t,n=this._current,r=e.length;"`"!==e[this._current]&&this._current<r;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&"`"!==e[i+1]?i++:i+=2,this._current=i}var a=o(e.slice(n,this._current));return a=a.replace("\\`","`"),t=this._looksLikeJSON(a)?JSON.parse(a):JSON.parse('"'+a+'"'),this._current++,t},_looksLikeJSON:function(e){if(""===e)return!1;if('[{"'.indexOf(e[0])>=0)return!0;if(["true","false","null"].indexOf(e)>=0)return!0;if(!("-0123456789".indexOf(e[0])>=0))return!1;try{return JSON.parse(e),!0}catch(e){return!1}}};var p={};function h(){}function m(e){this.runtime=e}function g(e){this._interpreter=e,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[a]}]},avg:{_func:this._functionAvg,_signature:[{types:[8]}]},ceil:{_func:this._functionCeil,_signature:[{types:[a]}]},contains:{_func:this._functionContains,_signature:[{types:[s,3]},{types:[1]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[s]},{types:[s]}]},floor:{_func:this._functionFloor,_signature:[{types:[a]}]},length:{_func:this._functionLength,_signature:[{types:[s,3,4]}]},map:{_func:this._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:this._functionMax,_signature:[{types:[8,9]}]},merge:{_func:this._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:this._functionSum,_signature:[{types:[8]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[s]},{types:[s]}]},min:{_func:this._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:this._functionType,_signature:[{types:[1]}]},keys:{_func:this._functionKeys,_signature:[{types:[4]}]},values:{_func:this._functionValues,_signature:[{types:[4]}]},sort:{_func:this._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:this._functionJoin,_signature:[{types:[s]},{types:[9]}]},reverse:{_func:this._functionReverse,_signature:[{types:[s,3]}]},to_array:{_func:this._functionToArray,_signature:[{types:[1]}]},to_string:{_func:this._functionToString,_signature:[{types:[1]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}p.EOF=0,p.UnquotedIdentifier=0,p.QuotedIdentifier=0,p.Rbracket=0,p.Rparen=0,p.Comma=0,p.Rbrace=0,p.Number=0,p.Current=0,p.Expref=0,p.Pipe=1,p.Or=2,p.And=3,p.EQ=5,p.GT=5,p.LT=5,p.GTE=5,p.LTE=5,p.NE=5,p.Flatten=9,p.Star=20,p.Filter=21,p.Dot=40,p.Not=45,p.Lbrace=50,p.Lbracket=55,p.Lparen=60,h.prototype={parse:function(e){this._loadTokens(e),this.index=0;var t=this.expression(0);if("EOF"!==this._lookahead(0)){var n=this._lookaheadToken(0),r=new Error("Unexpected token type: "+n.type+", value: "+n.value);throw r.name="ParserError",r}return t},_loadTokens:function(e){var t=(new f).tokenize(e);t.push({type:"EOF",value:"",start:e.length}),this.tokens=t},expression:function(e){var t=this._lookaheadToken(0);this._advance();for(var n=this.nud(t),r=this._lookahead(0);e<p[r];)this._advance(),n=this.led(r,n),r=this._lookahead(0);return n},_lookahead:function(e){return this.tokens[this.index+e].type},_lookaheadToken:function(e){return this.tokens[this.index+e]},_advance:function(){this.index++},nud:function(e){var t,n;switch(e.type){case"Literal":return{type:"Literal",value:e.value};case"UnquotedIdentifier":return{type:"Field",name:e.value};case"QuotedIdentifier":var r={type:"Field",name:e.value};if("Lparen"===this._lookahead(0))throw new Error("Quoted identifier not allowed for function names.");return r;case"Not":return{type:"NotExpression",children:[t=this.expression(p.Not)]};case"Star":return t=null,{type:"ValueProjection",children:[{type:"Identity"},t="Rbracket"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(p.Star)]};case"Filter":return this.led(e.type,{type:"Identity"});case"Lbrace":return this._parseMultiselectHash();case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[{type:"Identity"}]},t=this._parseProjectionRHS(p.Flatten)]};case"Lbracket":return"Number"===this._lookahead(0)||"Colon"===this._lookahead(0)?(t=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},t)):"Star"===this._lookahead(0)&&"Rbracket"===this._lookahead(1)?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},t=this._parseProjectionRHS(p.Star)]}):this._parseMultiselectList();case"Current":return{type:"Current"};case"Expref":return{type:"ExpressionReference",children:[n=this.expression(p.Expref)]};case"Lparen":for(var i=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(n={type:"Current"},this._advance()):n=this.expression(0),i.push(n);return this._match("Rparen"),i[0];default:this._errorToken(e)}},led:function(e,t){var n;switch(e){case"Dot":var r=p.Dot;return"Star"!==this._lookahead(0)?{type:"Subexpression",children:[t,n=this._parseDotRHS(r)]}:(this._advance(),{type:"ValueProjection",children:[t,n=this._parseProjectionRHS(r)]});case"Pipe":return{type:"Pipe",children:[t,n=this.expression(p.Pipe)]};case"Or":return{type:"OrExpression",children:[t,n=this.expression(p.Or)]};case"And":return{type:"AndExpression",children:[t,n=this.expression(p.And)]};case"Lparen":for(var i,o=t.name,a=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(i={type:"Current"},this._advance()):i=this.expression(0),"Comma"===this._lookahead(0)&&this._match("Comma"),a.push(i);return this._match("Rparen"),{type:"Function",name:o,children:a};case"Filter":var s=this.expression(0);return this._match("Rbracket"),{type:"FilterProjection",children:[t,n="Flatten"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(p.Filter),s]};case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[t]},this._parseProjectionRHS(p.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(t,e);case"Lbracket":var c=this._lookaheadToken(0);return"Number"===c.type||"Colon"===c.type?(n=this._parseIndexExpression(),this._projectIfSlice(t,n)):(this._match("Star"),this._match("Rbracket"),{type:"Projection",children:[t,n=this._parseProjectionRHS(p.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(e){if(this._lookahead(0)!==e){var t=this._lookaheadToken(0),n=new Error("Expected "+e+", got: "+t.type);throw n.name="ParserError",n}this._advance()},_errorToken:function(e){var t=new Error("Invalid token ("+e.type+'): "'+e.value+'"');throw t.name="ParserError",t},_parseIndexExpression:function(){if("Colon"===this._lookahead(0)||"Colon"===this._lookahead(1))return this._parseSliceExpression();var e={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match("Rbracket"),e},_projectIfSlice:function(e,t){var n={type:"IndexExpression",children:[e,t]};return"Slice"===t.type?{type:"Projection",children:[n,this._parseProjectionRHS(p.Star)]}:n},_parseSliceExpression:function(){for(var e=[null,null,null],t=0,n=this._lookahead(0);"Rbracket"!==n&&t<3;){if("Colon"===n)t++,this._advance();else{if("Number"!==n){var r=this._lookahead(0),i=new Error("Syntax error, unexpected token: "+r.value+"("+r.type+")");throw i.name="Parsererror",i}e[t]=this._lookaheadToken(0).value,this._advance()}n=this._lookahead(0)}return this._match("Rbracket"),{type:"Slice",children:e}},_parseComparator:function(e,t){return{type:"Comparator",name:t,children:[e,this.expression(p[t])]}},_parseDotRHS:function(e){var t=this._lookahead(0);return["UnquotedIdentifier","QuotedIdentifier","Star"].indexOf(t)>=0?this.expression(e):"Lbracket"===t?(this._match("Lbracket"),this._parseMultiselectList()):"Lbrace"===t?(this._match("Lbrace"),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(e){var t;if(p[this._lookahead(0)]<10)t={type:"Identity"};else if("Lbracket"===this._lookahead(0))t=this.expression(e);else if("Filter"===this._lookahead(0))t=this.expression(e);else{if("Dot"!==this._lookahead(0)){var n=this._lookaheadToken(0),r=new Error("Sytanx error, unexpected token: "+n.value+"("+n.type+")");throw r.name="ParserError",r}this._match("Dot"),t=this._parseDotRHS(e)}return t},_parseMultiselectList:function(){for(var e=[];"Rbracket"!==this._lookahead(0);){var t=this.expression(0);if(e.push(t),"Comma"===this._lookahead(0)&&(this._match("Comma"),"Rbracket"===this._lookahead(0)))throw new Error("Unexpected token Rbracket")}return this._match("Rbracket"),{type:"MultiSelectList",children:e}},_parseMultiselectHash:function(){for(var e,t,n,r=[],i=["UnquotedIdentifier","QuotedIdentifier"];;){if(e=this._lookaheadToken(0),i.indexOf(e.type)<0)throw new Error("Expecting an identifier token, got: "+e.type);if(t=e.value,this._advance(),this._match("Colon"),n={type:"KeyValuePair",name:t,value:this.expression(0)},r.push(n),"Comma"===this._lookahead(0))this._match("Comma");else if("Rbrace"===this._lookahead(0)){this._match("Rbrace");break}}return{type:"MultiSelectHash",children:r}}},m.prototype={search:function(e,t){return this.visit(e,t)},visit:function(e,o){var a,s,c,u,l,d,f,p,h;switch(e.type){case"Field":return null===o?null:n(o)?void 0===(d=o[e.name])?null:d:null;case"Subexpression":for(c=this.visit(e.children[0],o),h=1;h<e.children.length;h++)if(null===(c=this.visit(e.children[1],c)))return null;return c;case"IndexExpression":return f=this.visit(e.children[0],o),this.visit(e.children[1],f);case"Index":if(!t(o))return null;var m=e.value;return m<0&&(m=o.length+m),void 0===(c=o[m])&&(c=null),c;case"Slice":if(!t(o))return null;var g=e.children.slice(0),b=this.computeSliceParams(o.length,g),v=b[0],y=b[1],S=b[2];if(c=[],S>0)for(h=v;h<y;h+=S)c.push(o[h]);else for(h=v;h>y;h+=S)c.push(o[h]);return c;case"Projection":var w=this.visit(e.children[0],o);if(!t(w))return null;for(p=[],h=0;h<w.length;h++)null!==(s=this.visit(e.children[1],w[h]))&&p.push(s);return p;case"ValueProjection":if(!n(w=this.visit(e.children[0],o)))return null;p=[];var E=function(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n}(w);for(h=0;h<E.length;h++)null!==(s=this.visit(e.children[1],E[h]))&&p.push(s);return p;case"FilterProjection":if(!t(w=this.visit(e.children[0],o)))return null;var C=[],T=[];for(h=0;h<w.length;h++)i(a=this.visit(e.children[2],w[h]))||C.push(w[h]);for(var _=0;_<C.length;_++)null!==(s=this.visit(e.children[1],C[_]))&&T.push(s);return T;case"Comparator":switch(u=this.visit(e.children[0],o),l=this.visit(e.children[1],o),e.name){case"EQ":c=r(u,l);break;case"NE":c=!r(u,l);break;case"GT":c=u>l;break;case"GTE":c=u>=l;break;case"LT":c=u<l;break;case"LTE":c=u<=l;break;default:throw new Error("Unknown comparator: "+e.name)}return c;case"Flatten":var I=this.visit(e.children[0],o);if(!t(I))return null;var k=[];for(h=0;h<I.length;h++)t(s=I[h])?k.push.apply(k,s):k.push(s);return k;case"Identity":return o;case"MultiSelectList":if(null===o)return null;for(p=[],h=0;h<e.children.length;h++)p.push(this.visit(e.children[h],o));return p;case"MultiSelectHash":if(null===o)return null;var A;for(p={},h=0;h<e.children.length;h++)p[(A=e.children[h]).name]=this.visit(A.value,o);return p;case"OrExpression":return i(a=this.visit(e.children[0],o))&&(a=this.visit(e.children[1],o)),a;case"AndExpression":return!0===i(u=this.visit(e.children[0],o))?u:this.visit(e.children[1],o);case"NotExpression":return i(u=this.visit(e.children[0],o));case"Literal":return e.value;case"Pipe":return f=this.visit(e.children[0],o),this.visit(e.children[1],f);case"Current":return o;case"Function":var O=[];for(h=0;h<e.children.length;h++)O.push(this.visit(e.children[h],o));return this.runtime.callFunction(e.name,O);case"ExpressionReference":var x=e.children[0];return x.jmespathType="Expref",x;default:throw new Error("Unknown node type: "+e.type)}},computeSliceParams:function(e,t){var n=t[0],r=t[1],i=t[2],o=[null,null,null];if(null===i)i=1;else if(0===i){var a=new Error("Invalid slice, step cannot be 0");throw a.name="RuntimeError",a}var s=i<0;return n=null===n?s?e-1:0:this.capSliceRange(e,n,i),r=null===r?s?-1:e:this.capSliceRange(e,r,i),o[0]=n,o[1]=r,o[2]=i,o},capSliceRange:function(e,t,n){return t<0?(t+=e)<0&&(t=n<0?-1:0):t>=e&&(t=n<0?e-1:e),t}},g.prototype={callFunction:function(e,t){var n=this.functionTable[e];if(void 0===n)throw new Error("Unknown function: "+e+"()");return this._validateArgs(e,t,n._signature),n._func.call(this,t)},_validateArgs:function(e,t,n){var r,i,o,a;if(n[n.length-1].variadic){if(t.length<n.length)throw r=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes at least"+n.length+r+" but received "+t.length)}else if(t.length!==n.length)throw r=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes "+n.length+r+" but received "+t.length);for(var s=0;s<n.length;s++){a=!1,i=n[s].types,o=this._getTypeName(t[s]);for(var c=0;c<i.length;c++)if(this._typeMatches(o,i[c],t[s])){a=!0;break}if(!a)throw new Error("TypeError: "+e+"() expected argument "+(s+1)+" to be type "+i+" but received type "+o+" instead.")}},_typeMatches:function(e,t,n){if(1===t)return!0;if(9!==t&&8!==t&&3!==t)return e===t;if(3===t)return 3===e;if(3===e){var r;8===t?r=a:9===t&&(r=s);for(var i=0;i<n.length;i++)if(!this._typeMatches(this._getTypeName(n[i]),r,n[i]))return!1;return!0}},_getTypeName:function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return s;case"[object Number]":return a;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return"Expref"===e.jmespathType?6:4}},_functionStartsWith:function(e){return 0===e[0].lastIndexOf(e[1])},_functionEndsWith:function(e){var t=e[0],n=e[1];return-1!==t.indexOf(n,t.length-n.length)},_functionReverse:function(e){if(this._getTypeName(e[0])===s){for(var t=e[0],n="",r=t.length-1;r>=0;r--)n+=t[r];return n}var i=e[0].slice(0);return i.reverse(),i},_functionAbs:function(e){return Math.abs(e[0])},_functionCeil:function(e){return Math.ceil(e[0])},_functionAvg:function(e){for(var t=0,n=e[0],r=0;r<n.length;r++)t+=n[r];return t/n.length},_functionContains:function(e){return e[0].indexOf(e[1])>=0},_functionFloor:function(e){return Math.floor(e[0])},_functionLength:function(e){return n(e[0])?Object.keys(e[0]).length:e[0].length},_functionMap:function(e){for(var t=[],n=this._interpreter,r=e[0],i=e[1],o=0;o<i.length;o++)t.push(n.visit(r,i[o]));return t},_functionMerge:function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];for(var i in r)t[i]=r[i]}return t},_functionMax:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===a)return Math.max.apply(Math,e[0]);for(var t=e[0],n=t[0],r=1;r<t.length;r++)n.localeCompare(t[r])<0&&(n=t[r]);return n}return null},_functionMin:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===a)return Math.min.apply(Math,e[0]);for(var t=e[0],n=t[0],r=1;r<t.length;r++)t[r].localeCompare(n)<0&&(n=t[r]);return n}return null},_functionSum:function(e){for(var t=0,n=e[0],r=0;r<n.length;r++)t+=n[r];return t},_functionType:function(e){switch(this._getTypeName(e[0])){case a:return"number";case s:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(e){return Object.keys(e[0])},_functionValues:function(e){for(var t=e[0],n=Object.keys(t),r=[],i=0;i<n.length;i++)r.push(t[n[i]]);return r},_functionJoin:function(e){var t=e[0];return e[1].join(t)},_functionToArray:function(e){return 3===this._getTypeName(e[0])?e[0]:[e[0]]},_functionToString:function(e){return this._getTypeName(e[0])===s?e[0]:JSON.stringify(e[0])},_functionToNumber:function(e){var t,n=this._getTypeName(e[0]);return n===a?e[0]:n!==s||(t=+e[0],isNaN(t))?null:t},_functionNotNull:function(e){for(var t=0;t<e.length;t++)if(7!==this._getTypeName(e[t]))return e[t];return null},_functionSort:function(e){var t=e[0].slice(0);return t.sort(),t},_functionSortBy:function(e){var t=e[0].slice(0);if(0===t.length)return t;var n=this._interpreter,r=e[1],i=this._getTypeName(n.visit(r,t[0]));if([a,s].indexOf(i)<0)throw new Error("TypeError");for(var o=this,c=[],u=0;u<t.length;u++)c.push([u,t[u]]);c.sort((function(e,t){var a=n.visit(r,e[1]),s=n.visit(r,t[1]);if(o._getTypeName(a)!==i)throw new Error("TypeError: expected "+i+", received "+o._getTypeName(a));if(o._getTypeName(s)!==i)throw new Error("TypeError: expected "+i+", received "+o._getTypeName(s));return a>s?1:a<s?-1:e[0]-t[0]}));for(var l=0;l<c.length;l++)t[l]=c[l][1];return t},_functionMaxBy:function(e){for(var t,n,r=e[1],i=e[0],o=this.createKeyFunction(r,[a,s]),c=-1/0,u=0;u<i.length;u++)(n=o(i[u]))>c&&(c=n,t=i[u]);return t},_functionMinBy:function(e){for(var t,n,r=e[1],i=e[0],o=this.createKeyFunction(r,[a,s]),c=1/0,u=0;u<i.length;u++)(n=o(i[u]))<c&&(c=n,t=i[u]);return t},createKeyFunction:function(e,t){var n=this,r=this._interpreter;return function(i){var o=r.visit(e,i);if(t.indexOf(n._getTypeName(o))<0){var a="TypeError: expected one of "+t+", received "+n._getTypeName(o);throw new Error(a)}return o}}},e.tokenize=function(e){return(new f).tokenize(e)},e.compile=function(e){return(new h).parse(e)},e.search=function(e,t){var n=new h,r=new g,i=new m(r);r._interpreter=i;var o=n.parse(t);return i.search(o,e)},e.strictDeepEqual=r}(void 0===n?this.jmespath={}:n)},{}],86:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var u,l=[],d=!1,f=-1;function p(){d&&u&&(d=!1,u.length?l=u.concat(l):f=-1,l.length&&h())}function h(){if(!d){var e=c(p);d=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||d||c(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],87:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var d,f,p,h,m=e[l].replace(s,"%20"),g=m.indexOf(n);g>=0?(d=m.substr(0,g),f=m.substr(g+1)):(d=m,f=""),p=decodeURIComponent(d),h=decodeURIComponent(f),r(a,p)?i(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],88:[function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],89:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":87,"./encode":88}],90:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,i){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var u=0;u<c;++u){var l,d,f,p,h=e[u].replace(a,"%20"),m=h.indexOf(n);m>=0?(l=h.substr(0,m),d=h.substr(m+1)):(l=h,d=""),f=decodeURIComponent(l),p=decodeURIComponent(d),r(o,f)?Array.isArray(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o}},{}],91:[function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,i){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(r(i))+n;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(r(e))})).join(t):o+encodeURIComponent(r(e[i]))})).join(t):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(e)):""}},{}],92:[function(e,t,n){arguments[4][89][0].apply(n,arguments)},{"./decode":90,"./encode":91,dup:89}],93:[function(e,t,n){(function(t,r){(function(){var i=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},c=0;function u(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new u(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new u(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,r=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,i((function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":86,timers:93}],94:[function(e,t,n){var r=e("punycode");function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=b,n.resolve=function(e,t){return b(e,!1,!0).resolve(t)},n.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},n.format=function(e){v(e)&&(e=b(e));return e instanceof i?e.format():i.prototype.format.call(e)},n.Url=i;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(s),u=["%","/","?",";","#"].concat(c),l=["/","?","#"],d=/^[a-z0-9A-Z_-]{0,63}$/,f=/^([a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},h={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=e("querystring");function b(e,t,n){if(e&&y(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}function v(e){return"string"==typeof e}function y(e){return"object"==typeof e&&null!==e}function S(e){return null===e}i.prototype.parse=function(e,t,n){if(!v(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e;i=i.trim();var a=o.exec(i);if(a){var s=(a=a[0]).toLowerCase();this.protocol=s,i=i.substr(a.length)}if(n||a||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var b="//"===i.substr(0,2);!b||a&&h[a]||(i=i.substr(2),this.slashes=!0)}if(!h[a]&&(b||a&&!m[a])){for(var y,S,w=-1,E=0;E<l.length;E++){-1!==(C=i.indexOf(l[E]))&&(-1===w||C<w)&&(w=C)}-1!==(S=-1===w?i.lastIndexOf("@"):i.lastIndexOf("@",w))&&(y=i.slice(0,S),i=i.slice(S+1),this.auth=decodeURIComponent(y)),w=-1;for(E=0;E<u.length;E++){var C;-1!==(C=i.indexOf(u[E]))&&(-1===w||C<w)&&(w=C)}-1===w&&(w=i.length),this.host=i.slice(0,w),i=i.slice(w),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var _=this.hostname.split(/\./),I=(E=0,_.length);E<I;E++){var k=_[E];if(k&&!k.match(d)){for(var A="",O=0,x=k.length;O<x;O++)k.charCodeAt(O)>127?A+="x":A+=k[O];if(!A.match(d)){var R=_.slice(0,E),P=_.slice(E+1),M=k.match(f);M&&(R.push(M[1]),P.unshift(M[2])),P.length&&(i="/"+P.join(".")+i),this.hostname=R.join(".");break}}}if(this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),!T){var D=this.hostname.split("."),N=[];for(E=0;E<D.length;++E){var L=D[E];N.push(L.match(/[^A-Za-z0-9_-]/)?"xn--"+r.encode(L):L)}this.hostname=N.join(".")}var U=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+U,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!p[s])for(E=0,I=c.length;E<I;E++){var j=c[E],B=encodeURIComponent(j);B===j&&(B=escape(j)),i=i.split(j).join(B)}var V=i.indexOf("#");-1!==V&&(this.hash=i.substr(V),i=i.slice(0,V));var q=i.indexOf("?");if(-1!==q?(this.search=i.substr(q),this.query=i.substr(q+1),t&&(this.query=g.parse(this.query)),i=i.slice(0,q)):t&&(this.search="",this.query={}),i&&(this.pathname=i),m[s]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"",L=this.search||"";this.path=U+L}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&y(this.query)&&Object.keys(this.query).length&&(o=g.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(v(e)){var t=new i;t.parse(e,!1,!0),e=t}var n=new i;if(Object.keys(this).forEach((function(e){n[e]=this[e]}),this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach((function(t){"protocol"!==t&&(n[t]=e[t])})),m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!m[e.protocol])return Object.keys(e).forEach((function(t){n[t]=e[t]})),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||h[e.protocol])n.pathname=e.pathname;else{for(var r=(e.pathname||"").split("/");r.length&&!(e.host=r.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var o=n.pathname||"",a=n.search||"";n.path=o+a}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),c=e.host||e.pathname&&"/"===e.pathname.charAt(0),u=c||s||n.host&&e.pathname,l=u,d=n.pathname&&n.pathname.split("/")||[],f=(r=e.pathname&&e.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(f&&(n.hostname="",n.port=null,n.host&&(""===d[0]?d[0]=n.host:d.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host)),e.host=null),u=u&&(""===r[0]||""===d[0])),c)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,d=r;else if(r.length)d||(d=[]),d.pop(),d=d.concat(r),n.search=e.search,n.query=e.query;else if(null!=e.search){if(f)n.hostname=n.host=d.shift(),(w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=w.shift(),n.host=n.hostname=w.shift());return n.search=e.search,n.query=e.query,S(n.pathname)&&S(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!d.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var p=d.slice(-1)[0],g=(n.host||e.host)&&("."===p||".."===p)||""===p,b=0,y=d.length;y>=0;y--)"."==(p=d[y])?d.splice(y,1):".."===p?(d.splice(y,1),b++):b&&(d.splice(y,1),b--);if(!u&&!l)for(;b--;b)d.unshift("..");!u||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),g&&"/"!==d.join("/").substr(-1)&&d.push("");var w,E=""===d[0]||d[0]&&"/"===d[0].charAt(0);f&&(n.hostname=n.host=E?"":d.length?d.shift():"",(w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=w.shift(),n.host=n.hostname=w.shift()));return(u=u||n.host&&d.length)&&!E&&d.unshift(""),d.length?n.pathname=d.join("/"):(n.pathname=null,n.path=null),S(n.pathname)&&S(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{punycode:80,querystring:89}],95:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],96:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],97:[function(t,n,r){(function(e,n){(function(){var i=/%[sdj%]/g;r.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),c=r[n];n<o;c=r[++n])m(c)||!S(c)?a+=" "+c:a+=" "+s(c);return a},r.deprecate=function(t,i){if(v(n.process))return function(){return r.deprecate(t,i).apply(this,arguments)};if(!0===e.noDeprecation)return t;var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),o=!0}return t.apply(this,arguments)}};var o,a={};function s(e,t){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(t)?n.showHidden=t:t&&r._extend(n,t),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),l(n,e,n.depth)}function c(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function l(e,t,n){if(e.customInspect&&t&&C(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return b(i)||(i=l(e,i,n)),i}var o=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,t);if(o)return o;var a=Object.keys(t),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),E(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(t);if(0===a.length){if(C(t)){var c=t.name?": "+t.name:"";return e.stylize("[Function"+c+"]","special")}if(y(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return d(t)}var u,S="",T=!1,_=["{","}"];(p(t)&&(T=!0,_=["[","]"]),C(t))&&(S=" [Function"+(t.name?": "+t.name:"")+"]");return y(t)&&(S=" "+RegExp.prototype.toString.call(t)),w(t)&&(S=" "+Date.prototype.toUTCString.call(t)),E(t)&&(S=" "+d(t)),0!==a.length||T&&0!=t.length?n<0?y(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=T?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)A(t,String(a))?o.push(f(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))})),o}(e,t,n,s,a):a.map((function(r){return f(e,t,n,s,r,T)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,S,_)):_[0]+S+_[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),A(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?l(e,c.value,null):l(e,c.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),v(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function b(e){return"string"==typeof e}function v(e){return void 0===e}function y(e){return S(e)&&"[object RegExp]"===T(e)}function S(e){return"object"==typeof e&&null!==e}function w(e){return S(e)&&"[object Date]"===T(e)}function E(e){return S(e)&&("[object Error]"===T(e)||e instanceof Error)}function C(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function _(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(t){if(v(o)&&(o=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!a[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var n=e.pid;a[t]=function(){var e=r.format.apply(r,arguments);console.error("%s %d: %s",t,n,e)}}else a[t]=function(){};return a[t]},r.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=p,r.isBoolean=h,r.isNull=m,r.isNullOrUndefined=function(e){return null==e},r.isNumber=g,r.isString=b,r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=v,r.isRegExp=y,r.isObject=S,r.isDate=w,r.isError=E,r.isFunction=C,r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=t("./support/isBuffer");var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[_(e.getHours()),_(e.getMinutes()),_(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){console.log("%s - %s",k(),r.format.apply(r,arguments))},r.inherits=t("inherits"),r._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this)}).call(this,t("_process"),void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":96,_process:86,inherits:95}],98:[function(e,t,n){var r=e("./v1"),i=e("./v4"),o=i;o.v1=r,o.v4=i,t.exports=o},{"./v1":101,"./v4":102}],99:[function(e,t,n){for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);t.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},{}],100:[function(e,t,n){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var i=new Uint8Array(16);t.exports=function(){return r(i),i}}else{var o=new Array(16);t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},{}],101:[function(e,t,n){var r,i,o=e("./lib/rng"),a=e("./lib/bytesToUuid"),s=0,c=0;t.exports=function(e,t,n){var u=t&&n||0,l=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==f){var p=o();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:c+1,g=h-s+(m-c)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=m,i=f;var b=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;l[u++]=b>>>24&255,l[u++]=b>>>16&255,l[u++]=b>>>8&255,l[u++]=255&b;var v=h/4294967296*1e4&268435455;l[u++]=v>>>8&255,l[u++]=255&v,l[u++]=v>>>24&15|16,l[u++]=v>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var y=0;y<6;++y)l[u+y]=d[y];return t||a(l)}},{"./lib/bytesToUuid":99,"./lib/rng":100}],102:[function(e,t,n){var r=e("./lib/rng"),i=e("./lib/bytesToUuid");t.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},{"./lib/bytesToUuid":99,"./lib/rng":100}],103:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./utils/LRU"),i=function(){function e(e){void 0===e&&(e=1e3),this.maxSize=e,this.cache=new r.LRUCache(e)}return Object.defineProperty(e.prototype,"size",{get:function(){return this.cache.length},enumerable:!0,configurable:!0}),e.prototype.put=function(t,n){var r="string"!=typeof t?e.getKeyString(t):t,i=this.populateValue(n);this.cache.put(r,i)},e.prototype.get=function(t){var n="string"!=typeof t?e.getKeyString(t):t,r=Date.now(),i=this.cache.get(n);if(i)for(var o=0;o<i.length;o++){if(i[o].Expire<r)return void this.cache.remove(n)}return i},e.getKeyString=function(e){for(var t=[],n=Object.keys(e).sort(),r=0;r<n.length;r++){var i=n[r];void 0!==e[i]&&t.push(e[i])}return t.join(" ")},e.prototype.populateValue=function(e){var t=Date.now();return e.map((function(e){return{Address:e.Address||"",Expire:t+60*(e.CachePeriodInMinutes||1)*1e3}}))},e.prototype.empty=function(){this.cache.empty()},e.prototype.remove=function(t){var n="string"!=typeof t?e.getKeyString(t):t;this.cache.remove(n)},e}();n.EndpointCache=i},{"./utils/LRU":104}],104:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t){this.key=e,this.value=t},i=function(){function e(e){if(this.nodeMap={},this.size=0,"number"!=typeof e||e<1)throw new Error("Cache size can only be positive number");this.sizeLimit=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.size},enumerable:!0,configurable:!0}),e.prototype.prependToList=function(e){this.headerNode?(this.headerNode.prev=e,e.next=this.headerNode):this.tailNode=e,this.headerNode=e,this.size++},e.prototype.removeFromTail=function(){if(this.tailNode){var e=this.tailNode,t=e.prev;return t&&(t.next=void 0),e.prev=void 0,this.tailNode=t,this.size--,e}},e.prototype.detachFromList=function(e){this.headerNode===e&&(this.headerNode=e.next),this.tailNode===e&&(this.tailNode=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.next=void 0,e.prev=void 0,this.size--},e.prototype.get=function(e){if(this.nodeMap[e]){var t=this.nodeMap[e];return this.detachFromList(t),this.prependToList(t),t.value}},e.prototype.remove=function(e){if(this.nodeMap[e]){var t=this.nodeMap[e];this.detachFromList(t),delete this.nodeMap[e]}},e.prototype.put=function(e,t){if(this.nodeMap[e])this.remove(e);else if(this.size===this.sizeLimit){var n=this.removeFromTail().key;delete this.nodeMap[n]}var i=new r(e,t);this.nodeMap[e]=i,this.prependToList(i)},e.prototype.empty=function(){for(var e=Object.keys(this.nodeMap),t=0;t<e.length;t++){var n=e[t],r=this.nodeMap[n];this.detachFromList(r),delete this.nodeMap[n]}},e}();n.LRUCache=i},{}],105:[function(e,t,n){e("./browser_loader");var r=e("./core");"undefined"!=typeof window&&(window.AWS=r),void 0!==t&&(t.exports=r),"undefined"!=typeof self&&(self.AWS=r),Object.prototype.hasOwnProperty.call(r,"Connect")||(r.apiLoader.services.connect={},r.Connect=r.Service.defineService("connect",["2017-02-15"])),r.apiLoader.services.connect["2017-02-15"]=e("../apis/connect-2017-02-15.min"),Object.prototype.hasOwnProperty.call(r,"STS")||(r.apiLoader.services.sts={},r.STS=r.Service.defineService("sts",["2011-06-15"]),e("./services/sts")),r.apiLoader.services.sts["2011-06-15"]=e("../apis/sts-2011-06-15.min")},{"../apis/connect-2017-02-15.min":3,"../apis/sts-2011-06-15.min":5,"./browser_loader":16,"./core":18,"./services/sts":61}]},{},[105]),
/*! @license sprintf.js | Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro> | 3 clause BSD license */
function(){var e=function(){return e.cache.hasOwnProperty(arguments[0])||(e.cache[arguments[0]]=e.parse(arguments[0])),e.format.call(null,e.cache[arguments[0]],arguments)};e.format=function(r,i){var o,a,s,c,u,l,d,f=1,p=r.length,h="",m=[];for(a=0;a<p;a++)if("string"===(h=t(r[a])))m.push(r[a]);else if("array"===h){if((c=r[a])[2])for(o=i[f],s=0;s<c[2].length;s++){if(!o.hasOwnProperty(c[2][s]))throw e('[sprintf] property "%s" does not exist',c[2][s]);o=o[c[2][s]]}else o=c[1]?i[c[1]]:i[f++];if(/[^s]/.test(c[8])&&"number"!=t(o))throw e("[sprintf] expecting number but found %s",t(o));switch(c[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=c[7]?o.toExponential(c[7]):o.toExponential();break;case"f":o=c[7]?parseFloat(o).toFixed(c[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&c[7]?o.substring(0,c[7]):o;break;case"u":o>>>=0;break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(c[8])&&c[3]&&o>=0?"+"+o:o,l=c[4]?"0"==c[4]?"0":c[4].charAt(1):" ",d=c[6]-String(o).length,u=c[6]?n(l,d):"",m.push(c[5]?o+u:u+o)}return m.join("")},e.cache={},e.parse=function(e){for(var t=e,n=[],r=[],i=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))r.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))r.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(n[2]){i|=1;var o=[],a=n[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(a)))throw"[sprintf] huh?";for(o.push(s[1]);""!==(a=a.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(a)))o.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(a)))throw"[sprintf] huh?";o.push(s[1])}n[2]=o}else i|=2;if(3===i)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(n)}t=t.substring(n[0].length)}return r};function t(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function n(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}this.sprintf=e,this.vsprintf=function(t,n,r){return(r=n.slice(0)).splice(0,0,t),e.apply(null,r)}}(),function(){var e=this;connect=e.connect||{},e.connect=connect,e.lily=connect;var t={TEST:"TEST",TRACE:"TRACE",DEBUG:"DEBUG",INFO:"INFO",LOG:"LOG",WARN:"WARN",ERROR:"ERROR",CRITICAL:"CRITICAL"},n={CCP:"ccp",SOFTPHONE:"softphone",CHAT:"chat",TASK:"task"},r={TEST:0,TRACE:10,DEBUG:20,INFO:30,LOG:40,WARN:50,ERROR:100,CRITICAL:200},i={TRACE:function(e){console.info(e)},DEBUG:function(e){console.info(e)},INFO:function(e){console.info(e)},LOG:function(e){console.log(e)},TEST:function(e){console.log(e)},WARN:function(e){console.warn(e)},ERROR:function(e){console.error(e)},CRITICAL:function(e){console.error(e)}},o=function(e){var t,r,i=Array.prototype.slice.call(e,0),o=i.shift();return!function(e){return-1!==Object.values(n).indexOf(e)}(o)?(t=o,r=n.CCP):(r=o,t=i.shift()),{format:t,component:r,args:i}},a=function(e,t,n,r){this.component=e,this.level=t,this.text=n,this.time=new Date,this.exception=null,this.objects=[],this.line=0,this.agentResourceId=null;try{connect.agent.initialized&&(this.agentResourceId=(new connect.Agent)._getResourceId())}catch(e){console.log("Issue finding agentResourceId: ",e)}this.loggerId=r};a.fromObject=function(e){var t=new a(n.CCP,e.level,e.text,e.loggerId);return"[object Date]"===Object.prototype.toString.call(e.time)?t.time=new Date(e.time.getTime()):"number"==typeof e.time?t.time=new Date(e.time):"string"==typeof e.time?t.time=Date.parse(e.time):t.time=new Date,t.exception=e.exception,t.objects=e.objects,t};var s=function(e){var t=/AuthToken.*\=/g;e&&"object"==typeof e&&Object.keys(e).forEach((function(n){"object"==typeof e[n]?s(e[n]):"string"==typeof e[n]&&("url"===n||"text"===n?e[n]=e[n].replace(t,"[redacted]"):"quickConnectName"===n&&(e[n]="[redacted]"))}))},c=function(e){this.type=e instanceof Error?e.name:e.code||Object.prototype.toString.call(e),this.message=e.message,this.stack=e.stack?e.stack.split("\n"):[]};a.prototype.toString=function(){return connect.sprintf("[%s] [%s] [%s]: %s",this.getTime()&&this.getTime().toISOString?this.getTime().toISOString():"???",this.getLevel(),this.getAgentResourceId(),this.getText())},a.prototype.getTime=function(){return this.time},a.prototype.getAgentResourceId=function(){return this.agentResourceId},a.prototype.getLevel=function(){return this.level},a.prototype.getText=function(){return this.text},a.prototype.getComponent=function(){return this.component},a.prototype.withException=function(e){return this.exception=new c(e),this},a.prototype.withObject=function(e){var t=connect.deepcopy(e);return s(t),this.objects.push(t),this},a.prototype.withCrossOriginEventObject=function(e){var t=connect.deepcopyCrossOriginEvent(e);return s(t),this.objects.push(t),this},a.prototype.sendInternalLogToServer=function(){return connect.getLog()._serverBoundInternalLogs.push(this),this};var u=function(){this._logs=[],this._rolledLogs=[],this._logsToPush=[],this._serverBoundInternalLogs=[],this._echoLevel=r.INFO,this._logLevel=r.INFO,this._lineCount=0,this._logRollInterval=0,this._logRollTimer=null,this._loggerId=(new Date).getTime()+"-"+Math.random().toString(36).slice(2),this.setLogRollInterval(18e5),this._startLogIndexToPush=0};u.prototype.setLogRollInterval=function(t){var n=this;this._logRollTimer&&t===this._logRollInterval?this.warn("Logger is already set to the given interval: %d",this._logRollInterval):(this._logRollTimer&&e.clearInterval(this._logRollTimer),this._logRollInterval=t,this._logRollTimer=e.setInterval((function(){this._rolledLogs=this._logs,this._logs=[],this._startLogIndexToPush=0,n.info("Log roll interval occurred.")}),this._logRollInterval))},u.prototype.setLogLevel=function(e){if(!(e in r))throw new Error("Unknown logging level: "+e);this._logLevel=r[e]},u.prototype.setEchoLevel=function(e){if(!(e in r))throw new Error("Unknown logging level: "+e);this._echoLevel=r[e]},u.prototype.write=function(e,t,n){var r=new a(e,t,n,this.getLoggerId());return s(r),this.addLogEntry(r),r},u.prototype.addLogEntry=function(e){s(e),this._logs.push(e),n.SOFTPHONE===e.component&&this._logsToPush.push(e),e.level in r&&r[e.level]>=this._logLevel&&(r[e.level]>=this._echoLevel&&i[e.getLevel()](e.toString()),e.line=this._lineCount++)},u.prototype.sendInternalLogEntryToServer=function(e){this._serverBoundInternalLogs.push(e),e.level in r&&r[e.level]>=this._logLevel&&(r[e.level]>=this._echoLevel&&i[e.getLevel()](e.toString()),e.line=this._lineCount++)},u.prototype.clearObjects=function(){for(var e=0;e<this._logs.length;e++)this._logs[e].objects&&delete this._logs[e].objects},u.prototype.clearExceptions=function(){for(var e=0;e<this._logs.length;e++)this._logs[e].exception&&delete this._logs[e].exception},u.prototype.trace=function(){var e=o(arguments);return this.write(e.component,t.TRACE,connect.vsprintf(e.format,e.args))},u.prototype.debug=function(){var e=o(arguments);return this.write(e.component,t.DEBUG,connect.vsprintf(e.format,e.args))},u.prototype.info=function(){var e=o(arguments);return this.write(e.component,t.INFO,connect.vsprintf(e.format,e.args))},u.prototype.log=function(){var e=o(arguments);return this.write(e.component,t.LOG,connect.vsprintf(e.format,e.args))},u.prototype.test=function(){var e=o(arguments);return this.write(e.component,t.TEST,connect.vsprintf(e.format,e.args))},u.prototype.warn=function(){var e=o(arguments);return this.write(e.component,t.WARN,connect.vsprintf(e.format,e.args))},u.prototype.error=function(){var e=o(arguments);return this.write(e.component,t.ERROR,connect.vsprintf(e.format,e.args))},u.prototype.critical=function(){var e=o(arguments);return this.write(e.component,t.ERROR,connect.vsprintf(e.format,e.args))},u.prototype.toString=function(){for(var e=[],t=0;t<this._logs.length;t++)e.push(this._logs[t].toString());return e.join("\n")},u.prototype.download=function(t){var n="agent-log",i=!1;"object"==typeof t?(n=t.logName||n,i=t.filterByLogLevel||i):"string"==typeof t&&(n=t||n);var o=this,a=this._rolledLogs.concat(this._logs);i&&(a=a.filter((function(e){return r[e.level]>=o._logLevel})));var s=new e.Blob([JSON.stringify(a,void 0,4)],["text/plain"]),c=document.createElement("a");n=n||"agent-log";c.href=e.URL.createObjectURL(s),c.download=n+".txt",document.body.appendChild(c),c.click(),document.body.removeChild(c)},u.prototype.scheduleUpstreamLogPush=function(t){connect.upstreamLogPushScheduled||(connect.upstreamLogPushScheduled=!0,e.setInterval(connect.hitch(this,this.reportMasterLogsUpStream,t),5e3))},u.prototype.reportMasterLogsUpStream=function(e){var t=this._logsToPush.slice();this._logsToPush=[],connect.ifMaster(connect.MasterTopics.SEND_LOGS,(function(){t.length>0&&e.sendUpstream(connect.EventType.SEND_LOGS,t)}))},u.prototype.scheduleUpstreamOuterContextCCPserverBoundLogsPush=function(t){e.setInterval(connect.hitch(this,this.pushOuterContextCCPserverBoundLogsUpstream,t),1e3)},u.prototype.scheduleUpstreamOuterContextCCPLogsPush=function(t){e.setInterval(connect.hitch(this,this.pushOuterContextCCPLogsUpstream,t),1e3)},u.prototype.pushOuterContextCCPserverBoundLogsUpstream=function(e){if(this._serverBoundInternalLogs.length>0){for(var t=0;t<this._serverBoundInternalLogs.length;t++)this._serverBoundInternalLogs[t].text=this._serverBoundInternalLogs[t].text;e.sendUpstream(connect.EventType.SERVER_BOUND_INTERNAL_LOG,this._serverBoundInternalLogs),this._serverBoundInternalLogs=[]}},u.prototype.pushOuterContextCCPLogsUpstream=function(e){for(var t=this._startLogIndexToPush;t<this._logs.length;t++)this._logs[t].loggerId===this._loggerId&&e.sendUpstream(connect.EventType.LOG,this._logs[t]);this._startLogIndexToPush=this._logs.length},u.prototype.getLoggerId=function(){return this._loggerId},u.prototype.scheduleDownstreamClientSideLogsPush=function(){e.setInterval(connect.hitch(this,this.pushClientSideLogsDownstream),5e3)},u.prototype.pushClientSideLogsDownstream=function(){var e=[];this._serverBoundInternalLogs.length<50||(this._serverBoundInternalLogs.length>500?e=this._serverBoundInternalLogs.splice(0,500):(e=this._serverBoundInternalLogs,this._serverBoundInternalLogs=[]),connect.publishClientSideLogs(e))};var l=function(t){u.call(this),this.conduit=t,e.setInterval(connect.hitch(this,this._pushLogsDownstream),l.LOG_PUSH_INTERVAL),e.clearInterval(this._logRollTimer),this._logRollTimer=null};l.LOG_PUSH_INTERVAL=1e3,l.prototype=Object.create(u.prototype),l.prototype.constructor=l,l.prototype.pushLogsDownstream=function(e){var t=this;e.forEach((function(e){t.conduit.sendDownstream(connect.EventType.LOG,e)}))},l.prototype._pushLogsDownstream=function(){var e=this;this._logs.forEach((function(t){e.conduit.sendDownstream(connect.EventType.LOG,t)})),this._logs=[];for(var t=0;t<this._serverBoundInternalLogs.length;t++)this.conduit.sendDownstream(connect.EventType.SERVER_BOUND_INTERNAL_LOG,this._serverBoundInternalLogs[t]);this._serverBoundInternalLogs=[]};var d=function(e){return function(){try{return e.apply(this,arguments)}catch(e){i.ERROR(e)}}};connect.rootLogger=new u,function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=d(e[t]))}(connect.rootLogger);connect=connect||{},connect.getLog=function(){return connect.rootLogger},connect.LogEntry=a,connect.Logger=u,connect.LogLevel=t,connect.LogComponent=n,connect.DownstreamConduitLogger=l}(),function(){var e=this;connect=e.connect||{},e.connect=connect,e.lily=connect;var t=navigator.userAgent,n=["bubbles","cancelBubble","cancelable","composed","data","defaultPrevented","eventPhase","isTrusted","lastEventId","origin","returnValue","timeStamp","type"];connect.sprintf=e.sprintf,connect.vsprintf=e.vsprintf,delete e.sprintf,delete e.vsprintf,connect.HTTP_STATUS_CODES={SUCCESS:200,TOO_MANY_REQUESTS:429,INTERNAL_SERVER_ERROR:500},connect.TRANSPORT_TYPES={CHAT_TOKEN:"chat_token",WEB_SOCKET:"web_socket"},connect.hitch=function(){var e=Array.prototype.slice.call(arguments),t=e.shift(),n=e.shift();return connect.assertNotNull(t,"scope"),connect.assertNotNull(n,"method"),connect.assertTrue(connect.isFunction(n),"method must be a function"),function(){var r=Array.prototype.slice.call(arguments);return n.apply(t,e.concat(r))}},connect.isFunction=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},connect.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},connect.keys=function(e){var t=[];for(var n in connect.assertNotNull(e,"map"),e)t.push(n);return t},connect.values=function(e){var t=[];for(var n in connect.assertNotNull(e,"map"),e)t.push(e[n]);return t},connect.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},connect.merge=function(){var e=Array.prototype.slice.call(arguments,0),t={};return e.forEach((function(e){connect.entries(e).forEach((function(e){t[e.key]=e.value}))})),t},connect.now=function(){return(new Date).getTime()},connect.find=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null},connect.contains=function(e,t){return e instanceof Array?null!=connect.find(e,(function(e){return e===t})):t in e},connect.containsValue=function(e,t){return e instanceof Array?null!=connect.find(e,(function(e){return e===t})):null!=connect.find(connect.values(e),(function(e){return e===t}))},connect.randomId=function(){return connect.sprintf("%s-%s",connect.now(),Math.random().toString(36).slice(2))},connect.makeEnum=function(e){var t={};return e.forEach((function(e){var n=e.replace(/\.?([a-z]+)_?/g,(function(e,t){return t.toUpperCase()+"_"})).replace(/_$/,"");t[n]=e})),t},connect.makeNamespacedEnum=function(e,t){var n=connect.makeEnum(t);return connect.keys(n).forEach((function(t){n[t]=connect.sprintf("%s::%s",e,n[t])})),n},connect.makeGenericNamespacedEnum=function(e,t,n){var r=connect.makeEnum(t);return connect.keys(r).forEach((function(t){r[t]=connect.sprintf("%s"+n+"%s",e,r[t])})),r},connect.isChromeBrowser=function(){return-1!==t.indexOf("Chrome")},connect.isFirefoxBrowser=function(){return-1!==t.indexOf("Firefox")},connect.isOperaBrowser=function(){return-1!==t.indexOf("Opera")},connect.getChromeBrowserVersion=function(){var e=t.substring(t.indexOf("Chrome")+7);return e?parseFloat(e):-1},connect.getFirefoxBrowserVersion=function(){var e=t.substring(t.indexOf("Firefox")+8);return e?parseFloat(e):-1},connect.isValidLocale=function(e){return[{id:"en_US",label:"English"},{id:"de_DE",label:"Deutsch"},{id:"es_ES",label:"Español"},{id:"fr_FR",label:"Français"},{id:"ja_JP",label:"日本語"},{id:"it_IT",label:"Italiano"},{id:"ko_KR",label:"한국어"},{id:"pt_BR",label:"Português"},{id:"zh_CN",label:"中文(简体)"},{id:"zh_TW",label:"中文(繁體)"}].map((function(e){return e.id})).includes(e)},connect.getOperaBrowserVersion=function(){var e=t.indexOf("Opera"),n=-1!==t.indexOf("Version")?t.substring(e+8):t.substring(e+6);return n?parseFloat(n):-1},connect.index=function(e,t){var n={};return e.forEach((function(e){n[t(e)]=e})),n},connect.set=function(e){var t={};return e.forEach((function(e){t[e]=1})),t},connect.relativeComplement=function(e,t){var n={};return connect.keys(t).forEach((function(r){r in e||(n[r]=t[r])})),n},connect.assertTrue=function(e,t){if(!e)throw new connect.ValueError(t)},connect.assertNotNull=function(e,t){return connect.assertTrue(null!=e&&void 0!==typeof e,connect.sprintf("%s must be provided",t||"A value")),e},connect.deepcopy=function(e){return JSON.parse(JSON.stringify(e))},connect.deepcopyCrossOriginEvent=function(e){const t={};return n.forEach(n=>{try{t[n]=e[n]}catch(e){connect.getLog().info("deepcopyCrossOriginEvent failed on key: ",n).sendInternalLogToServer()}}),connect.deepcopy(t)},connect.getBaseUrl=function(){var t=e.location;return connect.sprintf("%s//%s:%s",t.protocol,t.hostname,t.port)},connect.getUrlWithProtocol=function(t){var n=e.location.protocol;return t.substr(0,n.length)!==n?connect.sprintf("%s//%s",n,t):t},connect.isFramed=function(){try{return window.self!==window.top}catch(e){return!0}},connect.hasOtherConnectedCCPs=function(){return connect.numberOfConnectedCCPs>1},connect.fetch=function(e,t,n,r){return r=r||5,n=n||1e3,t=t||{},new Promise((function(i,o){!function r(a){fetch(e,t).then((function(e){e.status===connect.HTTP_STATUS_CODES.SUCCESS?e.json().then(e=>i(e)).catch(()=>i({})):1!==a&&(e.status>=connect.HTTP_STATUS_CODES.INTERNAL_SERVER_ERROR||e.status===connect.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)?setTimeout((function(){r(--a)}),n):o(e)})).catch((function(e){o(e)}))}(r)}))},connect.backoff=function(t,n,r,i){connect.assertTrue(connect.isFunction(t),"func must be a Function");var o=this;t({success:function(e){i&&i.success&&i.success(e)},failure:function(a,s){if(r>0){var c=2*n*Math.random();e.setTimeout((function(){o.backoff(t,2*c,--r,i)}),c)}else i&&i.failure&&i.failure(a,s)}})},connect.publishMetric=function(e){connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.EventType.CLIENT_METRIC,data:e})},connect.publishSoftphoneStats=function(e){connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.EventType.SOFTPHONE_STATS,data:e})},connect.publishSoftphoneReport=function(e){connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.EventType.SOFTPHONE_REPORT,data:e})},connect.publishClientSideLogs=function(e){connect.core.getEventBus().trigger(connect.EventType.CLIENT_SIDE_LOGS,e)},connect.PopupManager=function(){},connect.PopupManager.prototype.open=function(e,t,n){var r=this._getLastOpenedTimestamp(t),i=(new Date).getTime(),o=null;if(i-r>864e5){if(n){var a=n.height||578,s=n.width||433,c=n.top||0,u=n.left||0;(o=window.open("",t,"width="+s+", height="+a+", top="+c+", left="+u)).location!==e&&(o=window.open(e,t,"width="+s+", height="+a+", top="+c+", left="+u))}else(o=window.open("",t)).location!==e&&(o=window.open(e,t));this._setLastOpenedTimestamp(t,i)}return o},connect.PopupManager.prototype.clear=function(t){var n=this._getLocalStorageKey(t);e.localStorage.removeItem(n)},connect.PopupManager.prototype._getLastOpenedTimestamp=function(t){var n=this._getLocalStorageKey(t),r=e.localStorage.getItem(n);return r?parseInt(r,10):0},connect.PopupManager.prototype._setLastOpenedTimestamp=function(t,n){var r=this._getLocalStorageKey(t);e.localStorage.setItem(r,""+n)},connect.PopupManager.prototype._getLocalStorageKey=function(e){return"connectPopupManager::"+e};var r=connect.makeEnum(["granted","denied","default"]);connect.NotificationManager=function(){this.queue=[],this.permission=r.DEFAULT},connect.NotificationManager.prototype.requestPermission=function(){var t=this;"Notification"in e?e.Notification.permission===r.DENIED?(connect.getLog().warn("The user has requested to not receive notifications.").sendInternalLogToServer(),this.permission=r.DENIED):this.permission!==r.GRANTED&&e.Notification.requestPermission().then((function(e){t.permission=e,e===r.GRANTED?t._showQueued():t.queue=[]})):(connect.getLog().warn("This browser doesn't support notifications.").sendInternalLogToServer(),this.permission=r.DENIED)},connect.NotificationManager.prototype.show=function(e,t){if(this.permission===r.GRANTED)return this._showImpl({title:e,options:t});if(this.permission===r.DENIED)connect.getLog().warn("Unable to show notification.").sendInternalLogToServer().withObject({title:e,options:t});else{var n={title:e,options:t};connect.getLog().warn("Deferring notification until user decides to allow or deny.").withObject(n).sendInternalLogToServer(),this.queue.push(n)}},connect.NotificationManager.prototype._showQueued=function(){var e=this,t=this.queue.map((function(t){return e._showImpl(t)}));return this.queue=[],t},connect.NotificationManager.prototype._showImpl=function(t){var n=new e.Notification(t.title,t.options);return t.options.clicked&&(n.onclick=function(){t.options.clicked.call(n)}),n},connect.BaseError=function(t,n){e.Error.call(this,connect.vsprintf(t,n))},connect.BaseError.prototype=Object.create(Error.prototype),connect.BaseError.prototype.constructor=connect.BaseError,connect.ValueError=function(){var e=Array.prototype.slice.call(arguments,0),t=e.shift();connect.BaseError.call(this,t,e)},connect.ValueError.prototype=Object.create(connect.BaseError.prototype),connect.ValueError.prototype.constructor=connect.ValueError,connect.NotImplementedError=function(){var e=Array.prototype.slice.call(arguments,0),t=e.shift();connect.BaseError.call(this,t,e)},connect.NotImplementedError.prototype=Object.create(connect.BaseError.prototype),connect.NotImplementedError.prototype.constructor=connect.NotImplementedError,connect.StateError=function(){var e=Array.prototype.slice.call(arguments,0),t=e.shift();connect.BaseError.call(this,t,e)},connect.StateError.prototype=Object.create(connect.BaseError.prototype),connect.StateError.prototype.constructor=connect.StateError,connect.VoiceIdError=function(e,t,n){var r={};return r.type=e,r.message=t,r.stack=Error(t).stack,r.err=n,r},connect.isCCP=function(){return"ConnectSharedWorkerConduit"===connect.core.getUpstream().name}}(),function(){connect=this.connect||{},this.connect=connect;var e=connect.makeEnum(["acknowledge","ack_timeout","init","api_request","api_response","auth_fail","access_denied","close","configure","log","master_request","master_response","synchronize","terminate","terminated","send_logs","reload_agent_configuration","broadcast","api_metric","client_metric","softphone_stats","softphone_report","client_side_logs","server_bound_internal_log","mute","iframe_style","update_connected_ccps","outer_context_info","media_device_request","media_device_response"]),t=connect.makeNamespacedEnum("connect",["loginPopup","sendLogs","softphone","ringtone","metrics"]),n=connect.makeNamespacedEnum("agent",["init","update","refresh","routable","not_routable","pending","contact_pending","offline","error","softphone_error","websocket_connection_lost","websocket_connection_gained","state_change","acw","mute_toggle","local_media_stream_created","enqueued_next_state"]),r=connect.makeNamespacedEnum("webSocket",["init_failure","connection_open","connection_close","connection_error","connection_gain","connection_lost","subscription_update","subscription_failure","all_message","send","subscribe"]),i=connect.makeNamespacedEnum("contact",["init","refresh","destroyed","incoming","pending","connecting","connected","missed","acw","view","ended","error","accepted"]),o=connect.makeNamespacedEnum("taskList",["activate_channel_with_view_type"]),a=connect.makeNamespacedEnum("task",["created"]),s=connect.makeNamespacedEnum("connection",["session_init","ready_to_start_session"]),c=connect.makeNamespacedEnum("configuration",["configure","set_speaker_device","set_microphone_device","set_ringer_device","speaker_device_changed","microphone_device_changed","ringer_device_changed"]),u=connect.makeNamespacedEnum("voiceId",["update_domain_id"]),l=function(){};l.createRequest=function(e,t,n){return{event:e,requestId:connect.randomId(),method:t,params:n}},l.createResponse=function(e,t,n,r){return{event:e,requestId:t.requestId,data:n,err:r||null}};var d=function(e,t,n){this.subMap=e,this.id=connect.randomId(),this.eventName=t,this.f=n};d.prototype.unsubscribe=function(){this.subMap.unsubscribe(this.eventName,this.id)};var f=function(){this.subIdMap={},this.subEventNameMap={}};f.prototype.subscribe=function(e,t){var n=new d(this,e,t);this.subIdMap[n.id]=n;var r=this.subEventNameMap[e]||[];return r.push(n),this.subEventNameMap[e]=r,n},f.prototype.unsubscribe=function(e,t){connect.contains(this.subEventNameMap,e)&&(this.subEventNameMap[e]=this.subEventNameMap[e].filter((function(e){return e.id!==t})),this.subEventNameMap[e].length<1&&delete this.subEventNameMap[e]),connect.contains(this.subIdMap,t)&&delete this.subIdMap[t]},f.prototype.getAllSubscriptions=function(){return connect.values(this.subEventNameMap).reduce((function(e,t){return e.concat(t)}),[])},f.prototype.getSubscriptions=function(e){return this.subEventNameMap[e]||[]};var p=function(e){var t=e||{};this.subMap=new f,this.logEvents=t.logEvents||!1};p.prototype.subscribe=function(e,t){return connect.assertNotNull(e,"eventName"),connect.assertNotNull(t,"f"),connect.assertTrue(connect.isFunction(t),"f must be a function"),this.subMap.subscribe(e,t)},p.prototype.subscribeAll=function(e){return connect.assertNotNull(e,"f"),connect.assertTrue(connect.isFunction(e),"f must be a function"),this.subMap.subscribe("<<all>>",e)},p.prototype.getSubscriptions=function(e){return this.subMap.getSubscriptions(e)},p.prototype.trigger=function(e,t){connect.assertNotNull(e,"eventName");var n=this,r=this.subMap.getSubscriptions("<<all>>"),i=this.subMap.getSubscriptions(e);this.logEvents&&e!==connect.EventType.LOG&&e!==connect.EventType.MASTER_RESPONSE&&e!==connect.EventType.API_METRIC&&e!==connect.EventType.SERVER_BOUND_INTERNAL_LOG&&connect.getLog().trace("Publishing event: %s",e).sendInternalLogToServer(),e.startsWith(connect.ContactEvents.ACCEPTED)&&t&&t.contactId&&!(t instanceof connect.Contact)&&(t=new connect.Contact(t.contactId)),r.concat(i).forEach((function(r){try{r.f(t||null,e,n)}catch(t){connect.getLog().error("'%s' event handler failed.",e).withException(t).sendInternalLogToServer()}}))},p.prototype.bridge=function(){var e=this;return function(t,n){e.trigger(n,t)}},p.prototype.unsubscribeAll=function(){this.subMap.getAllSubscriptions().forEach((function(e){e.unsubscribe()}))},connect.EventBus=p,connect.EventFactory=l,connect.EventType=e,connect.AgentEvents=n,connect.ConfigurationEvents=c,connect.ConnectionEvents=s,connect.ConnnectionEvents=s,connect.ContactEvents=i,connect.ChannelViewEvents=o,connect.TaskEvents=a,connect.VoiceIdEvents=u,connect.WebSocketEvents=r,connect.MasterTopics=t}(),function(){connect=this.connect||{},this.connect=connect,this.lily=connect;var e=function(){};e.prototype.send=function(e){throw new connect.NotImplementedError},e.prototype.onMessage=function(e){throw new connect.NotImplementedError};var t=function(){e.call(this)};(t.prototype=Object.create(e.prototype)).constructor=t,t.prototype.onMessage=function(e){},t.prototype.send=function(e){};var n=function(t,n){e.call(this),this.window=t,this.domain=n||"*"};(n.prototype=Object.create(e.prototype)).constructor=n,n.prototype.send=function(e){this.window.postMessage(e,this.domain)},n.prototype.onMessage=function(e){this.window.addEventListener("message",e)};var r=function(t,n,r){e.call(this),this.input=t,this.output=n,this.domain=r||"*"};(r.prototype=Object.create(e.prototype)).constructor=r,r.prototype.send=function(e){this.output.postMessage(e,this.domain)},r.prototype.onMessage=function(e){this.input.addEventListener("message",t=>{t.source===this.output&&e(t)})};var i=function(t){e.call(this),this.port=t,this.id=connect.randomId()};(i.prototype=Object.create(e.prototype)).constructor=i,i.prototype.send=function(e){this.port.postMessage(e)},i.prototype.onMessage=function(e){this.port.addEventListener("message",e)},i.prototype.getId=function(){return this.id};var o=function(t){e.call(this),this.streamMap=t?connect.index(t,(function(e){return e.getId()})):{},this.messageListeners=[]};(o.prototype=Object.create(e.prototype)).constructor=o,o.prototype.send=function(e){this.getStreams().forEach((function(t){try{t.send(e)}catch(e){}}))},o.prototype.onMessage=function(e){this.messageListeners.push(e),this.getStreams().forEach((function(t){t.onMessage(e)}))},o.prototype.addStream=function(e){this.streamMap[e.getId()]=e,this.messageListeners.forEach((function(t){e.onMessage(t)}))},o.prototype.removeStream=function(e){delete this.streamMap[e.getId()]},o.prototype.getStreams=function(e){return connect.values(this.streamMap)},o.prototype.getStreamForPort=function(e){return connect.find(this.getStreams(),(function(t){return t.port===e}))};var a=function(e,n,r){this.name=e,this.upstream=n||new t,this.downstream=r||new t,this.downstreamBus=new connect.EventBus,this.upstreamBus=new connect.EventBus,this.upstream.onMessage(connect.hitch(this,this._dispatchEvent,this.upstreamBus)),this.downstream.onMessage(connect.hitch(this,this._dispatchEvent,this.downstreamBus))};a.prototype.onUpstream=function(e,t){return connect.assertNotNull(e,"eventName"),connect.assertNotNull(t,"f"),connect.assertTrue(connect.isFunction(t),"f must be a function"),this.upstreamBus.subscribe(e,t)},a.prototype.onAllUpstream=function(e){return connect.assertNotNull(e,"f"),connect.assertTrue(connect.isFunction(e),"f must be a function"),this.upstreamBus.subscribeAll(e)},a.prototype.onDownstream=function(e,t){return connect.assertNotNull(e,"eventName"),connect.assertNotNull(t,"f"),connect.assertTrue(connect.isFunction(t),"f must be a function"),this.downstreamBus.subscribe(e,t)},a.prototype.onAllDownstream=function(e){return connect.assertNotNull(e,"f"),connect.assertTrue(connect.isFunction(e),"f must be a function"),this.downstreamBus.subscribeAll(e)},a.prototype.sendUpstream=function(e,t){connect.assertNotNull(e,"eventName"),this.upstream.send({event:e,data:t})},a.prototype.sendDownstream=function(e,t){connect.assertNotNull(e,"eventName"),this.downstream.send({event:e,data:t})},a.prototype._dispatchEvent=function(e,t){var n=t.data;n.event&&e.trigger(n.event,n.data)},a.prototype.passUpstream=function(){var e=this;return function(t,n){e.upstream.send({event:n,data:t})}},a.prototype.passDownstream=function(){var e=this;return function(t,n){e.downstream.send({event:n,data:t})}},a.prototype.shutdown=function(){this.upstreamBus.unsubscribeAll(),this.downstreamBus.unsubscribeAll()};var s=function(e,t,n,i){a.call(this,e,new r(t,n.contentWindow,i||"*"),null)};(s.prototype=Object.create(a.prototype)).constructor=s,connect.Stream=e,connect.NullStream=t,connect.WindowStream=n,connect.WindowIOStream=r,connect.PortStream=i,connect.StreamMultiplexer=o,connect.Conduit=a,connect.IFrameConduit=s}(),function(){connect=this.connect||{},this.connect=connect,this.lily=connect,connect.ClientMethods=connect.makeEnum(["getAgentSnapshot","putAgentState","getAgentStates","getDialableCountryCodes","getRoutingProfileQueues","getAgentPermissions","getAgentConfiguration","updateAgentConfiguration","acceptContact","createOutboundContact","createTaskContact","clearContact","completeContact","destroyContact","rejectContact","notifyContactIssue","updateContactAttributes","createAdditionalConnection","destroyConnection","holdConnection","resumeConnection","toggleActiveConnections","conferenceConnections","sendClientLogs","sendDigits","sendSoftphoneCallReport","sendSoftphoneCallMetrics","getEndpoints","getNewAuthToken","createTransport","muteParticipant","unmuteParticipant"]),connect.AgentAppClientMethods={GET_CONTACT:"AgentAppService.Lcms.getContact",DELETE_SPEAKER:"AgentAppService.VoiceId.deleteSpeaker",ENROLL_BY_SESSION:"AgentAppService.VoiceId.enrollBySession",EVALUATE_SESSION:"AgentAppService.VoiceId.evaluateSession",DESCRIBE_SPEAKER:"AgentAppService.VoiceId.describeSpeaker",OPT_OUT_SPEAKER:"AgentAppService.VoiceId.optOutSpeaker",UPDATE_VOICE_ID_DATA:"AgentAppService.Lcms.updateVoiceIdData",DESCRIBE_SESSION:"AgentAppService.VoiceId.describeSession",UPDATE_SESSION:"AgentAppService.VoiceId.updateSession",START_VOICE_ID_SESSION:"AgentAppService.Nasa.startVoiceIdSession",LIST_INTEGRATION_ASSOCIATIONS:"AgentAppService.Acs.listIntegrationAssociations"},connect.MasterMethods=connect.makeEnum(["becomeMaster","checkMaster"]);var e=function(){};e.EMPTY_CALLBACKS={success:function(){},failure:function(){}},e.prototype.call=function(t,n,r){connect.assertNotNull(t,"method");var i=n||{},o=r||e.EMPTY_CALLBACKS;this._callImpl(t,i,o)},e.prototype._callImpl=function(e,t,n){throw new connect.NotImplementedError};var t=function(){e.call(this)};(t.prototype=Object.create(e.prototype)).constructor=t,t.prototype._callImpl=function(e,t,n){if(n&&n.failure){var r=connect.sprintf("No such method exists on NULL client: %s",e);n.failure(new connect.ValueError(r),{message:r})}};var n=function(t,n,r){e.call(this),this.conduit=t,this.requestEvent=n,this.responseEvent=r,this._requestIdCallbacksMap={},this.conduit.onUpstream(r,connect.hitch(this,this._handleResponse))};(n.prototype=Object.create(e.prototype)).constructor=n,n.prototype._callImpl=function(e,t,n){var r=connect.EventFactory.createRequest(this.requestEvent,e,t);this._requestIdCallbacksMap[r.requestId]=n,this.conduit.sendUpstream(r.event,r)},n.prototype._getCallbacksForRequest=function(e){var t=this._requestIdCallbacksMap[e]||null;return null!=t&&delete this._requestIdCallbacksMap[e],t},n.prototype._handleResponse=function(e){var t=this._getCallbacksForRequest(e.requestId);null!=t&&(e.err&&t.failure?t.failure(e.err,e.data):t.success&&t.success(e.data))};var r=function(e){n.call(this,e,connect.EventType.API_REQUEST,connect.EventType.API_RESPONSE)};(r.prototype=Object.create(n.prototype)).constructor=r;var i=function(e){n.call(this,e,connect.EventType.MASTER_REQUEST,connect.EventType.MASTER_RESPONSE)};(i.prototype=Object.create(n.prototype)).constructor=i;var o=function(t,n,r){connect.assertNotNull(t,"authCookieName"),connect.assertNotNull(n,"authToken"),connect.assertNotNull(r,"endpoint"),e.call(this),this.endpointUrl=connect.getUrlWithProtocol(r),this.authToken=n,this.authCookieName=t};(o.prototype=Object.create(e.prototype)).constructor=o,o.prototype._callImpl=function(e,t,n){var r={};r[this.authCookieName]=this.authToken;var i={method:"post",body:JSON.stringify(t||{}),headers:{Accept:"application/json","Content-Type":"application/json","X-Amz-target":e,"X-Amz-Bearer":JSON.stringify(r)}};connect.fetch(this.endpointUrl,i).then((function(e){n.success(e)})).catch((function(e){const t=e.body.getReader();let r="";const i=new TextDecoder;t.read().then((function o({done:a,value:s}){if(a){var c=JSON.parse(r);return c.status=e.status,void n.failure(c)}return r+=i.decode(s),t.read().then(o)}))}))};var a=function(t,n,r){connect.assertNotNull(t,"authToken"),connect.assertNotNull(n,"region"),e.call(this),AWS.config.credentials=new AWS.Credentials({}),AWS.config.region=n,this.authToken=t;var i=connect.getBaseUrl(),o=r||(i.includes(".awsapps.com")?i+"/connect/api":i+"/api"),a=new AWS.Endpoint(o);this.client=new AWS.Connect({endpoint:a})};(a.prototype=Object.create(e.prototype)).constructor=a,a.prototype._callImpl=function(e,t,n){var r=this,i=connect.getLog();if(connect.contains(this.client,e))t=this._translateParams(e,t),i.trace("AWSClient: --\x3e Calling operation '%s'",e).sendInternalLogToServer(),this.client[e](t).on("build",(function(e){e.httpRequest.headers["X-Amz-Bearer"]=r.authToken})).send((function(t,r){try{if(t){if(t.code===connect.CTIExceptions.UNAUTHORIZED_EXCEPTION)n.authFailure();else if(!n.accessDenied||t.code!==connect.CTIExceptions.ACCESS_DENIED_EXCEPTION&&403!==t.statusCode){var o={};o.type=t.code,o.message=t.message,o.stack=t.stack?t.stack.split("\n"):[],n.failure(o,r)}else n.accessDenied();i.trace("AWSClient: <-- Operation '%s' failed: %s",e,JSON.stringify(t)).sendInternalLogToServer()}else i.trace("AWSClient: <-- Operation '%s' succeeded.",e).withObject(r).sendInternalLogToServer(),n.success(r)}catch(t){connect.getLog().error("Failed to handle AWS API request for method %s",e).withException(t).sendInternalLogToServer()}}));else{var o=connect.sprintf("No such method exists on AWS client: %s",e);n.failure(new connect.ValueError(o),{message:o})}},a.prototype._requiresAuthenticationParam=function(e){return e!==connect.ClientMethods.COMPLETE_CONTACT&&e!==connect.ClientMethods.CLEAR_CONTACT&&e!==connect.ClientMethods.REJECT_CONTACT&&e!==connect.ClientMethods.CREATE_TASK_CONTACT},a.prototype._translateParams=function(e,t){switch(e){case connect.ClientMethods.UPDATE_AGENT_CONFIGURATION:t.configuration=this._translateAgentConfiguration(t.configuration);break;case connect.ClientMethods.SEND_SOFTPHONE_CALL_METRICS:t.softphoneStreamStatistics=this._translateSoftphoneStreamStatistics(t.softphoneStreamStatistics);break;case connect.ClientMethods.SEND_SOFTPHONE_CALL_REPORT:t.report=this._translateSoftphoneCallReport(t.report)}return this._requiresAuthenticationParam(e)&&(t.authentication={authToken:this.authToken}),t},a.prototype._translateAgentConfiguration=function(e){return{name:e.name,softphoneEnabled:e.softphoneEnabled,softphoneAutoAccept:e.softphoneAutoAccept,extension:e.extension,routingProfile:this._translateRoutingProfile(e.routingProfile),agentPreferences:e.agentPreferences}},a.prototype._translateRoutingProfile=function(e){return{name:e.name,routingProfileARN:e.routingProfileARN,defaultOutboundQueue:this._translateQueue(e.defaultOutboundQueue)}},a.prototype._translateQueue=function(e){return{queueARN:e.queueARN,name:e.name}},a.prototype._translateSoftphoneStreamStatistics=function(e){return e.forEach((function(e){"packetsCount"in e&&(e.packetCount=e.packetsCount,delete e.packetsCount)})),e},a.prototype._translateSoftphoneCallReport=function(e){return"handshakingTimeMillis"in e&&(e.handshakeTimeMillis=e.handshakingTimeMillis,delete e.handshakingTimeMillis),"preTalkingTimeMillis"in e&&(e.preTalkTimeMillis=e.preTalkingTimeMillis,delete e.preTalkingTimeMillis),"handshakingFailure"in e&&(e.handshakeFailure=e.handshakingFailure,delete e.handshakingFailure),"talkingTimeMillis"in e&&(e.talkTimeMillis=e.talkingTimeMillis,delete e.talkingTimeMillis),e.softphoneStreamStatistics=this._translateSoftphoneStreamStatistics(e.softphoneStreamStatistics),e},connect.ClientBase=e,connect.NullClient=t,connect.UpstreamConduitClient=r,connect.UpstreamConduitMasterClient=i,connect.AWSClient=a,connect.AgentAppClient=o}(),function(){connect=this.connect||{},this.connect=connect,this.lily=connect;var e=function(e,t){connect.assertNotNull(e,"fromState"),connect.assertNotNull(t,"toState"),this.fromState=e,this.toState=t};e.prototype.getAssociations=function(e){throw connect.NotImplementedError()},e.prototype.getFromState=function(){return this.fromState},e.prototype.getToState=function(){return this.toState};var t=function(t,n,r){connect.assertNotNull(t,"fromState"),connect.assertNotNull(n,"toState"),connect.assertNotNull(r,"associations"),e.call(this,t,n),this.associations=r};(t.prototype=Object.create(e.prototype)).constructor=t,t.prototype.getAssociations=function(e){return this.associations};var n=function(t,n,r){connect.assertNotNull(t,"fromState"),connect.assertNotNull(n,"toState"),connect.assertNotNull(r,"closure"),connect.assertTrue(connect.isFunction(r),"closure must be a function"),e.call(this,t,n),this.closure=r};(n.prototype=Object.create(e.prototype)).constructor=n,n.prototype.getAssociations=function(e){return this.closure(e,this.getFromState(),this.getToState())};var r=function(){this.fromMap={}};r.ANY="<<any>>",r.prototype.assoc=function(e,r,i){var o=this;if(!e)throw new Error("fromStateObj is not defined.");if(!r)throw new Error("toStateObj is not defined.");if(!i)throw new Error("assocObj is not defined.");return e instanceof Array?e.forEach((function(e){o.assoc(e,r,i)})):r instanceof Array?r.forEach((function(t){o.assoc(e,t,i)})):"function"==typeof i?this._addAssociation(new n(e,r,i)):i instanceof Array?this._addAssociation(new t(e,r,i)):this._addAssociation(new t(e,r,[i])),this},r.prototype.getAssociations=function(e,t,n){connect.assertNotNull(t,"fromState"),connect.assertNotNull(n,"toState");var i=[],o=this.fromMap[r.ANY]||{},a=this.fromMap[t]||{};return i=(i=i.concat(this._getAssociationsFromMap(o,e,t,n))).concat(this._getAssociationsFromMap(a,e,t,n))},r.prototype._addAssociation=function(e){var t=this.fromMap[e.getFromState()];t||(t=this.fromMap[e.getFromState()]={});var n=t[e.getToState()];n||(n=t[e.getToState()]=[]),n.push(e)},r.prototype._getAssociationsFromMap=function(e,t,n,i){return(e[r.ANY]||[]).concat(e[i]||[]).reduce((function(e,n){return e.concat(n.getAssociations(t))}),[])},connect.EventGraph=r}(),function(){var e=this;connect=e.connect||{},e.connect=connect,e.lily=connect,connect.AgentStateType=connect.makeEnum(["init","routable","not_routable","offline"]),connect.AgentStatusType=connect.AgentStateType,connect.AgentAvailStates=connect.makeEnum(["Init","Busy","AfterCallWork","CallingCustomer","Dialing","Joining","PendingAvailable","PendingBusy"]),connect.AgentErrorStates=connect.makeEnum(["Error","AgentHungUp","BadAddressAgent","BadAddressCustomer","Default","FailedConnectAgent","FailedConnectCustomer","InvalidLocale","LineEngagedAgent","LineEngagedCustomer","MissedCallAgent","MissedCallCustomer","MultipleCcpWindows","RealtimeCommunicationError"]),connect.EndpointType=connect.makeEnum(["phone_number","agent","queue"]),connect.AddressType=connect.EndpointType,connect.ConnectionType=connect.makeEnum(["agent","inbound","outbound","monitoring"]),connect.ConnectionStateType=connect.makeEnum(["init","connecting","connected","hold","disconnected"]),connect.ConnectionStatusType=connect.ConnectionStateType,connect.CONNECTION_ACTIVE_STATES=connect.set([connect.ConnectionStateType.CONNECTING,connect.ConnectionStateType.CONNECTED,connect.ConnectionStateType.HOLD]),connect.ContactStateType=connect.makeEnum(["init","incoming","pending","connecting","connected","missed","error","ended"]),connect.ContactStatusType=connect.ContactStateType,connect.CONTACT_ACTIVE_STATES=connect.makeEnum(["incoming","pending","connecting","connected"]),connect.ContactType=connect.makeEnum(["voice","queue_callback","chat","task"]),connect.ContactInitiationMethod=connect.makeEnum(["inbound","outbound","transfer","queue_transfer","callback","api","disconnect"]),connect.ChannelType=connect.makeEnum(["VOICE","CHAT","TASK"]),connect.MediaType=connect.makeEnum(["softphone","chat","task"]),connect.SoftphoneCallType=connect.makeEnum(["audio_video","video_only","audio_only","none"]),connect.SoftphoneErrorTypes=connect.makeEnum(["unsupported_browser","microphone_not_shared","signalling_handshake_failure","signalling_connection_failure","ice_collection_timeout","user_busy_error","webrtc_error","realtime_communication_error","other"]),connect.VoiceIdErrorTypes=connect.makeEnum(["no_speaker_id_found","speaker_id_not_enrolled","get_speaker_id_failed","get_speaker_status_failed","opt_out_speaker_failed","opt_out_speaker_in_lcms_failed","delete_speaker_failed","start_session_failed","evaluate_speaker_failed","session_not_exists","describe_session_failed","enroll_speaker_failed","update_speaker_id_failed","update_speaker_id_in_lcms_failed","not_supported_on_conference_calls","enroll_speaker_timeout","evaluate_speaker_timeout","get_domain_id_failed","no_domain_id_found"]),connect.CTIExceptions=connect.makeEnum(["AccessDeniedException","InvalidStateException","BadEndpointException","InvalidAgentARNException","InvalidConfigurationException","InvalidContactTypeException","PaginationException","RefreshTokenExpiredException","SendDataFailedException","UnauthorizedException","QuotaExceededException"]),connect.VoiceIdStreamingStatus=connect.makeEnum(["ONGOING","ENDED","PENDING_CONFIGURATION"]),connect.VoiceIdAuthenticationDecision=connect.makeEnum(["ACCEPT","REJECT","NOT_ENOUGH_SPEECH","SPEAKER_NOT_ENROLLED","SPEAKER_OPTED_OUT","SPEAKER_ID_NOT_PROVIDED","SPEAKER_EXPIRED"]),connect.VoiceIdFraudDetectionDecision=connect.makeEnum(["NOT_ENOUGH_SPEECH","HIGH_RISK","LOW_RISK"]),connect.ContactFlowAuthenticationDecision=connect.makeEnum(["Authenticated","NotAuthenticated","Inconclusive","NotEnrolled","OptedOut","NotEnabled","Error"]),connect.ContactFlowFraudDetectionDecision=connect.makeEnum(["HighRisk","LowRisk","Inconclusive","NotEnabled","Error"]),connect.VoiceIdEnrollmentRequestStatus=connect.makeEnum(["NOT_ENOUGH_SPEECH","IN_PROGRESS","COMPLETED","FAILED"]),connect.VoiceIdSpeakerStatus=connect.makeEnum(["OPTED_OUT","ENROLLED","PENDING"]),connect.VoiceIdConstants={EVALUATE_SESSION_DELAY:1e4,EVALUATION_MAX_POLL_TIMES:24,EVALUATION_POLLING_INTERVAL:5e3,ENROLLMENT_MAX_POLL_TIMES:120,ENROLLMENT_POLLING_INTERVAL:5e3,START_SESSION_DELAY:8e3},connect.AgentPermissions={OUTBOUND_CALL:"outboundCall",VOICE_ID:"voiceId"};var t=function(){if(!connect.agent.initialized)throw new connect.StateError("The agent is not yet initialized!")};t.prototype._getData=function(){return connect.core.getAgentDataProvider().getAgentData()},t.prototype._createContactAPI=function(e){return new connect.Contact(e.contactId)},t.prototype.onContactPending=function(e){connect.core.getEventBus().subscribe(connect.AgentEvents.CONTACT_PENDING,e)},t.prototype.onRefresh=function(e){connect.core.getEventBus().subscribe(connect.AgentEvents.REFRESH,e)},t.prototype.onRoutable=function(e){connect.core.getEventBus().subscribe(connect.AgentEvents.ROUTABLE,e)},t.prototype.onNotRoutable=function(e){connect.core.getEventBus().subscribe(connect.AgentEvents.NOT_ROUTABLE,e)},t.prototype.onOffline=function(e){connect.core.getEventBus().subscribe(connect.AgentEvents.OFFLINE,e)},t.prototype.onError=function(e){connect.core.getEventBus().subscribe(connect.AgentEvents.ERROR,e)},t.prototype.onSoftphoneError=function(e){connect.core.getEventBus().subscribe(connect.AgentEvents.SOFTPHONE_ERROR,e)},t.prototype.onWebSocketConnectionLost=function(e){connect.core.getEventBus().subscribe(connect.AgentEvents.WEBSOCKET_CONNECTION_LOST,e)},t.prototype.onWebSocketConnectionGained=function(e){connect.core.getEventBus().subscribe(connect.AgentEvents.WEBSOCKET_CONNECTION_GAINED,e)},t.prototype.onAfterCallWork=function(e){connect.core.getEventBus().subscribe(connect.AgentEvents.ACW,e)},t.prototype.onStateChange=function(e){connect.core.getEventBus().subscribe(connect.AgentEvents.STATE_CHANGE,e)},t.prototype.onMuteToggle=function(e){connect.core.getUpstream().onUpstream(connect.AgentEvents.MUTE_TOGGLE,e)},t.prototype.onLocalMediaStreamCreated=function(e){connect.core.getUpstream().onUpstream(connect.AgentEvents.LOCAL_MEDIA_STREAM_CREATED,e)},t.prototype.onSpeakerDeviceChanged=function(e){connect.core.getUpstream().onUpstream(connect.ConfigurationEvents.SPEAKER_DEVICE_CHANGED,e)},t.prototype.onMicrophoneDeviceChanged=function(e){connect.core.getUpstream().onUpstream(connect.ConfigurationEvents.MICROPHONE_DEVICE_CHANGED,e)},t.prototype.onRingerDeviceChanged=function(e){connect.core.getUpstream().onUpstream(connect.ConfigurationEvents.RINGER_DEVICE_CHANGED,e)},t.prototype.mute=function(){connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.EventType.MUTE,data:{mute:!0}})},t.prototype.unmute=function(){connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.EventType.MUTE,data:{mute:!1}})},t.prototype.setSpeakerDevice=function(e){connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.ConfigurationEvents.SET_SPEAKER_DEVICE,data:{deviceId:e}})},t.prototype.setMicrophoneDevice=function(e){connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.ConfigurationEvents.SET_MICROPHONE_DEVICE,data:{deviceId:e}})},t.prototype.setRingerDevice=function(e){connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.ConfigurationEvents.SET_RINGER_DEVICE,data:{deviceId:e}})},t.prototype.getState=function(){return this._getData().snapshot.state},t.prototype.getNextState=function(){return this._getData().snapshot.nextState},t.prototype.getAvailabilityState=function(){return this._getData().snapshot.agentAvailabilityState},t.prototype.getStatus=t.prototype.getState,t.prototype.getStateDuration=function(){return connect.now()-this._getData().snapshot.state.startTimestamp.getTime()+connect.core.getSkew()},t.prototype.getStatusDuration=t.prototype.getStateDuration,t.prototype.getPermissions=function(){return this.getConfiguration().permissions},t.prototype.getContacts=function(e){var t=this;return this._getData().snapshot.contacts.map((function(e){return t._createContactAPI(e)})).filter((function(t){return!e||t.getType()===e}))},t.prototype.getConfiguration=function(){return this._getData().configuration},t.prototype.getAgentStates=function(){return this.getConfiguration().agentStates},t.prototype.getRoutingProfile=function(){return this.getConfiguration().routingProfile},t.prototype.getChannelConcurrency=function(e){var t=this.getRoutingProfile().channelConcurrencyMap;return t||(t=Object.keys(connect.ChannelType).reduce((function(e,t){return"TASK"!==t&&(e[connect.ChannelType[t]]=1),e}),{})),e?t[e]||0:t},t.prototype.getName=function(){return this.getConfiguration().name},t.prototype.getExtension=function(){return this.getConfiguration().extension},t.prototype.getDialableCountries=function(){return this.getConfiguration().dialableCountries},t.prototype.isSoftphoneEnabled=function(){return this.getConfiguration().softphoneEnabled},t.prototype.setConfiguration=function(e,t){var n=connect.core.getClient();e&&e.agentPreferences&&!connect.isValidLocale(e.agentPreferences.locale)?t&&t.failure&&t.failure(connect.AgentErrorStates.INVALID_LOCALE):n.call(connect.ClientMethods.UPDATE_AGENT_CONFIGURATION,{configuration:connect.assertNotNull(e,"configuration")},{success:function(e){connect.core.getUpstream().sendUpstream(connect.EventType.RELOAD_AGENT_CONFIGURATION),t.success&&t.success(e)},failure:t&&t.failure})},t.prototype.setState=function(e,t,n){connect.core.getClient().call(connect.ClientMethods.PUT_AGENT_STATE,{state:connect.assertNotNull(e,"state"),enqueueNextState:n&&!!n.enqueueNextState},t)},t.prototype.onEnqueuedNextState=function(e){connect.core.getEventBus().subscribe(connect.AgentEvents.ENQUEUED_NEXT_STATE,e)},t.prototype.setStatus=t.prototype.setState,t.prototype.connect=function(e,t){var n=connect.core.getClient(),r=new connect.Endpoint(e);delete r.endpointId,n.call(connect.ClientMethods.CREATE_OUTBOUND_CONTACT,{endpoint:connect.assertNotNull(r,"endpoint"),queueARN:t&&(t.queueARN||t.queueId)||this.getRoutingProfile().defaultOutboundQueue.queueARN},t&&{success:t.success,failure:t.failure})},t.prototype.getAllQueueARNs=function(){return this.getConfiguration().routingProfile.queues.map((function(e){return e.queueARN}))},t.prototype.getEndpoints=function(e,t,n){var r=this,i=connect.core.getClient();connect.assertNotNull(t,"callbacks"),connect.assertNotNull(t.success,"callbacks.success");var o=n||{};o.endpoints=o.endpoints||[],o.maxResults=o.maxResults||connect.DEFAULT_BATCH_SIZE,connect.isArray(e)||(e=[e]),i.call(connect.ClientMethods.GET_ENDPOINTS,{queueARNs:e,nextToken:o.nextToken||null,maxResults:o.maxResults},{success:function(n){if(n.nextToken)r.getEndpoints(e,t,{nextToken:n.nextToken,maxResults:o.maxResults,endpoints:o.endpoints.concat(n.endpoints)});else{o.endpoints=o.endpoints.concat(n.endpoints);var i=o.endpoints.map((function(e){return new connect.Endpoint(e)}));t.success({endpoints:i,addresses:i})}},failure:t.failure})},t.prototype.getAddresses=t.prototype.getEndpoints,t.prototype._getResourceId=function(){queueArns=this.getAllQueueARNs();for(let e of queueArns){const t=e.match(/\/agent\/([^/]+)/);if(t)return t[1]}return new Error("Agent.prototype._getResourceId: queueArns did not contain agentResourceId: ",queueArns)},t.prototype.toSnapshot=function(){return new connect.AgentSnapshot(this._getData())};var n=function(e){connect.Agent.call(this),this.agentData=e};(n.prototype=Object.create(t.prototype)).constructor=n,n.prototype._getData=function(){return this.agentData},n.prototype._createContactAPI=function(e){return new connect.ContactSnapshot(e)};var r=function(e){this.contactId=e};r.prototype._getData=function(){return connect.core.getAgentDataProvider().getContactData(this.getContactId())},r.prototype._createConnectionAPI=function(e){return this.getType()===connect.ContactType.CHAT?new connect.ChatConnection(this.contactId,e.connectionId):this.getType()===connect.ContactType.TASK?new connect.TaskConnection(this.contactId,e.connectionId):new connect.VoiceConnection(this.contactId,e.connectionId)},r.prototype.getEventName=function(e){return connect.core.getContactEventName(e,this.getContactId())},r.prototype.onRefresh=function(e){connect.core.getEventBus().subscribe(this.getEventName(connect.ContactEvents.REFRESH),e)},r.prototype.onIncoming=function(e){connect.core.getEventBus().subscribe(this.getEventName(connect.ContactEvents.INCOMING),e)},r.prototype.onConnecting=function(e){connect.core.getEventBus().subscribe(this.getEventName(connect.ContactEvents.CONNECTING),e)},r.prototype.onPending=function(e){connect.core.getEventBus().subscribe(this.getEventName(connect.ContactEvents.PENDING),e)},r.prototype.onAccepted=function(e){connect.core.getEventBus().subscribe(this.getEventName(connect.ContactEvents.ACCEPTED),e)},r.prototype.onMissed=function(e){connect.core.getEventBus().subscribe(this.getEventName(connect.ContactEvents.MISSED),e)},r.prototype.onEnded=function(e){var t=connect.core.getEventBus();t.subscribe(this.getEventName(connect.ContactEvents.ENDED),e),t.subscribe(this.getEventName(connect.ContactEvents.DESTROYED),e)},r.prototype.onDestroy=function(e){connect.core.getEventBus().subscribe(this.getEventName(connect.ContactEvents.DESTROYED),e)},r.prototype.onACW=function(e){connect.core.getEventBus().subscribe(this.getEventName(connect.ContactEvents.ACW),e)},r.prototype.onConnected=function(e){connect.core.getEventBus().subscribe(this.getEventName(connect.ContactEvents.CONNECTED),e)},r.prototype.onError=function(e){connect.core.getEventBus().subscribe(this.getEventName(connect.ContactEvents.ERROR),e)},r.prototype.getContactId=function(){return this.contactId},r.prototype.getOriginalContactId=function(){return this._getData().initialContactId},r.prototype.getInitialContactId=r.prototype.getOriginalContactId,r.prototype.getType=function(){return this._getData().type},r.prototype.getContactDuration=function(){return this._getData().contactDuration},r.prototype.getState=function(){return this._getData().state},r.prototype.getStatus=r.prototype.getState,r.prototype.getStateDuration=function(){return connect.now()-this._getData().state.timestamp.getTime()+connect.core.getSkew()},r.prototype.getStatusDuration=r.prototype.getStateDuration,r.prototype.getQueue=function(){return this._getData().queue},r.prototype.getQueueTimestamp=function(){return this._getData().queueTimestamp},r.prototype.getConnections=function(){var e=this;return this._getData().connections.map((function(t){return e.getType()===connect.ContactType.CHAT?new connect.ChatConnection(e.contactId,t.connectionId):e.getType()===connect.ContactType.TASK?new connect.TaskConnection(e.contactId,t.connectionId):new connect.VoiceConnection(e.contactId,t.connectionId)}))},r.prototype.getInitialConnection=function(){return connect.find(this.getConnections(),(function(e){return e.isInitialConnection()}))||null},r.prototype.getActiveInitialConnection=function(){var e=this.getInitialConnection();return null!=e&&e.isActive()?e:null},r.prototype.getThirdPartyConnections=function(){return this.getConnections().filter((function(e){return!e.isInitialConnection()&&e.getType()!==connect.ConnectionType.AGENT}))},r.prototype.getSingleActiveThirdPartyConnection=function(){return this.getThirdPartyConnections().filter((function(e){return e.isActive()}))[0]||null},r.prototype.getAgentConnection=function(){return connect.find(this.getConnections(),(function(e){var t=e.getType();return t===connect.ConnectionType.AGENT||t===connect.ConnectionType.MONITORING}))},r.prototype.getName=function(){return this._getData().name},r.prototype.getContactMetadata=function(){return this._getData().contactMetadata},r.prototype.getDescription=function(){return this._getData().description},r.prototype.getReferences=function(){return this._getData().references},r.prototype.getAttributes=function(){return this._getData().attributes},r.prototype.getContactFeatures=function(){return this._getData().contactFeatures},r.prototype.isSoftphoneCall=function(){return null!=connect.find(this.getConnections(),(function(e){return null!=e.getSoftphoneMediaInfo()}))},r.prototype._isInbound=function(){return this._getData().initiationMethod!==connect.ContactInitiationMethod.OUTBOUND},r.prototype.isInbound=function(){var e=this.getInitialConnection();return e.getMediaType()===connect.MediaType.TASK?this._isInbound():!!e&&e.getType()===connect.ConnectionType.INBOUND},r.prototype.isConnected=function(){return this.getStatus().type===connect.ContactStateType.CONNECTED},r.prototype.accept=function(e){var t=connect.core.getClient(),n=this,r=this.getContactId();t.call(connect.ClientMethods.ACCEPT_CONTACT,{contactId:r},{success:function(t){var i=connect.core.getUpstream();i.sendUpstream(connect.EventType.BROADCAST,{event:connect.ContactEvents.ACCEPTED,data:new connect.Contact(r)}),i.sendUpstream(connect.EventType.BROADCAST,{event:connect.core.getContactEventName(connect.ContactEvents.ACCEPTED,n.getContactId()),data:new connect.Contact(r)});var o=new connect.Contact(r);connect.isFirefoxBrowser()&&o.isSoftphoneCall()&&connect.core.triggerReadyToStartSessionEvent(),e&&e.success&&e.success(t)},failure:e?e.failure:null})},r.prototype.destroy=function(){connect.getLog().warn("contact.destroy() has been deprecated.")},r.prototype.reject=function(e){connect.core.getClient().call(connect.ClientMethods.REJECT_CONTACT,{contactId:this.getContactId()},e)},r.prototype.complete=function(e){connect.core.getClient().call(connect.ClientMethods.COMPLETE_CONTACT,{contactId:this.getContactId()},e)},r.prototype.clear=function(e){connect.core.getClient().call(connect.ClientMethods.CLEAR_CONTACT,{contactId:this.getContactId()},e)},r.prototype.notifyIssue=function(e,t,n){connect.core.getClient().call(connect.ClientMethods.NOTIFY_CONTACT_ISSUE,{contactId:this.getContactId(),issueCode:e,description:t},n)},r.prototype.addConnection=function(e,t){var n=connect.core.getClient(),r=new connect.Endpoint(e);delete r.endpointId,n.call(connect.ClientMethods.CREATE_ADDITIONAL_CONNECTION,{contactId:this.getContactId(),endpoint:r},t)},r.prototype.toggleActiveConnections=function(e){var t=connect.core.getClient(),n=null,r=connect.find(this.getConnections(),(function(e){return e.getStatus().type===connect.ConnectionStateType.HOLD}));if(null!=r)n=r.getConnectionId();else{var i=this.getConnections().filter((function(e){return e.isActive()}));i.length>0&&(n=i[0].getConnectionId())}t.call(connect.ClientMethods.TOGGLE_ACTIVE_CONNECTIONS,{contactId:this.getContactId(),connectionId:n},e)},r.prototype.sendSoftphoneMetrics=function(t,n){connect.core.getClient().call(connect.ClientMethods.SEND_SOFTPHONE_CALL_METRICS,{contactId:this.getContactId(),ccpVersion:e.ccpVersion,softphoneStreamStatistics:t},n),connect.publishSoftphoneStats({contactId:this.getContactId(),ccpVersion:e.ccpVersion,stats:t})},r.prototype.sendSoftphoneReport=function(t,n){connect.core.getClient().call(connect.ClientMethods.SEND_SOFTPHONE_CALL_REPORT,{contactId:this.getContactId(),ccpVersion:e.ccpVersion,report:t},n),connect.publishSoftphoneReport({contactId:this.getContactId(),ccpVersion:e.ccpVersion,report:t})},r.prototype.conferenceConnections=function(e){connect.core.getClient().call(connect.ClientMethods.CONFERENCE_CONNECTIONS,{contactId:this.getContactId()},e)},r.prototype.toSnapshot=function(){return new connect.ContactSnapshot(this._getData())};var i=function(e){connect.Contact.call(this,e.contactId),this.contactData=e};(i.prototype=Object.create(r.prototype)).constructor=i,i.prototype._getData=function(){return this.contactData},i.prototype._createConnectionAPI=function(e){return new connect.ConnectionSnapshot(e)};var o=function(e,t){this.contactId=e,this.connectionId=t,this._initMediaController()};o.prototype._getData=function(){return connect.core.getAgentDataProvider().getConnectionData(this.getContactId(),this.getConnectionId())},o.prototype.getContactId=function(){return this.contactId},o.prototype.getConnectionId=function(){return this.connectionId},o.prototype.getEndpoint=function(){return new connect.Endpoint(this._getData().endpoint)},o.prototype.getAddress=o.prototype.getEndpoint,o.prototype.getState=function(){return this._getData().state},o.prototype.getStatus=o.prototype.getState,o.prototype.getStateDuration=function(){return connect.now()-this._getData().state.timestamp.getTime()+connect.core.getSkew()},o.prototype.getStatusDuration=o.prototype.getStateDuration,o.prototype.getType=function(){return this._getData().type},o.prototype.isInitialConnection=function(){return this._getData().initial},o.prototype.isActive=function(){return connect.contains(connect.CONNECTION_ACTIVE_STATES,this.getStatus().type)},o.prototype.isConnected=function(){return this.getStatus().type===connect.ConnectionStateType.CONNECTED},o.prototype.isConnecting=function(){return this.getStatus().type===connect.ConnectionStateType.CONNECTING},o.prototype.isOnHold=function(){return this.getStatus().type===connect.ConnectionStateType.HOLD},o.prototype.getSoftphoneMediaInfo=function(){return this._getData().softphoneMediaInfo},o.prototype.getMonitorInfo=function(){return this._getData().monitoringInfo},o.prototype.destroy=function(e){connect.core.getClient().call(connect.ClientMethods.DESTROY_CONNECTION,{contactId:this.getContactId(),connectionId:this.getConnectionId()},e)},o.prototype.sendDigits=function(e,t){connect.core.getClient().call(connect.ClientMethods.SEND_DIGITS,{contactId:this.getContactId(),connectionId:this.getConnectionId(),digits:e},t)},o.prototype.hold=function(e){connect.core.getClient().call(connect.ClientMethods.HOLD_CONNECTION,{contactId:this.getContactId(),connectionId:this.getConnectionId()},e)},o.prototype.resume=function(e){connect.core.getClient().call(connect.ClientMethods.RESUME_CONNECTION,{contactId:this.getContactId(),connectionId:this.getConnectionId()},e)},o.prototype.toSnapshot=function(){return new connect.ConnectionSnapshot(this._getData())},o.prototype._initMediaController=function(){this.getMediaInfo()&&connect.core.mediaFactory.get(this).catch((function(){}))},o.prototype._isAgentConnectionType=function(){var e=this.getType();return e===connect.ConnectionType.AGENT||e===connect.ConnectionType.MONITORING},o.prototype._isAgentConnectionType=function(){var e=this.getType();return e===connect.ConnectionType.AGENT||e===connect.ConnectionType.MONITORING};var a=function(e){this.contactId=e};a.prototype.getSpeakerId=function(){var e=this;e.checkConferenceCall();var t=connect.core.getClient();return new Promise((function(n,r){t.call(connect.AgentAppClientMethods.GET_CONTACT,{contactId:e.contactId,instanceId:connect.core.getAgentDataProvider().getInstanceId(),awsAccountId:connect.core.getAgentDataProvider().getAWSAccountId()},{success:function(e){if(e.contactData.customerId){var t={speakerId:e.contactData.customerId};connect.getLog().info("getSpeakerId succeeded").withObject(e).sendInternalLogToServer(),n(t)}else{var i=connect.VoiceIdError(connect.VoiceIdErrorTypes.NO_SPEAKER_ID_FOUND,"No speakerId assotiated with this call");r(i)}},failure:function(e){connect.getLog().error("Get SpeakerId failed").withObject({err:e}).sendInternalLogToServer();var t=connect.VoiceIdError(connect.VoiceIdErrorTypes.GET_SPEAKER_ID_FAILED,"Get SpeakerId failed",e);r(t)}})}))},a.prototype.getSpeakerStatus=function(){var e=this;e.checkConferenceCall();var t=connect.core.getClient();return new Promise((function(n,r){e.getSpeakerId().then((function(i){e.getDomainId().then((function(e){t.call(connect.AgentAppClientMethods.DESCRIBE_SPEAKER,{SpeakerId:connect.assertNotNull(i.speakerId,"speakerId"),DomainId:e},{success:function(e){connect.getLog().info("getSpeakerStatus succeeded").withObject(e).sendInternalLogToServer(),n(e)},failure:function(e){var t=JSON.parse(e);switch(t.status){case 400:case 404:var i=t;i.type=i.type?i.type:connect.VoiceIdErrorTypes.SPEAKER_ID_NOT_ENROLLED,connect.getLog().info("Speaker is not enrolled.").sendInternalLogToServer(),n(i);break;default:connect.getLog().error("getSpeakerStatus failed").withObject({err:e}).sendInternalLogToServer();var o=connect.VoiceIdError(connect.VoiceIdErrorTypes.GET_SPEAKER_STATUS_FAILED,"Get SpeakerStatus failed",e);r(o)}}})})).catch((function(e){r(e)}))})).catch((function(e){r(e)}))}))},a.prototype._optOutSpeakerInLcms=function(e){var t=this,n=connect.core.getClient();return new Promise((function(r,i){n.call(connect.AgentAppClientMethods.UPDATE_VOICE_ID_DATA,{ContactId:t.contactId,InstanceId:connect.core.getAgentDataProvider().getInstanceId(),AWSAccountId:connect.core.getAgentDataProvider().getAWSAccountId(),CustomerId:connect.assertNotNull(e,"speakerId"),VoiceIdResult:{SpeakerOptedOut:!0}},{success:function(e){connect.getLog().info("optOutSpeakerInLcms succeeded").withObject(e).sendInternalLogToServer(),r(e)},failure:function(e){connect.getLog().error("optOutSpeakerInLcms failed").withObject({err:e}).sendInternalLogToServer();var t=connect.VoiceIdError(connect.VoiceIdErrorTypes.OPT_OUT_SPEAKER_IN_LCMS_FAILED,"optOutSpeakerInLcms failed",e);i(t)}})}))},a.prototype.optOutSpeaker=function(){var e=this;e.checkConferenceCall();var t=connect.core.getClient();return new Promise((function(n,r){e.getSpeakerId().then((function(i){e.getDomainId().then((function(o){var a=i.speakerId;t.call(connect.AgentAppClientMethods.OPT_OUT_SPEAKER,{SpeakerId:connect.assertNotNull(a,"speakerId"),DomainId:o},{success:function(t){e._optOutSpeakerInLcms(a).catch((function(){})),connect.getLog().info("optOutSpeaker succeeded").withObject(t).sendInternalLogToServer(),n(t)},failure:function(e){connect.getLog().error("optOutSpeaker failed").withObject({err:e}).sendInternalLogToServer();var t=connect.VoiceIdError(connect.VoiceIdErrorTypes.OPT_OUT_SPEAKER_FAILED,"optOutSpeaker failed.",e);r(t)}})})).catch((function(e){r(e)}))})).catch((function(e){r(e)}))}))},a.prototype.deleteSpeaker=function(){var e=this;e.checkConferenceCall();var t=connect.core.getClient();return new Promise((function(n,r){e.getSpeakerId().then((function(i){e.getDomainId().then((function(e){t.call(connect.AgentAppClientMethods.DELETE_SPEAKER,{SpeakerId:connect.assertNotNull(i.speakerId,"speakerId"),DomainId:e},{success:function(e){connect.getLog().info("deleteSpeaker succeeded").withObject(e).sendInternalLogToServer(),n(e)},failure:function(e){connect.getLog().error("deleteSpeaker failed").withObject({err:e}).sendInternalLogToServer();var t=connect.VoiceIdError(connect.VoiceIdErrorTypes.DELETE_SPEAKER_FAILED,"deleteSpeaker failed.",e);r(t)}})})).catch((function(e){r(e)}))})).catch((function(e){r(e)}))}))},a.prototype.startSession=function(){var e=this;e.checkConferenceCall();var t=connect.core.getClient();return new Promise((function(n,r){e.getDomainId().then((function(i){t.call(connect.AgentAppClientMethods.START_VOICE_ID_SESSION,{contactId:e.contactId,instanceId:connect.core.getAgentDataProvider().getInstanceId(),customerAccountId:connect.core.getAgentDataProvider().getAWSAccountId(),clientToken:AWS.util.uuid.v4(),domainId:i},{success:function(e){if(e.sessionId)n(e);else{connect.getLog().error("startVoiceIdSession failed, no session id returned").withObject({data:e}).sendInternalLogToServer();var t=connect.VoiceIdError(connect.VoiceIdErrorTypes.START_SESSION_FAILED,"No session id returned from start session api");r(t)}},failure:function(e){connect.getLog().error("startVoiceIdSession failed").withObject({err:e}).sendInternalLogToServer();var t=connect.VoiceIdError(connect.VoiceIdErrorTypes.START_SESSION_FAILED,"startVoiceIdSession failed",e);r(t)}})})).catch((function(e){r(e)}))}))},a.prototype.evaluateSpeaker=function(e){var t=this;t.checkConferenceCall();var n=connect.core.getClient(),r=connect.core.getAgentDataProvider().getContactData(this.contactId),i=0;return new Promise((function(o,a){function s(){t.getDomainId().then((function(e){n.call(connect.AgentAppClientMethods.EVALUATE_SESSION,{SessionNameOrId:r.initialContactId||this.contactId,DomainId:e},{success:function(e){if(++i<connect.VoiceIdConstants.EVALUATION_MAX_POLL_TIMES)if(e.StreamingStatus===connect.VoiceIdStreamingStatus.PENDING_CONFIGURATION)setTimeout(s,connect.VoiceIdConstants.EVALUATION_POLLING_INTERVAL);else{if(e.AuthenticationResult||(e.AuthenticationResult={},e.AuthenticationResult.Decision=connect.ContactFlowAuthenticationDecision.NOT_ENABLED),e.FraudDetectionResult||(e.FraudDetectionResult={},e.FraudDetectionResult.Decision=connect.ContactFlowFraudDetectionDecision.NOT_ENABLED),!t.isAuthEnabled(e.AuthenticationResult.Decision)&&!t.isFraudEnabled(e.FraudDetectionResult.Decision))return connect.getLog().info("evaluateSpeaker succeeded").withObject(e).sendInternalLogToServer(),void o(e);if(e.StreamingStatus===connect.VoiceIdStreamingStatus.ENDED&&(t.isAuthResultNotEnoughSpeech(e.AuthenticationResult.Decision)&&(e.AuthenticationResult.Decision=connect.ContactFlowAuthenticationDecision.INCONCLUSIVE),t.isFraudResultNotEnoughSpeech(e.FraudDetectionResult.Decision)&&(e.FraudDetectionResult.Decision=connect.ContactFlowFraudDetectionDecision.INCONCLUSIVE)),t.isAuthResultInconclusive(e.AuthenticationResult.Decision)&&t.isFraudResultInconclusive(e.FraudDetectionResult.Decision))return connect.getLog().info("evaluateSpeaker succeeded").withObject(e).sendInternalLogToServer(),void o(e);if(!t.isAuthResultNotEnoughSpeech(e.AuthenticationResult.Decision)&&t.isAuthEnabled(e.AuthenticationResult.Decision))switch(e.AuthenticationResult.Decision){case connect.VoiceIdAuthenticationDecision.ACCEPT:e.AuthenticationResult.Decision=connect.ContactFlowAuthenticationDecision.AUTHENTICATED;break;case connect.VoiceIdAuthenticationDecision.REJECT:e.AuthenticationResult.Decision=connect.ContactFlowAuthenticationDecision.NOT_AUTHENTICATED;break;case connect.VoiceIdAuthenticationDecision.SPEAKER_OPTED_OUT:e.AuthenticationResult.Decision=connect.ContactFlowAuthenticationDecision.OPTED_OUT;break;case connect.VoiceIdAuthenticationDecision.SPEAKER_NOT_ENROLLED:e.AuthenticationResult.Decision=connect.ContactFlowAuthenticationDecision.NOT_ENROLLED;break;default:e.AuthenticationResult.Decision=connect.ContactFlowAuthenticationDecision.ERROR}if(!t.isFraudResultNotEnoughSpeech(e.FraudDetectionResult.Decision)&&t.isFraudEnabled(e.FraudDetectionResult.Decision))switch(e.FraudDetectionResult.Decision){case connect.VoiceIdFraudDetectionDecision.HIGH_RISK:e.FraudDetectionResult.Decision=connect.ContactFlowFraudDetectionDecision.HIGH_RISK;break;case connect.VoiceIdFraudDetectionDecision.LOW_RISK:e.FraudDetectionResult.Decision=connect.ContactFlowFraudDetectionDecision.LOW_RISK;break;default:e.FraudDetectionResult.Decision=connect.ContactFlowFraudDetectionDecision.ERROR}if(!t.isAuthResultNotEnoughSpeech(e.AuthenticationResult.Decision)&&!t.isFraudResultNotEnoughSpeech(e.FraudDetectionResult.Decision))return connect.getLog().info("evaluateSpeaker succeeded").withObject(e).sendInternalLogToServer(),void o(e);setTimeout(s,connect.VoiceIdConstants.EVALUATION_POLLING_INTERVAL)}else{connect.getLog().error("evaluateSpeaker timeout").sendInternalLogToServer();var n=connect.VoiceIdError(connect.VoiceIdErrorTypes.EVALUATE_SPEAKER_TIMEOUT,"evaluateSpeaker timeout");a(n)}},failure:function(e){var t;switch(JSON.parse(e).status){case 400:case 404:t=connect.VoiceIdError(connect.VoiceIdErrorTypes.SESSION_NOT_EXISTS,"evaluateSpeaker failed, session not exists",e),connect.getLog().error("evaluateSpeaker failed, session not exists").withObject({err:e}).sendInternalLogToServer();break;default:t=connect.VoiceIdError(connect.VoiceIdErrorTypes.EVALUATE_SPEAKER_FAILED,"evaluateSpeaker failed",e),connect.getLog().error("evaluateSpeaker failed").withObject({err:e}).sendInternalLogToServer()}a(t)}})})).catch((function(e){a(e)}))}e?t.startSession().then((function(e){t.syncSpeakerId().then((function(e){setTimeout(s,connect.VoiceIdConstants.EVALUATE_SESSION_DELAY)})).catch((function(e){connect.getLog().error("syncSpeakerId failed when session startNew=true").withObject({err:e}).sendInternalLogToServer(),a(e)}))})).catch((function(e){connect.getLog().error("startSession failed when session startNew=true").withObject({err:e}).sendInternalLogToServer(),a(e)})):t.syncSpeakerId().then((function(){s()})).catch((function(e){connect.getLog().error("syncSpeakerId failed when session startNew=false").withObject({err:e}).sendInternalLogToServer(),a(e)}))}))},a.prototype.describeSession=function(){var e=this,t=connect.core.getClient(),n=connect.core.getAgentDataProvider().getContactData(this.contactId);return new Promise((function(r,i){e.getDomainId().then((function(e){t.call(connect.AgentAppClientMethods.DESCRIBE_SESSION,{SessionNameOrId:n.initialContactId||this.contactId,DomainId:e},{success:function(e){r(e)},failure:function(e){connect.getLog().error("describeSession failed").withObject({err:e}).sendInternalLogToServer();var t=connect.VoiceIdError(connect.VoiceIdErrorTypes.DESCRIBE_SESSION_FAILED,"describeSession failed",e);i(t)}})})).catch((function(e){i(e)}))}))},a.prototype.checkEnrollmentStatus=function(){var e=this,t=0;return new Promise((function(n,r){!function i(){if(++t<connect.VoiceIdConstants.ENROLLMENT_MAX_POLL_TIMES)e.describeSession().then((function(t){switch(t.Session.EnrollmentRequestDetails.Status){case connect.VoiceIdEnrollmentRequestStatus.COMPLETED:n(t);break;case connect.VoiceIdEnrollmentRequestStatus.IN_PROGRESS:setTimeout(i,connect.VoiceIdConstants.ENROLLMENT_POLLING_INTERVAL);break;case connect.VoiceIdEnrollmentRequestStatus.NOT_ENOUGH_SPEECH:t.Session.StreamingStatus!==connect.VoiceIdStreamingStatus.ENDED?setTimeout(i,connect.VoiceIdConstants.ENROLLMENT_POLLING_INTERVAL):setTimeout((function(){e.startSession().then((function(e){i()})).catch((function(e,t){r(e)}))}),connect.VoiceIdConstants.START_SESSION_DELAY);break;default:var o=t.Session.EnrollmentRequestDetails.Message?t.Session.EnrollmentRequestDetails.Message:"enrollSpeaker failed. Unknown enrollment status has been received";connect.getLog().error(o).sendInternalLogToServer();var a=connect.VoiceIdError(connect.VoiceIdErrorTypes.ENROLL_SPEAKER_FAILED,o,t.Session.EnrollmentRequestDetails.Status);r(a)}}));else{connect.getLog().error("enrollSpeaker timeout").sendInternalLogToServer();var o=connect.VoiceIdError(connect.VoiceIdErrorTypes.ENROLL_SPEAKER_TIMEOUT,"enrollSpeaker timeout");r(o)}}()}))},a.prototype.enrollSpeaker=function(){var e=this;return e.checkConferenceCall(),new Promise((function(t,n){e.syncSpeakerId().then((function(){e.getSpeakerStatus().then((function(r){r.Speaker&&r.Speaker.Status==connect.VoiceIdSpeakerStatus.OPTED_OUT?e.deleteSpeaker().then((function(){e.enrollSpeakerHelper(t,n)})).catch((function(e){n(e)})):e.enrollSpeakerHelper(t,n)})).catch((function(e){n(e)}))})).catch((function(e){n(e)}))}))},a.prototype.enrollSpeakerHelper=function(e,t){var n=this,r=connect.core.getClient(),i=connect.core.getAgentDataProvider().getContactData(this.contactId);n.getDomainId().then((function(o){r.call(connect.AgentAppClientMethods.ENROLL_BY_SESSION,{SessionNameOrId:i.initialContactId||this.contactId,DomainId:o},{success:function(r){r.Status===connect.VoiceIdEnrollmentRequestStatus.COMPLETED?(connect.getLog().info("enrollSpeaker succeeded").withObject(r).sendInternalLogToServer(),e(r)):n.checkEnrollmentStatus().then((function(t){connect.getLog().info("enrollSpeaker succeeded").withObject(t).sendInternalLogToServer(),e(t)})).catch((function(e){t(e)}))},failure:function(e){connect.getLog().error("enrollSpeaker failed").withObject({err:e}).sendInternalLogToServer();var n=connect.VoiceIdError(connect.VoiceIdErrorTypes.ENROLL_SPEAKER_FAILED,"enrollSpeaker failed",e);t(n)}})})).catch((function(e){t(e)}))},a.prototype._updateSpeakerIdInLcms=function(e){var t=this,n=connect.core.getClient();return new Promise((function(r,i){n.call(connect.AgentAppClientMethods.UPDATE_VOICE_ID_DATA,{ContactId:t.contactId,InstanceId:connect.core.getAgentDataProvider().getInstanceId(),AWSAccountId:connect.core.getAgentDataProvider().getAWSAccountId(),CustomerId:connect.assertNotNull(e,"speakerId"),VoiceIdResult:{generatedSpeakerId:e}},{success:function(e){connect.getLog().info("updateSpeakerIdInLcms succeeded").withObject(e).sendInternalLogToServer(),r(e)},failure:function(e){connect.getLog().error("updateSpeakerIdInLcms failed").withObject({err:e}).sendInternalLogToServer();var t=connect.VoiceIdError(connect.VoiceIdErrorTypes.UPDATE_SPEAKER_ID_IN_LCMS_FAILED,"updateSpeakerIdInLcms failed",e);i(t)}})}))},a.prototype.updateSpeakerIdInVoiceId=function(e){var t=this;t.checkConferenceCall();var n=connect.core.getClient(),r=connect.core.getAgentDataProvider().getContactData(this.contactId);return new Promise((function(i,o){t.getDomainId().then((function(a){n.call(connect.AgentAppClientMethods.UPDATE_SESSION,{SessionNameOrId:r.initialContactId||this.contactId,SpeakerId:connect.assertNotNull(e,"speakerId"),DomainId:a},{success:function(n){connect.getLog().info("updateSpeakerIdInVoiceId succeeded").withObject(n).sendInternalLogToServer(),t._updateSpeakerIdInLcms(e).then((function(){i(n)})).catch((function(e){o(e)}))},failure:function(e){var t;switch(JSON.parse(e).status){case 400:case 404:t=connect.VoiceIdError(connect.VoiceIdErrorTypes.SESSION_NOT_EXISTS,"updateSpeakerIdInVoiceId failed, session not exists",e),connect.getLog().error("updateSpeakerIdInVoiceId failed, session not exists").withObject({err:e}).sendInternalLogToServer();break;default:t=connect.VoiceIdError(connect.VoiceIdErrorTypes.UPDATE_SPEAKER_ID_FAILED,"updateSpeakerIdInVoiceId failed",e),connect.getLog().error("updateSpeakerIdInVoiceId failed").withObject({err:e}).sendInternalLogToServer()}o(t)}})})).catch((function(e){o(e)}))}))},a.prototype.syncSpeakerId=function(){var e=this;return new Promise((function(t,n){e.getSpeakerId().then((function(r){e.updateSpeakerIdInVoiceId(r.speakerId).then((function(e){t(e)})).catch((function(e){n(e)}))})).catch((function(e){n(e)}))}))},a.prototype.getDomainId=function(){return new Promise((function(e,t){if((new connect.Agent).getPermissions().includes(connect.AgentPermissions.VOICE_ID))if(connect.core.voiceIdDomainId)e(connect.core.voiceIdDomainId);else{connect.core.getClient().call(connect.AgentAppClientMethods.LIST_INTEGRATION_ASSOCIATIONS,{InstanceId:connect.core.getAgentDataProvider().getInstanceId(),IntegrationType:"VOICE_ID"},{success:function(n){try{var r;if(n.IntegrationAssociationSummaryList.length>=1)r=n.IntegrationAssociationSummaryList[0].IntegrationArn.replace(/^.*domain\//i,"");if(!r){connect.getLog().info("getDomainId: no domainId found").sendInternalLogToServer();var i=connect.VoiceIdError(connect.VoiceIdErrorTypes.NO_DOMAIN_ID_FOUND);return void t(i)}connect.getLog().info("getDomainId succeeded").withObject(n).sendInternalLogToServer(),connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.VoiceIdEvents.UPDATE_DOMAIN_ID,data:{domainId:r}}),e(r)}catch(e){connect.getLog().error("getDomainId failed").withObject({err:e}).sendInternalLogToServer();i=connect.VoiceIdError(connect.VoiceIdErrorTypes.GET_DOMAIN_ID_FAILED,"getDomainId failed",e);t(i)}},failure:function(e){connect.getLog().error("getDomainId failed").withObject({err:e}).sendInternalLogToServer();var n=connect.VoiceIdError(connect.VoiceIdErrorTypes.GET_DOMAIN_ID_FAILED,"getDomainId failed",e);t(n)}})}else t(new Error("Agent doesn't have the permission for Voice ID"))}))},a.prototype.checkConferenceCall=function(){if(connect.core.getAgentDataProvider().getContactData(this.contactId).connections.filter((function(e){return connect.contains(connect.CONNECTION_ACTIVE_STATES,e.state.type)})).length>2)throw new connect.NotImplementedError("VoiceId is not supported for conference calls")},a.prototype.isAuthEnabled=function(e){return e!==connect.ContactFlowAuthenticationDecision.NOT_ENABLED},a.prototype.isAuthResultNotEnoughSpeech=function(e){return e===connect.VoiceIdAuthenticationDecision.NOT_ENOUGH_SPEECH},a.prototype.isAuthResultInconclusive=function(e){return e===connect.ContactFlowAuthenticationDecision.INCONCLUSIVE},a.prototype.isFraudEnabled=function(e){return e!==connect.ContactFlowFraudDetectionDecision.NOT_ENABLED},a.prototype.isFraudResultNotEnoughSpeech=function(e){return e===connect.VoiceIdFraudDetectionDecision.NOT_ENOUGH_SPEECH},a.prototype.isFraudResultInconclusive=function(e){return e===connect.ContactFlowFraudDetectionDecision.INCONCLUSIVE};var s=function(e,t){this._speakerAuthenticator=new a(e),o.call(this,e,t)};(s.prototype=Object.create(o.prototype)).constructor=s,s.prototype.getSoftphoneMediaInfo=function(){return this._getData().softphoneMediaInfo},s.prototype.getMediaInfo=function(){return this._getData().softphoneMediaInfo},s.prototype.getMediaType=function(){return connect.MediaType.SOFTPHONE},s.prototype.getMediaController=function(){return connect.core.mediaFactory.get(this)},s.prototype.getVoiceIdSpeakerId=function(){return this._speakerAuthenticator.getSpeakerId()},s.prototype.getVoiceIdSpeakerStatus=function(){return this._speakerAuthenticator.getSpeakerStatus()},s.prototype.optOutVoiceIdSpeaker=function(){return this._speakerAuthenticator.optOutSpeaker()},s.prototype.deleteVoiceIdSpeaker=function(){return this._speakerAuthenticator.deleteSpeaker()},s.prototype.evaluateSpeakerWithVoiceId=function(e){return this._speakerAuthenticator.evaluateSpeaker(e)},s.prototype.enrollSpeakerInVoiceId=function(){return this._speakerAuthenticator.enrollSpeaker()},s.prototype.updateVoiceIdSpeakerId=function(e){return this._speakerAuthenticator.updateSpeakerIdInVoiceId(e)},s.prototype.getQuickConnectName=function(){return this._getData().quickConnectName},s.prototype.isMute=function(){return this._getData().mute},s.prototype.muteParticipant=function(e){connect.core.getClient().call(connect.ClientMethods.MUTE_PARTICIPANT,{contactId:this.getContactId(),connectionId:this.getConnectionId()},e)},s.prototype.unmuteParticipant=function(e){connect.core.getClient().call(connect.ClientMethods.UNMUTE_PARTICIPANT,{contactId:this.getContactId(),connectionId:this.getConnectionId()},e)};var c=function(e,t){o.call(this,e,t)};(c.prototype=Object.create(o.prototype)).constructor=c,c.prototype.getMediaInfo=function(){var e=this._getData().chatMediaInfo;if(e){var t=connect.core.getAgentDataProvider().getContactData(this.contactId),n={contactId:this.contactId,initialContactId:t.initialContactId||this.contactId,participantId:this.connectionId,getConnectionToken:connect.hitch(this,this.getConnectionToken)};if(e.connectionData)try{n.participantToken=JSON.parse(e.connectionData).ConnectionAuthenticationToken}catch(t){connect.getLog().error(connect.LogComponent.CHAT,"Connection data is invalid").withObject(e).withException(t).sendInternalLogToServer(),n.participantToken=null}return n.participantToken=n.participantToken||null,n.originalInfo=this._getData().chatMediaInfo,n}return null},c.prototype.getConnectionToken=function(){client=connect.core.getClient();var e=connect.core.getAgentDataProvider().getContactData(this.contactId),t={transportType:connect.TRANSPORT_TYPES.CHAT_TOKEN,participantId:this.connectionId,contactId:e.initialContactId||this.contactId};return new Promise((function(e,n){client.call(connect.ClientMethods.CREATE_TRANSPORT,t,{success:function(t){connect.getLog().info("getConnectionToken succeeded").sendInternalLogToServer(),e(t)},failure:function(e,t){connect.getLog().error("getConnectionToken failed").sendInternalLogToServer().withObject({err:e,data:t}),n(Error("getConnectionToken failed"))}})}))},c.prototype.getMediaType=function(){return connect.MediaType.CHAT},c.prototype.getMediaController=function(){return connect.core.mediaFactory.get(this)},c.prototype._initMediaController=function(){this._isAgentConnectionType()&&connect.core.mediaFactory.get(this).catch((function(){}))};var u=function(e,t){o.call(this,e,t)};(u.prototype=Object.create(o.prototype)).constructor=u,u.prototype.getMediaType=function(){return connect.MediaType.TASK},u.prototype.getMediaInfo=function(){var e=connect.core.getAgentDataProvider().getContactData(this.contactId);return{contactId:this.contactId,initialContactId:e.initialContactId||this.contactId}},u.prototype.getMediaController=function(){return connect.core.mediaFactory.get(this)};var l=function(e){connect.Connection.call(this,e.contactId,e.connectionId),this.connectionData=e};(l.prototype=Object.create(o.prototype)).constructor=l,l.prototype._getData=function(){return this.connectionData},l.prototype._initMediaController=function(){};var d=function(e){var t=e||{};this.endpointARN=t.endpointId||t.endpointARN||null,this.endpointId=this.endpointARN,this.type=t.type||null,this.name=t.name||null,this.phoneNumber=t.phoneNumber||null,this.agentLogin=t.agentLogin||null,this.queue=t.queue||null};d.prototype.stripPhoneNumber=function(){return this.phoneNumber?this.phoneNumber.replace(/sip:([^@]*)@.*/,"$1"):""},d.byPhoneNumber=function(e,t){return new d({type:connect.EndpointType.PHONE_NUMBER,phoneNumber:e,name:t||null})};var f=function(e,t,n){this.errorType=e,this.errorMessage=t,this.endPointUrl=n};f.prototype.getErrorType=function(){return this.errorType},f.prototype.getErrorMessage=function(){return this.errorMessage},f.prototype.getEndPointUrl=function(){return this.endPointUrl},connect.agent=function(e){var t=connect.core.getEventBus().subscribe(connect.AgentEvents.INIT,e);return connect.agent.initialized&&e(new connect.Agent),t},connect.agent.initialized=!1,connect.contact=function(e){return connect.core.getEventBus().subscribe(connect.ContactEvents.INIT,e)},connect.onWebsocketInitFailure=function(e){var t=connect.core.getEventBus().subscribe(connect.WebSocketEvents.INIT_FAILURE,e);return connect.webSocketInitFailed&&e(),t},connect.ifMaster=function(e,t,n,r){if(connect.assertNotNull(e,"A topic must be provided."),connect.assertNotNull(t,"A true callback must be provided."),!connect.core.masterClient)return connect.getLog().warn("We can't be the master for topic '%s' because there is no master client!",e).sendInternalLogToServer(),void(n&&n());connect.core.getMasterClient().call(connect.MasterMethods.CHECK_MASTER,{topic:e,shouldNotBecomeMasterIfNone:r},{success:function(e){e.isMaster?t():n&&n()}})},connect.becomeMaster=function(e,t,n){(connect.assertNotNull(e,"A topic must be provided."),connect.core.masterClient)?connect.core.getMasterClient().call(connect.MasterMethods.BECOME_MASTER,{topic:e},{success:function(){t&&t()}}):(connect.getLog().warn("We can't be the master for topic '%s' because there is no master client!",e),n&&n())},connect.Agent=t,connect.AgentSnapshot=n,connect.Contact=r,connect.ContactSnapshot=i,connect.Connection=s,connect.BaseConnection=o,connect.VoiceConnection=s,connect.ChatConnection=c,connect.TaskConnection=u,connect.ConnectionSnapshot=l,connect.Endpoint=d,connect.Address=d,connect.SoftphoneError=f,connect.VoiceId=a}(),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";var r=n(1),i="DEBUG",o="aws/subscribe",a="aws/heartbeat",s="disconnected";function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u={assertTrue:function(e,t){if(!e)throw new Error(t)},assertNotNull:function(e,t){return u.assertTrue(null!==e&&void 0!==c(e),Object(r.sprintf)("%s must be provided",t||"A value")),e},isNonEmptyString:function(e){return"string"==typeof e&&e.length>0},assertIsList:function(e,t){if(!Array.isArray(e))throw new Error(t+" is not an array")},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){return!("object"!==c(e)||null===e)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e}},l=new RegExp("^(wss://)\\w*");u.validWSUrl=function(e){return l.test(e)},u.getSubscriptionResponse=function(e,t,n){return{topic:e,content:{status:t?"success":"failure",topics:n}}},u.assertIsObject=function(e,t){if(!u.isObject(e))throw new Error(t+" is not an object!")},u.addJitter=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t=Math.min(t,1);var n=Math.random()>.5?1:-1;return Math.floor(e+n*e*Math.random()*t)},u.isNetworkOnline=function(){return navigator.onLine},u.isNetworkFailure=function(e){return!(!e._debug||!e._debug.type)&&"NetworkingError"===e._debug.type};var d=u;function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}var v=function(){function e(){m(this,e)}return b(e,[{key:"debug",value:function(e){}},{key:"info",value:function(e){}},{key:"warn",value:function(e){}},{key:"error",value:function(e){}}]),e}(),y={DEBUG:10,INFO:20,WARN:30,ERROR:40},S=function(){function e(){m(this,e),this.updateLoggerConfig(),this.consoleLoggerWrapper=C()}return b(e,[{key:"writeToClientLogger",value:function(e,t){if(this.hasClientLogger())switch(e){case y.DEBUG:return this._clientLogger.debug(t);case y.INFO:return this._clientLogger.info(t);case y.WARN:return this._clientLogger.warn(t);case y.ERROR:return this._clientLogger.error(t)}}},{key:"isLevelEnabled",value:function(e){return e>=this._level}},{key:"hasClientLogger",value:function(){return null!==this._clientLogger}},{key:"getLogger",value:function(e){var t=e.prefix||"";return this._logsDestination===i?this.consoleLoggerWrapper:new E(t)}},{key:"updateLoggerConfig",value:function(e){var t=e||{};this._level=t.level||y.DEBUG,this._clientLogger=t.logger||null,this._logsDestination="NULL",t.debug&&(this._logsDestination=i),t.logger&&(this._logsDestination="CLIENT_LOGGER")}}]),e}(),w=function(){function e(){m(this,e)}return b(e,[{key:"debug",value:function(){}},{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(){}}]),e}(),E=function(e){function t(e){var n;return m(this,t),(n=function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,p(t).call(this))).prefix=e||"",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,w),b(t,[{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._log(y.DEBUG,t)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._log(y.INFO,t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._log(y.WARN,t)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._log(y.ERROR,t)}},{key:"_shouldLog",value:function(e){return T.hasClientLogger()&&T.isLevelEnabled(e)}},{key:"_writeToClientLogger",value:function(e,t){return T.writeToClientLogger(e,t)}},{key:"_log",value:function(e,t){if(this._shouldLog(e)){var n=this._convertToSingleStatement(t);return this._writeToClientLogger(e,n)}}},{key:"_convertToSingleStatement",value:function(e){var t="";this.prefix&&(t+=this.prefix+" ");for(var n=0;n<e.length;n++){var r=e[n];t+=this._convertToString(r)+" "}return t}},{key:"_convertToString",value:function(e){try{if(!e)return"";if(d.isString(e))return e;if(d.isObject(e)&&d.isFunction(e.toString)){var t=e.toString();if("[object Object]"!==t)return t}return JSON.stringify(e)}catch(t){return console.error("Error while converting argument to string",e,t),""}}}]),t}(),C=function(){var e=new w;return e.debug=console.debug,e.info=console.info,e.warn=console.warn,e.error=console.error,e},T=new S;function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.numAttempts=0,this.executor=t,this.hasActiveReconnection=!1,this.defaultRetry=n}var t,n;return t=e,(n=[{key:"retry",value:function(){var e=this;this.hasActiveReconnection||(this.hasActiveReconnection=!0,setTimeout((function(){e._execute()}),this._getDelay()))}},{key:"_execute",value:function(){this.hasActiveReconnection=!1,this.executor(),this.numAttempts++}},{key:"connected",value:function(){this.numAttempts=0}},{key:"_getDelay",value:function(){var e=Math.pow(2,this.numAttempts)*this.defaultRetry;return e<=3e4?e:3e4}}])&&_(t.prototype,n),e}();n.d(t,"a",(function(){return A}));var k=function(){var e=T.getLogger({}),t=d.isNetworkOnline(),n={primary:null,secondary:null},r={reconnectWebSocket:!0,websocketInitFailed:!1,exponentialBackOffTime:1e3,exponentialTimeoutHandle:null,lifeTimeTimeoutHandle:null,webSocketInitCheckerTimeoutId:null,connState:null},i={connectWebSocketRetryCount:0,connectionAttemptStartTime:null,noOpenConnectionsTimestamp:null},c={pendingResponse:!1,intervalHandle:null},u={initFailure:new Set,getWebSocketTransport:null,subscriptionUpdate:new Set,subscriptionFailure:new Set,topic:new Map,allMessage:new Set,connectionGain:new Set,connectionLost:new Set,connectionOpen:new Set,connectionClose:new Set},l={connConfig:null,promiseHandle:null,promiseCompleted:!0},f={subscribed:new Set,pending:new Set,subscriptionHistory:new Set},p={responseCheckIntervalId:null,requestCompleted:!0,reSubscribeIntervalId:null,consecutiveFailedSubscribeAttempts:0,consecutiveNoResponseRequest:0},h=new I((function(){B()})),m=new Set([o,"aws/unsubscribe",a]),g=setInterval((function(){if(t!==d.isNetworkOnline()){if(!(t=d.isNetworkOnline()))return void H(e.info("Network offline"));var n=C();t&&(!n||S(n,WebSocket.CLOSING)||S(n,WebSocket.CLOSED))&&(H(e.info("Network online, connecting to WebSocket server")),B())}}),250),b=function(t,n){t.forEach((function(t){try{t(n)}catch(t){H(e.error("Error executing callback",t))}}))},v=function(e){if(null===e)return"NULL";switch(e.readyState){case WebSocket.CONNECTING:return"CONNECTING";case WebSocket.OPEN:return"OPEN";case WebSocket.CLOSING:return"CLOSING";case WebSocket.CLOSED:return"CLOSED";default:return"UNDEFINED"}},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";H(e.debug("["+t+"] Primary WebSocket: "+v(n.primary)+" | Secondary WebSocket: "+v(n.secondary)))},S=function(e,t){return e&&e.readyState===t},w=function(e){return S(e,WebSocket.OPEN)},E=function(e){return null===e||void 0===e.readyState||S(e,WebSocket.CLOSED)},C=function(){return null!==n.secondary?n.secondary:n.primary},_=function(){return w(C())},k=function(){if(c.pendingResponse)return H(e.warn("Heartbeat response not received")),clearInterval(c.intervalHandle),c.pendingResponse=!1,void B();_()?(H(e.debug("Sending heartbeat")),C().send(F(a)),c.pendingResponse=!0):(H(e.warn("Failed to send heartbeat since WebSocket is not open")),y("sendHeartBeat"),B())},A=function(){r.exponentialBackOffTime=1e3,c.pendingResponse=!1,r.reconnectWebSocket=!0,clearTimeout(r.lifeTimeTimeoutHandle),clearInterval(c.intervalHandle),clearTimeout(r.exponentialTimeoutHandle),clearTimeout(r.webSocketInitCheckerTimeoutId)},O=function(){p.consecutiveFailedSubscribeAttempts=0,p.consecutiveNoResponseRequest=0,clearInterval(p.responseCheckIntervalId),clearInterval(p.reSubscribeIntervalId)},x=function(){i.connectWebSocketRetryCount=0,i.connectionAttemptStartTime=null,i.noOpenConnectionsTimestamp=null},R=function(){try{H(e.info("WebSocket connection established!")),y("webSocketOnOpen"),null!==r.connState&&r.connState!==s||b(u.connectionGain),r.connState="connected";var t=Date.now();b(u.connectionOpen,{connectWebSocketRetryCount:i.connectWebSocketRetryCount,connectionAttemptStartTime:i.connectionAttemptStartTime,noOpenConnectionsTimestamp:i.noOpenConnectionsTimestamp,connectionEstablishedTime:t,timeToConnect:t-i.connectionAttemptStartTime,timeWithoutConnection:i.noOpenConnectionsTimestamp?t-i.noOpenConnectionsTimestamp:null}),x(),A(),C().openTimestamp=Date.now(),0===f.subscribed.size&&w(n.secondary)&&N(n.primary,"[Primary WebSocket] Closing WebSocket"),(f.subscribed.size>0||f.pending.size>0)&&(w(n.secondary)&&H(e.info("Subscribing secondary websocket to topics of primary websocket")),f.subscribed.forEach((function(e){f.subscriptionHistory.add(e),f.pending.add(e)})),f.subscribed.clear(),D()),k(),c.intervalHandle=setInterval(k,1e4);var o=1e3*l.connConfig.webSocketTransport.transportLifeTimeInSeconds;H(e.debug("Scheduling WebSocket manager reconnection, after delay "+o+" ms")),r.lifeTimeTimeoutHandle=setTimeout((function(){H(e.debug("Starting scheduled WebSocket manager reconnection")),B()}),o)}catch(t){H(e.error("Error after establishing WebSocket connection",t))}},P=function(t){y("webSocketOnError"),H(e.error("WebSocketManager Error, error_event: ",JSON.stringify(t))),B()},M=function(t){var r=JSON.parse(t.data);switch(r.topic){case o:if(H(e.debug("Subscription Message received from webSocket server",t.data)),p.requestCompleted=!0,p.consecutiveNoResponseRequest=0,"success"===r.content.status)p.consecutiveFailedSubscribeAttempts=0,r.content.topics.forEach((function(e){f.subscriptionHistory.delete(e),f.pending.delete(e),f.subscribed.add(e)})),0===f.subscriptionHistory.size?w(n.secondary)&&(H(e.info("Successfully subscribed secondary websocket to all topics of primary websocket")),N(n.primary,"[Primary WebSocket] Closing WebSocket")):D(),b(u.subscriptionUpdate,r);else{if(clearInterval(p.reSubscribeIntervalId),++p.consecutiveFailedSubscribeAttempts,5===p.consecutiveFailedSubscribeAttempts)return b(u.subscriptionFailure,r),void(p.consecutiveFailedSubscribeAttempts=0);p.reSubscribeIntervalId=setInterval((function(){D()}),500)}break;case a:H(e.debug("Heartbeat response received")),c.pendingResponse=!1;break;default:if(r.topic){if(H(e.debug("Message received for topic "+r.topic)),w(n.primary)&&w(n.secondary)&&0===f.subscriptionHistory.size&&this===n.primary)return void H(e.warn("Ignoring Message for Topic "+r.topic+", to avoid duplicates"));if(0===u.allMessage.size&&0===u.topic.size)return void H(e.warn("No registered callback listener for Topic",r.topic));b(u.allMessage,r),u.topic.has(r.topic)&&b(u.topic.get(r.topic),r)}else r.message?H(e.warn("WebSocketManager Message Error",r)):H(e.warn("Invalid incoming message",r))}},D=function t(){if(p.consecutiveNoResponseRequest>3)return H(e.warn("Ignoring subscribePendingTopics since we have exhausted max subscription retries with no response")),void b(u.subscriptionFailure,d.getSubscriptionResponse(o,!1,Array.from(f.pending)));_()?(clearInterval(p.responseCheckIntervalId),C().send(F(o,{topics:Array.from(f.pending)})),p.requestCompleted=!1,p.responseCheckIntervalId=setInterval((function(){p.requestCompleted||(++p.consecutiveNoResponseRequest,t())}),1e3)):H(e.warn("Ignoring subscribePendingTopics call since Default WebSocket is not open"))},N=function(t,n){S(t,WebSocket.CONNECTING)||S(t,WebSocket.OPEN)?t.close(1e3,n):H(e.warn("Ignoring WebSocket Close request, WebSocket State: "+v(t)))},L=function(e){N(n.primary,"[Primary] WebSocket "+e),N(n.secondary,"[Secondary] WebSocket "+e)},U=function(t){A(),O(),H(e.error("WebSocket Initialization failed")),r.websocketInitFailed=!0,L("Terminating WebSocket Manager"),clearInterval(g),b(u.initFailure,{connectWebSocketRetryCount:i.connectWebSocketRetryCount,connectionAttemptStartTime:i.connectionAttemptStartTime,reason:t}),x()},F=function(e,t){return JSON.stringify({topic:e,content:t})},j=function(t){return!!(d.isObject(t)&&d.isObject(t.webSocketTransport)&&d.isNonEmptyString(t.webSocketTransport.url)&&d.validWSUrl(t.webSocketTransport.url)&&1e3*t.webSocketTransport.transportLifeTimeInSeconds>=3e5)||(H(e.error("Invalid WebSocket Connection Configuration",t)),!1)},B=function(){if(d.isNetworkOnline())if(r.websocketInitFailed)H(e.debug("WebSocket Init had failed, ignoring this getWebSocketConnConfig request"));else{if(l.promiseCompleted)return A(),H(e.info("Fetching new WebSocket connection configuration")),i.connectionAttemptStartTime=i.connectionAttemptStartTime||Date.now(),l.promiseCompleted=!1,l.promiseHandle=u.getWebSocketTransport(),l.promiseHandle.then((function(t){return l.promiseCompleted=!0,H(e.debug("Successfully fetched webSocket connection configuration",t)),j(t)?(l.connConfig=t,l.connConfig.urlConnValidTime=Date.now()+85e3,h.connected(),V()):(U("Invalid WebSocket connection configuration: "+t),{webSocketConnectionFailed:!0})}),(function(t){return l.promiseCompleted=!0,H(e.error("Failed to fetch webSocket connection configuration",t)),d.isNetworkFailure(t)?(H(e.info("Retrying fetching new WebSocket connection configuration")),h.retry()):U("Failed to fetch webSocket connection configuration: "+JSON.stringify(t)),{webSocketConnectionFailed:!0}}));H(e.debug("There is an ongoing getWebSocketConnConfig request, this request will be ignored"))}else H(e.info("Network offline, ignoring this getWebSocketConnConfig request"))},V=function(){if(r.websocketInitFailed)return H(e.info("web-socket initializing had failed, aborting re-init")),{webSocketConnectionFailed:!0};if(!d.isNetworkOnline())return H(e.warn("System is offline aborting web-socket init")),{webSocketConnectionFailed:!0};H(e.info("Initializing Websocket Manager")),y("initWebSocket");try{if(j(l.connConfig)){var t=null;return w(n.primary)?(H(e.debug("Primary Socket connection is already open")),S(n.secondary,WebSocket.CONNECTING)||(H(e.debug("Establishing a secondary web-socket connection")),n.secondary=q()),t=n.secondary):(S(n.primary,WebSocket.CONNECTING)||(H(e.debug("Establishing a primary web-socket connection")),n.primary=q()),t=n.primary),r.webSocketInitCheckerTimeoutId=setTimeout((function(){w(t)||function(){i.connectWebSocketRetryCount++;var t=d.addJitter(r.exponentialBackOffTime,.3);Date.now()+t<=l.connConfig.urlConnValidTime?(H(e.debug("Scheduling WebSocket reinitialization, after delay "+t+" ms")),r.exponentialTimeoutHandle=setTimeout((function(){return V()}),t),r.exponentialBackOffTime*=2):(H(e.warn("WebSocket URL cannot be used to establish connection")),B())}()}),1e3),{webSocketConnectionFailed:!1}}}catch(t){return H(e.error("Error Initializing web-socket-manager",t)),U("Failed to initialize new WebSocket: "+t.message),{webSocketConnectionFailed:!0}}},q=function(){var t=new WebSocket(l.connConfig.webSocketTransport.url);return t.addEventListener("open",R),t.addEventListener("message",M),t.addEventListener("error",P),t.addEventListener("close",(function(o){return function(t,o){H(e.info("Socket connection is closed",t)),y("webSocketOnClose before-cleanup"),b(u.connectionClose,{openTimestamp:o.openTimestamp,closeTimestamp:Date.now(),connectionDuration:Date.now()-o.openTimestamp,code:t.code,reason:t.reason}),E(n.primary)&&(n.primary=null),E(n.secondary)&&(n.secondary=null),r.reconnectWebSocket&&(w(n.primary)||w(n.secondary)?E(n.primary)&&w(n.secondary)&&(H(e.info("[Primary] WebSocket Cleanly Closed")),n.primary=n.secondary,n.secondary=null):(H(e.warn("Neither primary websocket and nor secondary websocket have open connections, attempting to re-establish connection")),r.connState===s?H(e.info("Ignoring connectionLost callback invocation")):(b(u.connectionLost,{openTimestamp:o.openTimestamp,closeTimestamp:Date.now(),connectionDuration:Date.now()-o.openTimestamp,code:t.code,reason:t.reason}),i.noOpenConnectionsTimestamp=Date.now()),r.connState=s,B()),y("webSocketOnClose after-cleanup"))}(o,t)})),t},H=function(e){return e&&"function"==typeof e.sendInternalLogToServer&&e.sendInternalLogToServer(),e};this.init=function(t){if(d.assertTrue(d.isFunction(t),"transportHandle must be a function"),null===u.getWebSocketTransport)return u.getWebSocketTransport=t,B();H(e.warn("Web Socket Manager was already initialized"))},this.onInitFailure=function(e){return d.assertTrue(d.isFunction(e),"cb must be a function"),u.initFailure.add(e),r.websocketInitFailed&&e(),function(){return u.initFailure.delete(e)}},this.onConnectionOpen=function(e){return d.assertTrue(d.isFunction(e),"cb must be a function"),u.connectionOpen.add(e),function(){return u.connectionOpen.delete(e)}},this.onConnectionClose=function(e){return d.assertTrue(d.isFunction(e),"cb must be a function"),u.connectionClose.add(e),function(){return u.connectionClose.delete(e)}},this.onConnectionGain=function(e){return d.assertTrue(d.isFunction(e),"cb must be a function"),u.connectionGain.add(e),_()&&e(),function(){return u.connectionGain.delete(e)}},this.onConnectionLost=function(e){return d.assertTrue(d.isFunction(e),"cb must be a function"),u.connectionLost.add(e),r.connState===s&&e(),function(){return u.connectionLost.delete(e)}},this.onSubscriptionUpdate=function(e){return d.assertTrue(d.isFunction(e),"cb must be a function"),u.subscriptionUpdate.add(e),function(){return u.subscriptionUpdate.delete(e)}},this.onSubscriptionFailure=function(e){return d.assertTrue(d.isFunction(e),"cb must be a function"),u.subscriptionFailure.add(e),function(){return u.subscriptionFailure.delete(e)}},this.onMessage=function(e,t){return d.assertNotNull(e,"topicName"),d.assertTrue(d.isFunction(t),"cb must be a function"),u.topic.has(e)?u.topic.get(e).add(t):u.topic.set(e,new Set([t])),function(){return u.topic.get(e).delete(t)}},this.onAllMessage=function(e){return d.assertTrue(d.isFunction(e),"cb must be a function"),u.allMessage.add(e),function(){return u.allMessage.delete(e)}},this.subscribeTopics=function(e){d.assertNotNull(e,"topics"),d.assertIsList(e),e.forEach((function(e){f.subscribed.has(e)||f.pending.add(e)})),p.consecutiveNoResponseRequest=0,D()},this.sendMessage=function(t){if(d.assertIsObject(t,"payload"),void 0===t.topic||m.has(t.topic))H(e.warn("Cannot send message, Invalid topic",t));else{try{t=JSON.stringify(t)}catch(n){return void H(e.warn("Error stringify message",t))}_()?C().send(t):H(e.warn("Cannot send message, web socket connection is not open"))}},this.closeWebSocket=function(){A(),O(),r.reconnectWebSocket=!1,clearInterval(g),L("User request to close WebSocket")},this.terminateWebSocketManager=U},A={create:function(){return new k},setGlobalConfig:function(e){var t=e.loggerConfig;T.updateLoggerConfig(t)},LogLevel:y,Logger:v}},function(e,t,n){var r;!function(){"use strict";var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(e){return function(e,t){var n,r,a,s,c,u,l,d,f,p=1,h=e.length,m="";for(r=0;r<h;r++)if("string"==typeof e[r])m+=e[r];else if("object"==typeof e[r]){if((s=e[r]).keys)for(n=t[p],a=0;a<s.keys.length;a++){if(null==n)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[a],s.keys[a-1]));n=n[s.keys[a]]}else n=s.param_no?t[s.param_no]:t[p++];if(i.not_type.test(s.type)&&i.not_primitive.test(s.type)&&n instanceof Function&&(n=n()),i.numeric_arg.test(s.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(o("[sprintf] expecting number but found %T",n));switch(i.number.test(s.type)&&(d=n>=0),s.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,s.width?parseInt(s.width):0);break;case"e":n=s.precision?parseFloat(n).toExponential(s.precision):parseFloat(n).toExponential();break;case"f":n=s.precision?parseFloat(n).toFixed(s.precision):parseFloat(n);break;case"g":n=s.precision?String(Number(n.toPrecision(s.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=s.precision?n.substring(0,s.precision):n;break;case"t":n=String(!!n),n=s.precision?n.substring(0,s.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=s.precision?n.substring(0,s.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=s.precision?n.substring(0,s.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}i.json.test(s.type)?m+=n:(!i.number.test(s.type)||d&&!s.sign?f="":(f=d?"+":"-",n=n.toString().replace(i.sign,"")),u=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",l=s.width-(f+n).length,c=s.width&&l>0?u.repeat(l):"",m+=s.align?f+n+c:"0"===u?f+c+n:c+f+n)}return m}(function(e){if(s[e])return s[e];for(var t,n=e,r=[],o=0;n;){if(null!==(t=i.text.exec(n)))r.push(t[0]);else if(null!==(t=i.modulo.exec(n)))r.push("%");else{if(null===(t=i.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){o|=1;var a=[],c=t[2],u=[];if(null===(u=i.key.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(u[1]);""!==(c=c.substring(u[0].length));)if(null!==(u=i.key_access.exec(c)))a.push(u[1]);else{if(null===(u=i.index_access.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(u[1])}t[2]=a}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return s[e]=r}(e),arguments)}function a(e,t){return o.apply(null,[e].concat(t||[]))}var s=Object.create(null);t.sprintf=o,t.vsprintf=a,"undefined"!=typeof window&&(window.sprintf=o,window.vsprintf=a,void 0===(r=function(){return{sprintf:o,vsprintf:a}}.call(t,n,t,e))||(e.exports=r))}()},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"WebSocketManager",(function(){return i}));var r=n(0);e.connect=e.connect||{},connect.WebSocketManager=r.a;var i=r.a}.call(this,n(3))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}]),function(){var e=this;connect=e.connect||{},e.connect=connect,e.lily=connect,connect.core={},connect.core.initialized=!1,connect.version="1.7.5",connect.DEFAULT_BATCH_SIZE=500;var t="https://{alias}.awsapps.com/auth/?client_id={client_id}&redirect_uri={redirect}",n="06919f4fd8ed324e";connect.numberOfConnectedCCPs=0;function r(e){var t=e.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n?]+)/gi);return t.length?t[0]:""}connect.core.checkNotInitialized=function(){connect.core.initialized&&connect.getLog().warn("Connect core already initialized, only needs to be initialized once.").sendInternalLogToServer()},connect.core.init=function(e){connect.core.eventBus=new connect.EventBus,connect.core.agentDataProvider=new c(connect.core.getEventBus()),connect.core.initClient(e),connect.core.initAgentAppClient(e),connect.core.initialized=!0},connect.core.initClient=function(e){connect.assertNotNull(e,"params");var t=connect.assertNotNull(e.authToken,"params.authToken"),n=connect.assertNotNull(e.region,"params.region"),r=e.endpoint||null;connect.core.client=new connect.AWSClient(t,n,r)},connect.core.initAgentAppClient=function(e){connect.assertNotNull(e,"params");var t=connect.assertNotNull(e.authToken,"params.authToken"),n=connect.assertNotNull(e.authCookieName,"params.authCookieName"),r=connect.assertNotNull(e.agentAppEndpoint,"params.agentAppEndpoint");connect.core.agentAppClient=new connect.AgentAppClient(n,t,r)},connect.core.terminate=function(){connect.core.client=new connect.NullClient,connect.core.agentAppClient=new connect.NullClient,connect.core.masterClient=new connect.NullClient;var e=connect.core.getEventBus();e&&e.unsubscribeAll(),connect.core.bus=new connect.EventBus,connect.core.agentDataProvider=null,connect.core.softphoneManager=null,connect.core.upstream=null,connect.core.keepaliveManager=null,connect.agent.initialized=!1,connect.core.initialized=!1},connect.core.softphoneUserMediaStream=null,connect.core.getSoftphoneUserMediaStream=function(){return connect.core.softphoneUserMediaStream},connect.core.setSoftphoneUserMediaStream=function(e){connect.core.softphoneUserMediaStream=e},connect.core.initRingtoneEngines=function(e){connect.assertNotNull(e,"params");var t=function(e){connect.assertNotNull(e,"ringtoneSettings"),connect.assertNotNull(e.voice,"ringtoneSettings.voice"),connect.assertTrue(e.voice.ringtoneUrl||e.voice.disabled,"ringtoneSettings.voice.ringtoneUrl must be provided or ringtoneSettings.voice.disabled must be true"),connect.assertNotNull(e.queue_callback,"ringtoneSettings.queue_callback"),connect.assertTrue(e.queue_callback.ringtoneUrl||e.queue_callback.disabled,"ringtoneSettings.voice.ringtoneUrl must be provided or ringtoneSettings.queue_callback.disabled must be true"),connect.core.ringtoneEngines={},connect.agent((function(t){t.onRefresh((function(){connect.ifMaster(connect.MasterTopics.RINGTONE,(function(){e.voice.disabled||connect.core.ringtoneEngines.voice||(connect.core.ringtoneEngines.voice=new connect.VoiceRingtoneEngine(e.voice),connect.getLog().info("VoiceRingtoneEngine initialized.").sendInternalLogToServer()),e.chat.disabled||connect.core.ringtoneEngines.chat||(connect.core.ringtoneEngines.chat=new connect.ChatRingtoneEngine(e.chat),connect.getLog().info("ChatRingtoneEngine initialized.").sendInternalLogToServer()),e.task.disabled||connect.core.ringtoneEngines.task||(connect.core.ringtoneEngines.task=new connect.TaskRingtoneEngine(e.task),connect.getLog().info("TaskRingtoneEngine initialized.").sendInternalLogToServer()),e.queue_callback.disabled||connect.core.ringtoneEngines.queue_callback||(connect.core.ringtoneEngines.queue_callback=new connect.QueueCallbackRingtoneEngine(e.queue_callback),connect.getLog().info("QueueCallbackRingtoneEngine initialized.").sendInternalLogToServer())}))}))})),i()},n=function(e,t){e.ringtone=e.ringtone||{},e.ringtone.voice=e.ringtone.voice||{},e.ringtone.queue_callback=e.ringtone.queue_callback||{},e.ringtone.chat=e.ringtone.chat||{disabled:!0},e.ringtone.task=e.ringtone.task||{disabled:!0},t.softphone&&(t.softphone.disableRingtone&&(e.ringtone.voice.disabled=!0,e.ringtone.queue_callback.disabled=!0),t.softphone.ringtoneUrl&&(e.ringtone.voice.ringtoneUrl=t.softphone.ringtoneUrl,e.ringtone.queue_callback.ringtoneUrl=t.softphone.ringtoneUrl)),t.chat&&(t.chat.disableRingtone&&(e.ringtone.chat.disabled=!0),t.chat.ringtoneUrl&&(e.ringtone.chat.ringtoneUrl=t.chat.ringtoneUrl)),t.ringtone&&(e.ringtone.voice=connect.merge(e.ringtone.voice,t.ringtone.voice||{}),e.ringtone.queue_callback=connect.merge(e.ringtone.queue_callback,t.ringtone.voice||{}),e.ringtone.chat=connect.merge(e.ringtone.chat,t.ringtone.chat||{}))};(n(e,e),connect.isFramed())?connect.core.getEventBus().subscribe(connect.EventType.CONFIGURE,(function(r){this.unsubscribe(),n(e,r),t(e.ringtone)})):t(e.ringtone)};var i=function(){connect.core.getEventBus().subscribe(connect.ConfigurationEvents.SET_RINGER_DEVICE,o)},o=function(e){if(0!==connect.keys(connect.core.ringtoneEngines).length&&e&&e.deviceId){var t=e.deviceId;for(var n in connect.core.ringtoneEngines)connect.core.ringtoneEngines[n].setOutputDevice(t);connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.ConfigurationEvents.RINGER_DEVICE_CHANGED,data:{deviceId:t}})}};connect.core.initSoftphoneManager=function(e){connect.getLog().info("[Softphone Manager] initSoftphoneManager started").sendInternalLogToServer();var t=e||{},n=function(e){var n=connect.merge(t.softphone||{},e);connect.getLog().info("[Softphone Manager] competeForMasterOnAgentUpdate executed").sendInternalLogToServer(),connect.agent((function(e){e.getChannelConcurrency(connect.ChannelType.VOICE)&&e.onRefresh((function(){var t=this;connect.getLog().info("[Softphone Manager] agent refresh handler executed").sendInternalLogToServer(),connect.ifMaster(connect.MasterTopics.SOFTPHONE,(function(){connect.getLog().info("[Softphone Manager] confirmed as softphone master topic").sendInternalLogToServer(),!connect.core.softphoneManager&&e.isSoftphoneEnabled()&&(connect.becomeMaster(connect.MasterTopics.SEND_LOGS),connect.core.softphoneManager=new connect.SoftphoneManager(n),t.unsubscribe())}))}))}))};connect.isFramed()&&!t.allowFramedSoftphone?connect.core.getEventBus().subscribe(connect.EventType.CONFIGURE,(function(e){connect.getLog().info("[Softphone Manager] Configure event handler executed").sendInternalLogToServer(),e.softphone&&e.softphone.allowFramedSoftphone&&(this.unsubscribe(),n(e.softphone)),r(e.softphone)})):(n(t),r(t));function r(e){var n=connect.merge(t.softphone||{},e);connect.core.softphoneParams=n,connect.isFirefoxBrowser()&&(connect.core.getUpstream().onUpstream(connect.EventType.MASTER_RESPONSE,(function(e){if(e.data&&e.data.topic===connect.MasterTopics.SOFTPHONE&&e.data.takeOver&&e.data.masterId!==connect.core.portStreamId){connect.core.softphoneManager&&(connect.core.softphoneManager.onInitContactSub.unsubscribe(),delete connect.core.softphoneManager);var t=connect.core.getSoftphoneUserMediaStream();t&&(t.getTracks().forEach((function(e){e.stop()})),connect.core.setSoftphoneUserMediaStream(null))}})),connect.core.getEventBus().subscribe(connect.ConnectionEvents.READY_TO_START_SESSION,(function(){connect.ifMaster(connect.MasterTopics.SOFTPHONE,(function(){connect.core.softphoneManager&&connect.core.softphoneManager.startSession()}),(function(){connect.becomeMaster(connect.MasterTopics.SOFTPHONE,(function(){connect.agent((function(e){!connect.core.softphoneManager&&e.isSoftphoneEnabled()&&(connect.becomeMaster(connect.MasterTopics.SEND_LOGS),connect.core.softphoneManager=new connect.SoftphoneManager(n),connect.core.softphoneManager.startSession())}))}))}))})),connect.contact((function(e){connect.agent((function(t){e.onRefresh((function(e){if(connect.hasOtherConnectedCCPs()&&"visible"===document.visibilityState&&(e.getStatus().type===connect.ContactStatusType.CONNECTING||e.getStatus().type===connect.ContactStatusType.INCOMING)){var n=e.isSoftphoneCall()&&!e.isInbound(),r=e.isSoftphoneCall()&&t.getConfiguration().softphoneAutoAccept,i=e.getType()===connect.ContactType.QUEUE_CALLBACK;(n||r||i)&&connect.core.triggerReadyToStartSessionEvent()}}))}))})))}connect.agent((function(e){e.isSoftphoneEnabled()&&e.getChannelConcurrency(connect.ChannelType.VOICE)&&connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.EventType.MUTE})}))},connect.core.triggerReadyToStartSessionEvent=function(){var e=connect.core.softphoneParams&&connect.core.softphoneParams.allowFramedSoftphone;connect.isCCP()?e?connect.core.getEventBus().trigger(connect.ConnectionEvents.READY_TO_START_SESSION):connect.isFramed()?connect.core.getUpstream().sendDownstream(connect.ConnectionEvents.READY_TO_START_SESSION):connect.core.getEventBus().trigger(connect.ConnectionEvents.READY_TO_START_SESSION):e?connect.core.getUpstream().sendUpstream(connect.ConnectionEvents.READY_TO_START_SESSION):connect.core.getEventBus().trigger(connect.ConnectionEvents.READY_TO_START_SESSION)},connect.core.initPageOptions=function(e){if(connect.assertNotNull(e,"params"),connect.isFramed()){var t=connect.core.getEventBus();t.subscribe(connect.EventType.CONFIGURE,(function(e){connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.ConfigurationEvents.CONFIGURE,data:e})})),t.subscribe(connect.EventType.MEDIA_DEVICE_REQUEST,(function(){function e(e){connect.core.getUpstream().sendDownstream(connect.EventType.MEDIA_DEVICE_RESPONSE,e)}navigator&&navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then((function(t){devices=t||[],devices=devices.map((function(e){return e.toJSON()})),e(devices)})).catch((function(t){e({error:t.message})})):e({error:"No navigator or navigator.mediaDevices object found"})}))}},connect.core.getFrameMediaDevices=function(e){var t=null,n=e||1e3,r=new Promise((function(e,t){setTimeout((function(){t(new Error("Timeout exceeded"))}),n)})),i=new Promise((function(e,n){if(connect.isFramed()||connect.isCCP())navigator&&navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then((function(t){devices=t||[],devices=devices.map((function(e){return e.toJSON()})),e(devices)})):n(new Error("No navigator or navigator.mediaDevices object found"));else{var r=connect.core.getEventBus();t=r.subscribe(connect.EventType.MEDIA_DEVICE_RESPONSE,(function(t){t.error?n(new Error(t.error)):e(t)})),connect.core.getUpstream().sendUpstream(connect.EventType.MEDIA_DEVICE_REQUEST)}}));return Promise.race([i,r]).finally((function(){t&&t.unsubscribe()}))},connect.core.authorize=function(e){var t=e;return t||(t=connect.core.isLegacyDomain()?"/connect/auth/authorize":"/auth/authorize"),connect.fetch(t,{credentials:"include"},2e3,5)},connect.core.verifyDomainAccess=function(e,t){if(connect.getLog().warn("This API will be deprecated in the next major version release"),!connect.isFramed())return Promise.resolve();var n={headers:{"X-Amz-Bearer":e}},i=null;return i=t||(connect.core.isLegacyDomain()?"/connect/whitelisted-origins":"/whitelisted-origins"),connect.fetch(i,n,2e3,5).then((function(e){var t=r(window.document.referrer);return e.whitelistedOrigins.some((function(e){return t===r(e)}))?Promise.resolve():Promise.reject()}))},connect.core.isLegacyDomain=function(e){return(e=e||window.location.href).includes(".awsapps.com")},connect.core.initSharedWorker=function(t){if(connect.core.checkNotInitialized(),!connect.core.initialized){connect.assertNotNull(t,"params");var n=connect.assertNotNull(t.sharedWorkerUrl,"params.sharedWorkerUrl"),r=connect.assertNotNull(t.authToken,"params.authToken"),i=connect.assertNotNull(t.refreshToken,"params.refreshToken"),o=connect.assertNotNull(t.authTokenExpiration,"params.authTokenExpiration"),a=connect.assertNotNull(t.region,"params.region"),u=t.endpoint||null,l=t.authorizeEndpoint;l||(l=connect.core.isLegacyDomain()?"/connect/auth/authorize":"/auth/authorize");var d=t.agentAppEndpoint||null,f=t.authCookieName||null;try{connect.core.eventBus=new connect.EventBus({logEvents:!0}),connect.core.agentDataProvider=new c(connect.core.getEventBus()),connect.core.mediaFactory=new connect.MediaFactory(t);var p=new SharedWorker(n,"ConnectSharedWorker"),h=new connect.Conduit("ConnectSharedWorkerConduit",new connect.PortStream(p.port),new connect.WindowIOStream(window,parent));connect.core.upstream=h,connect.core.webSocketProvider=new s,e.onunload=function(){h.sendUpstream(connect.EventType.CLOSE),p.port.close()},connect.getLog().scheduleUpstreamLogPush(h),connect.getLog().scheduleDownstreamClientSideLogsPush(),h.onAllUpstream(connect.core.getEventBus().bridge()),h.onAllUpstream(h.passDownstream()),connect.isFramed()&&(h.onAllDownstream(connect.core.getEventBus().bridge()),h.onAllDownstream(h.passUpstream())),h.sendUpstream(connect.EventType.CONFIGURE,{authToken:r,authTokenExpiration:o,endpoint:u,refreshToken:i,region:a,authorizeEndpoint:l,agentAppEndpoint:d,authCookieName:f}),h.onUpstream(connect.EventType.ACKNOWLEDGE,(function(e){connect.getLog().info("Acknowledged by the ConnectSharedWorker!").sendInternalLogToServer(),connect.core.initialized=!0,connect.core.portStreamId=e.id,this.unsubscribe()})),h.onUpstream(connect.EventType.LOG,(function(e){e.loggerId!==connect.getLog().getLoggerId()&&connect.getLog().addLogEntry(connect.LogEntry.fromObject(e))})),h.onUpstream(connect.EventType.SERVER_BOUND_INTERNAL_LOG,(function(e){connect.getLog().sendInternalLogEntryToServer(connect.LogEntry.fromObject(e))})),h.onDownstream(connect.EventType.SERVER_BOUND_INTERNAL_LOG,(function(e){connect.isFramed()&&Array.isArray(e)&&e.forEach((function(e){connect.getLog().sendInternalLogEntryToServer(connect.LogEntry.fromObject(e))}))})),h.onDownstream(connect.EventType.LOG,(function(e){connect.isFramed()&&e.loggerId!==connect.getLog().getLoggerId()&&connect.getLog().addLogEntry(connect.LogEntry.fromObject(e))})),h.onUpstream(connect.EventType.AUTH_FAIL,(function(e){location.reload()})),connect.getLog().info("User Agent: "+navigator.userAgent).sendInternalLogToServer(),connect.getLog().info("isCCPv2: "+!0).sendInternalLogToServer(),connect.getLog().info("isFramed: "+connect.isFramed()).sendInternalLogToServer(),connect.core.upstream.onDownstream(connect.EventType.OUTER_CONTEXT_INFO,(function(e){var t=e.streamsVersion;connect.getLog().info("StreamsJS Version: "+t).sendInternalLogToServer()})),h.onUpstream(connect.EventType.UPDATE_CONNECTED_CCPS,(function(e){connect.getLog().info("Number of connected CCPs updated: "+e.length).sendInternalLogToServer(),connect.numberOfConnectedCCPs=e.length})),connect.core.client=new connect.UpstreamConduitClient(h),connect.core.masterClient=new connect.UpstreamConduitMasterClient(h),connect.core.getEventBus().subscribe(connect.EventType.TERMINATE,h.passUpstream()),connect.core.getEventBus().subscribe(connect.EventType.TERMINATED,(function(){window.location.reload(!0)})),p.port.start(),h.onUpstream(connect.VoiceIdEvents.UPDATE_DOMAIN_ID,(function(e){e&&e.domainId&&(connect.core.voiceIdDomainId=e.domainId)})),connect.agent((function(){(new connect.VoiceId).getDomainId().then((function(e){connect.getLog().info("voiceId domainId successfully fetched at agent initialization: "+e).sendInternalLogToServer()})).catch((function(e){connect.getLog().info("voiceId domainId not fetched at agent initialization").withObject({err:e}).sendInternalLogToServer()}))})),connect.core.getNotificationManager().requestPermission()}catch(e){connect.getLog().error("Failed to initialize the API shared worker, we're dead!").withException(e).sendInternalLogToServer()}}},connect.core.initCCP=function(r,i){if(connect.core.checkNotInitialized(),!connect.core.initialized){var o={};"string"==typeof i?o.ccpUrl=i:o=i,connect.assertNotNull(r,"containerDiv"),connect.assertNotNull(o.ccpUrl,"params.ccpUrl");var u=document.createElement("iframe");u.src=o.ccpUrl,u.allow="microphone; autoplay",u.style="width: 100%; height: 100%",u.title="Amazon Connect CCP",r.appendChild(u),connect.core.eventBus=new connect.EventBus({logEvents:!1}),connect.core.agentDataProvider=new c(connect.core.getEventBus()),connect.core.mediaFactory=new connect.MediaFactory(o);var l=new connect.IFrameConduit(o.ccpUrl,window,u);u.onload=setTimeout((function(){var e={display:window.getComputedStyle(u,null).display,offsetWidth:u.offsetWidth,offsetHeight:u.offsetHeight,clientRectsLength:u.getClientRects().length};l.sendUpstream(connect.EventType.IFRAME_STYLE,e)}),1e4),connect.core.upstream=l,connect.core.webSocketProvider=new s,l.onAllUpstream(connect.core.getEventBus().bridge()),connect.core.keepaliveManager=new a(l,connect.core.getEventBus(),o.ccpSynTimeout||1e3,o.ccpAckTimeout||3e3),connect.core.iframeRefreshInterval=null,connect.core.ccpLoadTimeoutInstance=e.setTimeout((function(){connect.core.ccpLoadTimeoutInstance=null,connect.core.getEventBus().trigger(connect.EventType.ACK_TIMEOUT)}),o.ccpLoadTimeout||5e3),connect.getLog().scheduleUpstreamOuterContextCCPLogsPush(l),connect.getLog().scheduleUpstreamOuterContextCCPserverBoundLogsPush(l),l.onUpstream(connect.EventType.ACKNOWLEDGE,(function(t){connect.getLog().info("Acknowledged by the CCP!").sendInternalLogToServer(),connect.core.client=new connect.UpstreamConduitClient(l),connect.core.masterClient=new connect.UpstreamConduitMasterClient(l),connect.core.portStreamId=t.id,(o.softphone||o.chat||o.pageOptions)&&l.sendUpstream(connect.EventType.CONFIGURE,{softphone:o.softphone,chat:o.chat,pageOptions:o.pageOptions}),connect.core.ccpLoadTimeoutInstance&&(e.clearTimeout(connect.core.ccpLoadTimeoutInstance),connect.core.ccpLoadTimeoutInstance=null),l.sendUpstream(connect.EventType.OUTER_CONTEXT_INFO,{streamsVersion:connect.version}),connect.core.keepaliveManager.start(),this.unsubscribe(),connect.core.initialized=!0,connect.core.getEventBus().trigger(connect.EventType.INIT)})),l.onUpstream(connect.EventType.LOG,(function(e){e.loggerId!==connect.getLog().getLoggerId()&&connect.getLog().addLogEntry(connect.LogEntry.fromObject(e))})),connect.core.getEventBus().subscribe(connect.EventType.ACK_TIMEOUT,(function(){if(!1!==o.loginPopup)try{var r=function(r){var i="https://lily.us-east-1.amazonaws.com/taw/auth/code";return connect.assertNotNull(i),r.loginUrl?r.loginUrl:r.alias?(log.warn("The `alias` param is deprecated and should not be expected to function properly. Please use `ccpUrl` or `loginUrl`. See https://github.com/amazon-connect/amazon-connect-streams/blob/master/README.md#connectcoreinitccp for valid parameters."),t.replace("{alias}",r.alias).replace("{client_id}",n).replace("{redirect}",e.encodeURIComponent(i))):r.ccpUrl}(o);connect.getLog().warn("ACK_TIMEOUT occurred, attempting to pop the login page if not already open.").sendInternalLogToServer(),o.loginUrl&&connect.core.getPopupManager().clear(connect.MasterTopics.LOGIN_POPUP),connect.core.loginWindow=connect.core.getPopupManager().open(r,connect.MasterTopics.LOGIN_POPUP,o.loginOptions)}catch(e){connect.getLog().error("ACK_TIMEOUT occurred but we are unable to open the login popup.").withException(e).sendInternalLogToServer()}null==connect.core.iframeRefreshInterval&&(connect.core.iframeRefreshInterval=window.setInterval((function(){u.src=o.ccpUrl}),5e3),l.onUpstream(connect.EventType.ACKNOWLEDGE,(function(){this.unsubscribe(),e.clearInterval(connect.core.iframeRefreshInterval),connect.core.iframeRefreshInterval=null,connect.core.getPopupManager().clear(connect.MasterTopics.LOGIN_POPUP),(o.loginPopupAutoClose||o.loginOptions&&o.loginOptions.autoClose)&&connect.core.loginWindow&&(connect.core.loginWindow.close(),connect.core.loginWindow=null)})))})),o.onViewContact&&connect.core.onViewContact(o.onViewContact),l.onUpstream(connect.EventType.UPDATE_CONNECTED_CCPS,(function(e){connect.numberOfConnectedCCPs=e.length})),l.onUpstream(connect.VoiceIdEvents.UPDATE_DOMAIN_ID,(function(e){e&&e.domainId&&(connect.core.voiceIdDomainId=e.domainId)})),connect.core.softphoneParams=o.softphone}};var a=function(e,t,n,r){this.conduit=e,this.eventBus=t,this.synTimeout=n,this.ackTimeout=r,this.ackTimer=null,this.synTimer=null,this.ackSub=null};a.prototype.start=function(){var t=this;this.conduit.sendUpstream(connect.EventType.SYNCHRONIZE),this.ackSub=this.conduit.onUpstream(connect.EventType.ACKNOWLEDGE,(function(){this.unsubscribe(),e.clearTimeout(t.ackTimer),t._deferStart()})),this.ackTimer=e.setTimeout((function(){t.ackSub.unsubscribe(),t.eventBus.trigger(connect.EventType.ACK_TIMEOUT),t._deferStart()}),this.ackTimeout)},a.prototype._deferStart=function(){this.synTimer=e.setTimeout(connect.hitch(this,this.start),this.synTimeout)},a.prototype.deferStart=function(){null==this.synTimer&&(this.synTimer=e.setTimeout(connect.hitch(this,this.start),this.synTimeout))};var s=function(){var e={initFailure:new Set,subscriptionUpdate:new Set,subscriptionFailure:new Set,topic:new Map,allMessage:new Set,connectionGain:new Set,connectionLost:new Set,connectionOpen:new Set,connectionClose:new Set},t=function(e,t){e.forEach((function(e){e(t)}))};connect.core.getUpstream().onUpstream(connect.WebSocketEvents.INIT_FAILURE,(function(){t(e.initFailure)})),connect.core.getUpstream().onUpstream(connect.WebSocketEvents.CONNECTION_OPEN,(function(n){t(e.connectionOpen,n)})),connect.core.getUpstream().onUpstream(connect.WebSocketEvents.CONNECTION_CLOSE,(function(n){t(e.connectionClose,n)})),connect.core.getUpstream().onUpstream(connect.WebSocketEvents.CONNECTION_GAIN,(function(){t(e.connectionGain)})),connect.core.getUpstream().onUpstream(connect.WebSocketEvents.CONNECTION_LOST,(function(n){t(e.connectionLost,n)})),connect.core.getUpstream().onUpstream(connect.WebSocketEvents.SUBSCRIPTION_UPDATE,(function(n){t(e.subscriptionUpdate,n)})),connect.core.getUpstream().onUpstream(connect.WebSocketEvents.SUBSCRIPTION_FAILURE,(function(n){t(e.subscriptionFailure,n)})),connect.core.getUpstream().onUpstream(connect.WebSocketEvents.ALL_MESSAGE,(function(n){t(e.allMessage,n),e.topic.has(n.topic)&&t(e.topic.get(n.topic),n)})),this.sendMessage=function(e){connect.core.getUpstream().sendUpstream(connect.WebSocketEvents.SEND,e)},this.onInitFailure=function(t){return connect.assertTrue(connect.isFunction(t),"method must be a function"),e.initFailure.add(t),function(){return e.initFailure.delete(t)}},this.onConnectionOpen=function(t){return connect.assertTrue(connect.isFunction(t),"method must be a function"),e.connectionOpen.add(t),function(){return e.connectionOpen.delete(t)}},this.onConnectionClose=function(t){return connect.assertTrue(connect.isFunction(t),"method must be a function"),e.connectionClose.add(t),function(){return e.connectionClose.delete(t)}},this.onConnectionGain=function(t){return connect.assertTrue(connect.isFunction(t),"method must be a function"),e.connectionGain.add(t),function(){return e.connectionGain.delete(t)}},this.onConnectionLost=function(t){return connect.assertTrue(connect.isFunction(t),"method must be a function"),e.connectionLost.add(t),function(){return e.connectionLost.delete(t)}},this.onSubscriptionUpdate=function(t){return connect.assertTrue(connect.isFunction(t),"method must be a function"),e.subscriptionUpdate.add(t),function(){return e.subscriptionUpdate.delete(t)}},this.onSubscriptionFailure=function(t){return connect.assertTrue(connect.isFunction(t),"method must be a function"),e.subscriptionFailure.add(t),function(){return e.subscriptionFailure.delete(t)}},this.subscribeTopics=function(e){connect.assertNotNull(e,"topics"),connect.assertTrue(connect.isArray(e),"topics must be a array"),connect.core.getUpstream().sendUpstream(connect.WebSocketEvents.SUBSCRIBE,e)},this.onMessage=function(t,n){return connect.assertNotNull(t,"topicName"),connect.assertTrue(connect.isFunction(n),"method must be a function"),e.topic.has(t)?e.topic.get(t).add(n):e.topic.set(t,new Set([n])),function(){return e.topic.get(t).delete(n)}},this.onAllMessage=function(t){return connect.assertTrue(connect.isFunction(t),"method must be a function"),e.allMessage.add(t),function(){return e.allMessage.delete(t)}}},c=function(e){this.bus=e,this.bus.subscribe(connect.AgentEvents.UPDATE,connect.hitch(this,this.updateAgentData))};c.prototype.updateAgentData=function(e){var t=this.agentData;this.agentData=e,null==t&&(connect.agent.initialized=!0,this.bus.trigger(connect.AgentEvents.INIT,new connect.Agent)),this.bus.trigger(connect.AgentEvents.REFRESH,new connect.Agent),this._fireAgentUpdateEvents(t)},c.prototype.getAgentData=function(){if(null==this.agentData)throw new connect.StateError("No agent data is available yet!");return this.agentData},c.prototype.getContactData=function(e){var t=this.getAgentData(),n=connect.find(t.snapshot.contacts,(function(t){return t.contactId===e}));if(null==n)throw new connect.StateError("Contact %s no longer exists.",e);return n},c.prototype.getConnectionData=function(e,t){var n=this.getContactData(e),r=connect.find(n.connections,(function(e){return e.connectionId===t}));if(null==r)throw new connect.StateError("Connection %s for contact %s no longer exists.",t,e);return r},c.prototype.getInstanceId=function(){return this.getAgentData().configuration.routingProfile.routingProfileId.match(/instance\/([0-9a-fA-F|-]+)\//)[1]},c.prototype.getAWSAccountId=function(){return this.getAgentData().configuration.routingProfile.routingProfileId.match(/:([0-9]+):instance/)[1]},c.prototype._diffContacts=function(e){var t={added:{},removed:{},common:{},oldMap:connect.index(null==e?[]:e.snapshot.contacts,(function(e){return e.contactId})),newMap:connect.index(this.agentData.snapshot.contacts,(function(e){return e.contactId}))};return connect.keys(t.oldMap).forEach((function(e){connect.contains(t.newMap,e)?t.common[e]=t.newMap[e]:t.removed[e]=t.oldMap[e]})),connect.keys(t.newMap).forEach((function(e){connect.contains(t.oldMap,e)||(t.added[e]=t.newMap[e])})),t},c.prototype._fireAgentUpdateEvents=function(e){var t=this,n=null,r=null==e?connect.AgentAvailStates.INIT:e.snapshot.state.name,i=this.agentData.snapshot.state.name,o=null==e?connect.AgentStateType.INIT:e.snapshot.state.type,a=this.agentData.snapshot.state.type;o!==a&&connect.core.getAgentRoutingEventGraph().getAssociations(this,o,a).forEach((function(e){t.bus.trigger(e,new connect.Agent)})),r!==i&&(this.bus.trigger(connect.AgentEvents.STATE_CHANGE,{agent:new connect.Agent,oldState:r,newState:i}),connect.core.getAgentStateEventGraph().getAssociations(this,r,i).forEach((function(e){t.bus.trigger(e,new connect.Agent)})));var s=e&&e.snapshot.nextState?e.snapshot.nextState.name:null,c=this.agentData.snapshot.nextState?this.agentData.snapshot.nextState.name:null;s!==c&&c&&t.bus.trigger(connect.AgentEvents.ENQUEUED_NEXT_STATE,new connect.Agent),n=null!==e?this._diffContacts(e):{added:connect.index(this.agentData.snapshot.contacts,(function(e){return e.contactId})),removed:{},common:{},oldMap:{},newMap:connect.index(this.agentData.snapshot.contacts,(function(e){return e.contactId}))},connect.values(n.added).forEach((function(e){t.bus.trigger(connect.ContactEvents.INIT,new connect.Contact(e.contactId)),t._fireContactUpdateEvents(e.contactId,connect.ContactStateType.INIT,e.state.type)})),connect.values(n.removed).forEach((function(e){t.bus.trigger(connect.ContactEvents.DESTROYED,new connect.ContactSnapshot(e)),t.bus.trigger(connect.core.getContactEventName(connect.ContactEvents.DESTROYED,e.contactId),new connect.ContactSnapshot(e)),t._unsubAllContactEventsForContact(e.contactId)})),connect.keys(n.common).forEach((function(e){t._fireContactUpdateEvents(e,n.oldMap[e].state.type,n.newMap[e].state.type)}))},c.prototype._fireContactUpdateEvents=function(e,t,n){var r=this;t!==n&&connect.core.getContactEventGraph().getAssociations(this,t,n).forEach((function(t){r.bus.trigger(t,new connect.Contact(e)),r.bus.trigger(connect.core.getContactEventName(t,e),new connect.Contact(e))})),r.bus.trigger(connect.ContactEvents.REFRESH,new connect.Contact(e)),r.bus.trigger(connect.core.getContactEventName(connect.ContactEvents.REFRESH,e),new connect.Contact(e))},c.prototype._unsubAllContactEventsForContact=function(e){var t=this;connect.values(connect.ContactEvents).forEach((function(n){t.bus.getSubscriptions(connect.core.getContactEventName(n,e)).map((function(e){e.unsubscribe()}))}))},connect.core.onViewContact=function(e){connect.core.getUpstream().onUpstream(connect.ContactEvents.VIEW,e)},connect.core.viewContact=function(e){connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.ContactEvents.VIEW,data:{contactId:e}})},connect.core.onActivateChannelWithViewType=function(e){connect.core.getUpstream().onUpstream(connect.ChannelViewEvents.ACTIVATE_CHANNEL_WITH_VIEW_TYPE,e)},connect.core.activateChannelWithViewType=function(e,t,n){const r={viewType:e,mediaType:t};n&&(r.source=n),connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.ChannelViewEvents.ACTIVATE_CHANNEL_WITH_VIEW_TYPE,data:r})},connect.core.triggerTaskCreated=function(e){connect.core.getUpstream().upstreamBus.trigger(connect.TaskEvents.CREATED,e)},connect.core.onAccessDenied=function(e){connect.core.getUpstream().onUpstream(connect.EventType.ACCESS_DENIED,e)},connect.core.onAuthFail=function(e){connect.core.getUpstream().onUpstream(connect.EventType.AUTH_FAIL,e)},connect.core.onSoftphoneSessionInit=function(e){connect.core.getUpstream().onUpstream(connect.ConnectionEvents.SESSION_INIT,e)},connect.core.onConfigure=function(e){connect.core.getUpstream().onUpstream(connect.ConfigurationEvents.CONFIGURE,e)},connect.core.onInitialized=function(e){connect.core.getEventBus().subscribe(connect.EventType.INIT,e)},connect.core.getContactEventName=function(e,t){if(connect.assertNotNull(e,"eventName"),connect.assertNotNull(t,"contactId"),!connect.contains(connect.values(connect.ContactEvents),e))throw new connect.ValueError("%s is not a valid contact event.",e);return connect.sprintf("%s::%s",e,t)},connect.core.getEventBus=function(){return connect.core.eventBus},connect.core.getWebSocketManager=function(){return connect.core.webSocketProvider},connect.core.getAgentDataProvider=function(){return connect.core.agentDataProvider},connect.core.getLocalTimestamp=function(){return connect.core.getAgentDataProvider().getAgentData().snapshot.localTimestamp},connect.core.getSkew=function(){return connect.core.getAgentDataProvider().getAgentData().snapshot.skew},connect.core.getAgentRoutingEventGraph=function(){return connect.core.agentRoutingEventGraph},connect.core.agentRoutingEventGraph=(new connect.EventGraph).assoc(connect.EventGraph.ANY,connect.AgentStateType.ROUTABLE,connect.AgentEvents.ROUTABLE).assoc(connect.EventGraph.ANY,connect.AgentStateType.NOT_ROUTABLE,connect.AgentEvents.NOT_ROUTABLE).assoc(connect.EventGraph.ANY,connect.AgentStateType.OFFLINE,connect.AgentEvents.OFFLINE),connect.core.getAgentStateEventGraph=function(){return connect.core.agentStateEventGraph},connect.core.agentStateEventGraph=(new connect.EventGraph).assoc(connect.EventGraph.ANY,connect.values(connect.AgentErrorStates),connect.AgentEvents.ERROR).assoc(connect.EventGraph.ANY,connect.AgentAvailStates.AFTER_CALL_WORK,connect.AgentEvents.ACW),connect.core.getContactEventGraph=function(){return connect.core.contactEventGraph},connect.core.contactEventGraph=(new connect.EventGraph).assoc(connect.EventGraph.ANY,connect.ContactStateType.INCOMING,connect.ContactEvents.INCOMING).assoc(connect.EventGraph.ANY,connect.ContactStateType.PENDING,connect.ContactEvents.PENDING).assoc(connect.EventGraph.ANY,connect.ContactStateType.CONNECTING,connect.ContactEvents.CONNECTING).assoc(connect.EventGraph.ANY,connect.ContactStateType.CONNECTED,connect.ContactEvents.CONNECTED).assoc(connect.ContactStateType.CONNECTING,connect.ContactStateType.ERROR,connect.ContactEvents.MISSED).assoc(connect.ContactStateType.INCOMING,connect.ContactStateType.ERROR,connect.ContactEvents.MISSED).assoc(connect.EventGraph.ANY,connect.ContactStateType.ENDED,connect.ContactEvents.ACW).assoc(connect.values(connect.CONTACT_ACTIVE_STATES),connect.values(connect.relativeComplement(connect.CONTACT_ACTIVE_STATES,connect.ContactStateType)),connect.ContactEvents.ENDED).assoc(connect.EventGraph.ANY,connect.values(connect.AgentErrorStates),connect.ContactEvents.ERROR).assoc(connect.ContactStateType.CONNECTING,connect.ContactStateType.MISSED,connect.ContactEvents.MISSED),connect.core.getClient=function(){if(!connect.core.client)throw new connect.StateError("The connect core has not been initialized!");return connect.core.client},connect.core.client=null,connect.core.getAgentAppClient=function(){if(!connect.core.agentAppClient)throw new connect.StateError("The connect AgentApp Client has not been initialized!");return connect.core.agentAppClient},connect.core.agentAppClient=null,connect.core.getMasterClient=function(){if(!connect.core.masterClient)throw new connect.StateError("The connect master client has not been initialized!");return connect.core.masterClient},connect.core.masterClient=null,connect.core.getSoftphoneManager=function(){return connect.core.softphoneManager},connect.core.softphoneManager=null,connect.core.getNotificationManager=function(){return connect.core.notificationManager||(connect.core.notificationManager=new connect.NotificationManager),connect.core.notificationManager},connect.core.notificationManager=null,connect.core.getPopupManager=function(){return connect.core.popupManager},connect.core.popupManager=new connect.PopupManager,connect.core.getUpstream=function(){if(!connect.core.upstream)throw new connect.StateError("There is no upstream conduit!");return connect.core.upstream},connect.core.upstream=null,connect.core.AgentDataProvider=c}(),function(){var e=this,t=e.connect||{};e.connect=t,e.lily=t;var n=function(n){var r=this;if(this._prevContactId=null,t.assertNotNull(n,"ringtoneConfig"),!n.ringtoneUrl)throw new Error("ringtoneUrl is required!");e.Audio&&void 0!==e.Promise?this._playableAudioPromise=new Promise((function(e,t){r._audio=new Audio(n.ringtoneUrl),r._audio.loop=!0,r._audio.addEventListener("canplay",(function(){r._audioPlayable=!0,e(r._audio)}))})):(this._audio=null,t.getLog().error("Unable to provide a ringtone.").sendInternalLogToServer()),r._driveRingtone()};n.prototype._driveRingtone=function(){throw new Error("Not implemented.")},n.prototype._startRingtone=function(e){this._audio&&(this._audio.play().catch((function(n){this._publishTelemetryEvent("Ringtone Playback Failure",e),t.getLog().error("Ringtone Playback Failure").sendInternalLogToServer()})),this._publishTelemetryEvent("Ringtone Start",e),t.getLog().info("Ringtone Start").sendInternalLogToServer())},n.prototype._stopRingtone=function(e){this._audio&&(this._audio.pause(),this._audio.currentTime=0,this._publishTelemetryEvent("Ringtone Stop",e),t.getLog().info("Ringtone Stop").sendInternalLogToServer())},n.prototype.stopRingtone=function(){this._stopRingtone()},n.prototype._ringtoneSetup=function(e){var n=this;t.ifMaster(t.MasterTopics.RINGTONE,(function(){n._startRingtone(e),n._prevContactId=e.getContactId(),e.onConnected(lily.hitch(n,n._stopRingtone)),e.onAccepted(lily.hitch(n,n._stopRingtone)),e.onEnded(lily.hitch(n,n._stopRingtone)),e.onRefresh((function(e){e.getStatus().type!==t.ContactStatusType.CONNECTING&&e.getStatus().type!==t.ContactStatusType.INCOMING&&n._stopRingtone()}))}))},n.prototype._publishTelemetryEvent=function(e,n){n&&n.getContactId()&&t.publishMetric({name:e,contactId:n.getContactId()})},n.prototype.setOutputDevice=function(t){return this._playableAudioPromise?Promise.race([this._playableAudioPromise,new Promise((function(t,n){e.setTimeout((function(){n("Timed out waiting for playable audio")}),3e3)}))]).then((function(e){return e?e.setSinkId?Promise.resolve(e.setSinkId(t)):Promise.reject("Not supported"):Promise.reject("No audio found")})):e.Promise?Promise.reject("Not eligible ringtone owner"):void 0};var r=function(e){n.call(this,e)};(r.prototype=Object.create(n.prototype)).constructor=r,r.prototype._driveRingtone=function(){var e=this,n=function(n){n.getType()===lily.ContactType.VOICE&&n.isSoftphoneCall()&&n.isInbound()&&(e._ringtoneSetup(n),e._publishTelemetryEvent("Ringtone Connecting",n),t.getLog().info("Ringtone Connecting").sendInternalLogToServer())};t.contact((function(e){e.onConnecting(n)})),(new t.Agent).getContacts().forEach((function(e){e.getStatus().type===t.ContactStatusType.CONNECTING&&n(e)}))};var i=function(e){n.call(this,e)};(i.prototype=Object.create(n.prototype)).constructor=i,i.prototype._driveRingtone=function(){var e=this,n=function(n){n.getType()===lily.ContactType.CHAT&&n.isInbound()&&(e._ringtoneSetup(n),e._publishTelemetryEvent("Chat Ringtone Connecting",n),t.getLog().info("Chat Ringtone Connecting").sendInternalLogToServer())};t.contact((function(e){e.onConnecting(n)}))};var o=function(e){n.call(this,e)};(o.prototype=Object.create(n.prototype)).constructor=o,o.prototype._driveRingtone=function(){var e=this,n=function(n){n.getType()===lily.ContactType.TASK&&n.isInbound()&&(e._ringtoneSetup(n),e._publishTelemetryEvent("Task Ringtone Connecting",n),t.getLog().info("Task Ringtone Connecting").sendInternalLogToServer())};t.contact((function(e){e.onConnecting(n)}))};var a=function(e){n.call(this,e)};(a.prototype=Object.create(n.prototype)).constructor=a,a.prototype._driveRingtone=function(){var e=this;t.contact((function(n){n.onIncoming((function(){n.getType()===lily.ContactType.QUEUE_CALLBACK&&(e._ringtoneSetup(n),e._publishTelemetryEvent("Callback Ringtone Connecting",n),t.getLog().info("Callback Ringtone Connecting").sendInternalLogToServer())}))}))},t.VoiceRingtoneEngine=r,t.ChatRingtoneEngine=i,t.TaskRingtoneEngine=o,t.QueueCallbackRingtoneEngine=a}(),function(){connect=this.connect||{},this.connect=connect,this.lily=connect,this.ccpVersion="V2";var e={};e[connect.SoftphoneCallType.AUDIO_ONLY]="Audio",e[connect.SoftphoneCallType.VIDEO_ONLY]="Video",e[connect.SoftphoneCallType.AUDIO_VIDEO]="AudioVideo",e[connect.SoftphoneCallType.NONE]="None";({})[connect.ContactType.VOICE]="Voice";var t=[],n={},r={},i=null,o=null,a=null,s=connect.SoftphoneErrorTypes,c={},u=connect.randomId(),l=function(e){return new Promise((function(t,n){connect.core.getClient().call(connect.ClientMethods.CREATE_TRANSPORT,e,{success:function(e){t(e.softphoneTransport.softphoneMediaConnections)},failure:function(e){e.message&&e.message.includes("SoftphoneConnectionLimitBreachedException")&&E("multiple_softphone_active_sessions","Number of active sessions are more then allowed limit.",""),n(Error("requestIceAccess failed"))},authFailure:function(){n(Error("Authentication failed while requestIceAccess"))},accessDenied:function(){n(Error("Access Denied while requestIceAccess"))}})}))},d=function(e){var t=connect.core.getUpstream(),n=e.getAgentConnection();if(n){var r=n.getSoftphoneMediaInfo();r?!0===r.autoAccept?(a.info("Auto-accept is enabled, sending out Accepted event to stop ringtone..").sendInternalLogToServer(),t.sendUpstream(connect.EventType.BROADCAST,{event:connect.ContactEvents.ACCEPTED,data:new connect.Contact(e.contactId)}),t.sendUpstream(connect.EventType.BROADCAST,{event:connect.core.getContactEventName(connect.ContactEvents.ACCEPTED,e.contactId),data:new connect.Contact(e.contactId)})):a.info("Auto-accept is disabled, ringtone will be stopped by user action.").sendInternalLogToServer():a.info("Not able to retrieve the auto-accept setting from null SoftphoneMediaInfo, ignoring event publish..").sendInternalLogToServer()}else a.info("Not able to retrieve the auto-accept setting from null AgentConnection, ignoring event publish..").sendInternalLogToServer()},f=function(){connect.core.getEventBus().subscribe(connect.EventType.MUTE,g)},p=function(){connect.core.getEventBus().subscribe(connect.ConfigurationEvents.SET_SPEAKER_DEVICE,b)},h=function(){connect.core.getEventBus().subscribe(connect.ConfigurationEvents.SET_MICROPHONE_DEVICE,v)},m=function(e){delete c[e],connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.AgentEvents.MUTE_TOGGLE,data:{muted:!1}})},g=function(e){var t;if(0!==connect.keys(c).length){for(var n in e&&void 0!==e.mute&&(t=e.mute),c)if(c.hasOwnProperty(n)){var r=c[n].stream;if(r){var i=r.getAudioTracks()[0];void 0!==t?(i.enabled=!t,c[n].muted=t,t?a.info("Agent has muted the contact, connectionId -  "+n).sendInternalLogToServer():a.info("Agent has unmuted the contact, connectionId - "+n).sendInternalLogToServer()):t=c[n].muted||!1}}connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.AgentEvents.MUTE_TOGGLE,data:{muted:t}})}},b=function(e){if(0!==connect.keys(c).length&&e&&e.deviceId){var t=e.deviceId,n=document.getElementById("remote-audio");try{a.info("Trying to set speaker to device "+t),n&&"function"==typeof n.setSinkId&&n.setSinkId(t)}catch(e){a.error("Failed to set speaker to device "+t)}connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.ConfigurationEvents.SPEAKER_DEVICE_CHANGED,data:{deviceId:t}})}},v=function(e){if(0!==connect.keys(c).length&&e&&e.deviceId){var t=e.deviceId,n=connect.core.getSoftphoneManager();try{navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:t}}}).then((function(e){var t=e.getAudioTracks()[0];for(var r in c)if(c.hasOwnProperty(r)){c[r].stream;n.getSession(r)._pc.getSenders()[0].replaceTrack(t).then((function(){n.replaceLocalMediaTrack(r,t)}))}}))}catch(e){a.error("Failed to set microphone device "+t)}connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.ConfigurationEvents.MICROPHONE_DEVICE_CHANGED,data:{deviceId:t}})}},y=function(e,t){if(t===connect.RTCErrors.ICE_COLLECTION_TIMEOUT){for(var n="\n",r=0;r<e._iceServers.length;r++)for(var i=0;i<e._iceServers[r].urls.length;i++)n=n+e._iceServers[r].urls[i]+"\n";E(s.ICE_COLLECTION_TIMEOUT,"Ice collection timedout. ",n)}else t===connect.RTCErrors.USER_BUSY?E(s.USER_BUSY_ERROR,"Softphone call UserBusy error. ",""):t===connect.RTCErrors.SIGNALLING_HANDSHAKE_FAILURE?E(s.SIGNALLING_HANDSHAKE_FAILURE,"Handshaking with Signalling Server "+e._signalingUri+" failed. ",e._signalingUri):t===connect.RTCErrors.GUM_TIMEOUT_FAILURE||t===connect.RTCErrors.GUM_OTHER_FAILURE?E(s.MICROPHONE_NOT_SHARED,"Your microphone is not enabled in your browser. ",""):t===connect.RTCErrors.SIGNALLING_CONNECTION_FAILURE?E(s.SIGNALLING_CONNECTION_FAILURE,"URL "+e._signalingUri+" cannot be reached. ",e._signalingUri):t===connect.RTCErrors.CALL_NOT_FOUND?a.error("Softphone call failed due to CallNotFoundException.").sendInternalLogToServer():E(s.WEBRTC_ERROR,"webrtc system error. ","")},S=function(e){var t=e.replace(/&quot;/g,'"');return JSON.parse(t)},w=function(e){var t=e||{};t.success=t.success||function(){},t.failure=t.failure||function(){};var n={audio:!0},r=null;if("function"==typeof Promise){if("object"==typeof navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia)r=navigator.mediaDevices.getUserMedia(n);else{if("function"!=typeof navigator.webkitGetUserMedia)return void t.failure(s.UNSUPPORTED_BROWSER);r=new Promise((function(e,t){navigator.webkitGetUserMedia(n,e,t)}))}return r.then((function(e){var n=e.getAudioTracks();n&&n.length>0?t.success(e):t.failure(s.MICROPHONE_NOT_SHARED)}),(function(e){t.failure(s.MICROPHONE_NOT_SHARED)})),r}t.failure(s.UNSUPPORTED_BROWSER)},E=function(e,t,n){a.error("Softphone error occurred : ",e,t||"").sendInternalLogToServer(),connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.AgentEvents.SOFTPHONE_ERROR,data:new connect.SoftphoneError(e,t,n)})},C=function(e,t){T("Softphone Session Failed",e,{failedReason:t})},T=function(e,t,n){t&&connect.publishMetric({name:e,contactId:t,data:n})},_=function(e,t,n){T(e,t,[{name:"AgentConnectionId",value:n}]),a.info("Publish multiple session error metrics",e,"contactId "+t,"agent connectionId "+n).sendInternalLogToServer()},I=function(){return!!(connect.isOperaBrowser()&&connect.getOperaBrowserVersion()>17)||(!!(connect.isChromeBrowser()&&connect.getChromeBrowserVersion()>22)||!!(connect.isFirefoxBrowser()&&connect.getFirefoxBrowserVersion()>21))},k=function(e){var n=t.slice();t=[],n.length>0&&e.sendSoftphoneMetrics(n,{success:function(){a.info("sendSoftphoneMetrics success"+JSON.stringify(n)).sendInternalLogToServer()},failure:function(e){a.error("sendSoftphoneMetrics failed.").withObject(e).sendInternalLogToServer()}})},A=function(e){i=window.setInterval((function(){e.getUserAudioStats().then((function(e){var r=n;n=e,t.push(R(n,r,"audio_input"))}),(function(e){a.debug("Failed to get user audio stats.",e).sendInternalLogToServer()})),e.getRemoteAudioStats().then((function(e){var n=r;r=e,t.push(R(r,n,"audio_output"))}),(function(e){a.debug("Failed to get remote audio stats.",e).sendInternalLogToServer()}))}),1e3)},O=function(e){o=window.setInterval((function(){k(e)}),3e4)},x=function(){n=null,r=null,t=[],i=null,o=null},R=function(e,t,n){if(t&&e){var r=e.packetsLost>t.packetsLost?e.packetsLost-t.packetsLost:0,i=e.packetsCount>t.packetsCount?e.packetsCount-t.packetsCount:0;return new D(e.timestamp,r,i,n,e.audioLevel,e.jbMilliseconds,e.rttMilliseconds)}return new D(e.timestamp,e.packetsLost,e.packetsCount,n,e.audioLevel,e.jbMilliseconds,e.rttMilliseconds)},P=function(e){return null!==e&&window.clearInterval(e),null},M=function(e,t){i=P(i),o=P(o),function(e,t,n,r){t.streamStats=[N(n,"audio_input"),N(r,"audio_output")];var i={callStartTime:t.sessionStartTime,callEndTime:t.sessionEndTime,gumTimeMillis:t.gumTimeMillis,initializationTimeMillis:t.initializationTimeMillis,iceCollectionTimeMillis:t.iceCollectionTimeMillis,signallingConnectTimeMillis:t.signallingConnectTimeMillis,handshakingTimeMillis:t.handshakingTimeMillis,preTalkingTimeMillis:t.preTalkingTimeMillis,talkingTimeMillis:t.talkingTimeMillis,cleanupTimeMillis:t.cleanupTimeMillis,iceCollectionFailure:t.iceCollectionFailure,signallingConnectionFailure:t.signallingConnectionFailure,handshakingFailure:t.handshakingFailure,gumOtherFailure:t.gumOtherFailure,gumTimeoutFailure:t.gumTimeoutFailure,createOfferFailure:t.createOfferFailure,setLocalDescriptionFailure:t.setLocalDescriptionFailure,userBusyFailure:t.userBusyFailure,invalidRemoteSDPFailure:t.invalidRemoteSDPFailure,noRemoteIceCandidateFailure:t.noRemoteIceCandidateFailure,setRemoteDescriptionFailure:t.setRemoteDescriptionFailure,softphoneStreamStatistics:t.streamStats};e.sendSoftphoneReport(i,{success:function(){a.info("sendSoftphoneReport success"+JSON.stringify(i)).sendInternalLogToServer()},failure:function(e){a.error("sendSoftphoneReport failed.").withObject(e).sendInternalLogToServer()}})}(e,t,N(n,"audio_input"),N(r,"audio_output")),k(e)},D=function(e,t,n,r,i,o,a){this.softphoneStreamType=r,this.timestamp=e,this.packetsLost=t,this.packetsCount=n,this.audioLevel=i,this.jitterBufferMillis=o,this.roundTripTimeMillis=a},N=function(e,t){return new D((e=e||{}).timestamp,e.packetsLost,e.packetsCount,t,e.audioLevel)},L=function(e){this._originalLogger=e;var t=this;this._tee=function(e,n){return function(){var e=Array.prototype.slice.call(arguments[0]),r="";return e.forEach((function(){r+=" %s"})),n.apply(t._originalLogger,[connect.LogComponent.SOFTPHONE,r].concat(e))}}};L.prototype.debug=function(){return this._tee(1,this._originalLogger.debug)(arguments)},L.prototype.info=function(){return this._tee(2,this._originalLogger.info)(arguments)},L.prototype.log=function(){return this._tee(3,this._originalLogger.log)(arguments)},L.prototype.warn=function(){return this._tee(4,this._originalLogger.warn)(arguments)},L.prototype.error=function(){return this._tee(5,this._originalLogger.error)(arguments)},connect.SoftphoneManager=function(e){var t,n=this;(a=new L(connect.getLog())).info("[Softphone Manager] softphone manager initialization has begun").sendInternalLogToServer(),connect.RtcPeerConnectionFactory&&(t=new connect.RtcPeerConnectionFactory(a,connect.core.getWebSocketManager(),u,connect.hitch(n,l,{transportType:"softphone",softphoneClientId:u}),connect.hitch(n,E))),I()||E(s.UNSUPPORTED_BROWSER,"Connect does not support this browser. Some functionality may not work. ","");w({success:function(e){connect.core.setSoftphoneUserMediaStream(e)},failure:function(e){E(e,"Your microphone is not enabled in your browser. ","")}});f(),p(),h(),this.ringtoneEngine=null;var r={},i={};this.onInitContactSub={},this.onInitContactSub.unsubscribe=function(){};var o=!1,g=null,b=null,v=function(){o=!1,g=null,b=null};this.getSession=function(e){return r[e]},this.replaceLocalMediaTrack=function(e,t){var n=c[e].stream;if(n){var r=n.getAudioTracks()[0];t.enabled=r.enabled,r.enabled=!1,n.removeTrack(r),n.addTrack(t)}};var k=function(e){if(r.hasOwnProperty(e)){var t=r[e];new Promise((function(n,o){delete r[e],delete i[e],t.hangup()})).catch((function(t){lily.getLog().warn("Clean up the session locally "+e,t.message).sendInternalLogToServer()}))}};this.startSession=function(e,n){var s=o?g:e,u=o?b:n;if(s&&u){v(),i[u]=!0,a.info("Softphone call detected:","contactId "+s.getContactId(),"agent connectionId "+u).sendInternalLogToServer(),function(e){if(Object.keys(e).length>0){for(var t in e)e.hasOwnProperty(t)&&(_("MultiSessionHangUp",e[t].callId,t),k(t));throw new Error("duplicate session detected, refusing to setup new connection")}}(r),s.getStatus().type===connect.ContactStatusType.CONNECTING&&T("Softphone Connecting",s.getContactId()),x();var l,f=s.getAgentConnection().getSoftphoneMediaInfo(),p=S(f.callConfigJson);p.useWebSocketProvider&&(l=connect.core.getWebSocketManager());var h=new connect.RTCSession(p.signalingEndpoint,p.iceServers,f.callContextToken,a,s.getContactId(),u,l);r[u]=h,connect.core.getSoftphoneUserMediaStream()&&(h.mediaStream=connect.core.getSoftphoneUserMediaStream()),connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.ConnectionEvents.SESSION_INIT,data:{connectionId:u}}),h.onSessionFailed=function(e,t){delete r[u],delete i[u],y(e,t),C(s.getContactId(),t),M(s,e.sessionReport)},h.onSessionConnected=function(e){T("Softphone Session Connected",s.getContactId()),connect.becomeMaster(connect.MasterTopics.SEND_LOGS),A(e),O(s),d(s)},h.onSessionCompleted=function(e){T("Softphone Session Completed",s.getContactId()),delete r[u],delete i[u],M(s,e.sessionReport),m(u)},h.onLocalStreamAdded=function(e,t){c[u]={stream:t},connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST,{event:connect.AgentEvents.LOCAL_MEDIA_STREAM_CREATED,data:{connectionId:u}})},h.remoteAudioElement=document.getElementById("remote-audio"),t?h.connect(t.get(p.iceServers)):h.connect()}};var R=function(e,t){r[t]&&function(e){return e.getStatus().type===connect.ContactStatusType.ENDED||e.getStatus().type===connect.ContactStatusType.ERROR||e.getStatus().type===connect.ContactStatusType.MISSED}(e)&&(k(t),v()),!e.isSoftphoneCall()||i[t]||e.getStatus().type!==connect.ContactStatusType.CONNECTING&&e.getStatus().type!==connect.ContactStatusType.INCOMING||(connect.isFirefoxBrowser()&&connect.hasOtherConnectedCCPs()?function(e,t){o=!0,g=e,b=t}(e,t):n.startSession(e,t))},P=function(e){var t=e.getAgentConnection().connectionId;a.info("Contact detected:","contactId "+e.getContactId(),"agent connectionId "+t).sendInternalLogToServer(),i[t]||e.onRefresh((function(){R(e,t)}))};n.onInitContactSub=connect.contact(P),(new connect.Agent).getContacts().forEach((function(e){var t=e.getAgentConnection().connectionId;a.info("Contact exist in the snapshot. Reinitiate the Contact and RTC session creation for contactId"+e.getContactId(),"agent connectionId "+t).sendInternalLogToServer(),P(e),R(e,t)}))}}(),function(){var e=this;connect=e.connect||{},e.connect=connect,e.lily=connect,connect.worker={};var t=function(){this.topicMasterMap={}};t.prototype.getMaster=function(e){return connect.assertNotNull(e,"topic"),this.topicMasterMap[e]||null},t.prototype.setMaster=function(e,t){connect.assertNotNull(e,"topic"),connect.assertNotNull(t,"id"),this.topicMasterMap[e]=t},t.prototype.removeMaster=function(e){connect.assertNotNull(e,"id");var t=this;connect.entries(this.topicMasterMap).filter((function(t){return t.value===e})).forEach((function(e){delete t.topicMasterMap[e.key]}))};var n=function(e){connect.ClientBase.call(this),this.conduit=e};(n.prototype=Object.create(connect.ClientBase.prototype)).constructor=n,n.prototype._callImpl=function(e,t,n){var r=this,i=(new Date).getTime();connect.containsValue(connect.AgentAppClientMethods,e)?connect.core.getAgentAppClient()._callImpl(e,t,{success:function(t){r._recordAPILatency(e,i),n.success(t)},failure:function(t){r._recordAPILatency(e,i,t),n.failure(t)}}):connect.core.getClient()._callImpl(e,t,{success:function(t){r._recordAPILatency(e,i),n.success(t)},failure:function(t,o){r._recordAPILatency(e,i,t),n.failure(t,o)},authFailure:function(){r._recordAPILatency(e,i),n.authFailure()},accessDenied:function(){n.accessDenied&&n.accessDenied()}})},n.prototype._recordAPILatency=function(e,t,n){var r=(new Date).getTime()-t;this._sendAPIMetrics(e,r,n)},n.prototype._sendAPIMetrics=function(e,t,n){this.conduit.sendDownstream(connect.EventType.API_METRIC,{name:e,time:t,dimensions:[{name:"Category",value:"API"}],error:n})};var r=function(){var r=this;this.multiplexer=new connect.StreamMultiplexer,this.conduit=new connect.Conduit("AmazonConnectSharedWorker",null,this.multiplexer),this.client=new n(this.conduit),this.timeout=null,this.agent=null,this.nextToken=null,this.initData={},this.portConduitMap={},this.masterCoord=new t,this.logsBuffer=[],this.suppress=!1,this.forceOffline=!1;var i=null;connect.rootLogger=new connect.DownstreamConduitLogger(this.conduit),this.conduit.onDownstream(connect.EventType.SEND_LOGS,(function(e){connect.getLog().pushLogsDownstream(e),r.logsBuffer=r.logsBuffer.concat(e),r.logsBuffer.length>400&&r.handleSendLogsRequest(r.logsBuffer)})),this.conduit.onDownstream(connect.EventType.CONFIGURE,(function(t){t.authToken&&t.authToken!==r.initData.authToken&&(r.initData=t,connect.core.init(t),i?connect.getLog().info("Not Initializing a new WebsocketManager instance, since one already exists").sendInternalLogToServer():(connect.getLog().info("Creating a new Websocket connection for CCP").sendInternalLogToServer(),connect.WebSocketManager.setGlobalConfig({loggerConfig:{logger:connect.getLog()}}),(i=connect.WebSocketManager.create()).onInitFailure((function(){r.conduit.sendDownstream(connect.WebSocketEvents.INIT_FAILURE)})),i.onConnectionOpen((function(e){r.conduit.sendDownstream(connect.WebSocketEvents.CONNECTION_OPEN,e)})),i.onConnectionClose((function(e){r.conduit.sendDownstream(connect.WebSocketEvents.CONNECTION_CLOSE,e)})),i.onConnectionGain((function(){r.conduit.sendDownstream(connect.AgentEvents.WEBSOCKET_CONNECTION_GAINED),r.conduit.sendDownstream(connect.WebSocketEvents.CONNECTION_GAIN)})),i.onConnectionLost((function(e){r.conduit.sendDownstream(connect.AgentEvents.WEBSOCKET_CONNECTION_LOST,e),r.conduit.sendDownstream(connect.WebSocketEvents.CONNECTION_LOST,e)})),i.onSubscriptionUpdate((function(e){r.conduit.sendDownstream(connect.WebSocketEvents.SUBSCRIPTION_UPDATE,e)})),i.onSubscriptionFailure((function(e){r.conduit.sendDownstream(connect.WebSocketEvents.SUBSCRIPTION_FAILURE,e)})),i.onAllMessage((function(e){r.conduit.sendDownstream(connect.WebSocketEvents.ALL_MESSAGE,e)})),r.conduit.onDownstream(connect.WebSocketEvents.SEND,(function(e){i.sendMessage(e)})),r.conduit.onDownstream(connect.WebSocketEvents.SUBSCRIBE,(function(e){i.subscribeTopics(e)})),i.init(connect.hitch(r,r.getWebSocketUrl)).then((function(t){t&&!t.webSocketConnectionFailed?(connect.getLog().info("Kicking off agent polling").sendInternalLogToServer(),r.pollForAgent(),connect.getLog().info("Kicking off config polling").sendInternalLogToServer(),r.pollForAgentConfiguration({repeatForever:!0}),connect.getLog().info("Kicking off auth token polling").sendInternalLogToServer(),e.setInterval(connect.hitch(r,r.checkAuthToken),3e5)):connect.webSocketInitFailed||(r.conduit.sendDownstream(connect.WebSocketEvents.INIT_FAILURE),connect.webSocketInitFailed=!0)}))))})),this.conduit.onDownstream(connect.EventType.TERMINATE,(function(){r.handleSendLogsRequest(r.logsBuffer),connect.core.terminate(),r.conduit.sendDownstream(connect.EventType.TERMINATED)})),this.conduit.onDownstream(connect.EventType.SYNCHRONIZE,(function(){r.conduit.sendDownstream(connect.EventType.ACKNOWLEDGE)})),this.conduit.onDownstream(connect.EventType.BROADCAST,(function(e){r.conduit.sendDownstream(e.event,e.data)})),e.onconnect=function(e){var t=e.ports[0],n=new connect.PortStream(t);r.multiplexer.addStream(n),t.start();var i=new connect.Conduit(n.getId(),null,n);i.sendDownstream(connect.EventType.ACKNOWLEDGE,{id:n.getId()}),r.portConduitMap[n.getId()]=i,r.conduit.sendDownstream(connect.EventType.UPDATE_CONNECTED_CCPS,{length:Object.keys(r.portConduitMap).length}),null!==r.agent&&r.updateAgent(),i.onDownstream(connect.EventType.API_REQUEST,connect.hitch(r,r.handleAPIRequest,i)),i.onDownstream(connect.EventType.MASTER_REQUEST,connect.hitch(r,r.handleMasterRequest,i,n.getId())),i.onDownstream(connect.EventType.RELOAD_AGENT_CONFIGURATION,connect.hitch(r,r.pollForAgentConfiguration)),i.onDownstream(connect.EventType.CLOSE,(function(){r.multiplexer.removeStream(n),delete r.portConduitMap[n.getId()],r.masterCoord.removeMaster(n.getId()),r.conduit.sendDownstream(connect.EventType.UPDATE_CONNECTED_CCPS,{length:Object.keys(r.portConduitMap).length})}))}};r.prototype.pollForAgent=function(){var t=this,n=connect.hitch(t,t.handleAuthFail);this.client.call(connect.ClientMethods.GET_AGENT_SNAPSHOT,{nextToken:t.nextToken,timeout:3e4},{success:function(n){try{t.agent=t.agent||{},t.agent.snapshot=n.snapshot,t.agent.snapshot.localTimestamp=connect.now(),t.agent.snapshot.skew=t.agent.snapshot.snapshotTimestamp-t.agent.snapshot.localTimestamp,t.nextToken=n.nextToken,connect.getLog().trace("GET_AGENT_SNAPSHOT succeeded.").withObject(n).sendInternalLogToServer(),t.updateAgent()}catch(e){connect.getLog().error("Long poll failed to update agent.").withObject(n).withException(e).sendInternalLogToServer()}finally{e.setTimeout(connect.hitch(t,t.pollForAgent),100)}},failure:function(n,r){try{connect.getLog().error("Failed to get agent data.").sendInternalLogToServer().withObject({err:n,data:r})}finally{e.setTimeout(connect.hitch(t,t.pollForAgent),5e3)}},authFailure:function(){n()},accessDenied:connect.hitch(t,t.handleAccessDenied)})},r.prototype.pollForAgentConfiguration=function(t){var n=this,r=t||{},i=connect.hitch(n,n.handleAuthFail);this.client.call(connect.ClientMethods.GET_AGENT_CONFIGURATION,{},{success:function(t){var i=t.configuration;n.pollForAgentPermissions(i),n.pollForAgentStates(i),n.pollForDialableCountryCodes(i),n.pollForRoutingProfileQueues(i),r.repeatForever&&e.setTimeout(connect.hitch(n,n.pollForAgentConfiguration,r),3e4)},failure:function(t,i){try{connect.getLog().error("Failed to fetch agent configuration data.").sendInternalLogToServer().withObject({err:t,data:i})}finally{r.repeatForever&&e.setTimeout(connect.hitch(n,n.pollForAgentConfiguration),3e4,r)}},authFailure:function(){i()},accessDenied:connect.hitch(n,n.handleAccessDenied)})},r.prototype.pollForAgentStates=function(e,t){var n=this,r=t||{};r.maxResults=r.maxResults||connect.DEFAULT_BATCH_SIZE,this.client.call(connect.ClientMethods.GET_AGENT_STATES,{nextToken:r.nextToken||null,maxResults:r.maxResults},{success:function(t){t.nextToken?n.pollForAgentStates(e,{states:(r.states||[]).concat(t.states),nextToken:t.nextToken,maxResults:r.maxResults}):(e.agentStates=(r.states||[]).concat(t.states),n.updateAgentConfiguration(e))},failure:function(e,t){connect.getLog().error("Failed to fetch agent states list.").sendInternalLogToServer().withObject({err:e,data:t})},authFailure:connect.hitch(n,n.handleAuthFail),accessDenied:connect.hitch(n,n.handleAccessDenied)})},r.prototype.pollForAgentPermissions=function(e,t){var n=this,r=t||{};r.maxResults=r.maxResults||connect.DEFAULT_BATCH_SIZE,this.client.call(connect.ClientMethods.GET_AGENT_PERMISSIONS,{nextToken:r.nextToken||null,maxResults:r.maxResults},{success:function(t){t.nextToken?n.pollForAgentPermissions(e,{permissions:(r.permissions||[]).concat(t.permissions),nextToken:t.nextToken,maxResults:r.maxResults}):(e.permissions=(r.permissions||[]).concat(t.permissions),n.updateAgentConfiguration(e))},failure:function(e,t){connect.getLog().error("Failed to fetch agent permissions list.").sendInternalLogToServer().withObject({err:e,data:t})},authFailure:connect.hitch(n,n.handleAuthFail),accessDenied:connect.hitch(n,n.handleAccessDenied)})},r.prototype.pollForDialableCountryCodes=function(e,t){var n=this,r=t||{};r.maxResults=r.maxResults||connect.DEFAULT_BATCH_SIZE,this.client.call(connect.ClientMethods.GET_DIALABLE_COUNTRY_CODES,{nextToken:r.nextToken||null,maxResults:r.maxResults},{success:function(t){t.nextToken?n.pollForDialableCountryCodes(e,{countryCodes:(r.countryCodes||[]).concat(t.countryCodes),nextToken:t.nextToken,maxResults:r.maxResults}):(e.dialableCountries=(r.countryCodes||[]).concat(t.countryCodes),n.updateAgentConfiguration(e))},failure:function(e,t){connect.getLog().error("Failed to fetch dialable country codes list.").sendInternalLogToServer().withObject({err:e,data:t})},authFailure:connect.hitch(n,n.handleAuthFail),accessDenied:connect.hitch(n,n.handleAccessDenied)})},r.prototype.pollForRoutingProfileQueues=function(e,t){var n=this,r=t||{};r.maxResults=r.maxResults||connect.DEFAULT_BATCH_SIZE,this.client.call(connect.ClientMethods.GET_ROUTING_PROFILE_QUEUES,{routingProfileARN:e.routingProfile.routingProfileARN,nextToken:r.nextToken||null,maxResults:r.maxResults},{success:function(t){t.nextToken?n.pollForRoutingProfileQueues(e,{countryCodes:(r.queues||[]).concat(t.queues),nextToken:t.nextToken,maxResults:r.maxResults}):(e.routingProfile.queues=(r.queues||[]).concat(t.queues),n.updateAgentConfiguration(e))},failure:function(e,t){connect.getLog().error("Failed to fetch routing profile queues list.").sendInternalLogToServer().withObject({err:e,data:t})},authFailure:connect.hitch(n,n.handleAuthFail),accessDenied:connect.hitch(n,n.handleAccessDenied)})},r.prototype.handleAPIRequest=function(e,t){var n=this;this.client.call(t.method,t.params,{success:function(n){var r=connect.EventFactory.createResponse(connect.EventType.API_RESPONSE,t,n);e.sendDownstream(r.event,r)},failure:function(r,i){var o=connect.EventFactory.createResponse(connect.EventType.API_RESPONSE,t,i,JSON.stringify(r));e.sendDownstream(o.event,o),connect.getLog().error("'%s' API request failed",t.method).withObject({request:n.filterAuthToken(t),response:o}).withException(r).sendInternalLogToServer()},authFailure:connect.hitch(n,n.handleAuthFail)})},r.prototype.handleMasterRequest=function(e,t,n){var r=this.conduit,i=null;switch(n.method){case connect.MasterMethods.BECOME_MASTER:var o=this.masterCoord.getMaster(n.params.topic),a=Boolean(o)&&o!==t;this.masterCoord.setMaster(n.params.topic,t),i=connect.EventFactory.createResponse(connect.EventType.MASTER_RESPONSE,n,{masterId:t,takeOver:a,topic:n.params.topic}),a&&r.sendDownstream(i.event,i);break;case connect.MasterMethods.CHECK_MASTER:(o=this.masterCoord.getMaster(n.params.topic))||n.params.shouldNotBecomeMasterIfNone||(this.masterCoord.setMaster(n.params.topic,t),o=t),i=connect.EventFactory.createResponse(connect.EventType.MASTER_RESPONSE,n,{masterId:o,isMaster:t===o,topic:n.params.topic});break;default:throw new Error("Unknown master method: "+n.method)}e.sendDownstream(i.event,i)},r.prototype.updateAgentConfiguration=function(e){e.permissions&&e.dialableCountries&&e.agentStates&&e.routingProfile.queues?(this.agent=this.agent||{},this.agent.configuration=e,this.updateAgent()):connect.getLog().trace("Waiting to update agent configuration until all config data has been fetched.").sendInternalLogToServer()},r.prototype.updateAgent=function(){this.agent?this.agent.snapshot?this.agent.configuration?(this.agent.snapshot.status=this.agent.state,this.agent.snapshot.contacts&&this.agent.snapshot.contacts.length>1&&this.agent.snapshot.contacts.sort((function(e,t){return e.state.timestamp.getTime()-t.state.timestamp.getTime()})),this.agent.snapshot.contacts.forEach((function(e){e.status=e.state,e.connections.forEach((function(e){e.address=e.endpoint}))})),this.agent.configuration.routingProfile.defaultOutboundQueue.queueId=this.agent.configuration.routingProfile.defaultOutboundQueue.queueARN,this.agent.configuration.routingProfile.queues.forEach((function(e){e.queueId=e.queueARN})),this.agent.snapshot.contacts.forEach((function(e){void 0!==e.queue&&(e.queue.queueId=e.queue.queueARN)})),this.agent.configuration.routingProfile.routingProfileId=this.agent.configuration.routingProfile.routingProfileARN,this.conduit.sendDownstream(connect.AgentEvents.UPDATE,this.agent)):connect.getLog().trace("Waiting to update agent until the agent configuration is available.").sendInternalLogToServer():connect.getLog().trace("Waiting to update agent until the agent snapshot is available.").sendInternalLogToServer():connect.getLog().trace("Waiting to update agent until the agent has been fully constructed.").sendInternalLogToServer()},r.prototype.getWebSocketUrl=function(){var e=connect.core.getClient(),t=connect.hitch(this,this.handleAuthFail),n=connect.hitch(this,this.handleAccessDenied);return new Promise((function(r,i){e.call(connect.ClientMethods.CREATE_TRANSPORT,{transportType:connect.TRANSPORT_TYPES.WEB_SOCKET},{success:function(e){connect.getLog().info("getWebSocketUrl succeeded").sendInternalLogToServer(),r(e)},failure:function(e,t){connect.getLog().error("getWebSocketUrl failed").sendInternalLogToServer().withObject({err:e,data:t}),i({reason:"getWebSocketUrl failed",_debug:e})},authFailure:function(){connect.getLog().error("getWebSocketUrl Auth Failure").sendInternalLogToServer(),i(Error("Authentication failed while getting getWebSocketUrl")),t()},accessDenied:function(){connect.getLog().error("getWebSocketUrl Access Denied Failure").sendInternalLogToServer(),i(Error("Access Denied Failure while getting getWebSocketUrl")),n()}})}))},r.prototype.handleSendLogsRequest=function(){var e=[],t=this.logsBuffer.slice();this.logsBuffer=[],t.forEach((function(t){e.push({timestamp:t.time,component:t.component,message:t.text})})),this.client.call(connect.ClientMethods.SEND_CLIENT_LOGS,{logEvents:e},{success:function(e){connect.getLog().info("SendLogs request succeeded.").sendInternalLogToServer()},failure:function(e,t){connect.getLog().error("SendLogs request failed.").withObject(t).withException(e).sendInternalLogToServer()},authFailure:connect.hitch(this,this.handleAuthFail)})},r.prototype.handleAuthFail=function(){this.conduit.sendDownstream(connect.EventType.AUTH_FAIL)},r.prototype.handleAccessDenied=function(){this.conduit.sendDownstream(connect.EventType.ACCESS_DENIED)},r.prototype.checkAuthToken=function(){var e=new Date(this.initData.authTokenExpiration),t=(new Date).getTime();e.getTime()<t+18e5&&(connect.getLog().info("Auth token expires at "+e+" Start refreshing token with retry.").sendInternalLogToServer(),connect.backoff(connect.hitch(this,this.authorize),1e4,4))},r.prototype.authorize=function(e){var t=this;connect.core.authorize(this.initData.authorizeEndpoint).then((function(n){var r=new Date(n.expiration);connect.getLog().info("Authorization succeeded and the token expires at %s",r).sendInternalLogToServer(),t.initData.authToken=n.accessToken,t.initData.authTokenExpiration=r,connect.core.initClient(t.initData),connect.core.initAgentAppClient(t.initData),e.success()})).catch((function(n){connect.getLog().error("Authorization failed with code %s",n.status).sendInternalLogToServer(),401===n.status?t.handleAuthFail():e.failure()}))},r.prototype.filterAuthToken=function(e){var t={};for(var n in e)if("params"===n){var r={};for(var i in e.params)"authentication"!==i&&(r[i]=e.params[i]);t.params=r}else t[n]=e[n];return t},connect.worker.main=function(){connect.worker.clientEngine=new r}}(),function(){connect=this.connect||{},this.connect=connect,connect.ChatMediaController=function(e,t){var n=connect.getLog(),r=connect.LogComponent.CHAT,i=function(t,n){connect.publishMetric({name:t,contactId:e.contactId,data:n||e})},o=function(e){e.onConnectionBroken((function(e){n.error(r,"Chat Session connection broken").withException(e).sendInternalLogToServer(),i("Chat Session connection broken",e)})),e.onConnectionEstablished((function(e){n.info(r,"Chat Session connection established").withObject(e).sendInternalLogToServer(),i("Chat Session connection established",e)}))};return{get:function(){return function(){i("Chat media controller init",e.contactId),n.info(r,"Chat media controller init").withObject(e).sendInternalLogToServer(),connect.ChatSession.setGlobalConfig({loggerConfig:{logger:n},region:t.region});var a=connect.ChatSession.create({chatDetails:e,type:"AGENT",websocketManager:connect.core.getWebSocketManager()});return o(a),a.connect().then((function(t){return n.info(r,"Chat Session Successfully established for contactId %s",e.contactId).sendInternalLogToServer(),i("Chat Session Successfully established",e.contactId),a})).catch((function(t){throw n.error(r,"Chat Session establishement failed for contact %s",e.contactId).withException(t).sendInternalLogToServer(),i("Chat Session establishement failed",e.contactId,t),t}))}()}}}}(),function(){connect=this.connect||{},this.connect=connect,connect.MediaFactory=function(e){var t={},n=new Set,r=connect.getLog(),i=connect.LogComponent.CHAT,o=connect.merge({},e)||{};o.region=o.region||"us-west-2";var a=function(e){t[e]&&!n.has(e)&&(r.info(i,"Destroying mediaController for %s",e),n.add(e),t[e].then((function(){"function"==typeof controller.cleanUp&&controller.cleanUp(),delete t[e],n.delete(e)})).catch((function(){delete t[e],n.delete(e)})))};return{get:function(e){return function(e){return e.isActive()}(e)?function(e){var n=e.getConnectionId();if(!e.getMediaInfo())return r.error(i,"Media info does not exist for a media type %s",e.getMediaType()).withObject(e).sendInternalLogToServer(),Promise.reject("Media info does not exist for this connection");if(t[n])return t[n];switch(r.info(i,"media controller of type %s init",e.getMediaType()).withObject(e).sendInternalLogToServer(),e.getMediaType()){case connect.MediaType.CHAT:return t[n]=new connect.ChatMediaController(e.getMediaInfo(),o).get();case connect.MediaType.SOFTPHONE:return t[n]=new connect.SoftphoneMediaController(e.getMediaInfo()).get();case connect.MediaType.TASK:return t[n]=new connect.TaskMediaController(e.getMediaInfo()).get();default:return r.error(i,"Unrecognized media type %s ",e.getMediaType()).sendInternalLogToServer(),Promise.reject()}}(e):(a(e.getConnectionId()),Promise.reject("Media Controller is no longer available for this connection"))},destroy:a}}}(),function(){connect=this.connect||{},this.connect=connect,connect.SoftphoneMediaController=function(e){return{get:function(){return Promise.resolve(e)}}}}(),function(){connect=this.connect||{},this.connect=connect,connect.TaskMediaController=function(e){var t=connect.getLog(),n=connect.LogComponent.TASK,r=function(t,n){connect.publishMetric({name:t,contactId:e.contactId,data:n||e})},i=function(e){e.onConnectionBroken((function(e){t.error(n,"Task Session connection broken").withException(e),r("Task Session connection broken",e)})),e.onConnectionEstablished((function(e){t.info(n,"Task Session connection established").withObject(e),r("Task Session connection established",e)}))};return{get:function(){return function(){r("Task media controller init",e.contactId),t.info(n,"Task media controller init").withObject(e);var o=connect.TaskSession.create({contactId:e.contactId,initialContactId:e.initialContactId,websocketManager:connect.core.getWebSocketManager()});return i(o),o.connect().then((function(){return t.info(n,"Task Session Successfully established for contactId %s",e.contactId),r("Task Session Successfully established",e.contactId),o})).catch((function(i){throw t.error(n,"Task Session establishement failed for contact %s",e.contactId).withException(i),r("Chat Session establishement failed",e.contactId,i),i}))}()}}}}(),function(){connect=this.connect||{},this.connect=connect,this.lily=connect,connect.agentApp={};var e="ccp";connect.agentApp.initCCP=connect.core.initCCP,connect.agentApp.isInitialized=function(e){},connect.agentApp.initAppCommunication=function(e,t){var n=document.getElementById(e),r=new connect.IFrameConduit(t,window,n),i=[connect.AgentEvents.UPDATE,connect.ContactEvents.VIEW,connect.EventType.ACKNOWLEDGE,connect.EventType.TERMINATED,connect.TaskEvents.CREATED];n.addEventListener("load",(function(e){i.forEach((function(e){connect.core.getUpstream().onUpstream(e,(function(t){r.sendUpstream(e,t)}))}))}))};var t=function(e){var t=e.indexOf("ccp-v2");return e.slice(0,t-1)};connect.agentApp.initApp=function(n,r,i,o){o=o||{};var a=i.endsWith("/")?i:i+"/",s=o.onLoad?o.onLoad:null,c={endpoint:a,style:o.style,onLoad:s};connect.agentApp.AppRegistry.register(n,c,document.getElementById(r)),connect.agentApp.AppRegistry.start(n,(function(r){var i=r.endpoint,a=r.containerDOM;return{init:function(){return n===e?function(e,n,r){var i={ccpUrl:e,ccpLoadTimeout:1e4,loginPopup:!0,loginUrl:t(e)+"/login",softphone:{allowFramedSoftphone:!0,disableRingtone:!1}},o=connect.merge(i,r.ccpParams);connect.core.initCCP(n,o)}(i,a,o):connect.agentApp.initAppCommunication(n,i)},destroy:function(){return n===e?(r=t(i)+"/logout",connect.fetch(r,{credentials:"include"}).then((function(){return connect.core.getEventBus().trigger(connect.EventType.TERMINATE),!0})).catch((function(e){return connect.getLog().error("An error occured on logout."+e).withException(e),window.location.href=r,!1}))):null;var r}}}))},connect.agentApp.stopApp=function(e){return connect.agentApp.AppRegistry.stop(e)}}(),function(){connect=this.connect||{},this.connect=connect;var e,t="ccp";this.connect.agentApp.AppRegistry=(e={},{register:function(t,n,r){e[t]={containerDOM:r,endpoint:n.endpoint,style:n.style,instance:void 0,onLoad:n.onLoad}},start:function(n,r){if(e[n]){var i=e[n].containerDOM,o=e[n].endpoint,a=e[n].style,s=e[n].onLoad;if(n!==t){var c=function(e,t,n,r){var i=document.createElement("iframe");return i.src=t,i.style=n||"width: 100%; height:100%;",i.id=e,i["aria-label"]=e,i.onload=r,i.setAttribute("sandbox","allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"),i}(n,o,a,s);i.appendChild(c)}return e[n].instance=r(e[n]),e[n].instance.init()}},stop:function(t){if(e[t]){var n,r=e[t],i=r.containerDOM.querySelector("iframe");return r.containerDOM.removeChild(i),r.instance&&(n=r.instance.destroy(),delete r.instance),n}}})}()}).call(this,n(9))},function(e,t){!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r;!function(){"use strict";var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(e){return s(u(e),arguments)}function a(e,t){return o.apply(null,[e].concat(t||[]))}function s(e,t){var n,r,a,s,c,u,l,d,f,p=1,h=e.length,m="";for(r=0;r<h;r++)if("string"==typeof e[r])m+=e[r];else if("object"==typeof e[r]){if((s=e[r]).keys)for(n=t[p],a=0;a<s.keys.length;a++){if(null==n)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[a],s.keys[a-1]));n=n[s.keys[a]]}else n=s.param_no?t[s.param_no]:t[p++];if(i.not_type.test(s.type)&&i.not_primitive.test(s.type)&&n instanceof Function&&(n=n()),i.numeric_arg.test(s.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(o("[sprintf] expecting number but found %T",n));switch(i.number.test(s.type)&&(d=n>=0),s.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,s.width?parseInt(s.width):0);break;case"e":n=s.precision?parseFloat(n).toExponential(s.precision):parseFloat(n).toExponential();break;case"f":n=s.precision?parseFloat(n).toFixed(s.precision):parseFloat(n);break;case"g":n=s.precision?String(Number(n.toPrecision(s.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=s.precision?n.substring(0,s.precision):n;break;case"t":n=String(!!n),n=s.precision?n.substring(0,s.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=s.precision?n.substring(0,s.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=s.precision?n.substring(0,s.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}i.json.test(s.type)?m+=n:(!i.number.test(s.type)||d&&!s.sign?f="":(f=d?"+":"-",n=n.toString().replace(i.sign,"")),u=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",l=s.width-(f+n).length,c=s.width&&l>0?u.repeat(l):"",m+=s.align?f+n+c:"0"===u?f+c+n:c+f+n)}return m}var c=Object.create(null);function u(e){if(c[e])return c[e];for(var t,n=e,r=[],o=0;n;){if(null!==(t=i.text.exec(n)))r.push(t[0]);else if(null!==(t=i.modulo.exec(n)))r.push("%");else{if(null===(t=i.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){o|=1;var a=[],s=t[2],u=[];if(null===(u=i.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(u[1]);""!==(s=s.substring(u[0].length));)if(null!==(u=i.key_access.exec(s)))a.push(u[1]);else{if(null===(u=i.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(u[1])}t[2]=a}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return c[e]=r}t.sprintf=o,t.vsprintf=a,"undefined"!=typeof window&&(window.sprintf=o,window.vsprintf=a,void 0===(r=function(){return{sprintf:o,vsprintf:a}}.call(t,n,t,e))||(e.exports=r))}()},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function a(e){var t=l();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){var t="function"==typeof Map?new Map:void 0;return(c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)})(e)}function u(e,t,n){return(u=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i}).apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return Ze}));var p=function(e){o(n,e);var t=a(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).name="ValueError",console.log("EXCEPTION: "+r.name+" MESSAGE: "+r.message),r}return n}(c(Error)),h=function(e){o(n,e);var t=a(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).name="UnImplementedMethod",console.log("EXCEPTION: "+r.name+" MESSAGE: "+r.message),r}return n}(c(Error)),m=function(e){o(n,e);var t=a(n);function n(e,r){var o;return i(this,n),(o=t.call(this,e)).name="IllegalArgument",o.argument=r,console.log("EXCEPTION: "+o.name+" MESSAGE: "+o.message),o}return n}(c(Error));function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Error,Error;var b=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"update",value:function(e){var t=e||{};this.region=t.region||this.region,this.endpointOverride=t.endpoint||this.endpointOverride,this.reconnect=!1!==t.reconnect}},{key:"getRegion",value:function(){return this.region}},{key:"getEndpointOverride",value:function(){return this.endpointOverride}}])&&g(t.prototype,n),e}()),v={AGENT:"AGENT",CUSTOMER:"CUSTOMER"},y="INCOMING_MESSAGE",S="INCOMING_TYPING",w="CONNECTION_ESTABLISHED",E="CONNECTION_BROKEN",C="CHAT_ENDED",T={textPlain:"text/plain",textCsv:"text/csv",applicationDoc:"application/msword",applicationPdf:"application/pdf",applicationPpt:"application/vnd.ms-powerpoint",applicationXls:"application/vnd.ms-excel",imageJpg:"image/jpeg",imagePng:"image/png",audioWav:"audio/wav",connectionAcknowledged:"application/vnd.amazonaws.connect.event.connection.acknowledged",typing:"application/vnd.amazonaws.connect.event.typing",participantJoined:"application/vnd.amazonaws.connect.event.participant.joined",participantLeft:"application/vnd.amazonaws.connect.event.participant.left",transferSucceeded:"application/vnd.amazonaws.connect.event.transfer.succeeded",transferFailed:"application/vnd.amazonaws.connect.event.transfer.failed",chatEnded:"application/vnd.amazonaws.connect.event.chat.ended",interactiveMessage:"application/vnd.amazonaws.connect.message.interactive"},_="DEBUG",I=n(1);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var A={assertTrue:function(e,t){if(!e)throw new p(t)},assertNotNull:function(e,t){return A.assertTrue(null!==e&&void 0!==k(e),Object(I.sprintf)("%s must be provided",t||"A value")),e},now:function(){return(new Date).getTime()},isString:function(e){return"string"==typeof e},randomId:function(){return Object(I.sprintf)("%s-%s",A.now(),Math.random().toString(36).slice(2))},assertIsNonEmptyString:function(e,t){if(!e||"string"!=typeof e)throw new m(t+" is not a non-empty string!")},assertIsList:function(e,t){if(!Array.isArray(e))throw new m(t+" is not an array")},assertIsEnum:function(e,t,n){var r;for(r=0;r<t.length;r++)if(t[r]===e)return;throw new m(n+" passed ("+e+") is not valid. Allowed values are: "+t)},makeEnum:function(e){var t={};return e.forEach((function(e){var n=e.replace(/\.?([a-z]+)_?/g,(function(e,t){return t.toUpperCase()+"_"})).replace(/_$/,"");t[n]=e})),t},contains:function(e,t){return e instanceof Array?null!==A.find(e,(function(e){return e===t})):t in e},find:function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null},containsValue:function(e,t){return e instanceof Array?null!==A.find(e,(function(e){return e===t})):null!==A.find(A.values(e),(function(e){return e===t}))},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},values:function(e){var t=[];for(var n in A.assertNotNull(e,"map"),e)t.push(e[n]);return t},isObject:function(e){return!("object"!==k(e)||null===e)},assertIsObject:function(e,t){if(!A.isObject(e))throw new m(t+" is not an object!")},delay:function(e){return new Promise((function(t){return setTimeout(t,e)}))},asyncWhileInterval:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=new Date;return t(r)?e(r).catch((function(i){var a=Math.max(0,n-(new Date).valueOf()+o.valueOf());return A.delay(a).then((function(){return A.asyncWhileInterval(e,t,n,r+1,i)}))})):Promise.reject(i||new Error("async while aborted"))},isAttachmentContentType:function(e){return e===T.applicationPdf||e===T.imageJpg||e===T.imagePng||e===T.applicationDoc||e===T.applicationXls||e===T.applicationPpt||e===T.textCsv||e===T.audioWav}},O=A;function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),e}var U=function(){function e(){D(this,e)}return L(e,[{key:"debug",value:function(e){}},{key:"info",value:function(e){}},{key:"warn",value:function(e){}},{key:"error",value:function(e){}}]),e}(),F={DEBUG:10,INFO:20,WARN:30,ERROR:40},j=function(){function e(){D(this,e),this.updateLoggerConfig(),this.consoleLoggerWrapper=q()}return L(e,[{key:"writeToClientLogger",value:function(e,t){if(this.hasClientLogger())switch(e){case F.DEBUG:return this._clientLogger.debug(t);case F.INFO:return this._clientLogger.info(t);case F.WARN:return this._clientLogger.warn(t);case F.ERROR:return this._clientLogger.error(t)}}},{key:"isLevelEnabled",value:function(e){return e>=this._level}},{key:"hasClientLogger",value:function(){return null!==this._clientLogger}},{key:"getLogger",value:function(e){var t=e.prefix||"";return this._logsDestination===_?this.consoleLoggerWrapper:new V(t)}},{key:"updateLoggerConfig",value:function(e){var t=e||{};this._level=t.level||F.INFO,this._clientLogger=t.logger||null,this._logsDestination="NULL",t.debug&&(this._logsDestination=_),t.logger&&(this._logsDestination="CLIENT_LOGGER")}}]),e}(),B=function(){function e(){D(this,e)}return L(e,[{key:"debug",value:function(){}},{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(){}}]),e}(),V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var i=M(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return P(this,n)}}(n);function n(e){var r;return D(this,n),(r=t.call(this)).prefix=e||"",r}return L(n,[{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(F.DEBUG,t)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(F.INFO,t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(F.WARN,t)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(F.ERROR,t)}},{key:"_shouldLog",value:function(e){return H.hasClientLogger()&&H.isLevelEnabled(e)}},{key:"_writeToClientLogger",value:function(e,t){H.writeToClientLogger(e,t)}},{key:"_log",value:function(e,t){if(this._shouldLog(e)){var n=this._convertToSingleStatement(t);this._writeToClientLogger(e,n)}}},{key:"_convertToSingleStatement",value:function(e){var t="";this.prefix&&(t+=this.prefix+" ");for(var n=0;n<e.length;n++){var r=e[n];t+=this._convertToString(r)+" "}return t}},{key:"_convertToString",value:function(e){try{if(!e)return"";if(O.isString(e))return e;if(O.isObject(e)&&O.isFunction(e.toString)){var t=e.toString();if("[object Object]"!==t)return t}return JSON.stringify(e)}catch(t){return console.error("Error while converting argument to string",e,t),""}}}]),n}(B),q=function(){var e=new B;return e.debug=console.debug.bind(window.console),e.info=console.info.bind(window.console),e.warn=console.warn.bind(window.console),e.error=console.error.bind(window.console),e},H=new j;function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),e}n(6);var Q=function(){function e(){J(this,e),this.clientCache={}}return Y(e,[{key:"getCachedClient",value:function(e){var t=Object.assign({},e),n=e.region||b.getRegion()||"us-west-2";if(t.region=n,this.clientCache[n])return this.clientCache[n];var r=this._createAwsClient(t);return this.clientCache[n]=r,r}},{key:"_createAwsClient",value:function(e){var t=e.region,n=b.getEndpointOverride(),r="https://participant.connect.".concat(t,".amazonaws.com");return n&&(r=n),new $({endpoint:r,region:t})}}]),e}(),$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var i=K(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return G(this,n)}}(n);function n(e){var r;J(this,n),r=t.call(this);var i=new AWS.Credentials("",""),o=new AWS.Config({region:e.region,endpoint:e.endpoint,credentials:i});return r.chatClient=new AWS.ConnectParticipant(o),r.invokeUrl=e.endpoint,r.logger=H.getLogger({prefix:"ChatClient"}),r}return Y(n,[{key:"createParticipantConnection",value:function(e,t){var n=this,r={Type:t,ParticipantToken:e},i=n.chatClient.createParticipantConnection(r);return n._sendRequest(i).then((function(e){return n.logger.info("successfully create connection request"),e})).catch((function(e){return n.logger.error("error when creating connection request"),Promise.reject(e)}))}},{key:"disconnectParticipant",value:function(e){var t=this,n={ConnectionToken:e},r=t.chatClient.disconnectParticipant(n);return t._sendRequest(r).then((function(e){return t.logger.info("successfully disconnect participant"),e})).catch((function(e){return t.logger.error("error when disconnecting participant"),Promise.reject(e)}))}},{key:"getTranscript",value:function(e,t){var n=this,r={MaxResults:t.maxResults,NextToken:t.nextToken,ScanDirection:t.scanDirection,SortOrder:t.sortOrder,StartPosition:{Id:t.startPosition.id,AbsoluteTime:t.startPosition.absoluteTime,MostRecent:t.startPosition.mostRecent},ConnectionToken:e};t.contactId&&(r.ContactId=t.contactId);var i=n.chatClient.getTranscript(r);return console.log("getTranscriptRequest",i),n._sendRequest(i).then((function(e){return n.logger.info("successfully get transcript"),e})).catch((function(e){return n.logger.error("error when getting transcript"),Promise.reject(e)}))}},{key:"sendMessage",value:function(e,t,n){var r=this,i={Content:t,ContentType:n,ConnectionToken:e},o=r.chatClient.sendMessage(i);return r._sendRequest(o).then((function(e){return r.logger.info("successfully send message"),e})).catch((function(e){return r.logger.error("error when sending message"),Promise.reject(e)}))}},{key:"sendAttachment",value:function(e,t,n){var r=this,i={ContentType:t.type,AttachmentName:t.name,AttachmentSizeInBytes:t.size,ConnectionToken:e},o=r.chatClient.startAttachmentUpload(i);return r._sendRequest(o).then((function(n){return r._uploadToS3(t,n.data.UploadMetadata).then((function(){r.logger.info("successfully uploaded attachment");var t={AttachmentIds:[n.data.AttachmentId],ConnectionToken:e},i=r.chatClient.completeAttachmentUpload(t);return r._sendRequest(i)}))})).catch((function(e){return r.logger.error("error when sending attachment"),Promise.reject(e)}))}},{key:"_uploadToS3",value:function(e,t){return fetch(t.Url,{method:"PUT",headers:t.HeadersToInclude,body:e})}},{key:"downloadAttachment",value:function(e,t){var n=this,r={AttachmentId:t,ConnectionToken:e},i=n.chatClient.getAttachment(r);return n._sendRequest(i).then((function(e){return n._downloadUrl(e.data.Url)})).catch((function(e){return n.logger.error("error when sending attachment"),Promise.reject(e)}))}},{key:"_downloadUrl",value:function(e){return fetch(e).then((function(e){return e.blob()})).catch((function(e){return Promise.reject(e)}))}},{key:"sendEvent",value:function(e,t,n){var r=this,i={ConnectionToken:e,ContentType:t,Content:n},o=r.chatClient.sendEvent(i);return r._sendRequest(o).then((function(e){return r.logger.info("successfully send event"),e})).catch((function(e){return r.logger.error("error when sending event"),Promise.reject(e)}))}},{key:"_sendRequest",value:function(e){return new Promise((function(t,n){e.on("success",(function(e){t(e)})).on("error",(function(e){var t={type:e.code,message:e.message,stack:e.stack?e.stack.split("\n"):[]};n(t)})).send()}))}}]),n}(function(){function e(){J(this,e)}return Y(e,[{key:"sendMessage",value:function(e,t,n){throw new h("sendTextMessage in ChatClient")}},{key:"sendAttachment",value:function(e,t,n){throw new h("sendAttachment in ChatClient")}},{key:"downloadAttachment",value:function(e,t){throw new h("downloadAttachment in ChatClient")}},{key:"disconnectParticipant",value:function(e){throw new h("disconnectParticipant in ChatClient")}},{key:"sendEvent",value:function(e,t,n){throw new h("sendEvent in ChatClient")}},{key:"createParticipantConnection",value:function(e,t){throw new h("createParticipantConnection in ChatClient")}}]),e}()),Z=new Q;function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),e}var se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var i=re(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ne(this,n)}}(n);function n(){return ie(this,n),t.apply(this,arguments)}return ae(n,[{key:"validateChatDetails",value:function(e,t){if(O.assertIsObject(e,"chatDetails"),t===v.AGENT&&!O.isFunction(e.getConnectionToken))throw new m("getConnectionToken was not a function",e.getConnectionToken);if(O.assertIsNonEmptyString(e.contactId,"chatDetails.contactId"),O.assertIsNonEmptyString(e.participantId,"chatDetails.participantId"),t===v.CUSTOMER){if(!e.participantToken)throw new m("participantToken was not provided for a customer session type",e.participantToken);O.assertIsNonEmptyString(e.participantToken,"chatDetails.participantToken")}}},{key:"validateInitiateChatResponse",value:function(){return!0}},{key:"normalizeChatDetails",value:function(e){var t={};return t.contactId=e.ContactId||e.contactId,t.participantId=e.ParticipantId||e.participantId,t.initialContactId=e.InitialContactId||e.initialContactId||t.contactId||t.ContactId,t.getConnectionToken=e.getConnectionToken||e.GetConnectionToken,(e.participantToken||e.ParticipantToken)&&(t.participantToken=e.ParticipantToken||e.participantToken),this.validateChatDetails(t),t}}]),n}(function(){function e(){ie(this,e)}return ae(e,[{key:"validateNewControllerDetails",value:function(e){return!0}},{key:"validateSendMessage",value:function(e){if(!O.isString(e.message))throw new m(e.message+"is not a valid message");this.validateContentType(e.contentType)}},{key:"validateContentType",value:function(e){O.assertIsEnum(e,Object.values(T),"contentType")}},{key:"validateConnectChat",value:function(e){return!0}},{key:"validateLogger",value:function(e){O.assertIsObject(e,"logger"),["debug","info","warn","error"].forEach((function(t){if(!O.isFunction(e[t]))throw new m(t+" should be a valid function on the passed logger object!")}))}},{key:"validateSendEvent",value:function(e){this.validateContentType(e.contentType)}},{key:"validateGetMessages",value:function(e){return!0}}]),e}());function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ue="NeverStarted",le="Starting",de="Connected",fe="ConnectionLost",pe="Ended",he="ConnectionLost",me="ConnectionGained",ge="Ended",be="IncomingMessage",ve=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.connectionDetailsProvider=t,this.isStarted=!1}var t,n;return t=e,(n=[{key:"startConnectionTokenPolling",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:432e5;t?this.timeout=setTimeout(this.startConnectionTokenPolling.bind(this),n):this.connectionDetailsProvider.fetchConnectionToken().then((function(){n=e.getTimeToConnectionTokenExpiry(),e.timeout=setTimeout(e.startConnectionTokenPolling.bind(e),n)})).catch((function(t){console.log("An error occurred when attempting to fetch the connection token during Connection Token Polling",t),e.timeout=setTimeout(e.startConnectionTokenPolling.bind(e),n)}))}},{key:"start",value:function(){this.isStarted||(this.isStarted=!0,this.startConnectionTokenPolling(!0,this.getTimeToConnectionTokenExpiry()))}},{key:"end",value:function(){clearTimeout(this.timeout)}},{key:"getConnectionToken",value:function(){return this.connectionDetailsProvider.getFetchedConnectionToken()}},{key:"getConnectionTokenExpiry",value:function(){return this.connectionDetailsProvider.getConnectionTokenExpiry()}},{key:"getTimeToConnectionTokenExpiry",value:function(){return new Date(this.getConnectionTokenExpiry()).getTime()-(new Date).getTime()-6e4}}])&&ce(t.prototype,n),e}(),ye=function(e,t,n){this.subMap=e,this.id=O.randomId(),this.eventName=t,this.f=n};ye.prototype.unsubscribe=function(){this.subMap.unsubscribe(this.eventName,this.id)};var Se=function(){this.subIdMap={},this.subEventNameMap={}};Se.prototype.subscribe=function(e,t){var n=new ye(this,e,t);this.subIdMap[n.id]=n;var r=this.subEventNameMap[e]||[];return r.push(n),this.subEventNameMap[e]=r,function(){return n.unsubscribe()}},Se.prototype.unsubscribe=function(e,t){O.contains(this.subEventNameMap,e)&&(this.subEventNameMap[e]=this.subEventNameMap[e].filter((function(e){return e.id!==t})),this.subEventNameMap[e].length<1&&delete this.subEventNameMap[e]),O.contains(this.subIdMap,t)&&delete this.subIdMap[t]},Se.prototype.getAllSubscriptions=function(){return O.values(this.subEventNameMap).reduce((function(e,t){return e.concat(t)}),[])},Se.prototype.getSubscriptions=function(e){return this.subEventNameMap[e]||[]};var we=function(e){var t=e||{};this.subMap=new Se,this.logEvents=t.logEvents||!1};function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}we.prototype.subscribe=function(e,t){return O.assertNotNull(e,"eventName"),O.assertNotNull(t,"f"),O.assertTrue(O.isFunction(t),"f must be a function"),this.subMap.subscribe(e,t)},we.prototype.subscribeAll=function(e){return O.assertNotNull(e,"f"),O.assertTrue(O.isFunction(e),"f must be a function"),this.subMap.subscribe("<<all>>",e)},we.prototype.getSubscriptions=function(e){return this.subMap.getSubscriptions(e)},we.prototype.trigger=function(e,t){O.assertNotNull(e,"eventName");var n=this,r=this.subMap.getSubscriptions("<<all>>"),i=this.subMap.getSubscriptions(e);r.concat(i).forEach((function(r){try{r.f(t||null,e,n)}catch(e){}}))},we.prototype.triggerAsync=function(e,t){var n=this;setTimeout((function(){return n.trigger(e,t)}),0)},we.prototype.bridge=function(){var e=this;return function(t,n){e.trigger(n,t)}},we.prototype.unsubscribeAll=function(){this.subMap.getAllSubscriptions().forEach((function(e){e.unsubscribe()}))};var Te=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ee(this,e),this.chatClient=n,this.participantToken=t||null,this.connectionDetails=null,this.connectionToken=null,this.connectionTokenExpiry=null,this.sessionType=r,this.getConnectionToken=i}var t,n;return t=e,(n=[{key:"getFetchedConnectionToken",value:function(){return this.connectionToken}},{key:"getConnectionTokenExpiry",value:function(){return this.connectionTokenExpiry}},{key:"getConnectionDetails",value:function(){return this.connectionDetails}},{key:"fetchConnectionDetails",value:function(){var e=this;return this._fetchConnectionDetails().then((function(){return e.connectionDetails}))}},{key:"fetchConnectionToken",value:function(){var e=this;return this._fetchConnectionDetails().then((function(){return e.connectionToken}))}},{key:"_handleCreateParticipantConnectionResponse",value:function(e){this.connectionDetails={url:e.Websocket.Url,expiry:e.Websocket.ConnectionExpiry,transportLifeTimeInSeconds:3540},this.connectionToken=e.ConnectionCredentials.ConnectionToken,this.connectionTokenExpiry=e.ConnectionCredentials.Expiry}},{key:"_handleGetConnectionTokenResponse",value:function(e){this.connectionDetails={url:null,expiry:null},this.connectionToken=e.participantToken,this.connectionTokenExpiry=e.expiry}},{key:"_callCreateParticipantConnection",value:function(){var e=this;return this.chatClient.createParticipantConnection(this.participantToken,["WEBSOCKET","CONNECTION_CREDENTIALS"]).then((function(t){return e._handleCreateParticipantConnectionResponse(t.data)})).catch((function(e){return Promise.reject({reason:"Failed to fetch connectionDetails with createParticipantConnection",_debug:e})}))}},{key:"_fetchConnectionDetails",value:function(){var e=this;return this.sessionType===v.CUSTOMER?this._callCreateParticipantConnection():this.sessionType===v.AGENT?this.getConnectionToken().then((function(t){return e._handleGetConnectionTokenResponse(t.chatTokenTransport)})).catch((function(){return e._callCreateParticipantConnection()})):Promise.reject({reason:"Failed to fetch connectionDetails.",_debug:new m("Failed to fetch connectionDetails.")})}}])&&Ce(t.prototype,n),e}(),_e=n(4);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t,n){return t&&Ae(e.prototype,t),n&&Ae(e,n),e}function xe(e,t,n){return(xe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=De(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?Me(e):t}function Me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var i=De(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pe(this,n)}}(n);function n(e,r,i,o){var a;return ke(this,n),(a=t.call(this,i)).cleanUpBaseInstance=!o,a.tryCleanup(),n.baseInstance||(n.baseInstance=new Le(i,o)),a.contactId=e,a.initialContactId=r,a.status=null,a.eventBus=new we,a.subscriptions=[n.baseInstance.onEnded(a.handleEnded.bind(Me(a))),n.baseInstance.onConnectionGain(a.handleConnectionGain.bind(Me(a))),n.baseInstance.onConnectionLost(a.handleConnectionLost.bind(Me(a))),n.baseInstance.onMessage(a.handleMessage.bind(Me(a)))],a}return Oe(n,[{key:"start",value:function(){return xe(De(n.prototype),"start",this).call(this),n.baseInstance.start()}},{key:"end",value:function(){xe(De(n.prototype),"end",this).call(this),this.eventBus.unsubscribeAll(),this.subscriptions.forEach((function(e){return e()})),this.status=pe,this.tryCleanup()}},{key:"tryCleanup",value:function(){n.baseInstance&&this.cleanUpBaseInstance&&(n.baseInstance.end(),n.baseInstance=null)}},{key:"getStatus",value:function(){return this.status||n.baseInstance.getStatus()}},{key:"onEnded",value:function(e){return this.eventBus.subscribe(ge,e)}},{key:"handleEnded",value:function(){this.eventBus.trigger(ge,{})}},{key:"onConnectionGain",value:function(e){return this.eventBus.subscribe(me,e)}},{key:"handleConnectionGain",value:function(){this.eventBus.trigger(me,{})}},{key:"onConnectionLost",value:function(e){return this.eventBus.subscribe(he,e)}},{key:"handleConnectionLost",value:function(){this.eventBus.trigger(he,{})}},{key:"onMessage",value:function(e){return this.eventBus.subscribe(be,e)}},{key:"handleMessage",value:function(e){e.InitialContactId!==this.initialContactId&&e.ContactId!==this.contactId||this.eventBus.trigger(be,e)}}]),n}(ve);Ne.baseInstance=null;var Le=function(){function e(t,n){ke(this,e),this.status=ue,this.eventBus=new we,this.logger=H.getLogger({prefix:"LPC WebSockets: "}),this.initWebsocketManager(n,t)}return Oe(e,[{key:"initWebsocketManager",value:function(e,t){this.websocketManager=e||_e.a.create(),this.websocketManager.subscribeTopics(["aws/chat"]),this.subscriptions=[this.websocketManager.onMessage("aws/chat",this.handleMessage.bind(this)),this.websocketManager.onConnectionGain(this.handleConnectionGain.bind(this)),this.websocketManager.onConnectionLost(this.handleConnectionLost.bind(this)),this.websocketManager.onInitFailure(this.handleEnded.bind(this))],e||this.websocketManager.init((function(){return t.fetchConnectionDetails().then((function(e){return{webSocketTransport:{url:e.url,expiry:e.expiry,transportLifeTimeInSeconds:3540}}}))}))}},{key:"end",value:function(){this.websocketManager.closeWebSocket(),this.eventBus.unsubscribeAll(),this.subscriptions.forEach((function(e){return e()}))}},{key:"start",value:function(){return this.status===ue&&(this.status=le),Promise.resolve()}},{key:"onEnded",value:function(e){return this.eventBus.subscribe(ge,e)}},{key:"handleEnded",value:function(){this.status=pe,this.eventBus.trigger(ge,{})}},{key:"onConnectionGain",value:function(e){return this.eventBus.subscribe(me,e)}},{key:"handleConnectionGain",value:function(){this.status=de,this.eventBus.trigger(me,{})}},{key:"onConnectionLost",value:function(e){return this.eventBus.subscribe(he,e)}},{key:"handleConnectionLost",value:function(){this.status=fe,this.eventBus.trigger(he,{})}},{key:"onMessage",value:function(e){return this.eventBus.subscribe(be,e)}},{key:"handleMessage",value:function(e){var t;try{t=JSON.parse(e.content),this.eventBus.trigger(be,t)}catch(t){this.logger.error("Wrong message format: ",e)}}},{key:"getStatus",value:function(){return this.status}}]),e}(),Ue=Ne;function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var je=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.logger=H.getLogger({prefix:"ContactId-"+t.chatDetails.contactId+": "}),this.argsValidator=new se,this.pubsub=new we,this.sessionType=t.sessionType,this.getConnectionToken=t.chatDetails.getConnectionToken,this.connectionDetails=t.chatDetails.connectionDetails,this.initialContactId=t.chatDetails.initialContactId,this.contactId=t.chatDetails.contactId,this.participantId=t.chatDetails.participantId,this.chatClient=t.chatClient,this.participantToken=t.chatDetails.participantToken,this.websocketManager=t.websocketManager,this._participantDisconnected=!1,this.sessionMetadata={}}var t,n;return t=e,(n=[{key:"subscribe",value:function(e,t){this.pubsub.subscribe(e,t),this.logger.info("Subscribed successfully to eventName: ",e)}},{key:"handleRequestSuccess",value:function(e,t,n){var r=this;return function(i){return i.metadata=e,r.logger.debug("".concat(n," successful! Response: "),i," / Request: ",t),i}}},{key:"handleRequestFailure",value:function(e,t,n){var r=this;return function(i){return i.metadata=e,r.logger.debug("".concat(n," failed! Error: "),i," / Request: ",t),Promise.reject(i)}}},{key:"sendMessage",value:function(e){var t=e.metadata||null;this.argsValidator.validateSendMessage(e);var n=this.connectionHelper.getConnectionToken();return this.chatClient.sendMessage(n,e.message,e.contentType).then(this.handleRequestSuccess(t,e,"sendMessage")).catch(this.handleRequestFailure(t,e,"sendMessage"))}},{key:"sendAttachment",value:function(e){var t=e.metadata||null,n=this.connectionHelper.getConnectionToken();return this.chatClient.sendAttachment(n,e.attachment,e.metadata).then(this.handleRequestSuccess(t,e,"sendAttachment")).catch(this.handleRequestFailure(t,e,"sendAttachment"))}},{key:"downloadAttachment",value:function(e){var t=e.metadata||null,n=this.connectionHelper.getConnectionToken();return this.chatClient.downloadAttachment(n,e.attachmentId).then(this.handleRequestSuccess(t,e,"downloadAttachment")).catch(this.handleRequestFailure(t,e,"downloadAttachment"))}},{key:"sendEvent",value:function(e){var t=e.metadata||null;this.argsValidator.validateSendEvent(e);var n=this.connectionHelper.getConnectionToken(),r=e.content||null;return this.chatClient.sendEvent(n,e.contentType,r).then(this.handleRequestSuccess(t,e,"sendEvent")).catch(this.handleRequestFailure(t,e,"sendEvent"))}},{key:"getTranscript",value:function(e){if(this.connectionHelper.getStatus()===pe)return Promise.reject("AccessDeniedException");var t=e.metadata||null,n={startPosition:e.startPosition||{},scanDirection:e.scanDirection||"BACKWARD",sortOrder:e.sortOrder||"ASCENDING",maxResults:e.maxResults||15};e.nextToken&&(n.nextToken=e.nextToken),e.contactId&&(n.contactId=e.contactId);var r=this.connectionHelper.getConnectionToken();return this.chatClient.getTranscript(r,n).then(this.handleRequestSuccess(t,n,"getTranscript")).catch(this.handleRequestFailure(t,n,"getTranscript"))}},{key:"connect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sessionMetadata=e.metadata||null,this.argsValidator.validateConnectChat(e);var t=this._getConnectionDetailsProvider();return t.fetchConnectionToken().then(this._initConnectionHelper.bind(this,t)).then(this._onConnectSuccess.bind(this),this._onConnectFailure.bind(this))}},{key:"_initConnectionHelper",value:function(e){return this.connectionHelper=new Ue(this.contactId,this.initialContactId,e,this.websocketManager),this.connectionHelper.onEnded(this._handleEndedConnection.bind(this)),this.connectionHelper.onConnectionLost(this._handleLostConnection.bind(this)),this.connectionHelper.onConnectionGain(this._handleGainedConnection.bind(this)),this.connectionHelper.onMessage(this._handleIncomingMessage.bind(this)),this.connectionHelper.start()}},{key:"_getConnectionDetailsProvider",value:function(){return new Te(this.participantToken,this.chatClient,this.sessionType,this.getConnectionToken)}},{key:"_handleEndedConnection",value:function(e){this._forwardChatEvent(E,{data:e,chatDetails:this.getChatDetails()})}},{key:"_handleLostConnection",value:function(e){this._forwardChatEvent("CONNECTION_LOST",{data:e,chatDetails:this.getChatDetails()})}},{key:"_handleGainedConnection",value:function(e){this._forwardChatEvent(w,{data:e,chatDetails:this.getChatDetails()})}},{key:"_handleIncomingMessage",value:function(e){try{var t=e.ContentType===T.typing?S:y;this._forwardChatEvent(t,{data:e,chatDetails:this.getChatDetails()}),e.ContentType===T.chatEnded&&(this._forwardChatEvent(C,{data:null,chatDetails:this.getChatDetails()}),this.breakConnection())}catch(t){this.logger.error("Error occured while handling message from Connection. eventData: ",e," Causing exception: ",t)}}},{key:"_forwardChatEvent",value:function(e,t){this.logger.debug("Triggering event for subscribers:",e,t),this.pubsub.triggerAsync(e,t)}},{key:"_onConnectSuccess",value:function(e){this.logger.info("Connect successful!");var t={_debug:e,connectSuccess:!0,connectCalled:!0,metadata:this.sessionMetadata},n=Object.assign({chatDetails:this.getChatDetails()},t);return this.pubsub.triggerAsync(w,n),this._shouldAcknowledgeContact()&&this.sendEvent({contentType:T.connectionAcknowledged}),t}},{key:"_onConnectFailure",value:function(e){var t={_debug:e,connectSuccess:!1,connectCalled:!0,metadata:this.sessionMetadata};return this.logger.error("Connect Failed with data: ",t),Promise.reject(t)}},{key:"_shouldAcknowledgeContact",value:function(){return this.sessionType===v.AGENT}},{key:"breakConnection",value:function(){return this.connectionHelper?this.connectionHelper.end():Promise.resolve()}},{key:"cleanUpOnParticipantDisconnect",value:function(){this.pubsub.unsubscribeAll()}},{key:"disconnectParticipant",value:function(){var e=this,t=this.connectionHelper.getConnectionToken();return this.chatClient.disconnectParticipant(t).then((function(t){return e.logger.info("disconnect participant successful"),e._participantDisconnected=!0,e.cleanUpOnParticipantDisconnect(),e.breakConnection(),t}),(function(t){return e.logger.error("disconnect participant failed with error: ",t),Promise.reject(t)}))}},{key:"getChatDetails",value:function(){return{initialContactId:this.initialContactId,contactId:this.contactId,participantId:this.participantId,participantToken:this.participantToken,connectionDetails:this.connectionDetails}}},{key:"_convertConnectionHelperStatus",value:function(e){switch(e){case ue:return"NeverEstablished";case le:return"Establishing";case pe:case fe:return"Broken";case de:return"Established"}this.logger.error("Reached invalid state. Unknown connectionHelperStatus: ",e)}},{key:"getConnectionStatus",value:function(){return this._convertConnectionHelperStatus(this.connectionHelper.getStatus())}}])&&Fe(t.prototype,n),e}();function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var i=We(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t,n){return t&&Ge(e.prototype,t),n&&Ge(e,n),e}var Je=function(e){Ve(n,e);var t=qe(n);function n(){var e;return ze(this,n),(e=t.call(this)).argsValidator=new se,e}return Ke(n,[{key:"createChatSession",value:function(e,t,n,r){var i=this._createChatController(e,t,n,r);if(e===v.AGENT)return new Ye(i);if(e===v.CUSTOMER)return new Qe(i);throw new m("Unkown value for session type, Allowed values are: "+Object.values(v),e)}},{key:"_createChatController",value:function(e,t,n,r){var i={sessionType:e,chatDetails:this.argsValidator.normalizeChatDetails(t),chatClient:Z.getCachedClient(n),websocketManager:r};return new je(i)}}]),n}(function(){function e(){ze(this,e)}return Ke(e,[{key:"createAgentChatController",value:function(e,t){throw new h("createAgentChatController in ChatControllerFactory.")}},{key:"createCustomerChatController",value:function(e,t){throw new h("createCustomerChatController in ChatControllerFactory.")}}]),e}()),Xe=function(){function e(t){ze(this,e),this.controller=t}return Ke(e,[{key:"onMessage",value:function(e){this.controller.subscribe(y,e)}},{key:"onTyping",value:function(e){this.controller.subscribe(S,e)}},{key:"onConnectionBroken",value:function(e){this.controller.subscribe(E,e)}},{key:"onConnectionEstablished",value:function(e){this.controller.subscribe(w,e)}},{key:"onEnded",value:function(e){this.controller.subscribe(C,e)}},{key:"sendMessage",value:function(e){return this.controller.sendMessage(e)}},{key:"sendAttachment",value:function(e){return this.controller.sendAttachment(e)}},{key:"downloadAttachment",value:function(e){return this.controller.downloadAttachment(e)}},{key:"connect",value:function(e){return this.controller.connect(e)}},{key:"sendEvent",value:function(e){return this.controller.sendEvent(e)}},{key:"getTranscript",value:function(e){return this.controller.getTranscript(e)}},{key:"getChatDetails",value:function(){return this.controller.getChatDetails()}}]),e}(),Ye=function(e){Ve(n,e);var t=qe(n);function n(e){return ze(this,n),t.call(this,e)}return Ke(n,[{key:"cleanUpOnParticipantDisconnect",value:function(){return this.controller.cleanUpOnParticipantDisconnect()}}]),n}(Xe),Qe=function(e){Ve(n,e);var t=qe(n);function n(e){return ze(this,n),t.call(this,e)}return Ke(n,[{key:"disconnectParticipant",value:function(){return this.controller.disconnectParticipant()}}]),n}(Xe),$e=new Je,Ze={create:function(e){var t=e.options||{},n=e.type||v.AGENT;return $e.createChatSession(n,e.chatDetails,t,e.websocketManager)},setGlobalConfig:function(e){var t=e.loggerConfig;b.update(e),H.updateLoggerConfig(t)},LogLevel:F,Logger:U,SessionTypes:v}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.connect=e.connect||{};var r=connect.WebSocketManager;!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==n(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(i,o,function(t){return e[t]}.bind(null,o));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){var i=r(1),o="DEBUG",a="aws/subscribe",s="aws/heartbeat",c="disconnected";function u(e){return(u="function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}var l={assertTrue:function(e,t){if(!e)throw new Error(t)},assertNotNull:function(e,t){return l.assertTrue(null!==e&&void 0!==u(e),Object(i.sprintf)("%s must be provided",t||"A value")),e},isNonEmptyString:function(e){return"string"==typeof e&&e.length>0},assertIsList:function(e,t){if(!Array.isArray(e))throw new Error(t+" is not an array")},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){return!("object"!==u(e)||null===e)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e}},d=new RegExp("^(wss://)\\w*");l.validWSUrl=function(e){return d.test(e)},l.getSubscriptionResponse=function(e,t,n){return{topic:e,content:{status:t?"success":"failure",topics:n}}},l.assertIsObject=function(e,t){if(!l.isObject(e))throw new Error(t+" is not an object!")},l.addJitter=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t=Math.min(t,1);var n=Math.random()>.5?1:-1;return Math.floor(e+n*e*Math.random()*t)},l.isNetworkOnline=function(){return navigator.onLine},l.isNetworkFailure=function(e){return!(!e._debug||!e._debug.type)&&"NetworkingError"===e._debug.type};var f=l;function p(e){return(p="function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}var y=function(){function e(){g(this,e)}return v(e,[{key:"debug",value:function(e){}},{key:"info",value:function(e){}},{key:"warn",value:function(e){}},{key:"error",value:function(e){}}]),e}(),S={DEBUG:10,INFO:20,WARN:30,ERROR:40},w=function(){function e(){g(this,e),this.updateLoggerConfig(),this.consoleLoggerWrapper=T()}return v(e,[{key:"writeToClientLogger",value:function(e,t){if(this.hasClientLogger())switch(e){case S.DEBUG:return this._clientLogger.debug(t);case S.INFO:return this._clientLogger.info(t);case S.WARN:return this._clientLogger.warn(t);case S.ERROR:return this._clientLogger.error(t)}}},{key:"isLevelEnabled",value:function(e){return e>=this._level}},{key:"hasClientLogger",value:function(){return null!==this._clientLogger}},{key:"getLogger",value:function(e){var t=e.prefix||"";return this._logsDestination===o?this.consoleLoggerWrapper:new C(t)}},{key:"updateLoggerConfig",value:function(e){var t=e||{};this._level=t.level||S.DEBUG,this._clientLogger=t.logger||null,this._logsDestination="NULL",t.debug&&(this._logsDestination=o),t.logger&&(this._logsDestination="CLIENT_LOGGER")}}]),e}(),E=function(){function e(){g(this,e)}return v(e,[{key:"debug",value:function(){}},{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(){}}]),e}(),C=function(e){function t(e){var n;return g(this,t),(n=function(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,h(t).call(this))).prefix=e||"",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,E),v(t,[{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._log(S.DEBUG,t)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._log(S.INFO,t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._log(S.WARN,t)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._log(S.ERROR,t)}},{key:"_shouldLog",value:function(e){return _.hasClientLogger()&&_.isLevelEnabled(e)}},{key:"_writeToClientLogger",value:function(e,t){return _.writeToClientLogger(e,t)}},{key:"_log",value:function(e,t){if(this._shouldLog(e)){var n=this._convertToSingleStatement(t);return this._writeToClientLogger(e,n)}}},{key:"_convertToSingleStatement",value:function(e){var t="";this.prefix&&(t+=this.prefix+" ");for(var n=0;n<e.length;n++){var r=e[n];t+=this._convertToString(r)+" "}return t}},{key:"_convertToString",value:function(e){try{if(!e)return"";if(f.isString(e))return e;if(f.isObject(e)&&f.isFunction(e.toString)){var t=e.toString();if("[object Object]"!==t)return t}return JSON.stringify(e)}catch(t){return console.error("Error while converting argument to string",e,t),""}}}]),t}(),T=function(){var e=new E;return e.debug=console.debug,e.info=console.info,e.warn=console.warn,e.error=console.error,e},_=new w;var I=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.numAttempts=0,this.executor=t,this.hasActiveReconnection=!1,this.defaultRetry=n}var t;return(t=[{key:"retry",value:function(){var e=this;this.hasActiveReconnection||(this.hasActiveReconnection=!0,setTimeout((function(){e._execute()}),this._getDelay()))}},{key:"_execute",value:function(){this.hasActiveReconnection=!1,this.executor(),this.numAttempts++}},{key:"connected",value:function(){this.numAttempts=0}},{key:"_getDelay",value:function(){var e=Math.pow(2,this.numAttempts)*this.defaultRetry;return e<=3e4?e:3e4}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();r.d(t,"a",(function(){return A}));var k=function(){var e=_.getLogger({}),t=f.isNetworkOnline(),n={primary:null,secondary:null},r={reconnectWebSocket:!0,websocketInitFailed:!1,exponentialBackOffTime:1e3,exponentialTimeoutHandle:null,lifeTimeTimeoutHandle:null,webSocketInitCheckerTimeoutId:null,connState:null},i={connectWebSocketRetryCount:0,connectionAttemptStartTime:null,noOpenConnectionsTimestamp:null},o={pendingResponse:!1,intervalHandle:null},u={initFailure:new Set,getWebSocketTransport:null,subscriptionUpdate:new Set,subscriptionFailure:new Set,topic:new Map,allMessage:new Set,connectionGain:new Set,connectionLost:new Set,connectionOpen:new Set,connectionClose:new Set},l={connConfig:null,promiseHandle:null,promiseCompleted:!0},d={subscribed:new Set,pending:new Set,subscriptionHistory:new Set},p={responseCheckIntervalId:null,requestCompleted:!0,reSubscribeIntervalId:null,consecutiveFailedSubscribeAttempts:0,consecutiveNoResponseRequest:0},h=new I((function(){B()})),m=new Set([a,"aws/unsubscribe",s]),g=setInterval((function(){if(t!==f.isNetworkOnline()){if(!(t=f.isNetworkOnline()))return void H(e.info("Network offline"));var n=C();t&&(!n||S(n,WebSocket.CLOSING)||S(n,WebSocket.CLOSED))&&(H(e.info("Network online, connecting to WebSocket server")),B())}}),250),b=function(t,n){t.forEach((function(t){try{t(n)}catch(t){H(e.error("Error executing callback",t))}}))},v=function(e){if(null===e)return"NULL";switch(e.readyState){case WebSocket.CONNECTING:return"CONNECTING";case WebSocket.OPEN:return"OPEN";case WebSocket.CLOSING:return"CLOSING";case WebSocket.CLOSED:return"CLOSED";default:return"UNDEFINED"}},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";H(e.debug("["+t+"] Primary WebSocket: "+v(n.primary)+" | Secondary WebSocket: "+v(n.secondary)))},S=function(e,t){return e&&e.readyState===t},w=function(e){return S(e,WebSocket.OPEN)},E=function(e){return null===e||void 0===e.readyState||S(e,WebSocket.CLOSED)},C=function(){return null!==n.secondary?n.secondary:n.primary},T=function(){return w(C())},k=function(){if(o.pendingResponse)return H(e.warn("Heartbeat response not received")),clearInterval(o.intervalHandle),o.pendingResponse=!1,void B();T()?(H(e.debug("Sending heartbeat")),C().send(F(s)),o.pendingResponse=!0):(H(e.warn("Failed to send heartbeat since WebSocket is not open")),y("sendHeartBeat"),B())},A=function(){r.exponentialBackOffTime=1e3,o.pendingResponse=!1,r.reconnectWebSocket=!0,clearTimeout(r.lifeTimeTimeoutHandle),clearInterval(o.intervalHandle),clearTimeout(r.exponentialTimeoutHandle),clearTimeout(r.webSocketInitCheckerTimeoutId)},O=function(){p.consecutiveFailedSubscribeAttempts=0,p.consecutiveNoResponseRequest=0,clearInterval(p.responseCheckIntervalId),clearInterval(p.reSubscribeIntervalId)},x=function(){i.connectWebSocketRetryCount=0,i.connectionAttemptStartTime=null,i.noOpenConnectionsTimestamp=null},R=function(){try{H(e.info("WebSocket connection established!")),y("webSocketOnOpen"),null!==r.connState&&r.connState!==c||b(u.connectionGain),r.connState="connected";var t=Date.now();b(u.connectionOpen,{connectWebSocketRetryCount:i.connectWebSocketRetryCount,connectionAttemptStartTime:i.connectionAttemptStartTime,noOpenConnectionsTimestamp:i.noOpenConnectionsTimestamp,connectionEstablishedTime:t,timeToConnect:t-i.connectionAttemptStartTime,timeWithoutConnection:i.noOpenConnectionsTimestamp?t-i.noOpenConnectionsTimestamp:null}),x(),A(),C().openTimestamp=Date.now(),0===d.subscribed.size&&w(n.secondary)&&N(n.primary,"[Primary WebSocket] Closing WebSocket"),(d.subscribed.size>0||d.pending.size>0)&&(w(n.secondary)&&H(e.info("Subscribing secondary websocket to topics of primary websocket")),d.subscribed.forEach((function(e){d.subscriptionHistory.add(e),d.pending.add(e)})),d.subscribed.clear(),D()),k(),o.intervalHandle=setInterval(k,1e4);var a=Math.min(f.addJitter(3e6,.1),1e3*l.connConfig.webSocketTransport.transportLifeTimeInSeconds);H(e.debug("Scheduling WebSocket manager reconnection, after delay "+a+" ms")),r.lifeTimeTimeoutHandle=setTimeout((function(){H(e.debug("Starting scheduled WebSocket manager reconnection")),B()}),a)}catch(t){H(e.error("Error after establishing WebSocket connection",t))}},P=function(t){y("webSocketOnError"),H(e.error("WebSocketManager Error, error_event: ",JSON.stringify(t))),B()},M=function(t){var r=JSON.parse(t.data);switch(r.topic){case a:if(H(e.debug("Subscription Message received from webSocket server",t.data)),p.requestCompleted=!0,p.consecutiveNoResponseRequest=0,"success"===r.content.status)p.consecutiveFailedSubscribeAttempts=0,r.content.topics.forEach((function(e){d.subscriptionHistory.delete(e),d.pending.delete(e),d.subscribed.add(e)})),0===d.subscriptionHistory.size?w(n.secondary)&&(H(e.info("Successfully subscribed secondary websocket to all topics of primary websocket")),N(n.primary,"[Primary WebSocket] Closing WebSocket")):D(),b(u.subscriptionUpdate,r);else{if(clearInterval(p.reSubscribeIntervalId),++p.consecutiveFailedSubscribeAttempts,5===p.consecutiveFailedSubscribeAttempts)return b(u.subscriptionFailure,r),void(p.consecutiveFailedSubscribeAttempts=0);p.reSubscribeIntervalId=setInterval((function(){D()}),500)}break;case s:H(e.debug("Heartbeat response received")),o.pendingResponse=!1;break;default:if(r.topic){if(H(e.debug("Message received for topic "+r.topic)),w(n.primary)&&w(n.secondary)&&0===d.subscriptionHistory.size&&this===n.primary)return void H(e.warn("Ignoring Message for Topic "+r.topic+", to avoid duplicates"));if(0===u.allMessage.size&&0===u.topic.size)return void H(e.warn("No registered callback listener for Topic",r.topic));b(u.allMessage,r),u.topic.has(r.topic)&&b(u.topic.get(r.topic),r)}else r.message?H(e.warn("WebSocketManager Message Error",r)):H(e.warn("Invalid incoming message",r))}},D=function t(){if(p.consecutiveNoResponseRequest>3)return H(e.warn("Ignoring subscribePendingTopics since we have exhausted max subscription retries with no response")),void b(u.subscriptionFailure,f.getSubscriptionResponse(a,!1,Array.from(d.pending)));T()?(clearInterval(p.responseCheckIntervalId),C().send(F(a,{topics:Array.from(d.pending)})),p.requestCompleted=!1,p.responseCheckIntervalId=setInterval((function(){p.requestCompleted||(++p.consecutiveNoResponseRequest,t())}),1e3)):H(e.warn("Ignoring subscribePendingTopics call since Default WebSocket is not open"))},N=function(t,n){S(t,WebSocket.CONNECTING)||S(t,WebSocket.OPEN)?t.close(1e3,n):H(e.warn("Ignoring WebSocket Close request, WebSocket State: "+v(t)))},L=function(e){N(n.primary,"[Primary] WebSocket "+e),N(n.secondary,"[Secondary] WebSocket "+e)},U=function(t){A(),O(),H(e.error("WebSocket Initialization failed")),r.websocketInitFailed=!0,L("Terminating WebSocket Manager"),clearInterval(g),b(u.initFailure,{connectWebSocketRetryCount:i.connectWebSocketRetryCount,connectionAttemptStartTime:i.connectionAttemptStartTime,reason:t}),x()},F=function(e,t){return JSON.stringify({topic:e,content:t})},j=function(t){return!!(f.isObject(t)&&f.isObject(t.webSocketTransport)&&f.isNonEmptyString(t.webSocketTransport.url)&&f.validWSUrl(t.webSocketTransport.url)&&1e3*t.webSocketTransport.transportLifeTimeInSeconds>=3e5)||(H(e.error("Invalid WebSocket Connection Configuration",t)),!1)},B=function(){if(f.isNetworkOnline())if(r.websocketInitFailed)H(e.debug("WebSocket Init had failed, ignoring this getWebSocketConnConfig request"));else{if(l.promiseCompleted)return A(),H(e.info("Fetching new WebSocket connection configuration")),i.connectionAttemptStartTime=i.connectionAttemptStartTime||Date.now(),l.promiseCompleted=!1,l.promiseHandle=u.getWebSocketTransport(),l.promiseHandle.then((function(t){return l.promiseCompleted=!0,H(e.debug("Successfully fetched webSocket connection configuration",t)),j(t)?(l.connConfig=t,l.connConfig.urlConnValidTime=Date.now()+85e3,h.connected(),V()):(U("Invalid WebSocket connection configuration: "+t),{webSocketConnectionFailed:!0})}),(function(t){return l.promiseCompleted=!0,H(e.error("Failed to fetch webSocket connection configuration",t)),f.isNetworkFailure(t)&&(H(e.info("Retrying fetching new WebSocket connection configuration")),h.retry()),{webSocketConnectionFailed:!0}}));H(e.debug("There is an ongoing getWebSocketConnConfig request, this request will be ignored"))}else H(e.info("Network offline, ignoring this getWebSocketConnConfig request"))},V=function(){if(r.websocketInitFailed)return H(e.info("web-socket initializing had failed, aborting re-init")),{webSocketConnectionFailed:!0};if(!f.isNetworkOnline())return H(e.warn("System is offline aborting web-socket init")),{webSocketConnectionFailed:!0};H(e.info("Initializing Websocket Manager")),y("initWebSocket");try{if(j(l.connConfig)){var t=null;return w(n.primary)?(H(e.debug("Primary Socket connection is already open")),S(n.secondary,WebSocket.CONNECTING)||(H(e.debug("Establishing a secondary web-socket connection")),n.secondary=q()),t=n.secondary):(S(n.primary,WebSocket.CONNECTING)||(H(e.debug("Establishing a primary web-socket connection")),n.primary=q()),t=n.primary),r.webSocketInitCheckerTimeoutId=setTimeout((function(){w(t)||function(){i.connectWebSocketRetryCount++;var t=f.addJitter(r.exponentialBackOffTime,.3);Date.now()+t<=l.connConfig.urlConnValidTime?(H(e.debug("Scheduling WebSocket reinitialization, after delay "+t+" ms")),r.exponentialTimeoutHandle=setTimeout((function(){return V()}),t),r.exponentialBackOffTime*=2):(H(e.warn("WebSocket URL cannot be used to establish connection")),B())}()}),1e3),{webSocketConnectionFailed:!1}}}catch(t){return H(e.error("Error Initializing web-socket-manager",t)),U("Failed to initialize new WebSocket: "+t.message),{webSocketConnectionFailed:!0}}},q=function(){var t=new WebSocket(l.connConfig.webSocketTransport.url);return t.addEventListener("open",R),t.addEventListener("message",M),t.addEventListener("error",P),t.addEventListener("close",(function(o){return function(t,o){H(e.info("Socket connection is closed",t)),y("webSocketOnClose before-cleanup"),b(u.connectionClose,{openTimestamp:o.openTimestamp,closeTimestamp:Date.now(),connectionDuration:Date.now()-o.openTimestamp,code:t.code,reason:t.reason}),E(n.primary)&&(n.primary=null),E(n.secondary)&&(n.secondary=null),r.reconnectWebSocket&&(w(n.primary)||w(n.secondary)?E(n.primary)&&w(n.secondary)&&(H(e.info("[Primary] WebSocket Cleanly Closed")),n.primary=n.secondary,n.secondary=null):(H(e.warn("Neither primary websocket and nor secondary websocket have open connections, attempting to re-establish connection")),r.connState===c?H(e.info("Ignoring connectionLost callback invocation")):(b(u.connectionLost,{openTimestamp:o.openTimestamp,closeTimestamp:Date.now(),connectionDuration:Date.now()-o.openTimestamp,code:t.code,reason:t.reason}),i.noOpenConnectionsTimestamp=Date.now()),r.connState=c,B()),y("webSocketOnClose after-cleanup"))}(o,t)})),t},H=function(e){return e&&"function"==typeof e.sendInternalLogToServer&&e.sendInternalLogToServer(),e};this.init=function(t){if(f.assertTrue(f.isFunction(t),"transportHandle must be a function"),null===u.getWebSocketTransport)return u.getWebSocketTransport=t,B();H(e.warn("Web Socket Manager was already initialized"))},this.onInitFailure=function(e){return f.assertTrue(f.isFunction(e),"cb must be a function"),u.initFailure.add(e),r.websocketInitFailed&&e(),function(){return u.initFailure.delete(e)}},this.onConnectionOpen=function(e){return f.assertTrue(f.isFunction(e),"cb must be a function"),u.connectionOpen.add(e),function(){return u.connectionOpen.delete(e)}},this.onConnectionClose=function(e){return f.assertTrue(f.isFunction(e),"cb must be a function"),u.connectionClose.add(e),function(){return u.connectionClose.delete(e)}},this.onConnectionGain=function(e){return f.assertTrue(f.isFunction(e),"cb must be a function"),u.connectionGain.add(e),T()&&e(),function(){return u.connectionGain.delete(e)}},this.onConnectionLost=function(e){return f.assertTrue(f.isFunction(e),"cb must be a function"),u.connectionLost.add(e),r.connState===c&&e(),function(){return u.connectionLost.delete(e)}},this.onSubscriptionUpdate=function(e){return f.assertTrue(f.isFunction(e),"cb must be a function"),u.subscriptionUpdate.add(e),function(){return u.subscriptionUpdate.delete(e)}},this.onSubscriptionFailure=function(e){return f.assertTrue(f.isFunction(e),"cb must be a function"),u.subscriptionFailure.add(e),function(){return u.subscriptionFailure.delete(e)}},this.onMessage=function(e,t){return f.assertNotNull(e,"topicName"),f.assertTrue(f.isFunction(t),"cb must be a function"),u.topic.has(e)?u.topic.get(e).add(t):u.topic.set(e,new Set([t])),function(){return u.topic.get(e).delete(t)}},this.onAllMessage=function(e){return f.assertTrue(f.isFunction(e),"cb must be a function"),u.allMessage.add(e),function(){return u.allMessage.delete(e)}},this.subscribeTopics=function(e){f.assertNotNull(e,"topics"),f.assertIsList(e),e.forEach((function(e){d.subscribed.has(e)||d.pending.add(e)})),p.consecutiveNoResponseRequest=0,D()},this.sendMessage=function(t){if(f.assertIsObject(t,"payload"),void 0===t.topic||m.has(t.topic))H(e.warn("Cannot send message, Invalid topic",t));else{try{t=JSON.stringify(t)}catch(n){return void H(e.warn("Error stringify message",t))}T()?C().send(t):H(e.warn("Cannot send message, web socket connection is not open"))}},this.closeWebSocket=function(){A(),O(),r.reconnectWebSocket=!1,clearInterval(g),L("User request to close WebSocket")},this.terminateWebSocketManager=U},A={create:function(){return new k},setGlobalConfig:function(e){var t=e.loggerConfig;_.updateLoggerConfig(t)},LogLevel:S,Logger:y}},function(e,t,r){var i;!function(){var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function a(e){return function(e,t){var r,i,s,c,u,l,d,f,p,h=1,m=e.length,g="";for(i=0;i<m;i++)if("string"==typeof e[i])g+=e[i];else if("object"==n(e[i])){if((c=e[i]).keys)for(r=t[h],s=0;s<c.keys.length;s++){if(null==r)throw new Error(a('[sprintf] Cannot access property "%s" of undefined value "%s"',c.keys[s],c.keys[s-1]));r=r[c.keys[s]]}else r=c.param_no?t[c.param_no]:t[h++];if(o.not_type.test(c.type)&&o.not_primitive.test(c.type)&&r instanceof Function&&(r=r()),o.numeric_arg.test(c.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(a("[sprintf] expecting number but found %T",r));switch(o.number.test(c.type)&&(f=r>=0),c.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,c.width?parseInt(c.width):0);break;case"e":r=c.precision?parseFloat(r).toExponential(c.precision):parseFloat(r).toExponential();break;case"f":r=c.precision?parseFloat(r).toFixed(c.precision):parseFloat(r);break;case"g":r=c.precision?String(Number(r.toPrecision(c.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=c.precision?r.substring(0,c.precision):r;break;case"t":r=String(!!r),r=c.precision?r.substring(0,c.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=c.precision?r.substring(0,c.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=c.precision?r.substring(0,c.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}o.json.test(c.type)?g+=r:(!o.number.test(c.type)||f&&!c.sign?p="":(p=f?"+":"-",r=r.toString().replace(o.sign,"")),l=c.pad_char?"0"===c.pad_char?"0":c.pad_char.charAt(1):" ",d=c.width-(p+r).length,u=c.width&&d>0?l.repeat(d):"",g+=c.align?p+r+u:"0"===l?p+u+r:u+p+r)}return g}(function(e){if(c[e])return c[e];for(var t,n=e,r=[],i=0;n;){if(null!==(t=o.text.exec(n)))r.push(t[0]);else if(null!==(t=o.modulo.exec(n)))r.push("%");else{if(null===(t=o.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){i|=1;var a=[],s=t[2],u=[];if(null===(u=o.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(u[1]);""!==(s=s.substring(u[0].length));)if(null!==(u=o.key_access.exec(s)))a.push(u[1]);else{if(null===(u=o.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(u[1])}t[2]=a}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return c[e]=r}(e),arguments)}function s(e,t){return a.apply(null,[e].concat(t||[]))}var c=Object.create(null);t.sprintf=a,t.vsprintf=s,"undefined"!=typeof window&&(window.sprintf=a,window.vsprintf=s,void 0===(i=function(){return{sprintf:a,vsprintf:s}}.call(t,r,t,e))||(e.exports=i))}()},function(e,t,n){n.r(t),function(e){n.d(t,"WebSocketManager",(function(){return i}));var r=n(0);e.connect=e.connect||{},connect.WebSocketManager=r.a;var i=r.a}.call(this,n(3))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":n(window))&&(r=window)}e.exports=r}]);var i=connect.WebSocketManager;connect.WebSocketManager=r||i,t.a=i}).call(this,n(0))},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"ChatSession",(function(){return i}));var r=n(2);e.connect=e.connect||{},connect.ChatSession=r.a;var i=r.a}.call(this,n(0))},function(e,t,n){(function(r){var i;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return i(t[a][1][e]||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){t.exports={version:"2.0",metadata:{apiVersion:"2014-06-30",endpointPrefix:"cognito-identity",jsonVersion:"1.1",protocol:"json",serviceFullName:"Amazon Cognito Identity",serviceId:"Cognito Identity",signatureVersion:"v4",targetPrefix:"AWSCognitoIdentityService",uid:"cognito-identity-2014-06-30"},operations:{CreateIdentityPool:{input:{type:"structure",required:["IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},AllowClassicFlow:{type:"boolean"},SupportedLoginProviders:{shape:"S5"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S9"},CognitoIdentityProviders:{shape:"Sb"},SamlProviderARNs:{shape:"Sg"},IdentityPoolTags:{shape:"Sh"}}},output:{shape:"Sk"}},DeleteIdentities:{input:{type:"structure",required:["IdentityIdsToDelete"],members:{IdentityIdsToDelete:{type:"list",member:{}}}},output:{type:"structure",members:{UnprocessedIdentityIds:{type:"list",member:{type:"structure",members:{IdentityId:{},ErrorCode:{}}}}}}},DeleteIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}}},DescribeIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{}}},output:{shape:"Sv"}},DescribeIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{shape:"Sk"}},GetCredentialsForIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"S10"},CustomRoleArn:{}}},output:{type:"structure",members:{IdentityId:{},Credentials:{type:"structure",members:{AccessKeyId:{},SecretKey:{},SessionToken:{},Expiration:{type:"timestamp"}}}}}},GetId:{input:{type:"structure",required:["IdentityPoolId"],members:{AccountId:{},IdentityPoolId:{},Logins:{shape:"S10"}}},output:{type:"structure",members:{IdentityId:{}}}},GetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{type:"structure",members:{IdentityPoolId:{},Roles:{shape:"S1c"},RoleMappings:{shape:"S1e"}}}},GetOpenIdToken:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"S10"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},GetOpenIdTokenForDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId","Logins"],members:{IdentityPoolId:{},IdentityId:{},Logins:{shape:"S10"},TokenDuration:{type:"long"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},ListIdentities:{input:{type:"structure",required:["IdentityPoolId","MaxResults"],members:{IdentityPoolId:{},MaxResults:{type:"integer"},NextToken:{},HideDisabled:{type:"boolean"}}},output:{type:"structure",members:{IdentityPoolId:{},Identities:{type:"list",member:{shape:"Sv"}},NextToken:{}}}},ListIdentityPools:{input:{type:"structure",required:["MaxResults"],members:{MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityPools:{type:"list",member:{type:"structure",members:{IdentityPoolId:{},IdentityPoolName:{}}}},NextToken:{}}}},ListTagsForResource:{input:{type:"structure",required:["ResourceArn"],members:{ResourceArn:{}}},output:{type:"structure",members:{Tags:{shape:"Sh"}}}},LookupDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{},IdentityId:{},DeveloperUserIdentifier:{},MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityId:{},DeveloperUserIdentifierList:{type:"list",member:{}},NextToken:{}}}},MergeDeveloperIdentities:{input:{type:"structure",required:["SourceUserIdentifier","DestinationUserIdentifier","DeveloperProviderName","IdentityPoolId"],members:{SourceUserIdentifier:{},DestinationUserIdentifier:{},DeveloperProviderName:{},IdentityPoolId:{}}},output:{type:"structure",members:{IdentityId:{}}}},SetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId","Roles"],members:{IdentityPoolId:{},Roles:{shape:"S1c"},RoleMappings:{shape:"S1e"}}}},TagResource:{input:{type:"structure",required:["ResourceArn","Tags"],members:{ResourceArn:{},Tags:{shape:"Sh"}}},output:{type:"structure",members:{}}},UnlinkDeveloperIdentity:{input:{type:"structure",required:["IdentityId","IdentityPoolId","DeveloperProviderName","DeveloperUserIdentifier"],members:{IdentityId:{},IdentityPoolId:{},DeveloperProviderName:{},DeveloperUserIdentifier:{}}}},UnlinkIdentity:{input:{type:"structure",required:["IdentityId","Logins","LoginsToRemove"],members:{IdentityId:{},Logins:{shape:"S10"},LoginsToRemove:{shape:"Sw"}}}},UntagResource:{input:{type:"structure",required:["ResourceArn","TagKeys"],members:{ResourceArn:{},TagKeys:{type:"list",member:{}}}},output:{type:"structure",members:{}}},UpdateIdentityPool:{input:{shape:"Sk"},output:{shape:"Sk"}}},shapes:{S5:{type:"map",key:{},value:{}},S9:{type:"list",member:{}},Sb:{type:"list",member:{type:"structure",members:{ProviderName:{},ClientId:{},ServerSideTokenCheck:{type:"boolean"}}}},Sg:{type:"list",member:{}},Sh:{type:"map",key:{},value:{}},Sk:{type:"structure",required:["IdentityPoolId","IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolId:{},IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},AllowClassicFlow:{type:"boolean"},SupportedLoginProviders:{shape:"S5"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S9"},CognitoIdentityProviders:{shape:"Sb"},SamlProviderARNs:{shape:"Sg"},IdentityPoolTags:{shape:"Sh"}}},Sv:{type:"structure",members:{IdentityId:{},Logins:{shape:"Sw"},CreationDate:{type:"timestamp"},LastModifiedDate:{type:"timestamp"}}},Sw:{type:"list",member:{}},S10:{type:"map",key:{},value:{}},S1c:{type:"map",key:{},value:{}},S1e:{type:"map",key:{},value:{type:"structure",required:["Type"],members:{Type:{},AmbiguousRoleResolution:{},RulesConfiguration:{type:"structure",required:["Rules"],members:{Rules:{type:"list",member:{type:"structure",required:["Claim","MatchType","Value","RoleARN"],members:{Claim:{},MatchType:{},Value:{},RoleARN:{}}}}}}}}}}}},{}],2:[function(e,t,n){t.exports={pagination:{}}},{}],3:[function(e,t,n){t.exports={version:"2.0",metadata:{apiVersion:"2018-09-07",endpointPrefix:"participant.connect",jsonVersion:"1.1",protocol:"rest-json",serviceAbbreviation:"Amazon Connect Participant",serviceFullName:"Amazon Connect Participant Service",serviceId:"ConnectParticipant",signatureVersion:"v4",signingName:"execute-api",uid:"connectparticipant-2018-09-07"},operations:{CompleteAttachmentUpload:{http:{requestUri:"/participant/complete-attachment-upload"},input:{type:"structure",required:["AttachmentIds","ClientToken","ConnectionToken"],members:{AttachmentIds:{type:"list",member:{}},ClientToken:{idempotencyToken:!0},ConnectionToken:{location:"header",locationName:"X-Amz-Bearer"}}},output:{type:"structure",members:{}}},CreateParticipantConnection:{http:{requestUri:"/participant/connection"},input:{type:"structure",required:["Type","ParticipantToken"],members:{Type:{type:"list",member:{}},ParticipantToken:{location:"header",locationName:"X-Amz-Bearer"}}},output:{type:"structure",members:{Websocket:{type:"structure",members:{Url:{},ConnectionExpiry:{}}},ConnectionCredentials:{type:"structure",members:{ConnectionToken:{},Expiry:{}}}}}},DisconnectParticipant:{http:{requestUri:"/participant/disconnect"},input:{type:"structure",required:["ConnectionToken"],members:{ClientToken:{idempotencyToken:!0},ConnectionToken:{location:"header",locationName:"X-Amz-Bearer"}}},output:{type:"structure",members:{}}},GetAttachment:{http:{requestUri:"/participant/attachment"},input:{type:"structure",required:["AttachmentId","ConnectionToken"],members:{AttachmentId:{},ConnectionToken:{location:"header",locationName:"X-Amz-Bearer"}}},output:{type:"structure",members:{Url:{},UrlExpiry:{}}}},GetTranscript:{http:{requestUri:"/participant/transcript"},input:{type:"structure",required:["ConnectionToken"],members:{ContactId:{},MaxResults:{type:"integer"},NextToken:{},ScanDirection:{},SortOrder:{},StartPosition:{type:"structure",members:{Id:{},AbsoluteTime:{},MostRecent:{type:"integer"}}},ConnectionToken:{location:"header",locationName:"X-Amz-Bearer"}}},output:{type:"structure",members:{InitialContactId:{},Transcript:{type:"list",member:{type:"structure",members:{AbsoluteTime:{},Content:{},ContentType:{},Id:{},Type:{},ParticipantId:{},DisplayName:{},ParticipantRole:{},Attachments:{type:"list",member:{type:"structure",members:{ContentType:{},AttachmentId:{},AttachmentName:{},Status:{}}}}}}},NextToken:{}}}},SendEvent:{http:{requestUri:"/participant/event"},input:{type:"structure",required:["ContentType","ConnectionToken"],members:{ContentType:{},Content:{},ClientToken:{idempotencyToken:!0},ConnectionToken:{location:"header",locationName:"X-Amz-Bearer"}}},output:{type:"structure",members:{Id:{},AbsoluteTime:{}}}},SendMessage:{http:{requestUri:"/participant/message"},input:{type:"structure",required:["ContentType","Content","ConnectionToken"],members:{ContentType:{},Content:{},ClientToken:{idempotencyToken:!0},ConnectionToken:{location:"header",locationName:"X-Amz-Bearer"}}},output:{type:"structure",members:{Id:{},AbsoluteTime:{}}}},StartAttachmentUpload:{http:{requestUri:"/participant/start-attachment-upload"},input:{type:"structure",required:["ContentType","AttachmentSizeInBytes","AttachmentName","ClientToken","ConnectionToken"],members:{ContentType:{},AttachmentSizeInBytes:{type:"long"},AttachmentName:{},ClientToken:{idempotencyToken:!0},ConnectionToken:{location:"header",locationName:"X-Amz-Bearer"}}},output:{type:"structure",members:{AttachmentId:{},UploadMetadata:{type:"structure",members:{Url:{},UrlExpiry:{},HeadersToInclude:{type:"map",key:{},value:{}}}}}}}},shapes:{}}},{}],4:[function(e,t,n){t.exports={pagination:{GetTranscript:{input_token:"NextToken",output_token:"NextToken",limit_key:"MaxResults"}}}},{}],5:[function(e,t,n){t.exports={acm:{name:"ACM",cors:!0},apigateway:{name:"APIGateway",cors:!0},applicationautoscaling:{prefix:"application-autoscaling",name:"ApplicationAutoScaling",cors:!0},appstream:{name:"AppStream"},autoscaling:{name:"AutoScaling",cors:!0},batch:{name:"Batch"},budgets:{name:"Budgets"},clouddirectory:{name:"CloudDirectory",versions:["2016-05-10*"]},cloudformation:{name:"CloudFormation",cors:!0},cloudfront:{name:"CloudFront",versions:["2013-05-12*","2013-11-11*","2014-05-31*","2014-10-21*","2014-11-06*","2015-04-17*","2015-07-27*","2015-09-17*","2016-01-13*","2016-01-28*","2016-08-01*","2016-08-20*","2016-09-07*","2016-09-29*","2016-11-25*","2017-03-25*","2017-10-30*","2018-06-18*","2018-11-05*","2019-03-26*"],cors:!0},cloudhsm:{name:"CloudHSM",cors:!0},cloudsearch:{name:"CloudSearch"},cloudsearchdomain:{name:"CloudSearchDomain"},cloudtrail:{name:"CloudTrail",cors:!0},cloudwatch:{prefix:"monitoring",name:"CloudWatch",cors:!0},cloudwatchevents:{prefix:"events",name:"CloudWatchEvents",versions:["2014-02-03*"],cors:!0},cloudwatchlogs:{prefix:"logs",name:"CloudWatchLogs",cors:!0},codebuild:{name:"CodeBuild",cors:!0},codecommit:{name:"CodeCommit",cors:!0},codedeploy:{name:"CodeDeploy",cors:!0},codepipeline:{name:"CodePipeline",cors:!0},cognitoidentity:{prefix:"cognito-identity",name:"CognitoIdentity",cors:!0},cognitoidentityserviceprovider:{prefix:"cognito-idp",name:"CognitoIdentityServiceProvider",cors:!0},cognitosync:{prefix:"cognito-sync",name:"CognitoSync",cors:!0},configservice:{prefix:"config",name:"ConfigService",cors:!0},cur:{name:"CUR",cors:!0},datapipeline:{name:"DataPipeline"},devicefarm:{name:"DeviceFarm",cors:!0},directconnect:{name:"DirectConnect",cors:!0},directoryservice:{prefix:"ds",name:"DirectoryService"},discovery:{name:"Discovery"},dms:{name:"DMS"},dynamodb:{name:"DynamoDB",cors:!0},dynamodbstreams:{prefix:"streams.dynamodb",name:"DynamoDBStreams",cors:!0},ec2:{name:"EC2",versions:["2013-06-15*","2013-10-15*","2014-02-01*","2014-05-01*","2014-06-15*","2014-09-01*","2014-10-01*","2015-03-01*","2015-04-15*","2015-10-01*","2016-04-01*","2016-09-15*"],cors:!0},ecr:{name:"ECR",cors:!0},ecs:{name:"ECS",cors:!0},efs:{prefix:"elasticfilesystem",name:"EFS",cors:!0},elasticache:{name:"ElastiCache",versions:["2012-11-15*","2014-03-24*","2014-07-15*","2014-09-30*"],cors:!0},elasticbeanstalk:{name:"ElasticBeanstalk",cors:!0},elb:{prefix:"elasticloadbalancing",name:"ELB",cors:!0},elbv2:{prefix:"elasticloadbalancingv2",name:"ELBv2",cors:!0},emr:{prefix:"elasticmapreduce",name:"EMR",cors:!0},es:{name:"ES"},elastictranscoder:{name:"ElasticTranscoder",cors:!0},firehose:{name:"Firehose",cors:!0},gamelift:{name:"GameLift",cors:!0},glacier:{name:"Glacier"},health:{name:"Health"},iam:{name:"IAM",cors:!0},importexport:{name:"ImportExport"},inspector:{name:"Inspector",versions:["2015-08-18*"],cors:!0},iot:{name:"Iot",cors:!0},iotdata:{prefix:"iot-data",name:"IotData",cors:!0},kinesis:{name:"Kinesis",cors:!0},kinesisanalytics:{name:"KinesisAnalytics"},kms:{name:"KMS",cors:!0},lambda:{name:"Lambda",cors:!0},lexruntime:{prefix:"runtime.lex",name:"LexRuntime",cors:!0},lightsail:{name:"Lightsail"},machinelearning:{name:"MachineLearning",cors:!0},marketplacecommerceanalytics:{name:"MarketplaceCommerceAnalytics",cors:!0},marketplacemetering:{prefix:"meteringmarketplace",name:"MarketplaceMetering"},mturk:{prefix:"mturk-requester",name:"MTurk",cors:!0},mobileanalytics:{name:"MobileAnalytics",cors:!0},opsworks:{name:"OpsWorks",cors:!0},opsworkscm:{name:"OpsWorksCM"},organizations:{name:"Organizations"},pinpoint:{name:"Pinpoint"},polly:{name:"Polly",cors:!0},rds:{name:"RDS",versions:["2014-09-01*"],cors:!0},redshift:{name:"Redshift",cors:!0},rekognition:{name:"Rekognition",cors:!0},resourcegroupstaggingapi:{name:"ResourceGroupsTaggingAPI"},route53:{name:"Route53",cors:!0},route53domains:{name:"Route53Domains",cors:!0},s3:{name:"S3",dualstackAvailable:!0,cors:!0},s3control:{name:"S3Control",dualstackAvailable:!0,xmlNoDefaultLists:!0},servicecatalog:{name:"ServiceCatalog",cors:!0},ses:{prefix:"email",name:"SES",cors:!0},shield:{name:"Shield"},simpledb:{prefix:"sdb",name:"SimpleDB"},sms:{name:"SMS"},snowball:{name:"Snowball"},sns:{name:"SNS",cors:!0},sqs:{name:"SQS",cors:!0},ssm:{name:"SSM",cors:!0},storagegateway:{name:"StorageGateway",cors:!0},stepfunctions:{prefix:"states",name:"StepFunctions"},sts:{name:"STS",cors:!0},support:{name:"Support"},swf:{name:"SWF"},xray:{name:"XRay",cors:!0},waf:{name:"WAF",cors:!0},wafregional:{prefix:"waf-regional",name:"WAFRegional"},workdocs:{name:"WorkDocs",cors:!0},workspaces:{name:"WorkSpaces"},codestar:{name:"CodeStar"},lexmodelbuildingservice:{prefix:"lex-models",name:"LexModelBuildingService",cors:!0},marketplaceentitlementservice:{prefix:"entitlement.marketplace",name:"MarketplaceEntitlementService"},athena:{name:"Athena"},greengrass:{name:"Greengrass"},dax:{name:"DAX"},migrationhub:{prefix:"AWSMigrationHub",name:"MigrationHub"},cloudhsmv2:{name:"CloudHSMV2"},glue:{name:"Glue"},mobile:{name:"Mobile"},pricing:{name:"Pricing",cors:!0},costexplorer:{prefix:"ce",name:"CostExplorer",cors:!0},mediaconvert:{name:"MediaConvert"},medialive:{name:"MediaLive"},mediapackage:{name:"MediaPackage"},mediastore:{name:"MediaStore"},mediastoredata:{prefix:"mediastore-data",name:"MediaStoreData",cors:!0},appsync:{name:"AppSync"},guardduty:{name:"GuardDuty"},mq:{name:"MQ"},comprehend:{name:"Comprehend",cors:!0},iotjobsdataplane:{prefix:"iot-jobs-data",name:"IoTJobsDataPlane"},kinesisvideoarchivedmedia:{prefix:"kinesis-video-archived-media",name:"KinesisVideoArchivedMedia",cors:!0},kinesisvideomedia:{prefix:"kinesis-video-media",name:"KinesisVideoMedia",cors:!0},kinesisvideo:{name:"KinesisVideo",cors:!0},sagemakerruntime:{prefix:"runtime.sagemaker",name:"SageMakerRuntime"},sagemaker:{name:"SageMaker"},translate:{name:"Translate",cors:!0},resourcegroups:{prefix:"resource-groups",name:"ResourceGroups",cors:!0},alexaforbusiness:{name:"AlexaForBusiness"},cloud9:{name:"Cloud9"},serverlessapplicationrepository:{prefix:"serverlessrepo",name:"ServerlessApplicationRepository"},servicediscovery:{name:"ServiceDiscovery"},workmail:{name:"WorkMail"},autoscalingplans:{prefix:"autoscaling-plans",name:"AutoScalingPlans"},transcribeservice:{prefix:"transcribe",name:"TranscribeService"},connect:{name:"Connect",cors:!0},acmpca:{prefix:"acm-pca",name:"ACMPCA"},fms:{name:"FMS"},secretsmanager:{name:"SecretsManager",cors:!0},iotanalytics:{name:"IoTAnalytics",cors:!0},iot1clickdevicesservice:{prefix:"iot1click-devices",name:"IoT1ClickDevicesService"},iot1clickprojects:{prefix:"iot1click-projects",name:"IoT1ClickProjects"},pi:{name:"PI"},neptune:{name:"Neptune"},mediatailor:{name:"MediaTailor"},eks:{name:"EKS"},macie:{name:"Macie"},dlm:{name:"DLM"},signer:{name:"Signer"},chime:{name:"Chime"},pinpointemail:{prefix:"pinpoint-email",name:"PinpointEmail"},ram:{name:"RAM"},route53resolver:{name:"Route53Resolver"},pinpointsmsvoice:{prefix:"sms-voice",name:"PinpointSMSVoice"},quicksight:{name:"QuickSight"},rdsdataservice:{prefix:"rds-data",name:"RDSDataService"},amplify:{name:"Amplify"},datasync:{name:"DataSync"},robomaker:{name:"RoboMaker"},transfer:{name:"Transfer"},globalaccelerator:{name:"GlobalAccelerator"},comprehendmedical:{name:"ComprehendMedical",cors:!0},kinesisanalyticsv2:{name:"KinesisAnalyticsV2"},mediaconnect:{name:"MediaConnect"},fsx:{name:"FSx"},securityhub:{name:"SecurityHub"},appmesh:{name:"AppMesh",versions:["2018-10-01*"]},licensemanager:{prefix:"license-manager",name:"LicenseManager"},kafka:{name:"Kafka"},apigatewaymanagementapi:{name:"ApiGatewayManagementApi"},apigatewayv2:{name:"ApiGatewayV2"},docdb:{name:"DocDB"},backup:{name:"Backup"},worklink:{name:"WorkLink"},textract:{name:"Textract"},managedblockchain:{name:"ManagedBlockchain"},mediapackagevod:{prefix:"mediapackage-vod",name:"MediaPackageVod"},groundstation:{name:"GroundStation"},iotthingsgraph:{name:"IoTThingsGraph"},iotevents:{name:"IoTEvents"},ioteventsdata:{prefix:"iotevents-data",name:"IoTEventsData"},personalize:{name:"Personalize",cors:!0},personalizeevents:{prefix:"personalize-events",name:"PersonalizeEvents",cors:!0},personalizeruntime:{prefix:"personalize-runtime",name:"PersonalizeRuntime",cors:!0},applicationinsights:{prefix:"application-insights",name:"ApplicationInsights"},servicequotas:{prefix:"service-quotas",name:"ServiceQuotas"},ec2instanceconnect:{prefix:"ec2-instance-connect",name:"EC2InstanceConnect"},eventbridge:{name:"EventBridge"},lakeformation:{name:"LakeFormation"},forecastservice:{prefix:"forecast",name:"ForecastService",cors:!0},forecastqueryservice:{prefix:"forecastquery",name:"ForecastQueryService",cors:!0},qldb:{name:"QLDB"},qldbsession:{prefix:"qldb-session",name:"QLDBSession"},workmailmessageflow:{name:"WorkMailMessageFlow"},codestarnotifications:{prefix:"codestar-notifications",name:"CodeStarNotifications"},savingsplans:{name:"SavingsPlans"},sso:{name:"SSO"},ssooidc:{prefix:"sso-oidc",name:"SSOOIDC"},marketplacecatalog:{prefix:"marketplace-catalog",name:"MarketplaceCatalog"},dataexchange:{name:"DataExchange"},sesv2:{name:"SESV2"},migrationhubconfig:{prefix:"migrationhub-config",name:"MigrationHubConfig"},connectparticipant:{name:"ConnectParticipant"},appconfig:{name:"AppConfig"},iotsecuretunneling:{name:"IoTSecureTunneling"},wafv2:{name:"WAFV2"},elasticinference:{prefix:"elastic-inference",name:"ElasticInference"},imagebuilder:{name:"Imagebuilder"},schemas:{name:"Schemas"},accessanalyzer:{name:"AccessAnalyzer"},codegurureviewer:{prefix:"codeguru-reviewer",name:"CodeGuruReviewer"},codeguruprofiler:{name:"CodeGuruProfiler"},computeoptimizer:{prefix:"compute-optimizer",name:"ComputeOptimizer"},frauddetector:{name:"FraudDetector"},kendra:{name:"Kendra"},networkmanager:{name:"NetworkManager"},outposts:{name:"Outposts"},augmentedairuntime:{prefix:"sagemaker-a2i-runtime",name:"AugmentedAIRuntime"},ebs:{name:"EBS"},kinesisvideosignalingchannels:{prefix:"kinesis-video-signaling",name:"KinesisVideoSignalingChannels",cors:!0},detective:{name:"Detective"},codestarconnections:{prefix:"codestar-connections",name:"CodeStarconnections"},synthetics:{name:"Synthetics"},iotsitewise:{name:"IoTSiteWise"},macie2:{name:"Macie2"},codeartifact:{name:"CodeArtifact"},honeycode:{name:"Honeycode"},ivs:{name:"IVS"},braket:{name:"Braket"},identitystore:{name:"IdentityStore"},appflow:{name:"Appflow"},redshiftdata:{prefix:"redshift-data",name:"RedshiftData"},ssoadmin:{prefix:"sso-admin",name:"SSOAdmin"},timestreamquery:{prefix:"timestream-query",name:"TimestreamQuery"},timestreamwrite:{prefix:"timestream-write",name:"TimestreamWrite"},s3outposts:{name:"S3Outposts"}}},{}],6:[function(e,t,n){t.exports={version:"2.0",metadata:{apiVersion:"2011-06-15",endpointPrefix:"sts",globalEndpoint:"sts.amazonaws.com",protocol:"query",serviceAbbreviation:"AWS STS",serviceFullName:"AWS Security Token Service",serviceId:"STS",signatureVersion:"v4",uid:"sts-2011-06-15",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/"},operations:{AssumeRole:{input:{type:"structure",required:["RoleArn","RoleSessionName"],members:{RoleArn:{},RoleSessionName:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"},Tags:{shape:"S8"},TransitiveTagKeys:{type:"list",member:{}},ExternalId:{},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"AssumeRoleResult",type:"structure",members:{Credentials:{shape:"Sh"},AssumedRoleUser:{shape:"Sm"},PackedPolicySize:{type:"integer"}}}},AssumeRoleWithSAML:{input:{type:"structure",required:["RoleArn","PrincipalArn","SAMLAssertion"],members:{RoleArn:{},PrincipalArn:{},SAMLAssertion:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithSAMLResult",type:"structure",members:{Credentials:{shape:"Sh"},AssumedRoleUser:{shape:"Sm"},PackedPolicySize:{type:"integer"},Subject:{},SubjectType:{},Issuer:{},Audience:{},NameQualifier:{}}}},AssumeRoleWithWebIdentity:{input:{type:"structure",required:["RoleArn","RoleSessionName","WebIdentityToken"],members:{RoleArn:{},RoleSessionName:{},WebIdentityToken:{},ProviderId:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithWebIdentityResult",type:"structure",members:{Credentials:{shape:"Sh"},SubjectFromWebIdentityToken:{},AssumedRoleUser:{shape:"Sm"},PackedPolicySize:{type:"integer"},Provider:{},Audience:{}}}},DecodeAuthorizationMessage:{input:{type:"structure",required:["EncodedMessage"],members:{EncodedMessage:{}}},output:{resultWrapper:"DecodeAuthorizationMessageResult",type:"structure",members:{DecodedMessage:{}}}},GetAccessKeyInfo:{input:{type:"structure",required:["AccessKeyId"],members:{AccessKeyId:{}}},output:{resultWrapper:"GetAccessKeyInfoResult",type:"structure",members:{Account:{}}}},GetCallerIdentity:{input:{type:"structure",members:{}},output:{resultWrapper:"GetCallerIdentityResult",type:"structure",members:{UserId:{},Account:{},Arn:{}}}},GetFederationToken:{input:{type:"structure",required:["Name"],members:{Name:{},Policy:{},PolicyArns:{shape:"S4"},DurationSeconds:{type:"integer"},Tags:{shape:"S8"}}},output:{resultWrapper:"GetFederationTokenResult",type:"structure",members:{Credentials:{shape:"Sh"},FederatedUser:{type:"structure",required:["FederatedUserId","Arn"],members:{FederatedUserId:{},Arn:{}}},PackedPolicySize:{type:"integer"}}}},GetSessionToken:{input:{type:"structure",members:{DurationSeconds:{type:"integer"},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"GetSessionTokenResult",type:"structure",members:{Credentials:{shape:"Sh"}}}}},shapes:{S4:{type:"list",member:{type:"structure",members:{arn:{}}}},S8:{type:"list",member:{type:"structure",required:["Key","Value"],members:{Key:{},Value:{}}}},Sh:{type:"structure",required:["AccessKeyId","SecretAccessKey","SessionToken","Expiration"],members:{AccessKeyId:{},SecretAccessKey:{},SessionToken:{},Expiration:{type:"timestamp"}}},Sm:{type:"structure",required:["AssumedRoleId","Arn"],members:{AssumedRoleId:{},Arn:{}}}}}},{}],7:[function(e,t,n){arguments[4][2][0].apply(n,arguments)},{dup:2}],8:[function(e,t,n){e("../lib/node_loader");var r=e("../lib/core"),i=r.Service,o=r.apiLoader;o.services.cognitoidentity={},r.CognitoIdentity=i.defineService("cognitoidentity",["2014-06-30"]),e("../lib/services/cognitoidentity"),Object.defineProperty(o.services.cognitoidentity,"2014-06-30",{get:function(){var t=e("../apis/cognito-identity-2014-06-30.min.json");return t.paginators=e("../apis/cognito-identity-2014-06-30.paginators.json").pagination,t},enumerable:!0,configurable:!0}),t.exports=r.CognitoIdentity},{"../apis/cognito-identity-2014-06-30.min.json":1,"../apis/cognito-identity-2014-06-30.paginators.json":2,"../lib/core":20,"../lib/node_loader":17,"../lib/services/cognitoidentity":62}],9:[function(e,t,n){e("../lib/node_loader");var r=e("../lib/core"),i=r.Service,o=r.apiLoader;o.services.sts={},r.STS=i.defineService("sts",["2011-06-15"]),e("../lib/services/sts"),Object.defineProperty(o.services.sts,"2011-06-15",{get:function(){var t=e("../apis/sts-2011-06-15.min.json");return t.paginators=e("../apis/sts-2011-06-15.paginators.json").pagination,t},enumerable:!0,configurable:!0}),t.exports=r.STS},{"../apis/sts-2011-06-15.min.json":6,"../apis/sts-2011-06-15.paginators.json":7,"../lib/core":20,"../lib/node_loader":17,"../lib/services/sts":63}],10:[function(e,t,n){function r(e,t){if(!r.services.hasOwnProperty(e))throw new Error("InvalidService: Failed to load api for "+e);return r.services[e][t]}r.services={},t.exports=r},{}],11:[function(e,t,n){var r=e("./browserHmac"),i=e("./browserMd5"),o=e("./browserSha1"),a=e("./browserSha256");t.exports={createHash:function(e){if("md5"===(e=e.toLowerCase()))return new i;if("sha256"===e)return new a;if("sha1"===e)return new o;throw new Error("Hash algorithm "+e+" is not supported in the browser SDK")},createHmac:function(e,t){if("md5"===(e=e.toLowerCase()))return new r(i,t);if("sha256"===e)return new r(a,t);if("sha1"===e)return new r(o,t);throw new Error("HMAC algorithm "+e+" is not supported in the browser SDK")},createSign:function(){throw new Error("createSign is not implemented in the browser")}}},{"./browserHmac":13,"./browserMd5":14,"./browserSha1":15,"./browserSha256":16}],12:[function(e,t,n){var r=e("buffer/").Buffer;"undefined"!=typeof ArrayBuffer&&void 0===ArrayBuffer.isView&&(ArrayBuffer.isView=function(e){return i.indexOf(Object.prototype.toString.call(e))>-1});var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"];t.exports={isEmptyData:function(e){return"string"==typeof e?0===e.length:0===e.byteLength},convertToBuffer:function(e){return"string"==typeof e&&(e=new r(e,"utf8")),ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}}},{"buffer/":82}],13:[function(e,t,n){function r(e,t){this.hash=new e,this.outer=new e;var n=i(e,t),r=new Uint8Array(e.BLOCK_SIZE);r.set(n);for(var o=0;o<e.BLOCK_SIZE;o++)n[o]^=54,r[o]^=92;for(this.hash.update(n),this.outer.update(r),o=0;o<n.byteLength;o++)n[o]=0}function i(e,t){var n=o.convertToBuffer(t);if(n.byteLength>e.BLOCK_SIZE){var r=new e;r.update(n),n=r.digest()}var i=new Uint8Array(e.BLOCK_SIZE);return i.set(n),i}var o=e("./browserHashUtils");t.exports=r,r.prototype.update=function(e){if(o.isEmptyData(e)||this.error)return this;try{this.hash.update(o.convertToBuffer(e))}catch(e){this.error=e}return this},r.prototype.digest=function(e){return this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest(e)}},{"./browserHashUtils":12}],14:[function(e,t,n){function r(){this.state=[1732584193,4023233417,2562383102,271733878],this.buffer=new DataView(new ArrayBuffer(d)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}function i(e,t,n,r,i,o){return((t=(t+e&4294967295)+(r+o&4294967295)&4294967295)<<i|t>>>32-i)+n&4294967295}function o(e,t,n,r,o,a,s){return i(t&n|~t&r,e,t,o,a,s)}function a(e,t,n,r,o,a,s){return i(t&r|n&~r,e,t,o,a,s)}function s(e,t,n,r,o,a,s){return i(t^n^r,e,t,o,a,s)}function c(e,t,n,r,o,a,s){return i(n^(t|~r),e,t,o,a,s)}var u=e("./browserHashUtils"),l=e("buffer/").Buffer,d=64;t.exports=r,r.BLOCK_SIZE=d,r.prototype.update=function(e){if(u.isEmptyData(e))return this;if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=u.convertToBuffer(e),n=0,r=t.byteLength;for(this.bytesHashed+=r;r>0;)this.buffer.setUint8(this.bufferLength++,t[n++]),r--,this.bufferLength===d&&(this.hashBuffer(),this.bufferLength=0);return this},r.prototype.digest=function(e){if(!this.finished){var t=this,n=t.buffer,r=t.bufferLength,i=8*t.bytesHashed;if(n.setUint8(this.bufferLength++,128),r%d>=d-8){for(var o=this.bufferLength;o<d;o++)n.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<d-8;o++)n.setUint8(o,0);n.setUint32(d-8,i>>>0,!0),n.setUint32(d-4,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}var a=new DataView(new ArrayBuffer(16));for(o=0;o<4;o++)a.setUint32(4*o,this.state[o],!0);var s=new l(a.buffer,a.byteOffset,a.byteLength);return e?s.toString(e):s},r.prototype.hashBuffer=function(){var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],u=t[3];n=o(n,r,i,u,e.getUint32(0,!0),7,3614090360),u=o(u,n,r,i,e.getUint32(4,!0),12,3905402710),i=o(i,u,n,r,e.getUint32(8,!0),17,606105819),r=o(r,i,u,n,e.getUint32(12,!0),22,3250441966),n=o(n,r,i,u,e.getUint32(16,!0),7,4118548399),u=o(u,n,r,i,e.getUint32(20,!0),12,1200080426),i=o(i,u,n,r,e.getUint32(24,!0),17,2821735955),r=o(r,i,u,n,e.getUint32(28,!0),22,4249261313),n=o(n,r,i,u,e.getUint32(32,!0),7,1770035416),u=o(u,n,r,i,e.getUint32(36,!0),12,2336552879),i=o(i,u,n,r,e.getUint32(40,!0),17,4294925233),r=o(r,i,u,n,e.getUint32(44,!0),22,2304563134),n=o(n,r,i,u,e.getUint32(48,!0),7,1804603682),u=o(u,n,r,i,e.getUint32(52,!0),12,4254626195),i=o(i,u,n,r,e.getUint32(56,!0),17,2792965006),n=a(n,r=o(r,i,u,n,e.getUint32(60,!0),22,1236535329),i,u,e.getUint32(4,!0),5,4129170786),u=a(u,n,r,i,e.getUint32(24,!0),9,3225465664),i=a(i,u,n,r,e.getUint32(44,!0),14,643717713),r=a(r,i,u,n,e.getUint32(0,!0),20,3921069994),n=a(n,r,i,u,e.getUint32(20,!0),5,3593408605),u=a(u,n,r,i,e.getUint32(40,!0),9,38016083),i=a(i,u,n,r,e.getUint32(60,!0),14,3634488961),r=a(r,i,u,n,e.getUint32(16,!0),20,3889429448),n=a(n,r,i,u,e.getUint32(36,!0),5,568446438),u=a(u,n,r,i,e.getUint32(56,!0),9,3275163606),i=a(i,u,n,r,e.getUint32(12,!0),14,4107603335),r=a(r,i,u,n,e.getUint32(32,!0),20,1163531501),n=a(n,r,i,u,e.getUint32(52,!0),5,2850285829),u=a(u,n,r,i,e.getUint32(8,!0),9,4243563512),i=a(i,u,n,r,e.getUint32(28,!0),14,1735328473),n=s(n,r=a(r,i,u,n,e.getUint32(48,!0),20,2368359562),i,u,e.getUint32(20,!0),4,4294588738),u=s(u,n,r,i,e.getUint32(32,!0),11,2272392833),i=s(i,u,n,r,e.getUint32(44,!0),16,1839030562),r=s(r,i,u,n,e.getUint32(56,!0),23,4259657740),n=s(n,r,i,u,e.getUint32(4,!0),4,2763975236),u=s(u,n,r,i,e.getUint32(16,!0),11,1272893353),i=s(i,u,n,r,e.getUint32(28,!0),16,4139469664),r=s(r,i,u,n,e.getUint32(40,!0),23,3200236656),n=s(n,r,i,u,e.getUint32(52,!0),4,681279174),u=s(u,n,r,i,e.getUint32(0,!0),11,3936430074),i=s(i,u,n,r,e.getUint32(12,!0),16,3572445317),r=s(r,i,u,n,e.getUint32(24,!0),23,76029189),n=s(n,r,i,u,e.getUint32(36,!0),4,3654602809),u=s(u,n,r,i,e.getUint32(48,!0),11,3873151461),i=s(i,u,n,r,e.getUint32(60,!0),16,530742520),n=c(n,r=s(r,i,u,n,e.getUint32(8,!0),23,3299628645),i,u,e.getUint32(0,!0),6,4096336452),u=c(u,n,r,i,e.getUint32(28,!0),10,1126891415),i=c(i,u,n,r,e.getUint32(56,!0),15,2878612391),r=c(r,i,u,n,e.getUint32(20,!0),21,4237533241),n=c(n,r,i,u,e.getUint32(48,!0),6,1700485571),u=c(u,n,r,i,e.getUint32(12,!0),10,2399980690),i=c(i,u,n,r,e.getUint32(40,!0),15,4293915773),r=c(r,i,u,n,e.getUint32(4,!0),21,2240044497),n=c(n,r,i,u,e.getUint32(32,!0),6,1873313359),u=c(u,n,r,i,e.getUint32(60,!0),10,4264355552),i=c(i,u,n,r,e.getUint32(24,!0),15,2734768916),r=c(r,i,u,n,e.getUint32(52,!0),21,1309151649),n=c(n,r,i,u,e.getUint32(16,!0),6,4149444226),u=c(u,n,r,i,e.getUint32(44,!0),10,3174756917),i=c(i,u,n,r,e.getUint32(8,!0),15,718787259),r=c(r,i,u,n,e.getUint32(36,!0),21,3951481745),t[0]=n+t[0]&4294967295,t[1]=r+t[1]&4294967295,t[2]=i+t[2]&4294967295,t[3]=u+t[3]&4294967295}},{"./browserHashUtils":12,"buffer/":82}],15:[function(e,t,n){function r(){this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=new Uint32Array(80),this.offset=0,this.shift=24,this.totalLength=0}var i=e("buffer/").Buffer,o=e("./browserHashUtils");new Uint32Array([1518500249,1859775393,-1894007588,-899497514]),Math.pow(2,53),t.exports=r,r.BLOCK_SIZE=64,r.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");if(o.isEmptyData(e))return this;var t=(e=o.convertToBuffer(e)).length;this.totalLength+=8*t;for(var n=0;n<t;n++)this.write(e[n]);return this},r.prototype.write=function(e){this.block[this.offset]|=(255&e)<<this.shift,this.shift?this.shift-=8:(this.offset++,this.shift=24),16===this.offset&&this.processBlock()},r.prototype.digest=function(e){this.write(128),(this.offset>14||14===this.offset&&this.shift<24)&&this.processBlock(),this.offset=14,this.shift=24,this.write(0),this.write(0),this.write(this.totalLength>0xffffffffff?this.totalLength/1099511627776:0),this.write(this.totalLength>4294967295?this.totalLength/4294967296:0);for(var t=24;t>=0;t-=8)this.write(this.totalLength>>t);var n=new i(20),r=new DataView(n.buffer);return r.setUint32(0,this.h0,!1),r.setUint32(4,this.h1,!1),r.setUint32(8,this.h2,!1),r.setUint32(12,this.h3,!1),r.setUint32(16,this.h4,!1),e?n.toString(e):n},r.prototype.processBlock=function(){for(var e=16;e<80;e++){var t=this.block[e-3]^this.block[e-8]^this.block[e-14]^this.block[e-16];this.block[e]=t<<1|t>>>31}var n,r,i=this.h0,o=this.h1,a=this.h2,s=this.h3,c=this.h4;for(e=0;e<80;e++){e<20?(n=s^o&(a^s),r=1518500249):e<40?(n=o^a^s,r=1859775393):e<60?(n=o&a|s&(o|a),r=2400959708):(n=o^a^s,r=3395469782);var u=(i<<5|i>>>27)+n+c+r+(0|this.block[e]);c=s,s=a,a=o<<30|o>>>2,o=i,i=u}for(this.h0=this.h0+i|0,this.h1=this.h1+o|0,this.h2=this.h2+a|0,this.h3=this.h3+s|0,this.h4=this.h4+c|0,this.offset=0,e=0;e<16;e++)this.block[e]=0}},{"./browserHashUtils":12,"buffer/":82}],16:[function(e,t,n){function r(){this.state=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}var i=e("buffer/").Buffer,o=e("./browserHashUtils"),a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=Math.pow(2,53)-1;t.exports=r,r.BLOCK_SIZE=64,r.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");if(o.isEmptyData(e))return this;var t=0,n=(e=o.convertToBuffer(e)).byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>s)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0);return this},r.prototype.digest=function(e){if(!this.finished){var t=8*this.bytesHashed,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(n.setUint8(this.bufferLength++,128),r%64>=56){for(var o=this.bufferLength;o<64;o++)n.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<56;o++)n.setUint8(o,0);n.setUint32(56,Math.floor(t/4294967296),!0),n.setUint32(60,t),this.hashBuffer(),this.finished=!0}var a=new i(32);for(o=0;o<8;o++)a[4*o]=this.state[o]>>>24&255,a[4*o+1]=this.state[o]>>>16&255,a[4*o+2]=this.state[o]>>>8&255,a[4*o+3]=this.state[o]>>>0&255;return e?a.toString(e):a},r.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],c=t[5],u=t[6],l=t[7],d=0;d<64;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var f=this.temp[d-2],p=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,h=((f=this.temp[d-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(p+this.temp[d-7]|0)+(h+this.temp[d-16]|0)}var m=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&c^~s&u)|0)+(l+(a[d]+this.temp[d]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&i^r&i)|0;l=u,u=c,c=s,s=o+m|0,o=i,i=r,r=n,n=m+g|0}t[0]+=n,t[1]+=r,t[2]+=i,t[3]+=o,t[4]+=s,t[5]+=c,t[6]+=u,t[7]+=l}},{"./browserHashUtils":12,"buffer/":82}],17:[function(e,t,n){(function(n){(function(){var n=e("./util");n.crypto.lib=e("./browserCryptoLib"),n.Buffer=e("buffer/").Buffer,n.url=e("url/"),n.querystring=e("querystring/"),n.realClock=e("./realclock/browserClock"),n.environment="js",n.createEventStream=e("./event-stream/buffered-create-event-stream").createEventStream,n.isBrowser=function(){return!0},n.isNode=function(){return!1};var r=e("./core");if(t.exports=r,e("./credentials"),e("./credentials/credential_provider_chain"),e("./credentials/temporary_credentials"),e("./credentials/chainable_temporary_credentials"),e("./credentials/web_identity_credentials"),e("./credentials/cognito_identity_credentials"),e("./credentials/saml_credentials"),r.XML.Parser=e("./xml/browser_parser"),e("./http/xhr"),void 0===i)var i={browser:!0}}).call(this)}).call(this,e("_process"))},{"./browserCryptoLib":11,"./core":20,"./credentials":21,"./credentials/chainable_temporary_credentials":22,"./credentials/cognito_identity_credentials":23,"./credentials/credential_provider_chain":24,"./credentials/saml_credentials":25,"./credentials/temporary_credentials":26,"./credentials/web_identity_credentials":27,"./event-stream/buffered-create-event-stream":29,"./http/xhr":37,"./realclock/browserClock":54,"./util":73,"./xml/browser_parser":74,_process:87,"buffer/":82,"querystring/":94,"url/":96}],18:[function(e,t,n){var r,i=e("./core");e("./credentials"),e("./credentials/credential_provider_chain"),i.Config=i.util.inherit({constructor:function(e){void 0===e&&(e={}),e=this.extractCredentials(e),i.util.each.call(this,this.keys,(function(t,n){this.set(t,e[t],n)}))},getCredentials:function(e){function t(t){e(t,t?null:r.credentials)}function n(e,t){return new i.util.error(t||new Error,{code:"CredentialsError",message:e,name:"CredentialsError"})}var r=this;r.credentials?"function"==typeof r.credentials.get?r.credentials.get((function(e){e&&(e=n("Could not load credentials from "+r.credentials.constructor.name,e)),t(e)})):function(){var e=null;r.credentials.accessKeyId&&r.credentials.secretAccessKey||(e=n("Missing credentials")),t(e)}():r.credentialProvider?r.credentialProvider.resolve((function(e,i){e&&(e=n("Could not load credentials from any providers",e)),r.credentials=i,t(e)})):t(n("No credentials to load"))},update:function(e,t){t=t||!1,e=this.extractCredentials(e),i.util.each.call(this,e,(function(e,n){(t||Object.prototype.hasOwnProperty.call(this.keys,e)||i.Service.hasService(e))&&this.set(e,n)}))},loadFromPath:function(e){this.clear();var t=JSON.parse(i.util.readFileSync(e)),n=new i.FileSystemCredentials(e),r=new i.CredentialProviderChain;return r.providers.unshift(n),r.resolve((function(e,n){if(e)throw e;t.credentials=n})),this.constructor(t),this},clear:function(){i.util.each.call(this,this.keys,(function(e){delete this[e]})),this.set("credentials",void 0),this.set("credentialProvider",void 0)},set:function(e,t,n){void 0===t?(void 0===n&&(n=this.keys[e]),this[e]="function"==typeof n?n.call(this):n):"httpOptions"===e&&this[e]?this[e]=i.util.merge(this[e],t):this[e]=t},keys:{credentials:null,credentialProvider:null,region:null,logger:null,apiVersions:{},apiVersion:null,endpoint:void 0,httpOptions:{timeout:12e4},maxRetries:void 0,maxRedirects:10,paramValidation:!0,sslEnabled:!0,s3ForcePathStyle:!1,s3BucketEndpoint:!1,s3DisableBodySigning:!0,s3UsEast1RegionalEndpoint:"legacy",s3UseArnRegion:void 0,computeChecksums:!0,convertResponseTypes:!0,correctClockSkew:!1,customUserAgent:null,dynamoDbCrc32:!0,systemClockOffset:0,signatureVersion:null,signatureCache:!0,retryDelayOptions:{},useAccelerateEndpoint:!1,clientSideMonitoring:!1,endpointDiscoveryEnabled:void 0,endpointCacheSize:1e3,hostPrefixEnabled:!0,stsRegionalEndpoints:"legacy"},extractCredentials:function(e){return e.accessKeyId&&e.secretAccessKey&&((e=i.util.copy(e)).credentials=new i.Credentials(e)),e},setPromisesDependency:function(e){r=e,null===e&&"function"==typeof Promise&&(r=Promise);var t=[i.Request,i.Credentials,i.CredentialProviderChain];i.S3&&(t.push(i.S3),i.S3.ManagedUpload&&t.push(i.S3.ManagedUpload)),i.util.addPromises(t,r)},getPromisesDependency:function(){return r}}),i.config=new i.Config},{"./core":20,"./credentials":21,"./credentials/credential_provider_chain":24}],19:[function(e,t,n){(function(n){(function(){function r(e,t){if("string"==typeof e){if(["legacy","regional"].indexOf(e.toLowerCase())>=0)return e.toLowerCase();throw i.util.error(new Error,t)}}var i=e("./core");t.exports=function(e,t){var o;if((e=e||{})[t.clientConfig]&&(o=r(e[t.clientConfig],{code:"InvalidConfiguration",message:'invalid "'+t.clientConfig+'" configuration. Expect "legacy"  or "regional". Got "'+e[t.clientConfig]+'".'})))return o;if(!i.util.isNode())return o;if(Object.prototype.hasOwnProperty.call(n.env,t.env)&&(o=r(n.env[t.env],{code:"InvalidEnvironmentalVariable",message:"invalid "+t.env+' environmental variable. Expect "legacy"  or "regional". Got "'+n.env[t.env]+'".'})))return o;var a={};try{a=i.util.getProfilesFromSharedConfig(i.util.iniLoader)[n.env.AWS_PROFILE||i.util.defaultProfile]}catch(e){}return a&&Object.prototype.hasOwnProperty.call(a,t.sharedConfig)&&(o=r(a[t.sharedConfig],{code:"InvalidConfiguration",message:"invalid "+t.sharedConfig+' profile config. Expect "legacy"  or "regional". Got "'+a[t.sharedConfig]+'".'})),o}}).call(this)}).call(this,e("_process"))},{"./core":20,_process:87}],20:[function(e,t,n){var r={util:e("./util")};({}).toString(),t.exports=r,r.util.update(r,{VERSION:"2.772.0",Signers:{},Protocol:{Json:e("./protocol/json"),Query:e("./protocol/query"),Rest:e("./protocol/rest"),RestJson:e("./protocol/rest_json"),RestXml:e("./protocol/rest_xml")},XML:{Builder:e("./xml/builder"),Parser:null},JSON:{Builder:e("./json/builder"),Parser:e("./json/parser")},Model:{Api:e("./model/api"),Operation:e("./model/operation"),Shape:e("./model/shape"),Paginator:e("./model/paginator"),ResourceWaiter:e("./model/resource_waiter")},apiLoader:e("./api_loader"),EndpointCache:e("../vendor/endpoint-cache").EndpointCache}),e("./sequential_executor"),e("./service"),e("./config"),e("./http"),e("./event_listeners"),e("./request"),e("./response"),e("./resource_waiter"),e("./signers/request_signer"),e("./param_validator"),r.events=new r.SequentialExecutor,r.util.memoizedProperty(r,"endpointCache",(function(){return new r.EndpointCache(r.config.endpointCacheSize)}),!0)},{"../vendor/endpoint-cache":105,"./api_loader":10,"./config":18,"./event_listeners":35,"./http":36,"./json/builder":38,"./json/parser":39,"./model/api":40,"./model/operation":42,"./model/paginator":43,"./model/resource_waiter":44,"./model/shape":45,"./param_validator":46,"./protocol/json":48,"./protocol/query":49,"./protocol/rest":50,"./protocol/rest_json":51,"./protocol/rest_xml":52,"./request":57,"./resource_waiter":58,"./response":59,"./sequential_executor":60,"./service":61,"./signers/request_signer":65,"./util":73,"./xml/builder":75}],21:[function(e,t,n){var r=e("./core");r.Credentials=r.util.inherit({constructor:function(){if(r.util.hideProperties(this,["secretAccessKey"]),this.expired=!1,this.expireTime=null,this.refreshCallbacks=[],1===arguments.length&&"object"==o(arguments[0])){var e=arguments[0].credentials||arguments[0];this.accessKeyId=e.accessKeyId,this.secretAccessKey=e.secretAccessKey,this.sessionToken=e.sessionToken}else this.accessKeyId=arguments[0],this.secretAccessKey=arguments[1],this.sessionToken=arguments[2]},expiryWindow:15,needsRefresh:function(){var e=r.util.date.getDate().getTime(),t=new Date(e+1e3*this.expiryWindow);return!!(this.expireTime&&t>this.expireTime)||this.expired||!this.accessKeyId||!this.secretAccessKey},get:function(e){var t=this;this.needsRefresh()?this.refresh((function(n){n||(t.expired=!1),e&&e(n)})):e&&e()},refresh:function(e){this.expired=!1,e()},coalesceRefresh:function(e,t){var n=this;1===n.refreshCallbacks.push(e)&&n.load((function(e){r.util.arrayEach(n.refreshCallbacks,(function(n){t?n(e):r.util.defer((function(){n(e)}))})),n.refreshCallbacks.length=0}))},load:function(e){e()}}),r.Credentials.addPromisesToClass=function(e){this.prototype.getPromise=r.util.promisifyMethod("get",e),this.prototype.refreshPromise=r.util.promisifyMethod("refresh",e)},r.Credentials.deletePromisesFromClass=function(){delete this.prototype.getPromise,delete this.prototype.refreshPromise},r.util.addPromises(r.Credentials)},{"./core":20}],22:[function(e,t,n){var r=e("../core"),i=e("../../clients/sts");r.ChainableTemporaryCredentials=r.util.inherit(r.Credentials,{constructor:function(e){r.Credentials.call(this),e=e||{},this.errorCode="ChainableTemporaryCredentialsProviderFailure",this.expired=!0,this.tokenCodeFn=null;var t=r.util.copy(e.params)||{};if(t.RoleArn&&(t.RoleSessionName=t.RoleSessionName||"temporary-credentials"),t.SerialNumber){if(!e.tokenCodeFn||"function"!=typeof e.tokenCodeFn)throw new r.util.error(new Error("tokenCodeFn must be a function when params.SerialNumber is given"),{code:this.errorCode});this.tokenCodeFn=e.tokenCodeFn}var n=r.util.merge({params:t,credentials:e.masterCredentials||r.config.credentials},e.stsConfig||{});this.service=new i(n)},refresh:function(e){this.coalesceRefresh(e||r.util.fn.callback)},load:function(e){var t=this,n=t.service.config.params.RoleArn?"assumeRole":"getSessionToken";this.getTokenCode((function(r,i){var o={};r?e(r):(i&&(o.TokenCode=i),t.service[n](o,(function(n,r){n||t.service.credentialsFrom(r,t),e(n)})))}))},getTokenCode:function(e){var t=this;this.tokenCodeFn?this.tokenCodeFn(this.service.config.params.SerialNumber,(function(n,i){if(n){var o=n;return n instanceof Error&&(o=n.message),void e(r.util.error(new Error("Error fetching MFA token: "+o),{code:t.errorCode}))}e(null,i)})):e(null)}})},{"../../clients/sts":9,"../core":20}],23:[function(e,t,n){var r=e("../core"),i=e("../../clients/cognitoidentity"),a=e("../../clients/sts");r.CognitoIdentityCredentials=r.util.inherit(r.Credentials,{localStorageKey:{id:"aws.cognito.identity-id.",providers:"aws.cognito.identity-providers."},constructor:function(e,t){r.Credentials.call(this),this.expired=!0,this.params=e,this.data=null,this._identityId=null,this._clientConfig=r.util.copy(t||{}),this.loadCachedId();var n=this;Object.defineProperty(this,"identityId",{get:function(){return n.loadCachedId(),n._identityId||n.params.IdentityId},set:function(e){n._identityId=e}})},refresh:function(e){this.coalesceRefresh(e||r.util.fn.callback)},load:function(e){var t=this;t.createClients(),t.data=null,t._identityId=null,t.getId((function(n){n?(t.clearIdOnNotAuthorized(n),e(n)):t.params.RoleArn?t.getCredentialsFromSTS(e):t.getCredentialsForIdentity(e)}))},clearCachedId:function(){this._identityId=null,delete this.params.IdentityId;var e=this.params.IdentityPoolId,t=this.params.LoginId||"";delete this.storage[this.localStorageKey.id+e+t],delete this.storage[this.localStorageKey.providers+e+t]},clearIdOnNotAuthorized:function(e){"NotAuthorizedException"==e.code&&this.clearCachedId()},getId:function(e){var t=this;if("string"==typeof t.params.IdentityId)return e(null,t.params.IdentityId);t.cognito.getId((function(n,r){!n&&r.IdentityId?(t.params.IdentityId=r.IdentityId,e(null,r.IdentityId)):e(n)}))},loadCredentials:function(e,t){e&&t&&(t.expired=!1,t.accessKeyId=e.Credentials.AccessKeyId,t.secretAccessKey=e.Credentials.SecretKey,t.sessionToken=e.Credentials.SessionToken,t.expireTime=e.Credentials.Expiration)},getCredentialsForIdentity:function(e){var t=this;t.cognito.getCredentialsForIdentity((function(n,r){n?t.clearIdOnNotAuthorized(n):(t.cacheId(r),t.data=r,t.loadCredentials(t.data,t)),e(n)}))},getCredentialsFromSTS:function(e){var t=this;t.cognito.getOpenIdToken((function(n,r){n?(t.clearIdOnNotAuthorized(n),e(n)):(t.cacheId(r),t.params.WebIdentityToken=r.Token,t.webIdentityCredentials.refresh((function(n){n||(t.data=t.webIdentityCredentials.data,t.sts.credentialsFrom(t.data,t)),e(n)})))}))},loadCachedId:function(){var e=this;if(r.util.isBrowser()&&!e.params.IdentityId){var t=e.getStorage("id");if(t&&e.params.Logins){var n=Object.keys(e.params.Logins);0!==(e.getStorage("providers")||"").split(",").filter((function(e){return-1!==n.indexOf(e)})).length&&(e.params.IdentityId=t)}else t&&(e.params.IdentityId=t)}},createClients:function(){var e=this._clientConfig;if(this.webIdentityCredentials=this.webIdentityCredentials||new r.WebIdentityCredentials(this.params,e),!this.cognito){var t=r.util.merge({},e);t.params=this.params,this.cognito=new i(t)}this.sts=this.sts||new a(e)},cacheId:function(e){this._identityId=e.IdentityId,this.params.IdentityId=this._identityId,r.util.isBrowser()&&(this.setStorage("id",e.IdentityId),this.params.Logins&&this.setStorage("providers",Object.keys(this.params.Logins).join(",")))},getStorage:function(e){return this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]},setStorage:function(e,t){try{this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]=t}catch(e){}},storage:function(){try{var e=r.util.isBrowser()&&null!==window.localStorage&&"object"==o(window.localStorage)?window.localStorage:{};return e["aws.test-storage"]="foobar",delete e["aws.test-storage"],e}catch(e){return{}}}()})},{"../../clients/cognitoidentity":8,"../../clients/sts":9,"../core":20}],24:[function(e,t,n){var r=e("../core");r.CredentialProviderChain=r.util.inherit(r.Credentials,{constructor:function(e){this.providers=e||r.CredentialProviderChain.defaultProviders.slice(0),this.resolveCallbacks=[]},resolve:function(e){var t=this;if(0===t.providers.length)return e(new Error("No providers")),t;if(1===t.resolveCallbacks.push(e)){var n=0,i=t.providers.slice(0);!function e(o,a){if(!o&&a||n===i.length)return r.util.arrayEach(t.resolveCallbacks,(function(e){e(o,a)})),void(t.resolveCallbacks.length=0);var s=i[n++];(a="function"==typeof s?s.call():s).get?a.get((function(t){e(t,t?null:a)})):e(null,a)}()}return t}}),r.CredentialProviderChain.defaultProviders=[],r.CredentialProviderChain.addPromisesToClass=function(e){this.prototype.resolvePromise=r.util.promisifyMethod("resolve",e)},r.CredentialProviderChain.deletePromisesFromClass=function(){delete this.prototype.resolvePromise},r.util.addPromises(r.CredentialProviderChain)},{"../core":20}],25:[function(e,t,n){var r=e("../core"),i=e("../../clients/sts");r.SAMLCredentials=r.util.inherit(r.Credentials,{constructor:function(e){r.Credentials.call(this),this.expired=!0,this.params=e},refresh:function(e){this.coalesceRefresh(e||r.util.fn.callback)},load:function(e){var t=this;t.createClients(),t.service.assumeRoleWithSAML((function(n,r){n||t.service.credentialsFrom(r,t),e(n)}))},createClients:function(){this.service=this.service||new i({params:this.params})}})},{"../../clients/sts":9,"../core":20}],26:[function(e,t,n){var r=e("../core"),i=e("../../clients/sts");r.TemporaryCredentials=r.util.inherit(r.Credentials,{constructor:function(e,t){r.Credentials.call(this),this.loadMasterCredentials(t),this.expired=!0,this.params=e||{},this.params.RoleArn&&(this.params.RoleSessionName=this.params.RoleSessionName||"temporary-credentials")},refresh:function(e){this.coalesceRefresh(e||r.util.fn.callback)},load:function(e){var t=this;t.createClients(),t.masterCredentials.get((function(){t.service.config.credentials=t.masterCredentials,(t.params.RoleArn?t.service.assumeRole:t.service.getSessionToken).call(t.service,(function(n,r){n||t.service.credentialsFrom(r,t),e(n)}))}))},loadMasterCredentials:function(e){for(this.masterCredentials=e||r.config.credentials;this.masterCredentials.masterCredentials;)this.masterCredentials=this.masterCredentials.masterCredentials;"function"!=typeof this.masterCredentials.get&&(this.masterCredentials=new r.Credentials(this.masterCredentials))},createClients:function(){this.service=this.service||new i({params:this.params})}})},{"../../clients/sts":9,"../core":20}],27:[function(e,t,n){var r=e("../core"),i=e("../../clients/sts");r.WebIdentityCredentials=r.util.inherit(r.Credentials,{constructor:function(e,t){r.Credentials.call(this),this.expired=!0,this.params=e,this.params.RoleSessionName=this.params.RoleSessionName||"web-identity",this.data=null,this._clientConfig=r.util.copy(t||{})},refresh:function(e){this.coalesceRefresh(e||r.util.fn.callback)},load:function(e){var t=this;t.createClients(),t.service.assumeRoleWithWebIdentity((function(n,r){t.data=null,n||(t.data=r,t.service.credentialsFrom(r,t)),e(n)}))},createClients:function(){if(!this.service){var e=r.util.merge({},this._clientConfig);e.params=this.params,this.service=new i(e)}}})},{"../../clients/sts":9,"../core":20}],28:[function(e,t,n){(function(n){(function(){function r(e){var t=e.service,n=t.api||{},r={};return t.config.region&&(r.region=t.config.region),n.serviceId&&(r.serviceId=n.serviceId),t.config.credentials.accessKeyId&&(r.accessKeyId=t.config.credentials.accessKeyId),r}function i(e,t){var n={};return function e(t,n,r){r&&null!=n&&"structure"===r.type&&r.required&&r.required.length>0&&f.arrayEach(r.required,(function(i){var o=r.members[i];if(!0===o.endpointDiscoveryId){var a=o.isLocationName?o.name:i;t[a]=String(n[i])}else e(t,n[i],o)}))}(n,e.params,t),n}function o(e){var t=e.service,n=t.api,o=n.operations?n.operations[e.operation]:void 0,a=i(e,o?o.input:void 0),c=r(e);Object.keys(a).length>0&&(c=f.update(c,a),o&&(c.operation=o.name));var u=d.endpointCache.get(c);if(!u||1!==u.length||""!==u[0].Address)if(u&&u.length>0)e.httpRequest.updateEndpoint(u[0].Address);else{var l=t.makeRequest(n.endpointOperation,{Operation:o.name,Identifiers:a});s(l),l.removeListener("validate",d.EventListeners.Core.VALIDATE_PARAMETERS),l.removeListener("retry",d.EventListeners.Core.RETRY_CHECK),d.endpointCache.put(c,[{Address:"",CachePeriodInMinutes:1}]),l.send((function(e,t){t&&t.Endpoints?d.endpointCache.put(c,t.Endpoints):e&&d.endpointCache.put(c,[{Address:"",CachePeriodInMinutes:1}])}))}}function a(e,t){var n=e.service,o=n.api,a=o.operations?o.operations[e.operation]:void 0,c=a?a.input:void 0,u=i(e,c),l=r(e);Object.keys(u).length>0&&(l=f.update(l,u),a&&(l.operation=a.name));var p=d.EndpointCache.getKeyString(l),m=d.endpointCache.get(p);if(m&&1===m.length&&""===m[0].Address)return h[p]||(h[p]=[]),void h[p].push({request:e,callback:t});if(m&&m.length>0)e.httpRequest.updateEndpoint(m[0].Address),t();else{var g=n.makeRequest(o.endpointOperation,{Operation:a.name,Identifiers:u});g.removeListener("validate",d.EventListeners.Core.VALIDATE_PARAMETERS),s(g),d.endpointCache.put(p,[{Address:"",CachePeriodInMinutes:60}]),g.send((function(n,r){if(n){if(e.response.error=f.error(n,{retryable:!1}),d.endpointCache.remove(l),h[p]){var i=h[p];f.arrayEach(i,(function(e){e.request.response.error=f.error(n,{retryable:!1}),e.callback()})),delete h[p]}}else r&&(d.endpointCache.put(p,r.Endpoints),e.httpRequest.updateEndpoint(r.Endpoints[0].Address),h[p])&&(i=h[p],f.arrayEach(i,(function(e){e.request.httpRequest.updateEndpoint(r.Endpoints[0].Address),e.callback()})),delete h[p]);t()}))}}function s(e){var t=e.service.api.apiVersion;t&&!e.httpRequest.headers["x-amz-api-version"]&&(e.httpRequest.headers["x-amz-api-version"]=t)}function c(e){var t=e.error,n=e.httpResponse;if(t&&("InvalidEndpointException"===t.code||421===n.statusCode)){var o=e.request,a=o.service.api.operations||{},s=i(o,a[o.operation]?a[o.operation].input:void 0),c=r(o);Object.keys(s).length>0&&(c=f.update(c,s),a[o.operation]&&(c.operation=a[o.operation].name)),d.endpointCache.remove(c)}}function u(e){return["false","0"].indexOf(e)>=0}function l(e){var t=e.service||{};if(void 0!==t.config.endpointDiscoveryEnabled)return t.config.endpointDiscoveryEnabled;if(!f.isBrowser()){for(var r=0;r<p.length;r++){var i=p[r];if(Object.prototype.hasOwnProperty.call(n.env,i)){if(""===n.env[i]||void 0===n.env[i])throw f.error(new Error,{code:"ConfigurationException",message:"environmental variable "+i+" cannot be set to nothing"});return!u(n.env[i])}}var o={};try{o=d.util.iniLoader?d.util.iniLoader.loadFrom({isConfig:!0,filename:n.env[d.util.sharedConfigFileEnv]}):{}}catch(e){}var a=o[n.env.AWS_PROFILE||d.util.defaultProfile]||{};if(Object.prototype.hasOwnProperty.call(a,"endpoint_discovery_enabled")){if(void 0===a.endpoint_discovery_enabled)throw f.error(new Error,{code:"ConfigurationException",message:"config file entry 'endpoint_discovery_enabled' cannot be set to nothing"});return!u(a.endpoint_discovery_enabled)}}}var d=e("./core"),f=e("./util"),p=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],h={};t.exports={discoverEndpoint:function(e,t){var n=e.service||{};if(function(e){if(e._originalConfig&&e._originalConfig.endpoint&&!0===e._originalConfig.endpointDiscoveryEnabled)throw f.error(new Error,{code:"ConfigurationException",message:"Custom endpoint is supplied; endpointDiscoveryEnabled must not be true."});var t=d.config[e.serviceIdentifier]||{};return Boolean(d.config.endpoint||t.endpoint||e._originalConfig&&e._originalConfig.endpoint)}(n)||e.isPresigned())return t();var r=(n.api.operations||{})[e.operation],i=r?r.endpointDiscoveryRequired:"NULL",s=l(e),u=n.api.hasRequiredEndpointDiscovery;switch((s||u)&&e.httpRequest.appendToUserAgent("endpoint-discovery"),i){case"OPTIONAL":(s||u)&&(o(e),e.addNamedListener("INVALIDATE_CACHED_ENDPOINTS","extractError",c)),t();break;case"REQUIRED":if(!1===s){e.response.error=f.error(new Error,{code:"ConfigurationException",message:"Endpoint Discovery is disabled but "+n.api.className+"."+e.operation+"() requires it. Please check your configurations."}),t();break}e.addNamedListener("INVALIDATE_CACHED_ENDPOINTS","extractError",c),a(e,t);break;case"NULL":default:t()}},requiredDiscoverEndpoint:a,optionalDiscoverEndpoint:o,marshallCustomIdentifiers:i,getCacheKey:r,invalidateCachedEndpoint:c}}).call(this)}).call(this,e("_process"))},{"./core":20,"./util":73,_process:87}],29:[function(e,t,n){var r=e("../event-stream/event-message-chunker").eventMessageChunker,i=e("./parse-event").parseEvent;t.exports={createEventStream:function(e,t,n){for(var o=r(e),a=[],s=0;s<o.length;s++)a.push(i(t,o[s],n));return a}}},{"../event-stream/event-message-chunker":30,"./parse-event":32}],30:[function(e,t,n){t.exports={eventMessageChunker:function(e){for(var t=[],n=0;n<e.length;){var r=e.readInt32BE(n),i=e.slice(n,r+n);n+=r,t.push(i)}return t}}},{}],31:[function(e,t,n){function r(e){if(8!==e.length)throw new Error("Int64 buffers must be exactly 8 bytes");o.Buffer.isBuffer(e)||(e=a(e)),this.bytes=e}function i(e){for(var t=0;t<8;t++)e[t]^=255;for(t=7;t>-1&&0==++e[t];t--);}var o=e("../core").util,a=o.buffer.toBuffer;r.fromNumber=function(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(e+" is too large (or, if negative, too small) to represent as an Int64");for(var t=new Uint8Array(8),n=7,o=Math.abs(Math.round(e));n>-1&&o>0;n--,o/=256)t[n]=o;return e<0&&i(t),new r(t)},r.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&i(e),parseInt(e.toString("hex"),16)*(t?-1:1)},r.prototype.toString=function(){return String(this.valueOf())},t.exports={Int64:r}},{"../core":20}],32:[function(e,t,n){var r=e("./parse-message").parseMessage;t.exports={parseEvent:function(e,t,n){var i=r(t),o=i.headers[":message-type"];if(o){if("error"===o.value)throw function(e){var t=e.headers[":error-code"],n=e.headers[":error-message"],r=new Error(n.value||n);return r.code=r.name=t.value||t,r}(i);if("event"!==o.value)return}var a=i.headers[":event-type"],s=n.members[a.value];if(s){var c={},u=s.eventPayloadMemberName;if(u){var l=s.members[u];"binary"===l.type?c[u]=i.body:c[u]=e.parse(i.body.toString(),l)}for(var d=s.eventHeaderMemberNames,f=0;f<d.length;f++){var p=d[f];i.headers[p]&&(c[p]=s.members[p].toType(i.headers[p].value))}var h={};return h[a.value]=c,h}}}},{"./parse-message":33}],33:[function(e,t,n){function r(e){for(var t={},n=0;n<e.length;){var r=e.readUInt8(n++),o=e.slice(n,n+r).toString();switch(n+=r,e.readUInt8(n++)){case 0:t[o]={type:a,value:!0};break;case 1:t[o]={type:a,value:!1};break;case 2:t[o]={type:s,value:e.readInt8(n++)};break;case 3:t[o]={type:c,value:e.readInt16BE(n)},n+=2;break;case 4:t[o]={type:u,value:e.readInt32BE(n)},n+=4;break;case 5:t[o]={type:l,value:new i(e.slice(n,n+8))},n+=8;break;case 6:var m=e.readUInt16BE(n);n+=2,t[o]={type:d,value:e.slice(n,n+m)},n+=m;break;case 7:var g=e.readUInt16BE(n);n+=2,t[o]={type:f,value:e.slice(n,n+g).toString()},n+=g;break;case 8:t[o]={type:p,value:new Date(new i(e.slice(n,n+8)).valueOf())},n+=8;break;case 9:var b=e.slice(n,n+16).toString("hex");n+=16,t[o]={type:h,value:b.substr(0,8)+"-"+b.substr(8,4)+"-"+b.substr(12,4)+"-"+b.substr(16,4)+"-"+b.substr(20)};break;default:throw new Error("Unrecognized header type tag")}}return t}var i=e("./int64").Int64,o=e("./split-message").splitMessage,a="boolean",s="byte",c="short",u="integer",l="long",d="binary",f="string",p="timestamp",h="uuid";t.exports={parseMessage:function(e){var t=o(e);return{headers:r(t.headers),body:t.body}}}},{"./int64":31,"./split-message":34}],34:[function(e,t,n){var r=e("../core").util,i=r.buffer.toBuffer;t.exports={splitMessage:function(e){if(r.Buffer.isBuffer(e)||(e=i(e)),e.length<16)throw new Error("Provided message too short to accommodate event stream message overhead");if(e.length!==e.readUInt32BE(0))throw new Error("Reported message length does not match received message length");var t=e.readUInt32BE(8);if(t!==r.crypto.crc32(e.slice(0,8)))throw new Error("The prelude checksum specified in the message ("+t+") does not match the calculated CRC32 checksum.");var n=e.readUInt32BE(e.length-4);if(n!==r.crypto.crc32(e.slice(0,e.length-4)))throw new Error("The message checksum did not match the expected value of "+n);var o=12+e.readUInt32BE(4);return{headers:e.slice(12,o),body:e.slice(o,e.length-4)}}}},{"../core":20}],35:[function(e,t,n){var r=e("./core"),i=e("./sequential_executor"),o=e("./discover_endpoint").discoverEndpoint;r.EventListeners={Core:{}},r.EventListeners={Core:(new i).addNamedListeners((function(e,t){t("VALIDATE_CREDENTIALS","validate",(function(e,t){if(!e.service.api.signatureVersion&&!e.service.config.signatureVersion)return t();e.service.config.getCredentials((function(n){n&&(e.response.error=r.util.error(n,{code:"CredentialsError",message:"Missing credentials in config, if using AWS_CONFIG_FILE, set AWS_SDK_LOAD_CONFIG=1"})),t()}))})),e("VALIDATE_REGION","validate",(function(e){if(!e.service.isGlobalEndpoint){var t=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/);e.service.config.region?t.test(e.service.config.region)||(e.response.error=r.util.error(new Error,{code:"ConfigError",message:"Invalid region in config"})):e.response.error=r.util.error(new Error,{code:"ConfigError",message:"Missing region in config"})}})),e("BUILD_IDEMPOTENCY_TOKENS","validate",(function(e){if(e.service.api.operations){var t=e.service.api.operations[e.operation];if(t){var n=t.idempotentMembers;if(n.length){for(var i=r.util.copy(e.params),o=0,a=n.length;o<a;o++)i[n[o]]||(i[n[o]]=r.util.uuid.v4());e.params=i}}}})),e("VALIDATE_PARAMETERS","validate",(function(e){if(e.service.api.operations){var t=e.service.api.operations[e.operation].input,n=e.service.config.paramValidation;new r.ParamValidator(n).validate(t,e.params)}})),t("COMPUTE_SHA256","afterBuild",(function(e,t){if(e.haltHandlersOnError(),e.service.api.operations){var n=e.service.api.operations[e.operation],i=n?n.authtype:"";if(!e.service.api.signatureVersion&&!i&&!e.service.config.signatureVersion)return t();if(e.service.getSignerClass(e)===r.Signers.V4){var o=e.httpRequest.body||"";if(i.indexOf("unsigned-body")>=0)return e.httpRequest.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",t();r.util.computeSha256(o,(function(n,r){n?t(n):(e.httpRequest.headers["X-Amz-Content-Sha256"]=r,t())}))}else t()}})),e("SET_CONTENT_LENGTH","afterBuild",(function(e){var t=function(e){if(!e.service.api.operations)return"";var t=e.service.api.operations[e.operation];return t?t.authtype:""}(e),n=r.util.getRequestPayloadShape(e);if(void 0===e.httpRequest.headers["Content-Length"])try{var i=r.util.string.byteLength(e.httpRequest.body);e.httpRequest.headers["Content-Length"]=i}catch(r){if(n&&n.isStreaming){if(n.requiresLength)throw r;if(t.indexOf("unsigned-body")>=0)return void(e.httpRequest.headers["Transfer-Encoding"]="chunked");throw r}throw r}})),e("SET_HTTP_HOST","afterBuild",(function(e){e.httpRequest.headers.Host=e.httpRequest.endpoint.host})),e("RESTART","restart",(function(){var e=this.response.error;e&&e.retryable&&(this.httpRequest=new r.HttpRequest(this.service.endpoint,this.service.region),this.response.retryCount<this.service.config.maxRetries?this.response.retryCount++:this.response.error=null)})),t("DISCOVER_ENDPOINT","sign",o,!0),t("SIGN","sign",(function(e,t){var n=e.service,r=(e.service.api.operations||{})[e.operation],i=r?r.authtype:"";if(!n.api.signatureVersion&&!i&&!n.config.signatureVersion)return t();n.config.getCredentials((function(i,o){if(i)return e.response.error=i,t();try{var a=n.getSkewCorrectedDate(),s=new(n.getSignerClass(e))(e.httpRequest,n.getSigningName(),{signatureCache:n.config.signatureCache,operation:r,signatureVersion:n.api.signatureVersion});s.setServiceClientId(n._clientId),delete e.httpRequest.headers.Authorization,delete e.httpRequest.headers.Date,delete e.httpRequest.headers["X-Amz-Date"],s.addAuthorization(o,a),e.signedAt=a}catch(t){e.response.error=t}t()}))})),e("VALIDATE_RESPONSE","validateResponse",(function(e){this.service.successfulResponse(e,this)?(e.data={},e.error=null):(e.data=null,e.error=r.util.error(new Error,{code:"UnknownError",message:"An unknown error occurred."}))})),t("SEND","send",(function(e,t){function n(n){e.httpResponse.stream=n;var i=e.request.httpRequest.stream,o=e.request.service,a=o.api,s=e.request.operation,c=a.operations[s]||{};n.on("headers",(function(i,a,s){if(e.request.emit("httpHeaders",[i,a,e,s]),!e.httpResponse.streaming)if(2===r.HttpClient.streamsApiVersion){if(c.hasEventOutput&&o.successfulResponse(e))return e.request.emit("httpDone"),void t();n.on("readable",(function(){var t=n.read();null!==t&&e.request.emit("httpData",[t,e])}))}else n.on("data",(function(t){e.request.emit("httpData",[t,e])}))})),n.on("end",(function(){if(!i||!i.didCallback){if(2===r.HttpClient.streamsApiVersion&&c.hasEventOutput&&o.successfulResponse(e))return;e.request.emit("httpDone"),t()}}))}function i(n){if("RequestAbortedError"!==n.code){var i="TimeoutError"===n.code?n.code:"NetworkingError";n=r.util.error(n,{code:i,region:e.request.httpRequest.region,hostname:e.request.httpRequest.endpoint.hostname,retryable:!0})}e.error=n,e.request.emit("httpError",[e.error,e],(function(){t()}))}function o(){var t=r.HttpClient.getInstance(),o=e.request.service.config.httpOptions||{};try{!function(t){t.on("sendProgress",(function(t){e.request.emit("httpUploadProgress",[t,e])})),t.on("receiveProgress",(function(t){e.request.emit("httpDownloadProgress",[t,e])}))}(t.handleRequest(e.request.httpRequest,o,n,i))}catch(e){i(e)}}e.httpResponse._abortCallback=t,e.error=null,e.data=null,(e.request.service.getSkewCorrectedDate()-this.signedAt)/1e3>=600?this.emit("sign",[this],(function(e){e?t(e):o()})):o()})),e("HTTP_HEADERS","httpHeaders",(function(e,t,n,i){n.httpResponse.statusCode=e,n.httpResponse.statusMessage=i,n.httpResponse.headers=t,n.httpResponse.body=r.util.buffer.toBuffer(""),n.httpResponse.buffers=[],n.httpResponse.numBytes=0;var o=t.date||t.Date,a=n.request.service;if(o){var s=Date.parse(o);a.config.correctClockSkew&&a.isClockSkewed(s)&&a.applyClockOffset(s)}})),e("HTTP_DATA","httpData",(function(e,t){if(e){if(r.util.isNode()){t.httpResponse.numBytes+=e.length;var n=t.httpResponse.headers["content-length"],i={loaded:t.httpResponse.numBytes,total:n};t.request.emit("httpDownloadProgress",[i,t])}t.httpResponse.buffers.push(r.util.buffer.toBuffer(e))}})),e("HTTP_DONE","httpDone",(function(e){if(e.httpResponse.buffers&&e.httpResponse.buffers.length>0){var t=r.util.buffer.concat(e.httpResponse.buffers);e.httpResponse.body=t}delete e.httpResponse.numBytes,delete e.httpResponse.buffers})),e("FINALIZE_ERROR","retry",(function(e){e.httpResponse.statusCode&&(e.error.statusCode=e.httpResponse.statusCode,void 0===e.error.retryable&&(e.error.retryable=this.service.retryableError(e.error,this)))})),e("INVALIDATE_CREDENTIALS","retry",(function(e){if(e.error)switch(e.error.code){case"RequestExpired":case"ExpiredTokenException":case"ExpiredToken":e.error.retryable=!0,e.request.service.config.credentials.expired=!0}})),e("EXPIRED_SIGNATURE","retry",(function(e){var t=e.error;t&&"string"==typeof t.code&&"string"==typeof t.message&&t.code.match(/Signature/)&&t.message.match(/expired/)&&(e.error.retryable=!0)})),e("CLOCK_SKEWED","retry",(function(e){e.error&&this.service.clockSkewError(e.error)&&this.service.config.correctClockSkew&&(e.error.retryable=!0)})),e("REDIRECT","retry",(function(e){e.error&&e.error.statusCode>=300&&e.error.statusCode<400&&e.httpResponse.headers.location&&(this.httpRequest.endpoint=new r.Endpoint(e.httpResponse.headers.location),this.httpRequest.headers.Host=this.httpRequest.endpoint.host,e.error.redirect=!0,e.error.retryable=!0)})),e("RETRY_CHECK","retry",(function(e){e.error&&(e.error.redirect&&e.redirectCount<e.maxRedirects?e.error.retryDelay=0:e.retryCount<e.maxRetries&&(e.error.retryDelay=this.service.retryDelays(e.retryCount,e.error)||0))})),t("RESET_RETRY_STATE","afterRetry",(function(e,t){var n,r=!1;e.error&&(n=e.error.retryDelay||0,e.error.retryable&&e.retryCount<e.maxRetries?(e.retryCount++,r=!0):e.error.redirect&&e.redirectCount<e.maxRedirects&&(e.redirectCount++,r=!0)),r&&n>=0?(e.error=null,setTimeout(t,n)):t()}))})),CorePost:(new i).addNamedListeners((function(e){e("EXTRACT_REQUEST_ID","extractData",r.util.extractRequestId),e("EXTRACT_REQUEST_ID","extractError",r.util.extractRequestId),e("ENOTFOUND_ERROR","httpError",(function(e){if("NetworkingError"===e.code&&function(e){return"ENOTFOUND"===e.errno||"number"==typeof e.errno&&"function"==typeof r.util.getSystemErrorName&&["EAI_NONAME","EAI_NODATA"].indexOf(r.util.getSystemErrorName(e.errno)>=0)}(e)){var t="Inaccessible host: `"+e.hostname+"'. This service may not be available in the `"+e.region+"' region.";this.response.error=r.util.error(new Error(t),{code:"UnknownEndpoint",region:e.region,hostname:e.hostname,retryable:!0,originalError:e})}}))})),Logger:(new i).addNamedListeners((function(t){t("LOG_REQUEST","complete",(function(t){var n=t.request,i=n.service.config.logger;if(i){var o=function(){var o=(t.request.service.getSkewCorrectedDate().getTime()-n.startTime.getTime())/1e3,a=!!i.isTTY,s=t.httpResponse.statusCode,c=n.params;n.service.api.operations&&n.service.api.operations[n.operation]&&n.service.api.operations[n.operation].input&&(c=function e(t,n){if(!n)return n;if(t.isSensitive)return"***SensitiveInformation***";switch(t.type){case"structure":var i={};return r.util.each(n,(function(n,r){Object.prototype.hasOwnProperty.call(t.members,n)?i[n]=e(t.members[n],r):i[n]=r})),i;case"list":var o=[];return r.util.arrayEach(n,(function(n,r){o.push(e(t.member,n))})),o;case"map":var a={};return r.util.each(n,(function(n,r){a[n]=e(t.value,r)})),a;default:return n}}(n.service.api.operations[n.operation].input,n.params));var u=e("util").inspect(c,!0,null),l="";return a&&(l+="[33m"),l+="[AWS "+n.service.serviceIdentifier+" "+s,l+=" "+o.toString()+"s "+t.retryCount+" retries]",a&&(l+="[0;1m"),l+=" "+r.util.string.lowerFirst(n.operation),l+="("+u+")",a&&(l+="[0m"),l}();"function"==typeof i.log?i.log(o):"function"==typeof i.write&&i.write(o+"\n")}}))})),Json:(new i).addNamedListeners((function(t){var n=e("./protocol/json");t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)})),Rest:(new i).addNamedListeners((function(t){var n=e("./protocol/rest");t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)})),RestJson:(new i).addNamedListeners((function(t){var n=e("./protocol/rest_json");t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)})),RestXml:(new i).addNamedListeners((function(t){var n=e("./protocol/rest_xml");t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)})),Query:(new i).addNamedListeners((function(t){var n=e("./protocol/query");t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)}))}},{"./core":20,"./discover_endpoint":28,"./protocol/json":48,"./protocol/query":49,"./protocol/rest":50,"./protocol/rest_json":51,"./protocol/rest_xml":52,"./sequential_executor":60,util:99}],36:[function(e,t,n){var r=e("./core"),i=r.util.inherit;r.Endpoint=i({constructor:function(e,t){if(r.util.hideProperties(this,["slashes","auth","hash","search","query"]),null==e)throw new Error("Invalid endpoint: "+e);if("string"!=typeof e)return r.util.copy(e);e.match(/^http/)||(e=((t&&void 0!==t.sslEnabled?t.sslEnabled:r.config.sslEnabled)?"https":"http")+"://"+e),r.util.update(this,r.util.urlParse(e)),this.port?this.port=parseInt(this.port,10):this.port="https:"===this.protocol?443:80}}),r.HttpRequest=i({constructor:function(e,t){e=new r.Endpoint(e),this.method="POST",this.path=e.path||"/",this.headers={},this.body="",this.endpoint=e,this.region=t,this._userAgent="",this.setUserAgent()},setUserAgent:function(){this._userAgent=this.headers[this.getUserAgentHeaderName()]=r.util.userAgent()},getUserAgentHeaderName:function(){return(r.util.isBrowser()?"X-Amz-":"")+"User-Agent"},appendToUserAgent:function(e){"string"==typeof e&&e&&(this._userAgent+=" "+e),this.headers[this.getUserAgentHeaderName()]=this._userAgent},getUserAgent:function(){return this._userAgent},pathname:function(){return this.path.split("?",1)[0]},search:function(){var e=this.path.split("?",2)[1];return e?(e=r.util.queryStringParse(e),r.util.queryParamsToString(e)):""},updateEndpoint:function(e){var t=new r.Endpoint(e);this.endpoint=t,this.path=t.path||"/",this.headers.Host&&(this.headers.Host=t.host)}}),r.HttpResponse=i({constructor:function(){this.statusCode=void 0,this.headers={},this.body=void 0,this.streaming=!1,this.stream=null},createUnbufferedStream:function(){return this.streaming=!0,this.stream}}),r.HttpClient=i({}),r.HttpClient.getInstance=function(){return void 0===this.singleton&&(this.singleton=new this),this.singleton}},{"./core":20}],37:[function(e,t,n){var r=e("../core"),i=e("events").EventEmitter;e("../http"),r.XHRClient=r.util.inherit({handleRequest:function(e,t,n,a){var s=this,c=e.endpoint,u=new i,l=c.protocol+"//"+c.hostname;80!==c.port&&443!==c.port&&(l+=":"+c.port),l+=e.path;var d=new XMLHttpRequest,f=!1;e.stream=d,d.addEventListener("readystatechange",(function(){try{if(0===d.status)return}catch(e){return}this.readyState>=this.HEADERS_RECEIVED&&!f&&(u.statusCode=d.status,u.headers=s.parseHeaders(d.getAllResponseHeaders()),u.emit("headers",u.statusCode,u.headers,d.statusText),f=!0),this.readyState===this.DONE&&s.finishRequest(d,u)}),!1),d.upload.addEventListener("progress",(function(e){u.emit("sendProgress",e)})),d.addEventListener("progress",(function(e){u.emit("receiveProgress",e)}),!1),d.addEventListener("timeout",(function(){a(r.util.error(new Error("Timeout"),{code:"TimeoutError"}))}),!1),d.addEventListener("error",(function(){a(r.util.error(new Error("Network Failure"),{code:"NetworkingError"}))}),!1),d.addEventListener("abort",(function(){a(r.util.error(new Error("Request aborted"),{code:"RequestAbortedError"}))}),!1),n(u),d.open(e.method,l,!1!==t.xhrAsync),r.util.each(e.headers,(function(e,t){"Content-Length"!==e&&"User-Agent"!==e&&"Host"!==e&&d.setRequestHeader(e,t)})),t.timeout&&!1!==t.xhrAsync&&(d.timeout=t.timeout),t.xhrWithCredentials&&(d.withCredentials=!0);try{d.responseType="arraybuffer"}catch(e){}try{e.body?d.send(e.body):d.send()}catch(t){if(!e.body||"object"!=o(e.body.buffer))throw t;d.send(e.body.buffer)}return u},parseHeaders:function(e){var t={};return r.util.arrayEach(e.split(/\r?\n/),(function(e){var n=e.split(":",1)[0],r=e.substring(n.length+2);n.length>0&&(t[n.toLowerCase()]=r)})),t},finishRequest:function(e,t){var n;if("arraybuffer"===e.responseType&&e.response){var i=e.response;n=new r.util.Buffer(i.byteLength);for(var o=new Uint8Array(i),a=0;a<n.length;++a)n[a]=o[a]}try{n||"string"!=typeof e.responseText||(n=new r.util.Buffer(e.responseText))}catch(e){}n&&t.emit("data",n),t.emit("end")}}),r.HttpClient.prototype=r.XHRClient.prototype,r.HttpClient.streamsApiVersion=1},{"../core":20,"../http":36,events:83}],38:[function(e,t,n){function r(){}var i=e("../util");r.prototype.build=function(e,t){return JSON.stringify(function e(t,n){if(n&&null!=t)switch(n.type){case"structure":return function(t,n){var r={};return i.each(t,(function(t,i){var o=n.members[t];if(o){if("body"!==o.location)return;var a=o.isLocationName?o.name:t,s=e(i,o);void 0!==s&&(r[a]=s)}})),r}(t,n);case"map":return function(t,n){var r={};return i.each(t,(function(t,i){var o=e(i,n.value);void 0!==o&&(r[t]=o)})),r}(t,n);case"list":return function(t,n){var r=[];return i.arrayEach(t,(function(t){var i=e(t,n.member);void 0!==i&&r.push(i)})),r}(t,n);default:return function(e,t){return t.toWireFormat(e)}(t,n)}}(e,t))},t.exports=r},{"../util":73}],39:[function(e,t,n){function r(){}var i=e("../util");r.prototype.parse=function(e,t){return function e(t,n){if(n&&void 0!==t)switch(n.type){case"structure":return function(t,n){if(null!=t){var r={},o=n.members;return i.each(o,(function(n,i){var o=i.isLocationName?i.name:n;if(Object.prototype.hasOwnProperty.call(t,o)){var a=e(t[o],i);void 0!==a&&(r[n]=a)}})),r}}(t,n);case"map":return function(t,n){if(null!=t){var r={};return i.each(t,(function(t,i){var o=e(i,n.value);r[t]=void 0===o?null:o})),r}}(t,n);case"list":return function(t,n){if(null!=t){var r=[];return i.arrayEach(t,(function(t){var i=e(t,n.member);void 0===i?r.push(null):r.push(i)})),r}}(t,n);default:return function(e,t){return t.toType(e)}(t,n)}}(JSON.parse(e),t)},t.exports=r},{"../util":73}],40:[function(e,t,n){var r=e("./collection"),i=e("./operation"),o=e("./shape"),a=e("./paginator"),s=e("./resource_waiter"),c=e("../../apis/metadata.json"),u=e("../util"),l=u.property,d=u.memoizedProperty;t.exports=function(e,t){var n=this;e=e||{},(t=t||{}).api=this,e.metadata=e.metadata||{};var f=t.serviceIdentifier;delete t.serviceIdentifier,l(this,"isApi",!0,!1),l(this,"apiVersion",e.metadata.apiVersion),l(this,"endpointPrefix",e.metadata.endpointPrefix),l(this,"signingName",e.metadata.signingName),l(this,"globalEndpoint",e.metadata.globalEndpoint),l(this,"signatureVersion",e.metadata.signatureVersion),l(this,"jsonVersion",e.metadata.jsonVersion),l(this,"targetPrefix",e.metadata.targetPrefix),l(this,"protocol",e.metadata.protocol),l(this,"timestampFormat",e.metadata.timestampFormat),l(this,"xmlNamespaceUri",e.metadata.xmlNamespace),l(this,"abbreviation",e.metadata.serviceAbbreviation),l(this,"fullName",e.metadata.serviceFullName),l(this,"serviceId",e.metadata.serviceId),f&&c[f]&&l(this,"xmlNoDefaultLists",c[f].xmlNoDefaultLists,!1),d(this,"className",(function(){var t=e.metadata.serviceAbbreviation||e.metadata.serviceFullName;return t?("ElasticLoadBalancing"===(t=t.replace(/^Amazon|AWS\s*|\(.*|\s+|\W+/g,""))&&(t="ELB"),t):null})),l(this,"operations",new r(e.operations,t,(function(e,n){return new i(e,n,t)}),u.string.lowerFirst,(function(e,t){!0===t.endpointoperation&&l(n,"endpointOperation",u.string.lowerFirst(e)),t.endpointdiscovery&&!n.hasRequiredEndpointDiscovery&&l(n,"hasRequiredEndpointDiscovery",!0===t.endpointdiscovery.required)}))),l(this,"shapes",new r(e.shapes,t,(function(e,n){return o.create(n,t)}))),l(this,"paginators",new r(e.paginators,t,(function(e,n){return new a(e,n,t)}))),l(this,"waiters",new r(e.waiters,t,(function(e,n){return new s(e,n,t)}),u.string.lowerFirst)),t.documentation&&(l(this,"documentation",e.documentation),l(this,"documentationUrl",e.documentationUrl))}},{"../../apis/metadata.json":5,"../util":73,"./collection":41,"./operation":42,"./paginator":43,"./resource_waiter":44,"./shape":45}],41:[function(e,t,n){function r(e,t,n,r){i(this,r(e),(function(){return n(e,t)}))}var i=e("../util").memoizedProperty;t.exports=function(e,t,n,i,o){for(var a in i=i||String,e)Object.prototype.hasOwnProperty.call(e,a)&&(r.call(this,a,e[a],n,i),o&&o(a,e[a]))}},{"../util":73}],42:[function(e,t,n){var r=e("./shape"),i=e("../util"),o=i.property,a=i.memoizedProperty;t.exports=function(e,t,n){var i=this;n=n||{},o(this,"name",t.name||e),o(this,"api",n.api,!1),t.http=t.http||{},o(this,"endpoint",t.endpoint),o(this,"httpMethod",t.http.method||"POST"),o(this,"httpPath",t.http.requestUri||"/"),o(this,"authtype",t.authtype||""),o(this,"endpointDiscoveryRequired",t.endpointdiscovery?t.endpointdiscovery.required?"REQUIRED":"OPTIONAL":"NULL"),a(this,"input",(function(){return t.input?r.create(t.input,n):new r.create({type:"structure"},n)})),a(this,"output",(function(){return t.output?r.create(t.output,n):new r.create({type:"structure"},n)})),a(this,"errors",(function(){var e=[];if(!t.errors)return null;for(var i=0;i<t.errors.length;i++)e.push(r.create(t.errors[i],n));return e})),a(this,"paginator",(function(){return n.api.paginators[e]})),n.documentation&&(o(this,"documentation",t.documentation),o(this,"documentationUrl",t.documentationUrl)),a(this,"idempotentMembers",(function(){var e=[],t=i.input,n=t.members;if(!t.members)return e;for(var r in n)n.hasOwnProperty(r)&&!0===n[r].isIdempotent&&e.push(r);return e})),a(this,"hasEventOutput",(function(){return function(e){var t=e.members,n=e.payload;if(!e.members)return!1;if(n)return t[n].isEventStream;for(var r in t)if(!t.hasOwnProperty(r)&&!0===t[r].isEventStream)return!0;return!1}(i.output)}))}},{"../util":73,"./shape":45}],43:[function(e,t,n){var r=e("../util").property;t.exports=function(e,t){r(this,"inputToken",t.input_token),r(this,"limitKey",t.limit_key),r(this,"moreResults",t.more_results),r(this,"outputToken",t.output_token),r(this,"resultKey",t.result_key)}},{"../util":73}],44:[function(e,t,n){var r=e("../util"),i=r.property;t.exports=function(e,t,n){n=n||{},i(this,"name",e),i(this,"api",n.api,!1),t.operation&&i(this,"operation",r.string.lowerFirst(t.operation));var o=this;["type","description","delay","maxAttempts","acceptors"].forEach((function(e){var n=t[e];n&&i(o,e,n)}))}},{"../util":73}],45:[function(e,t,n){function r(e,t,n){null!=n&&g.property.apply(this,arguments)}function i(e,t){e.constructor.prototype[t]||g.memoizedProperty.apply(this,arguments)}function a(e,t,n){t=t||{},r(this,"shape",e.shape),r(this,"api",t.api,!1),r(this,"type",e.type),r(this,"enum",e.enum),r(this,"min",e.min),r(this,"max",e.max),r(this,"pattern",e.pattern),r(this,"location",e.location||this.location||"body"),r(this,"name",this.name||e.xmlName||e.queryName||e.locationName||n),r(this,"isStreaming",e.streaming||this.isStreaming||!1),r(this,"requiresLength",e.requiresLength,!1),r(this,"isComposite",e.isComposite||!1),r(this,"isShape",!0,!1),r(this,"isQueryName",Boolean(e.queryName),!1),r(this,"isLocationName",Boolean(e.locationName),!1),r(this,"isIdempotent",!0===e.idempotencyToken),r(this,"isJsonValue",!0===e.jsonvalue),r(this,"isSensitive",!0===e.sensitive||e.prototype&&!0===e.prototype.sensitive),r(this,"isEventStream",Boolean(e.eventstream),!1),r(this,"isEvent",Boolean(e.event),!1),r(this,"isEventPayload",Boolean(e.eventpayload),!1),r(this,"isEventHeader",Boolean(e.eventheader),!1),r(this,"isTimestampFormatSet",Boolean(e.timestampFormat)||e.prototype&&!0===e.prototype.isTimestampFormatSet,!1),r(this,"endpointDiscoveryId",Boolean(e.endpointdiscoveryid),!1),r(this,"hostLabel",Boolean(e.hostLabel),!1),t.documentation&&(r(this,"documentation",e.documentation),r(this,"documentationUrl",e.documentationUrl)),e.xmlAttribute&&r(this,"isXmlAttribute",e.xmlAttribute||!1),r(this,"defaultValue",null),this.toWireFormat=function(e){return null==e?"":e},this.toType=function(e){return e}}function s(e){a.apply(this,arguments),r(this,"isComposite",!0),e.flattened&&r(this,"flattened",e.flattened||!1)}function c(e,t){var n=this,c=null,u=!this.isShape;s.apply(this,arguments),u&&(r(this,"defaultValue",(function(){return{}})),r(this,"members",{}),r(this,"memberNames",[]),r(this,"required",[]),r(this,"isRequired",(function(){return!1}))),e.members&&(r(this,"members",new m(e.members,t,(function(e,n){return a.create(n,t,e)}))),i(this,"memberNames",(function(){return e.xmlOrder||Object.keys(e.members)})),e.event&&(i(this,"eventPayloadMemberName",(function(){for(var e=n.members,t=n.memberNames,r=0,i=t.length;r<i;r++)if(e[t[r]].isEventPayload)return t[r]})),i(this,"eventHeaderMemberNames",(function(){for(var e=n.members,t=n.memberNames,r=[],i=0,o=t.length;i<o;i++)e[t[i]].isEventHeader&&r.push(t[i]);return r})))),e.required&&(r(this,"required",e.required),r(this,"isRequired",(function(t){if(!c){c={};for(var n=0;n<e.required.length;n++)c[e.required[n]]=!0}return c[t]}),!1,!0)),r(this,"resultWrapper",e.resultWrapper||null),e.payload&&r(this,"payload",e.payload),"string"==typeof e.xmlNamespace?r(this,"xmlNamespaceUri",e.xmlNamespace):"object"==o(e.xmlNamespace)&&(r(this,"xmlNamespacePrefix",e.xmlNamespace.prefix),r(this,"xmlNamespaceUri",e.xmlNamespace.uri))}function u(e,t){var n=this,o=!this.isShape;if(s.apply(this,arguments),o&&r(this,"defaultValue",(function(){return[]})),e.member&&i(this,"member",(function(){return a.create(e.member,t)})),this.flattened){var c=this.name;i(this,"name",(function(){return n.member.name||c}))}}function l(e,t){var n=!this.isShape;s.apply(this,arguments),n&&(r(this,"defaultValue",(function(){return{}})),r(this,"key",a.create({type:"string"},t)),r(this,"value",a.create({type:"string"},t))),e.key&&i(this,"key",(function(){return a.create(e.key,t)})),e.value&&i(this,"value",(function(){return a.create(e.value,t)}))}function d(){a.apply(this,arguments);var e=["rest-xml","query","ec2"];this.toType=function(t){return t=this.api&&e.indexOf(this.api.protocol)>-1?t||"":t,this.isJsonValue?JSON.parse(t):t&&"function"==typeof t.toString?t.toString():t},this.toWireFormat=function(e){return this.isJsonValue?JSON.stringify(e):e}}function f(){a.apply(this,arguments),this.toType=function(e){var t=g.base64.decode(e);if(this.isSensitive&&g.isNode()&&"function"==typeof g.Buffer.alloc){var n=g.Buffer.alloc(t.length,t);t.fill(0),t=n}return t},this.toWireFormat=g.base64.encode}function p(){f.apply(this,arguments)}function h(){a.apply(this,arguments),this.toType=function(e){return"boolean"==typeof e?e:null==e?null:"true"===e}}var m=e("./collection"),g=e("../util");a.normalizedTypes={character:"string",double:"float",long:"integer",short:"integer",biginteger:"integer",bigdecimal:"float",blob:"binary"},a.types={structure:c,list:u,map:l,boolean:h,timestamp:function(e){var t=this;if(a.apply(this,arguments),e.timestampFormat)r(this,"timestampFormat",e.timestampFormat);else if(t.isTimestampFormatSet&&this.timestampFormat)r(this,"timestampFormat",this.timestampFormat);else if("header"===this.location)r(this,"timestampFormat","rfc822");else if("querystring"===this.location)r(this,"timestampFormat","iso8601");else if(this.api)switch(this.api.protocol){case"json":case"rest-json":r(this,"timestampFormat","unixTimestamp");break;case"rest-xml":case"query":case"ec2":r(this,"timestampFormat","iso8601")}this.toType=function(e){return null==e?null:"function"==typeof e.toUTCString?e:"string"==typeof e||"number"==typeof e?g.date.parseTimestamp(e):null},this.toWireFormat=function(e){return g.date.format(e,t.timestampFormat)}},float:function(){a.apply(this,arguments),this.toType=function(e){return null==e?null:parseFloat(e)},this.toWireFormat=this.toType},integer:function(){a.apply(this,arguments),this.toType=function(e){return null==e?null:parseInt(e,10)},this.toWireFormat=this.toType},string:d,base64:p,binary:f},a.resolve=function(e,t){if(e.shape){var n=t.api.shapes[e.shape];if(!n)throw new Error("Cannot find shape reference: "+e.shape);return n}return null},a.create=function(e,t,n){if(e.isShape)return e;var r=a.resolve(e,t);if(r){var i=Object.keys(e);t.documentation||(i=i.filter((function(e){return!e.match(/documentation/)})));var o=function(){r.constructor.call(this,e,t,n)};return o.prototype=r,new o}e.type||(e.members?e.type="structure":e.member?e.type="list":e.key?e.type="map":e.type="string");var s=e.type;if(a.normalizedTypes[e.type]&&(e.type=a.normalizedTypes[e.type]),a.types[e.type])return new a.types[e.type](e,t,n);throw new Error("Unrecognized shape type: "+s)},a.shapes={StructureShape:c,ListShape:u,MapShape:l,StringShape:d,BooleanShape:h,Base64Shape:p},t.exports=a},{"../util":73,"./collection":41}],46:[function(e,t,n){var r=e("./core");r.ParamValidator=r.util.inherit({constructor:function(e){!0!==e&&void 0!==e||(e={min:!0}),this.validation=e},validate:function(e,t,n){if(this.errors=[],this.validateMember(e,t||{},n||"params"),this.errors.length>1){var i=this.errors.join("\n* ");throw i="There were "+this.errors.length+" validation errors:\n* "+i,r.util.error(new Error(i),{code:"MultipleValidationErrors",errors:this.errors})}if(1===this.errors.length)throw this.errors[0];return!0},fail:function(e,t){this.errors.push(r.util.error(new Error(t),{code:e}))},validateStructure:function(e,t,n){this.validateType(t,n,["object"],"structure");for(var r,i=0;e.required&&i<e.required.length;i++){null!=t[r=e.required[i]]||this.fail("MissingRequiredParameter","Missing required key '"+r+"' in "+n)}for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=t[r],a=e.members[r];if(void 0!==a){var s=[n,r].join(".");this.validateMember(a,o,s)}else this.fail("UnexpectedParameter","Unexpected key '"+r+"' found in "+n)}return!0},validateMember:function(e,t,n){switch(e.type){case"structure":return this.validateStructure(e,t,n);case"list":return this.validateList(e,t,n);case"map":return this.validateMap(e,t,n);default:return this.validateScalar(e,t,n)}},validateList:function(e,t,n){if(this.validateType(t,n,[Array])){this.validateRange(e,t.length,n,"list member count");for(var r=0;r<t.length;r++)this.validateMember(e.member,t[r],n+"["+r+"]")}},validateMap:function(e,t,n){if(this.validateType(t,n,["object"],"map")){var r=0;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(this.validateMember(e.key,i,n+"[key='"+i+"']"),this.validateMember(e.value,t[i],n+"['"+i+"']"),r++);this.validateRange(e,r,n,"map member count")}},validateScalar:function(e,t,n){switch(e.type){case null:case void 0:case"string":return this.validateString(e,t,n);case"base64":case"binary":return this.validatePayload(t,n);case"integer":case"float":return this.validateNumber(e,t,n);case"boolean":return this.validateType(t,n,["boolean"]);case"timestamp":return this.validateType(t,n,[Date,/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/,"number"],"Date object, ISO-8601 string, or a UNIX timestamp");default:return this.fail("UnkownType","Unhandled type "+e.type+" for "+n)}},validateString:function(e,t,n){var r=["string"];e.isJsonValue&&(r=r.concat(["number","object","boolean"])),null!==t&&this.validateType(t,n,r)&&(this.validateEnum(e,t,n),this.validateRange(e,t.length,n,"string length"),this.validatePattern(e,t,n),this.validateUri(e,t,n))},validateUri:function(e,t,n){"uri"===e.location&&0===t.length&&this.fail("UriParameterError",'Expected uri parameter to have length >= 1, but found "'+t+'" for '+n)},validatePattern:function(e,t,n){this.validation.pattern&&void 0!==e.pattern&&(new RegExp(e.pattern).test(t)||this.fail("PatternMatchError",'Provided value "'+t+'" does not match regex pattern /'+e.pattern+"/ for "+n))},validateRange:function(e,t,n,r){this.validation.min&&void 0!==e.min&&t<e.min&&this.fail("MinRangeError","Expected "+r+" >= "+e.min+", but found "+t+" for "+n),this.validation.max&&void 0!==e.max&&t>e.max&&this.fail("MaxRangeError","Expected "+r+" <= "+e.max+", but found "+t+" for "+n)},validateEnum:function(e,t,n){this.validation.enum&&void 0!==e.enum&&-1===e.enum.indexOf(t)&&this.fail("EnumError","Found string value of "+t+", but expected "+e.enum.join("|")+" for "+n)},validateType:function(e,t,n,i){if(null==e)return!1;for(var a=!1,s=0;s<n.length;s++){if("string"==typeof n[s]){if(o(e)===n[s])return!0}else if(n[s]instanceof RegExp){if((e||"").toString().match(n[s]))return!0}else{if(e instanceof n[s])return!0;if(r.util.isType(e,n[s]))return!0;i||a||(n=n.slice()),n[s]=r.util.typeName(n[s])}a=!0}var c=i;c||(c=n.join(", ").replace(/,([^,]+)$/,", or$1"));var u=c.match(/^[aeiou]/i)?"n":"";return this.fail("InvalidParameterType","Expected "+t+" to be a"+u+" "+c),!1},validateNumber:function(e,t,n){if(null!=t){if("string"==typeof t){var r=parseFloat(t);r.toString()===t&&(t=r)}this.validateType(t,n,["number"])&&this.validateRange(e,t,n,"numeric value")}},validatePayload:function(e,t){if(null!=e&&"string"!=typeof e&&(!e||"number"!=typeof e.byteLength)){if(r.util.isNode()){var n=r.util.stream.Stream;if(r.util.Buffer.isBuffer(e)||e instanceof n)return}else if(void 0!==("undefined"==typeof Blob?"undefined":o(Blob))&&e instanceof Blob)return;var i=["Buffer","Stream","File","Blob","ArrayBuffer","DataView"];if(e)for(var a=0;a<i.length;a++){if(r.util.isType(e,i[a]))return;if(r.util.typeName(e.constructor)===i[a])return}this.fail("InvalidParameterType","Expected "+t+" to be a string, Buffer, Stream, Blob, or typed array object")}}})},{"./core":20}],47:[function(e,t,n){var r=e("../util"),i=e("../core");t.exports={populateHostPrefix:function(e){if(!e.service.config.hostPrefixEnabled)return e;var t=e.service.api.operations[e.operation];if(function(e){var t=e.service.api,n=t.operations[e.operation],i=t.endpointOperation&&t.endpointOperation===r.string.lowerFirst(n.name);return"NULL"!==n.endpointDiscoveryRequired||!0===i}(e))return e;if(t.endpoint&&t.endpoint.hostPrefix){var n=function(e,t,n){return r.each(n.members,(function(n,i){if(!0===i.hostLabel){if("string"!=typeof t[n]||""===t[n])throw r.error(new Error,{message:"Parameter "+n+" should be a non-empty string.",code:"InvalidParameter"});var o=new RegExp("\\{"+n+"\\}","g");e=e.replace(o,t[n])}})),e}(t.endpoint.hostPrefix,e.params,t.input);(function(e,t){e.host&&(e.host=t+e.host),e.hostname&&(e.hostname=t+e.hostname)})(e.httpRequest.endpoint,n),function(e){var t=e.split("."),n=/^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9]$/;r.arrayEach(t,(function(e){if(!e.length||e.length<1||e.length>63)throw r.error(new Error,{code:"ValidationError",message:"Hostname label length should be between 1 to 63 characters, inclusive."});if(!n.test(e))throw i.util.error(new Error,{code:"ValidationError",message:e+" is not hostname compatible."})}))}(e.httpRequest.endpoint.hostname)}return e}}},{"../core":20,"../util":73}],48:[function(e,t,n){var r=e("../util"),i=e("../json/builder"),o=e("../json/parser"),a=e("./helpers").populateHostPrefix;t.exports={buildRequest:function(e){var t=e.httpRequest,n=e.service.api,r=n.targetPrefix+"."+n.operations[e.operation].name,o=n.jsonVersion||"1.0",s=n.operations[e.operation].input,c=new i;1===o&&(o="1.0"),t.body=c.build(e.params||{},s),t.headers["Content-Type"]="application/x-amz-json-"+o,t.headers["X-Amz-Target"]=r,a(e)},extractError:function(e){var t={},n=e.httpResponse;if(t.code=n.headers["x-amzn-errortype"]||"UnknownError","string"==typeof t.code&&(t.code=t.code.split(":")[0]),n.body.length>0)try{var i=JSON.parse(n.body.toString()),o=i.__type||i.code||i.Code;o&&(t.code=o.split("#").pop()),"RequestEntityTooLarge"===t.code?t.message="Request body must be less than 1 MB":t.message=i.message||i.Message||null}catch(i){t.statusCode=n.statusCode,t.message=n.statusMessage}else t.statusCode=n.statusCode,t.message=n.statusCode.toString();e.error=r.error(new Error,t)},extractData:function(e){var t=e.httpResponse.body.toString()||"{}";if(!1===e.request.service.config.convertResponseTypes)e.data=JSON.parse(t);else{var n=e.request.service.api.operations[e.request.operation].output||{},r=new o;e.data=r.parse(t,n)}}}},{"../json/builder":38,"../json/parser":39,"../util":73,"./helpers":47}],49:[function(e,t,n){var r=e("../core"),i=e("../util"),o=e("../query/query_param_serializer"),a=e("../model/shape"),s=e("./helpers").populateHostPrefix;t.exports={buildRequest:function(e){var t=e.service.api.operations[e.operation],n=e.httpRequest;n.headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",n.params={Version:e.service.api.apiVersion,Action:t.name},(new o).serialize(e.params,t.input,(function(e,t){n.params[e]=t})),n.body=i.queryParamsToString(n.params),s(e)},extractError:function(e){var t,n=e.httpResponse.body.toString();if(n.match("<UnknownOperationException"))t={Code:"UnknownOperation",Message:"Unknown operation "+e.request.operation};else try{t=(new r.XML.Parser).parse(n)}catch(n){t={Code:e.httpResponse.statusCode,Message:e.httpResponse.statusMessage}}t.requestId&&!e.requestId&&(e.requestId=t.requestId),t.Errors&&(t=t.Errors),t.Error&&(t=t.Error),t.Code?e.error=i.error(new Error,{code:t.Code,message:t.Message}):e.error=i.error(new Error,{code:e.httpResponse.statusCode,message:null})},extractData:function(e){var t=e.request,n=t.service.api.operations[t.operation].output||{},o=n;if(o.resultWrapper){var s=a.create({type:"structure"});s.members[o.resultWrapper]=n,s.memberNames=[o.resultWrapper],i.property(n,"name",n.resultWrapper),n=s}var c=new r.XML.Parser;if(n&&n.members&&!n.members._XAMZRequestId){var u=a.create({type:"string"},{api:{protocol:"query"}},"requestId");n.members._XAMZRequestId=u}var l=c.parse(e.httpResponse.body.toString(),n);e.requestId=l._XAMZRequestId||l.requestId,l._XAMZRequestId&&delete l._XAMZRequestId,o.resultWrapper&&l[o.resultWrapper]&&(i.update(l,l[o.resultWrapper]),delete l[o.resultWrapper]),e.data=l}}},{"../core":20,"../model/shape":45,"../query/query_param_serializer":53,"../util":73,"./helpers":47}],50:[function(e,t,n){function r(e,t,n,r){var o=[e,t].join("/");o=o.replace(/\/+/g,"/");var a={},s=!1;if(i.each(n.members,(function(e,t){var n=r[e];if(null!=n)if("uri"===t.location){var c=new RegExp("\\{"+t.name+"(\\+)?\\}");o=o.replace(c,(function(e,t){return(t?i.uriEscapePath:i.uriEscape)(String(n))}))}else"querystring"===t.location&&(s=!0,"list"===t.type?a[t.name]=n.map((function(e){return i.uriEscape(t.member.toWireFormat(e).toString())})):"map"===t.type?i.each(n,(function(e,t){Array.isArray(t)?a[e]=t.map((function(e){return i.uriEscape(String(e))})):a[e]=i.uriEscape(String(t))})):a[t.name]=i.uriEscape(t.toWireFormat(n).toString()))})),s){o+=o.indexOf("?")>=0?"&":"?";var c=[];i.arrayEach(Object.keys(a).sort(),(function(e){Array.isArray(a[e])||(a[e]=[a[e]]);for(var t=0;t<a[e].length;t++)c.push(i.uriEscape(String(e))+"="+a[e][t])})),o+=c.join("&")}return o}var i=e("../util"),o=e("./helpers").populateHostPrefix;t.exports={buildRequest:function(e){(function(e){e.httpRequest.method=e.service.api.operations[e.operation].httpMethod})(e),function(e){var t=e.service.api.operations[e.operation],n=t.input,i=r(e.httpRequest.endpoint.path,t.httpPath,n,e.params);e.httpRequest.path=i}(e),function(e){var t=e.service.api.operations[e.operation];i.each(t.input.members,(function(t,n){var r=e.params[t];null!=r&&("headers"===n.location&&"map"===n.type?i.each(r,(function(t,r){e.httpRequest.headers[n.name+t]=r})):"header"===n.location&&(r=n.toWireFormat(r).toString(),n.isJsonValue&&(r=i.base64.encode(r)),e.httpRequest.headers[n.name]=r))}))}(e),o(e)},extractError:function(){},extractData:function(e){var t=e.request,n={},r=e.httpResponse,o=t.service.api.operations[t.operation].output,a={};i.each(r.headers,(function(e,t){a[e.toLowerCase()]=t})),i.each(o.members,(function(e,t){var o=(t.name||e).toLowerCase();if("headers"===t.location&&"map"===t.type){n[e]={};var s=t.isLocationName?t.name:"",c=new RegExp("^"+s+"(.+)","i");i.each(r.headers,(function(t,r){var i=t.match(c);null!==i&&(n[e][i[1]]=r)}))}else if("header"===t.location){if(void 0!==a[o]){var u=t.isJsonValue?i.base64.decode(a[o]):a[o];n[e]=t.toType(u)}}else"statusCode"===t.location&&(n[e]=parseInt(r.statusCode,10))})),e.data=n},generateURI:r}},{"../util":73,"./helpers":47}],51:[function(e,t,n){function r(e,t){if(e.service.api.operations[e.operation].input,!e.httpRequest.headers["Content-Type"]){var n=t?"binary/octet-stream":"application/json";e.httpRequest.headers["Content-Type"]=n}}var i=e("../util"),o=e("./rest"),a=e("./json"),s=e("../json/builder"),c=e("../json/parser");t.exports={buildRequest:function(e){o.buildRequest(e),["HEAD","DELETE"].indexOf(e.httpRequest.method)<0&&function(e){var t=new s,n=e.service.api.operations[e.operation].input;if(n.payload){var i,o=n.members[n.payload];if(void 0===(i=e.params[n.payload]))return;"structure"===o.type?(e.httpRequest.body=t.build(i,o),r(e)):(e.httpRequest.body=i,("binary"===o.type||o.isStreaming)&&r(e,!0))}else{var a=t.build(e.params,n);"{}"===a&&"GET"===e.httpRequest.method||(e.httpRequest.body=a),r(e)}}(e)},extractError:function(e){a.extractError(e)},extractData:function(e){o.extractData(e);var t=e.request,n=t.service.api.operations[t.operation],r=t.service.api.operations[t.operation].output||{};if(n.hasEventOutput,r.payload){var s=r.members[r.payload],u=e.httpResponse.body;if(s.isEventStream)l=new c,e.data[payload]=i.createEventStream(2===AWS.HttpClient.streamsApiVersion?e.httpResponse.stream:u,l,s);else if("structure"===s.type||"list"===s.type){var l=new c;e.data[r.payload]=l.parse(u,s)}else"binary"===s.type||s.isStreaming?e.data[r.payload]=u:e.data[r.payload]=s.toType(u)}else{var d=e.data;a.extractData(e),e.data=i.merge(d,e.data)}}}},{"../json/builder":38,"../json/parser":39,"../util":73,"./json":48,"./rest":50}],52:[function(e,t,n){var r=e("../core"),i=e("../util"),o=e("./rest");t.exports={buildRequest:function(e){o.buildRequest(e),["GET","HEAD"].indexOf(e.httpRequest.method)<0&&function(e){var t=e.service.api.operations[e.operation].input,n=new r.XML.Builder,o=e.params,a=t.payload;if(a){var s=t.members[a];if(void 0===(o=o[a]))return;if("structure"===s.type){var c=s.name;e.httpRequest.body=n.toXML(o,s,c,!0)}else e.httpRequest.body=o}else e.httpRequest.body=n.toXML(o,t,t.name||t.shape||i.string.upperFirst(e.operation)+"Request")}(e)},extractError:function(e){var t;o.extractError(e);try{t=(new r.XML.Parser).parse(e.httpResponse.body.toString())}catch(n){t={Code:e.httpResponse.statusCode,Message:e.httpResponse.statusMessage}}t.Errors&&(t=t.Errors),t.Error&&(t=t.Error),t.Code?e.error=i.error(new Error,{code:t.Code,message:t.Message}):e.error=i.error(new Error,{code:e.httpResponse.statusCode,message:null})},extractData:function(e){o.extractData(e);var t,n=e.request,a=e.httpResponse.body,s=n.service.api.operations[n.operation],c=s.output,u=(s.hasEventOutput,c.payload);if(u){var l=c.members[u];l.isEventStream?(t=new r.XML.Parser,e.data[u]=i.createEventStream(2===r.HttpClient.streamsApiVersion?e.httpResponse.stream:e.httpResponse.body,t,l)):"structure"===l.type?(t=new r.XML.Parser,e.data[u]=t.parse(a.toString(),l)):"binary"===l.type||l.isStreaming?e.data[u]=a:e.data[u]=l.toType(a)}else if(a.length>0){var d=(t=new r.XML.Parser).parse(a.toString(),c);i.update(e.data,d)}}}},{"../core":20,"../util":73,"./rest":50}],53:[function(e,t,n){function r(){}function i(e){return e.isQueryName||"ec2"!==e.api.protocol?e.name:e.name[0].toUpperCase()+e.name.substr(1)}function o(e,t,n,r){s.each(n.members,(function(n,o){var s=t[n];if(null!=s){var c=i(o);a(c=e?e+"."+c:c,s,o,r)}}))}function a(e,t,n,r){null!=t&&("structure"===n.type?o(e,t,n,r):"list"===n.type?function(e,t,n,r){var o=n.member||{};0!==t.length?s.arrayEach(t,(function(t,s){var c="."+(s+1);if("ec2"===n.api.protocol)c+="";else if(n.flattened){if(o.name){var u=e.split(".");u.pop(),u.push(i(o)),e=u.join(".")}}else c="."+(o.name?o.name:"member")+c;a(e+c,t,o,r)})):r.call(this,e,null)}(e,t,n,r):"map"===n.type?function(e,t,n,r){var i=1;s.each(t,(function(t,o){var s=(n.flattened?".":".entry.")+i+++".",c=s+(n.key.name||"key"),u=s+(n.value.name||"value");a(e+c,t,n.key,r),a(e+u,o,n.value,r)}))}(e,t,n,r):r(e,n.toWireFormat(t).toString()))}var s=e("../util");r.prototype.serialize=function(e,t,n){o("",e,t,n)},t.exports=r},{"../util":73}],54:[function(e,t,n){t.exports={now:function(){return"undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():Date.now()}}},{}],55:[function(e,t,n){function r(e,t){i.each(t,(function(t,n){"globalEndpoint"!==t&&(void 0!==e.config[t]&&null!==e.config[t]||(e.config[t]=n))}))}var i=e("./util"),o=e("./region_config_data.json");t.exports={configureEndpoint:function(e){for(var t=function(e){var t=e.config.region,n=function(e){if(!e)return null;var t=e.split("-");return t.length<3?null:t.slice(0,t.length-2).join("-")+"-*"}(t),r=e.api.endpointPrefix;return[[t,r],[n,r],[t,"*"],[n,"*"],["*",r],["*","*"]].map((function(e){return e[0]&&e[1]?e.join("/"):null}))}(e),n=0;n<t.length;n++){var a=t[n];if(a&&Object.prototype.hasOwnProperty.call(o.rules,a)){var s=o.rules[a];return"string"==typeof s&&(s=o.patterns[s]),e.config.useDualstack&&i.isDualstackAvailable(e)&&((s=i.copy(s)).endpoint=s.endpoint.replace(/{service}\.({region}\.)?/,"{service}.dualstack.{region}.")),e.isGlobalEndpoint=!!s.globalEndpoint,s.signingRegion&&(e.signingRegion=s.signingRegion),s.signatureVersion||(s.signatureVersion="v4"),void r(e,s)}}},getEndpointSuffix:function(e){for(var t={"^(us|eu|ap|sa|ca|me)\\-\\w+\\-\\d+$":"amazonaws.com","^cn\\-\\w+\\-\\d+$":"amazonaws.com.cn","^us\\-gov\\-\\w+\\-\\d+$":"amazonaws.com","^us\\-iso\\-\\w+\\-\\d+$":"c2s.ic.gov","^us\\-isob\\-\\w+\\-\\d+$":"sc2s.sgov.gov"},n=Object.keys(t),r=0;r<n.length;r++){var i=RegExp(n[r]),o=t[n[r]];if(i.test(e))return o}return"amazonaws.com"}}},{"./region_config_data.json":56,"./util":73}],56:[function(e,t,n){t.exports={rules:{"*/*":{endpoint:"{service}.{region}.amazonaws.com"},"cn-*/*":{endpoint:"{service}.{region}.amazonaws.com.cn"},"us-iso-*/*":{endpoint:"{service}.{region}.c2s.ic.gov"},"us-isob-*/*":{endpoint:"{service}.{region}.sc2s.sgov.gov"},"*/budgets":"globalSSL","*/cloudfront":"globalSSL","*/sts":"globalSSL","*/importexport":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2",globalEndpoint:!0},"*/route53":"globalSSL","cn-*/route53":{endpoint:"{service}.amazonaws.com.cn",globalEndpoint:!0,signingRegion:"cn-northwest-1"},"us-gov-*/route53":"globalGovCloud","*/waf":"globalSSL","*/iam":"globalSSL","cn-*/iam":{endpoint:"{service}.cn-north-1.amazonaws.com.cn",globalEndpoint:!0,signingRegion:"cn-north-1"},"us-gov-*/iam":"globalGovCloud","us-gov-*/sts":{endpoint:"{service}.{region}.amazonaws.com"},"us-gov-west-1/s3":"s3signature","us-west-1/s3":"s3signature","us-west-2/s3":"s3signature","eu-west-1/s3":"s3signature","ap-southeast-1/s3":"s3signature","ap-southeast-2/s3":"s3signature","ap-northeast-1/s3":"s3signature","sa-east-1/s3":"s3signature","us-east-1/s3":{endpoint:"{service}.amazonaws.com",signatureVersion:"s3"},"us-east-1/sdb":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2"},"*/sdb":{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"v2"}},patterns:{globalSSL:{endpoint:"https://{service}.amazonaws.com",globalEndpoint:!0,signingRegion:"us-east-1"},globalGovCloud:{endpoint:"{service}.us-gov.amazonaws.com",globalEndpoint:!0,signingRegion:"us-gov-west-1"},s3signature:{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"s3"}}}},{}],57:[function(e,t,n){(function(t){(function(){var n=e("./core"),r=e("./state_machine"),i=n.util.inherit,o=n.util.domain,a=e("jmespath"),s={success:1,error:1,complete:1},c=new r;c.setupStates=function(){var e=function(e,t){var n=this;n._haltHandlersOnError=!1,n.emit(n._asm.currentState,(function(e){if(e)if(function(e){return Object.prototype.hasOwnProperty.call(s,e._asm.currentState)}(n)){if(!(o&&n.domain instanceof o.Domain))throw e;e.domainEmitter=n,e.domain=n.domain,e.domainThrown=!1,n.domain.emit("error",e)}else n.response.error=e,t(e);else t(n.response.error)}))};this.addState("validate","build","error",e),this.addState("build","afterBuild","restart",e),this.addState("afterBuild","sign","restart",e),this.addState("sign","send","retry",e),this.addState("retry","afterRetry","afterRetry",e),this.addState("afterRetry","sign","error",e),this.addState("send","validateResponse","retry",e),this.addState("validateResponse","extractData","extractError",e),this.addState("extractError","extractData","retry",e),this.addState("extractData","success","retry",e),this.addState("restart","build","error",e),this.addState("success","complete","complete",e),this.addState("error","complete","complete",e),this.addState("complete",null,null,e)},c.setupStates(),n.Request=i({constructor:function(e,t,i){var a=e.endpoint,s=e.config.region,u=e.config.customUserAgent;e.isGlobalEndpoint&&(s=e.signingRegion?e.signingRegion:"us-east-1"),this.domain=o&&o.active,this.service=e,this.operation=t,this.params=i||{},this.httpRequest=new n.HttpRequest(a,s),this.httpRequest.appendToUserAgent(u),this.startTime=e.getSkewCorrectedDate(),this.response=new n.Response(this),this._asm=new r(c.states,"validate"),this._haltHandlersOnError=!1,n.SequentialExecutor.call(this),this.emit=this.emitEvent},send:function(e){return e&&(this.httpRequest.appendToUserAgent("callback"),this.on("complete",(function(t){e.call(t,t.error,t.data)}))),this.runTo(),this.response},build:function(e){return this.runTo("send",e)},runTo:function(e,t){return this._asm.runTo(e,t,this),this},abort:function(){return this.removeAllListeners("validateResponse"),this.removeAllListeners("extractError"),this.on("validateResponse",(function(e){e.error=n.util.error(new Error("Request aborted by user"),{code:"RequestAbortedError",retryable:!1})})),this.httpRequest.stream&&!this.httpRequest.stream.didCallback&&(this.httpRequest.stream.abort(),this.httpRequest._abortCallback?this.httpRequest._abortCallback():this.removeAllListeners("send")),this},eachPage:function(e){e=n.util.fn.makeAsync(e,3),this.on("complete",(function t(r){e.call(r,r.error,r.data,(function(i){!1!==i&&(r.hasNextPage()?r.nextPage().on("complete",t).send():e.call(r,null,null,n.util.fn.noop))}))})).send()},eachItem:function(e){var t=this;this.eachPage((function(r,i){if(r)return e(r,null);if(null===i)return e(null,null);var o=t.service.paginationConfig(t.operation).resultKey;Array.isArray(o)&&(o=o[0]);var s=a.search(i,o),c=!0;return n.util.arrayEach(s,(function(t){if(!1===(c=e(null,t)))return n.util.abort})),c}))},isPageable:function(){return!!this.service.paginationConfig(this.operation)},createReadStream:function(){var e=n.util.stream,r=this,i=null;return 2===n.HttpClient.streamsApiVersion?(i=new e.PassThrough,t.nextTick((function(){r.send()}))):((i=new e.Stream).readable=!0,i.sent=!1,i.on("newListener",(function(e){i.sent||"data"!==e||(i.sent=!0,t.nextTick((function(){r.send()})))}))),this.on("error",(function(e){i.emit("error",e)})),this.on("httpHeaders",(function(t,o,a){if(t<300){r.removeListener("httpData",n.EventListeners.Core.HTTP_DATA),r.removeListener("httpError",n.EventListeners.Core.HTTP_ERROR),r.on("httpError",(function(e){a.error=e,a.error.retryable=!1}));var s,c=!1;if("HEAD"!==r.httpRequest.method&&(s=parseInt(o["content-length"],10)),void 0!==s&&!isNaN(s)&&s>=0){c=!0;var u=0}var l=function(){c&&u!==s?i.emit("error",n.util.error(new Error("Stream content length mismatch. Received "+u+" of "+s+" bytes."),{code:"StreamContentLengthMismatch"})):2===n.HttpClient.streamsApiVersion?i.end():i.emit("end")},d=a.httpResponse.createUnbufferedStream();if(2===n.HttpClient.streamsApiVersion)if(c){var f=new e.PassThrough;f._write=function(t){return t&&t.length&&(u+=t.length),e.PassThrough.prototype._write.apply(this,arguments)},f.on("end",l),i.on("error",(function(e){c=!1,d.unpipe(f),f.emit("end"),f.end()})),d.pipe(f).pipe(i,{end:!1})}else d.pipe(i);else c&&d.on("data",(function(e){e&&e.length&&(u+=e.length)})),d.on("data",(function(e){i.emit("data",e)})),d.on("end",l);d.on("error",(function(e){c=!1,i.emit("error",e)}))}})),i},emitEvent:function(e,t,r){"function"==typeof t&&(r=t,t=null),r||(r=function(){}),t||(t=this.eventParameters(e,this.response)),n.SequentialExecutor.prototype.emit.call(this,e,t,(function(e){e&&(this.response.error=e),r.call(this,e)}))},eventParameters:function(e){switch(e){case"restart":case"validate":case"sign":case"build":case"afterValidate":case"afterBuild":return[this];case"error":return[this.response.error,this.response];default:return[this.response]}},presign:function(e,t){return t||"function"!=typeof e||(t=e,e=null),(new n.Signers.Presign).sign(this.toGet(),e,t)},isPresigned:function(){return Object.prototype.hasOwnProperty.call(this.httpRequest.headers,"presigned-expires")},toUnauthenticated:function(){return this._unAuthenticated=!0,this.removeListener("validate",n.EventListeners.Core.VALIDATE_CREDENTIALS),this.removeListener("sign",n.EventListeners.Core.SIGN),this},toGet:function(){return"query"!==this.service.api.protocol&&"ec2"!==this.service.api.protocol||(this.removeListener("build",this.buildAsGet),this.addListener("build",this.buildAsGet)),this},buildAsGet:function(e){e.httpRequest.method="GET",e.httpRequest.path=e.service.endpoint.path+"?"+e.httpRequest.body,e.httpRequest.body="",delete e.httpRequest.headers["Content-Length"],delete e.httpRequest.headers["Content-Type"]},haltHandlersOnError:function(){this._haltHandlersOnError=!0}}),n.Request.addPromisesToClass=function(e){this.prototype.promise=function(){var t=this;return this.httpRequest.appendToUserAgent("promise"),new e((function(e,n){t.on("complete",(function(t){t.error?n(t.error):e(Object.defineProperty(t.data||{},"$response",{value:t}))})),t.runTo()}))}},n.Request.deletePromisesFromClass=function(){delete this.prototype.promise},n.util.addPromises(n.Request),n.util.mixin(n.Request,n.SequentialExecutor)}).call(this)}).call(this,e("_process"))},{"./core":20,"./state_machine":72,_process:87,jmespath:86}],58:[function(e,t,n){function r(e){var t=e.request._waiter,n=t.config.acceptors,r=!1,i="retry";n.forEach((function(n){if(!r){var o=t.matchers[n.matcher];o&&o(e,n.expected,n.argument)&&(r=!0,i=n.state)}})),!r&&e.error&&(i="failure"),"success"===i?t.setSuccess(e):t.setError(e,"retry"===i)}var i=e("./core"),o=i.util.inherit,a=e("jmespath");i.ResourceWaiter=o({constructor:function(e,t){this.service=e,this.state=t,this.loadWaiterConfig(this.state)},service:null,state:null,config:null,matchers:{path:function(e,t,n){try{var r=a.search(e.data,n)}catch(e){return!1}return a.strictDeepEqual(r,t)},pathAll:function(e,t,n){try{var r=a.search(e.data,n)}catch(e){return!1}Array.isArray(r)||(r=[r]);var i=r.length;if(!i)return!1;for(var o=0;o<i;o++)if(!a.strictDeepEqual(r[o],t))return!1;return!0},pathAny:function(e,t,n){try{var r=a.search(e.data,n)}catch(e){return!1}Array.isArray(r)||(r=[r]);for(var i=r.length,o=0;o<i;o++)if(a.strictDeepEqual(r[o],t))return!0;return!1},status:function(e,t){var n=e.httpResponse.statusCode;return"number"==typeof n&&n===t},error:function(e,t){return"string"==typeof t&&e.error?t===e.error.code:t===!!e.error}},listeners:(new i.SequentialExecutor).addNamedListeners((function(e){e("RETRY_CHECK","retry",(function(e){var t=e.request._waiter;e.error&&"ResourceNotReady"===e.error.code&&(e.error.retryDelay=1e3*(t.config.delay||0))})),e("CHECK_OUTPUT","extractData",r),e("CHECK_ERROR","extractError",r)})),wait:function(e,t){"function"==typeof e&&(t=e,e=void 0),e&&e.$waiter&&("number"==typeof(e=i.util.copy(e)).$waiter.delay&&(this.config.delay=e.$waiter.delay),"number"==typeof e.$waiter.maxAttempts&&(this.config.maxAttempts=e.$waiter.maxAttempts),delete e.$waiter);var n=this.service.makeRequest(this.config.operation,e);return n._waiter=this,n.response.maxRetries=this.config.maxAttempts,n.addListeners(this.listeners),t&&n.send(t),n},setSuccess:function(e){e.error=null,e.data=e.data||{},e.request.removeAllListeners("extractData")},setError:function(e,t){e.data=null,e.error=i.util.error(e.error||new Error,{code:"ResourceNotReady",message:"Resource is not in the state "+this.state,retryable:t})},loadWaiterConfig:function(e){if(!this.service.api.waiters[e])throw new i.util.error(new Error,{code:"StateNotFoundError",message:"State "+e+" not found."});this.config=i.util.copy(this.service.api.waiters[e])}})},{"./core":20,jmespath:86}],59:[function(e,t,n){var r=e("./core"),i=r.util.inherit,o=e("jmespath");r.Response=i({constructor:function(e){this.request=e,this.data=null,this.error=null,this.retryCount=0,this.redirectCount=0,this.httpResponse=new r.HttpResponse,e&&(this.maxRetries=e.service.numRetries(),this.maxRedirects=e.service.config.maxRedirects)},nextPage:function(e){var t,n=this.request.service,i=this.request.operation;try{t=n.paginationConfig(i,!0)}catch(e){this.error=e}if(!this.hasNextPage()){if(e)e(this.error,null);else if(this.error)throw this.error;return null}var o=r.util.copy(this.request.params);if(this.nextPageTokens){var a=t.inputToken;"string"==typeof a&&(a=[a]);for(var s=0;s<a.length;s++)o[a[s]]=this.nextPageTokens[s];return n.makeRequest(this.request.operation,o,e)}return e?e(null,null):null},hasNextPage:function(){return this.cacheNextPageTokens(),!!this.nextPageTokens||void 0===this.nextPageTokens&&void 0},cacheNextPageTokens:function(){if(Object.prototype.hasOwnProperty.call(this,"nextPageTokens"))return this.nextPageTokens;this.nextPageTokens=void 0;var e=this.request.service.paginationConfig(this.request.operation);if(!e)return this.nextPageTokens;if(this.nextPageTokens=null,e.moreResults&&!o.search(this.data,e.moreResults))return this.nextPageTokens;var t=e.outputToken;return"string"==typeof t&&(t=[t]),r.util.arrayEach.call(this,t,(function(e){var t=o.search(this.data,e);t&&(this.nextPageTokens=this.nextPageTokens||[],this.nextPageTokens.push(t))})),this.nextPageTokens}})},{"./core":20,jmespath:86}],60:[function(e,t,n){var r=e("./core");r.SequentialExecutor=r.util.inherit({constructor:function(){this._events={}},listeners:function(e){return this._events[e]?this._events[e].slice(0):[]},on:function(e,t,n){return this._events[e]?n?this._events[e].unshift(t):this._events[e].push(t):this._events[e]=[t],this},onAsync:function(e,t,n){return t._isAsync=!0,this.on(e,t,n)},removeListener:function(e,t){var n=this._events[e];if(n){for(var r=n.length,i=-1,o=0;o<r;++o)n[o]===t&&(i=o);i>-1&&n.splice(i,1)}return this},removeAllListeners:function(e){return e?delete this._events[e]:this._events={},this},emit:function(e,t,n){n||(n=function(){});var r=this.listeners(e),i=r.length;return this.callListeners(r,t,n),i>0},callListeners:function(e,t,n,i){function o(i){if(i&&(s=r.util.error(s||new Error,i),a._haltHandlersOnError))return n.call(a,s);a.callListeners(e,t,n,s)}for(var a=this,s=i||null;e.length>0;){var c=e.shift();if(c._isAsync)return void c.apply(a,t.concat([o]));try{c.apply(a,t)}catch(e){s=r.util.error(s||new Error,e)}if(s&&a._haltHandlersOnError)return void n.call(a,s)}n.call(a,s)},addListeners:function(e){var t=this;return e._events&&(e=e._events),r.util.each(e,(function(e,n){"function"==typeof n&&(n=[n]),r.util.arrayEach(n,(function(n){t.on(e,n)}))})),t},addNamedListener:function(e,t,n,r){return this[e]=n,this.addListener(t,n,r),this},addNamedAsyncListener:function(e,t,n,r){return n._isAsync=!0,this.addNamedListener(e,t,n,r)},addNamedListeners:function(e){var t=this;return e((function(){t.addNamedListener.apply(t,arguments)}),(function(){t.addNamedAsyncListener.apply(t,arguments)})),this}}),r.SequentialExecutor.prototype.addListener=r.SequentialExecutor.prototype.on,t.exports=r.SequentialExecutor},{"./core":20}],61:[function(e,t,n){(function(n){(function(){var r=e("./core"),i=e("./model/api"),a=e("./region_config"),s=r.util.inherit,c=0;r.Service=s({constructor:function(e){if(!this.loadServiceClass)throw r.util.error(new Error,"Service must be constructed with `new' operator");var t=this.loadServiceClass(e||{});if(t){var n=r.util.copy(e),i=new t(e);return Object.defineProperty(i,"_originalConfig",{get:function(){return n},enumerable:!1,configurable:!0}),i._clientId=++c,i}this.initialize(e)},initialize:function(e){var t=r.config[this.serviceIdentifier];if(this.config=new r.Config(r.config),t&&this.config.update(t,!0),e&&this.config.update(e,!0),this.validateService(),this.config.endpoint||a.configureEndpoint(this),this.config.endpoint=this.endpointFromTemplate(this.config.endpoint),this.setEndpoint(this.config.endpoint),r.SequentialExecutor.call(this),r.Service.addDefaultMonitoringListeners(this),(this.config.clientSideMonitoring||r.Service._clientSideMonitoring)&&this.publisher){var i=this.publisher;this.addNamedListener("PUBLISH_API_CALL","apiCall",(function(e){n.nextTick((function(){i.eventHandler(e)}))})),this.addNamedListener("PUBLISH_API_ATTEMPT","apiCallAttempt",(function(e){n.nextTick((function(){i.eventHandler(e)}))}))}},validateService:function(){},loadServiceClass:function(e){var t=e;if(r.util.isEmpty(this.api)){if(t.apiConfig)return r.Service.defineServiceApi(this.constructor,t.apiConfig);if(this.constructor.services){(t=new r.Config(r.config)).update(e,!0);var n=t.apiVersions[this.constructor.serviceIdentifier];return n=n||t.apiVersion,this.getLatestServiceClass(n)}return null}return null},getLatestServiceClass:function(e){return e=this.getLatestServiceVersion(e),null===this.constructor.services[e]&&r.Service.defineServiceApi(this.constructor,e),this.constructor.services[e]},getLatestServiceVersion:function(e){if(!this.constructor.services||0===this.constructor.services.length)throw new Error("No services defined on "+this.constructor.serviceIdentifier);if(e?r.util.isType(e,Date)&&(e=r.util.date.iso8601(e).split("T")[0]):e="latest",Object.hasOwnProperty(this.constructor.services,e))return e;for(var t=Object.keys(this.constructor.services).sort(),n=null,i=t.length-1;i>=0;i--)if("*"!==t[i][t[i].length-1]&&(n=t[i]),t[i].substr(0,10)<=e)return n;throw new Error("Could not find "+this.constructor.serviceIdentifier+" API to satisfy version constraint `"+e+"'")},api:{},defaultRetryCount:3,customizeRequests:function(e){if(e){if("function"!=typeof e)throw new Error("Invalid callback type '"+o(e)+"' provided in customizeRequests");this.customRequestHandler=e}else this.customRequestHandler=null},makeRequest:function(e,t,n){if("function"==typeof t&&(n=t,t=null),t=t||{},this.config.params){var i=this.api.operations[e];i&&(t=r.util.copy(t),r.util.each(this.config.params,(function(e,n){i.input.members[e]&&(void 0!==t[e]&&null!==t[e]||(t[e]=n))})))}var o=new r.Request(this,e,t);return this.addAllRequestListeners(o),this.attachMonitoringEmitter(o),n&&o.send(n),o},makeUnauthenticatedRequest:function(e,t,n){"function"==typeof t&&(n=t,t={});var r=this.makeRequest(e,t).toUnauthenticated();return n?r.send(n):r},waitFor:function(e,t,n){return new r.ResourceWaiter(this,e).wait(t,n)},addAllRequestListeners:function(e){for(var t=[r.events,r.EventListeners.Core,this.serviceInterface(),r.EventListeners.CorePost],n=0;n<t.length;n++)t[n]&&e.addListeners(t[n]);this.config.paramValidation||e.removeListener("validate",r.EventListeners.Core.VALIDATE_PARAMETERS),this.config.logger&&e.addListeners(r.EventListeners.Logger),this.setupRequestListeners(e),"function"==typeof this.constructor.prototype.customRequestHandler&&this.constructor.prototype.customRequestHandler(e),Object.prototype.hasOwnProperty.call(this,"customRequestHandler")&&"function"==typeof this.customRequestHandler&&this.customRequestHandler(e)},apiCallEvent:function(e){var t=e.service.api.operations[e.operation],n={Type:"ApiCall",Api:t?t.name:e.operation,Version:1,Service:e.service.api.serviceId||e.service.api.endpointPrefix,Region:e.httpRequest.region,MaxRetriesExceeded:0,UserAgent:e.httpRequest.getUserAgent()},r=e.response;if(r.httpResponse.statusCode&&(n.FinalHttpStatusCode=r.httpResponse.statusCode),r.error){var i=r.error;r.httpResponse.statusCode>299?(i.code&&(n.FinalAwsException=i.code),i.message&&(n.FinalAwsExceptionMessage=i.message)):((i.code||i.name)&&(n.FinalSdkException=i.code||i.name),i.message&&(n.FinalSdkExceptionMessage=i.message))}return n},apiAttemptEvent:function(e){var t=e.service.api.operations[e.operation],n={Type:"ApiCallAttempt",Api:t?t.name:e.operation,Version:1,Service:e.service.api.serviceId||e.service.api.endpointPrefix,Fqdn:e.httpRequest.endpoint.hostname,UserAgent:e.httpRequest.getUserAgent()},r=e.response;return r.httpResponse.statusCode&&(n.HttpStatusCode=r.httpResponse.statusCode),!e._unAuthenticated&&e.service.config.credentials&&e.service.config.credentials.accessKeyId&&(n.AccessKey=e.service.config.credentials.accessKeyId),r.httpResponse.headers?(e.httpRequest.headers["x-amz-security-token"]&&(n.SessionToken=e.httpRequest.headers["x-amz-security-token"]),r.httpResponse.headers["x-amzn-requestid"]&&(n.XAmznRequestId=r.httpResponse.headers["x-amzn-requestid"]),r.httpResponse.headers["x-amz-request-id"]&&(n.XAmzRequestId=r.httpResponse.headers["x-amz-request-id"]),r.httpResponse.headers["x-amz-id-2"]&&(n.XAmzId2=r.httpResponse.headers["x-amz-id-2"]),n):n},attemptFailEvent:function(e){var t=this.apiAttemptEvent(e),n=e.response,r=n.error;return n.httpResponse.statusCode>299?(r.code&&(t.AwsException=r.code),r.message&&(t.AwsExceptionMessage=r.message)):((r.code||r.name)&&(t.SdkException=r.code||r.name),r.message&&(t.SdkExceptionMessage=r.message)),t},attachMonitoringEmitter:function(e){var t,n,i,o,a,s,c=0,u=this;e.on("validate",(function(){o=r.util.realClock.now(),s=Date.now()}),!0),e.on("sign",(function(){n=r.util.realClock.now(),t=Date.now(),a=e.httpRequest.region,c++}),!0),e.on("validateResponse",(function(){i=Math.round(r.util.realClock.now()-n)})),e.addNamedListener("API_CALL_ATTEMPT","success",(function(){var n=u.apiAttemptEvent(e);n.Timestamp=t,n.AttemptLatency=i>=0?i:0,n.Region=a,u.emit("apiCallAttempt",[n])})),e.addNamedListener("API_CALL_ATTEMPT_RETRY","retry",(function(){var o=u.attemptFailEvent(e);o.Timestamp=t,i=i||Math.round(r.util.realClock.now()-n),o.AttemptLatency=i>=0?i:0,o.Region=a,u.emit("apiCallAttempt",[o])})),e.addNamedListener("API_CALL","complete",(function(){var t=u.apiCallEvent(e);if(t.AttemptCount=c,!(t.AttemptCount<=0)){t.Timestamp=s;var n=Math.round(r.util.realClock.now()-o);t.Latency=n>=0?n:0;var i=e.response;i.error&&i.error.retryable&&"number"==typeof i.retryCount&&"number"==typeof i.maxRetries&&i.retryCount>=i.maxRetries&&(t.MaxRetriesExceeded=1),u.emit("apiCall",[t])}}))},setupRequestListeners:function(e){},getSigningName:function(){return this.api.signingName||this.api.endpointPrefix},getSignerClass:function(e){var t,n=null,i="";return e&&(i=(n=(e.service.api.operations||{})[e.operation]||null)?n.authtype:""),t=this.config.signatureVersion?this.config.signatureVersion:"v4"===i||"v4-unsigned-body"===i?"v4":this.api.signatureVersion,r.Signers.RequestSigner.getVersion(t)},serviceInterface:function(){switch(this.api.protocol){case"ec2":case"query":return r.EventListeners.Query;case"json":return r.EventListeners.Json;case"rest-json":return r.EventListeners.RestJson;case"rest-xml":return r.EventListeners.RestXml}if(this.api.protocol)throw new Error("Invalid service `protocol' "+this.api.protocol+" in API config")},successfulResponse:function(e){return e.httpResponse.statusCode<300},numRetries:function(){return void 0!==this.config.maxRetries?this.config.maxRetries:this.defaultRetryCount},retryDelays:function(e,t){return r.util.calculateRetryDelay(e,this.config.retryDelayOptions,t)},retryableError:function(e){return!!this.timeoutError(e)||!!this.networkingError(e)||!!this.expiredCredentialsError(e)||!!this.throttledError(e)||e.statusCode>=500},networkingError:function(e){return"NetworkingError"===e.code},timeoutError:function(e){return"TimeoutError"===e.code},expiredCredentialsError:function(e){return"ExpiredTokenException"===e.code},clockSkewError:function(e){switch(e.code){case"RequestTimeTooSkewed":case"RequestExpired":case"InvalidSignatureException":case"SignatureDoesNotMatch":case"AuthFailure":case"RequestInTheFuture":return!0;default:return!1}},getSkewCorrectedDate:function(){return new Date(Date.now()+this.config.systemClockOffset)},applyClockOffset:function(e){e&&(this.config.systemClockOffset=e-Date.now())},isClockSkewed:function(e){if(e)return Math.abs(this.getSkewCorrectedDate().getTime()-e)>=3e5},throttledError:function(e){if(429===e.statusCode)return!0;switch(e.code){case"ProvisionedThroughputExceededException":case"Throttling":case"ThrottlingException":case"RequestLimitExceeded":case"RequestThrottled":case"RequestThrottledException":case"TooManyRequestsException":case"TransactionInProgressException":case"EC2ThrottledException":return!0;default:return!1}},endpointFromTemplate:function(e){if("string"!=typeof e)return e;return e.replace(/\{service\}/g,this.api.endpointPrefix).replace(/\{region\}/g,this.config.region).replace(/\{scheme\}/g,this.config.sslEnabled?"https":"http")},setEndpoint:function(e){this.endpoint=new r.Endpoint(e,this.config)},paginationConfig:function(e,t){var n=this.api.operations[e].paginator;if(!n){if(t){var i=new Error;throw r.util.error(i,"No pagination configuration for "+e)}return null}return n}}),r.util.update(r.Service,{defineMethods:function(e){r.util.each(e.prototype.api.operations,(function(t){e.prototype[t]||("none"===e.prototype.api.operations[t].authtype?e.prototype[t]=function(e,n){return this.makeUnauthenticatedRequest(t,e,n)}:e.prototype[t]=function(e,n){return this.makeRequest(t,e,n)})}))},defineService:function(e,t,n){r.Service._serviceMap[e]=!0,Array.isArray(t)||(n=t,t=[]);var i=s(r.Service,n||{});if("string"==typeof e){r.Service.addVersions(i,t);var o=i.serviceIdentifier||e;i.serviceIdentifier=o}else i.prototype.api=e,r.Service.defineMethods(i);if(r.SequentialExecutor.call(this.prototype),!this.prototype.publisher&&r.util.clientSideMonitoring){var a=r.util.clientSideMonitoring.Publisher,c=(0,r.util.clientSideMonitoring.configProvider)();this.prototype.publisher=new a(c),c.enabled&&(r.Service._clientSideMonitoring=!0)}return r.SequentialExecutor.call(i.prototype),r.Service.addDefaultMonitoringListeners(i.prototype),i},addVersions:function(e,t){Array.isArray(t)||(t=[t]),e.services=e.services||{};for(var n=0;n<t.length;n++)void 0===e.services[t[n]]&&(e.services[t[n]]=null);e.apiVersions=Object.keys(e.services).sort()},defineServiceApi:function(e,t,n){function o(t){t.isApi?a.prototype.api=t:a.prototype.api=new i(t,{serviceIdentifier:e.serviceIdentifier})}var a=s(e,{serviceIdentifier:e.serviceIdentifier});if("string"==typeof t){if(n)o(n);else try{o(r.apiLoader(e.serviceIdentifier,t))}catch(n){throw r.util.error(n,{message:"Could not find API configuration "+e.serviceIdentifier+"-"+t})}Object.prototype.hasOwnProperty.call(e.services,t)||(e.apiVersions=e.apiVersions.concat(t).sort()),e.services[t]=a}else o(t);return r.Service.defineMethods(a),a},hasService:function(e){return Object.prototype.hasOwnProperty.call(r.Service._serviceMap,e)},addDefaultMonitoringListeners:function(e){e.addNamedListener("MONITOR_EVENTS_BUBBLE","apiCallAttempt",(function(t){var n=Object.getPrototypeOf(e);n._events&&n.emit("apiCallAttempt",[t])})),e.addNamedListener("CALL_EVENTS_BUBBLE","apiCall",(function(t){var n=Object.getPrototypeOf(e);n._events&&n.emit("apiCall",[t])}))},_serviceMap:{}}),r.util.mixin(r.Service,r.SequentialExecutor),t.exports=r.Service}).call(this)}).call(this,e("_process"))},{"./core":20,"./model/api":40,"./region_config":55,_process:87}],62:[function(e,t,n){var r=e("../core");r.util.update(r.CognitoIdentity.prototype,{getOpenIdToken:function(e,t){return this.makeUnauthenticatedRequest("getOpenIdToken",e,t)},getId:function(e,t){return this.makeUnauthenticatedRequest("getId",e,t)},getCredentialsForIdentity:function(e,t){return this.makeUnauthenticatedRequest("getCredentialsForIdentity",e,t)}})},{"../core":20}],63:[function(e,t,n){var r=e("../core"),i=e("../config_regional_endpoint");r.util.update(r.STS.prototype,{credentialsFrom:function(e,t){return e?(t||(t=new r.TemporaryCredentials),t.expired=!1,t.accessKeyId=e.Credentials.AccessKeyId,t.secretAccessKey=e.Credentials.SecretAccessKey,t.sessionToken=e.Credentials.SessionToken,t.expireTime=e.Credentials.Expiration,t):null},assumeRoleWithWebIdentity:function(e,t){return this.makeUnauthenticatedRequest("assumeRoleWithWebIdentity",e,t)},assumeRoleWithSAML:function(e,t){return this.makeUnauthenticatedRequest("assumeRoleWithSAML",e,t)},setupRequestListeners:function(e){e.addListener("validate",this.optInRegionalEndpoint,!0)},optInRegionalEndpoint:function(e){var t=e.service,n=t.config;if(n.stsRegionalEndpoints=i(t._originalConfig,{env:"AWS_STS_REGIONAL_ENDPOINTS",sharedConfig:"sts_regional_endpoints",clientConfig:"stsRegionalEndpoints"}),"regional"===n.stsRegionalEndpoints&&t.isGlobalEndpoint){if(!n.region)throw r.util.error(new Error,{code:"ConfigError",message:"Missing region in config"});var o=n.endpoint.indexOf(".amazonaws.com"),a=n.endpoint.substring(0,o)+"."+n.region+n.endpoint.substring(o);e.httpRequest.updateEndpoint(a),e.httpRequest.region=n.region}}})},{"../config_regional_endpoint":19,"../core":20}],64:[function(e,t,n){function r(e){var t=e.httpRequest.headers[s],n=e.service.getSignerClass(e);if(delete e.httpRequest.headers["User-Agent"],delete e.httpRequest.headers["X-Amz-User-Agent"],n===o.Signers.V4){if(t>604800)throw o.util.error(new Error,{code:"InvalidExpiryTime",message:"Presigning does not support expiry time greater than a week with SigV4 signing.",retryable:!1});e.httpRequest.headers[s]=t}else{if(n!==o.Signers.S3)throw o.util.error(new Error,{message:"Presigning only supports S3 or SigV4 signing.",code:"UnsupportedSigner",retryable:!1});var r=e.service?e.service.getSkewCorrectedDate():o.util.date.getDate();e.httpRequest.headers[s]=parseInt(o.util.date.unixTimestamp(r)+t,10).toString()}}function i(e){var t=e.httpRequest.endpoint,n=o.util.urlParse(e.httpRequest.path),r={};n.search&&(r=o.util.queryStringParse(n.search.substr(1)));var i=e.httpRequest.headers.Authorization.split(" ");if("AWS"===i[0])i=i[1].split(":"),r.Signature=i.pop(),r.AWSAccessKeyId=i.join(":"),o.util.each(e.httpRequest.headers,(function(e,t){e===s&&(e="Expires"),0===e.indexOf("x-amz-meta-")&&(delete r[e],e=e.toLowerCase()),r[e]=t})),delete e.httpRequest.headers[s],delete r.Authorization,delete r.Host;else if("AWS4-HMAC-SHA256"===i[0]){i.shift();var a=i.join(" ").match(/Signature=(.*?)(?:,|\s|\r?\n|$)/)[1];r["X-Amz-Signature"]=a,delete r.Expires}t.pathname=n.pathname,t.search=o.util.queryParamsToString(r)}var o=e("../core"),a=o.util.inherit,s="presigned-expires";o.Signers.Presign=a({sign:function(e,t,n){if(e.httpRequest.headers[s]=t||3600,e.on("build",r),e.on("sign",i),e.removeListener("afterBuild",o.EventListeners.Core.SET_CONTENT_LENGTH),e.removeListener("afterBuild",o.EventListeners.Core.COMPUTE_SHA256),e.emit("beforePresign",[e]),!n){if(e.build(),e.response.error)throw e.response.error;return o.util.urlFormat(e.httpRequest.endpoint)}e.build((function(){this.response.error?n(this.response.error):n(null,o.util.urlFormat(e.httpRequest.endpoint))}))}}),t.exports=o.Signers.Presign},{"../core":20}],65:[function(e,t,n){var r=e("../core"),i=r.util.inherit;r.Signers.RequestSigner=i({constructor:function(e){this.request=e},setServiceClientId:function(e){this.serviceClientId=e},getServiceClientId:function(){return this.serviceClientId}}),r.Signers.RequestSigner.getVersion=function(e){switch(e){case"v2":return r.Signers.V2;case"v3":return r.Signers.V3;case"s3v4":case"v4":return r.Signers.V4;case"s3":return r.Signers.S3;case"v3https":return r.Signers.V3Https}throw new Error("Unknown signing version "+e)},e("./v2"),e("./v3"),e("./v3https"),e("./v4"),e("./s3"),e("./presign")},{"../core":20,"./presign":64,"./s3":66,"./v2":67,"./v3":68,"./v3https":69,"./v4":70}],66:[function(e,t,n){var r=e("../core"),i=r.util.inherit;r.Signers.S3=i(r.Signers.RequestSigner,{subResources:{acl:1,accelerate:1,analytics:1,cors:1,lifecycle:1,delete:1,inventory:1,location:1,logging:1,metrics:1,notification:1,partNumber:1,policy:1,requestPayment:1,replication:1,restore:1,tagging:1,torrent:1,uploadId:1,uploads:1,versionId:1,versioning:1,versions:1,website:1},responseHeaders:{"response-content-type":1,"response-content-language":1,"response-expires":1,"response-cache-control":1,"response-content-disposition":1,"response-content-encoding":1},addAuthorization:function(e,t){this.request.headers["presigned-expires"]||(this.request.headers["X-Amz-Date"]=r.util.date.rfc822(t)),e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken);var n=this.sign(e.secretAccessKey,this.stringToSign()),i="AWS "+e.accessKeyId+":"+n;this.request.headers.Authorization=i},stringToSign:function(){var e=this.request,t=[];t.push(e.method),t.push(e.headers["Content-MD5"]||""),t.push(e.headers["Content-Type"]||""),t.push(e.headers["presigned-expires"]||"");var n=this.canonicalizedAmzHeaders();return n&&t.push(n),t.push(this.canonicalizedResource()),t.join("\n")},canonicalizedAmzHeaders:function(){var e=[];r.util.each(this.request.headers,(function(t){t.match(/^x-amz-/i)&&e.push(t)})),e.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:1}));var t=[];return r.util.arrayEach.call(this,e,(function(e){t.push(e.toLowerCase()+":"+String(this.request.headers[e]))})),t.join("\n")},canonicalizedResource:function(){var e=this.request,t=e.path.split("?"),n=t[0],i=t[1],o="";if(e.virtualHostedBucket&&(o+="/"+e.virtualHostedBucket),o+=n,i){var a=[];r.util.arrayEach.call(this,i.split("&"),(function(e){var t=e.split("=")[0],n=e.split("=")[1];if(this.subResources[t]||this.responseHeaders[t]){var r={name:t};void 0!==n&&(this.subResources[t]?r.value=n:r.value=decodeURIComponent(n)),a.push(r)}})),a.sort((function(e,t){return e.name<t.name?-1:1})),a.length&&(i=[],r.util.arrayEach(a,(function(e){void 0===e.value?i.push(e.name):i.push(e.name+"="+e.value)})),o+="?"+i.join("&"))}return o},sign:function(e,t){return r.util.crypto.hmac(e,t,"base64","sha1")}}),t.exports=r.Signers.S3},{"../core":20}],67:[function(e,t,n){var r=e("../core"),i=r.util.inherit;r.Signers.V2=i(r.Signers.RequestSigner,{addAuthorization:function(e,t){t||(t=r.util.date.getDate());var n=this.request;n.params.Timestamp=r.util.date.iso8601(t),n.params.SignatureVersion="2",n.params.SignatureMethod="HmacSHA256",n.params.AWSAccessKeyId=e.accessKeyId,e.sessionToken&&(n.params.SecurityToken=e.sessionToken),delete n.params.Signature,n.params.Signature=this.signature(e),n.body=r.util.queryParamsToString(n.params),n.headers["Content-Length"]=n.body.length},signature:function(e){return r.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var e=[];return e.push(this.request.method),e.push(this.request.endpoint.host.toLowerCase()),e.push(this.request.pathname()),e.push(r.util.queryParamsToString(this.request.params)),e.join("\n")}}),t.exports=r.Signers.V2},{"../core":20}],68:[function(e,t,n){var r=e("../core"),i=r.util.inherit;r.Signers.V3=i(r.Signers.RequestSigner,{addAuthorization:function(e,t){var n=r.util.date.rfc822(t);this.request.headers["X-Amz-Date"]=n,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken),this.request.headers["X-Amzn-Authorization"]=this.authorization(e,n)},authorization:function(e){return"AWS3 AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,SignedHeaders="+this.signedHeaders()+",Signature="+this.signature(e)},signedHeaders:function(){var e=[];return r.util.arrayEach(this.headersToSign(),(function(t){e.push(t.toLowerCase())})),e.sort().join(";")},canonicalHeaders:function(){var e=this.request.headers,t=[];return r.util.arrayEach(this.headersToSign(),(function(n){t.push(n.toLowerCase().trim()+":"+String(e[n]).trim())})),t.sort().join("\n")+"\n"},headersToSign:function(){var e=[];return r.util.each(this.request.headers,(function(t){("Host"===t||"Content-Encoding"===t||t.match(/^X-Amz/i))&&e.push(t)})),e},signature:function(e){return r.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var e=[];return e.push(this.request.method),e.push("/"),e.push(""),e.push(this.canonicalHeaders()),e.push(this.request.body),r.util.crypto.sha256(e.join("\n"))}}),t.exports=r.Signers.V3},{"../core":20}],69:[function(e,t,n){var r=e("../core"),i=r.util.inherit;e("./v3"),r.Signers.V3Https=i(r.Signers.V3,{authorization:function(e){return"AWS3-HTTPS AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,Signature="+this.signature(e)},stringToSign:function(){return this.request.headers["X-Amz-Date"]}}),t.exports=r.Signers.V3Https},{"../core":20,"./v3":68}],70:[function(e,t,n){var r=e("../core"),i=e("./v4_credentials"),o=r.util.inherit;r.Signers.V4=o(r.Signers.RequestSigner,{constructor:function(e,t,n){r.Signers.RequestSigner.call(this,e),this.serviceName=t,n=n||{},this.signatureCache="boolean"!=typeof n.signatureCache||n.signatureCache,this.operation=n.operation,this.signatureVersion=n.signatureVersion},algorithm:"AWS4-HMAC-SHA256",addAuthorization:function(e,t){var n=r.util.date.iso8601(t).replace(/[:\-]|\.\d{3}/g,"");this.isPresigned()?this.updateForPresigned(e,n):this.addHeaders(e,n),this.request.headers.Authorization=this.authorization(e,n)},addHeaders:function(e,t){this.request.headers["X-Amz-Date"]=t,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken)},updateForPresigned:function(e,t){var n=this.credentialString(t),i={"X-Amz-Date":t,"X-Amz-Algorithm":this.algorithm,"X-Amz-Credential":e.accessKeyId+"/"+n,"X-Amz-Expires":this.request.headers["presigned-expires"],"X-Amz-SignedHeaders":this.signedHeaders()};e.sessionToken&&(i["X-Amz-Security-Token"]=e.sessionToken),this.request.headers["Content-Type"]&&(i["Content-Type"]=this.request.headers["Content-Type"]),this.request.headers["Content-MD5"]&&(i["Content-MD5"]=this.request.headers["Content-MD5"]),this.request.headers["Cache-Control"]&&(i["Cache-Control"]=this.request.headers["Cache-Control"]),r.util.each.call(this,this.request.headers,(function(e,t){if("presigned-expires"!==e&&this.isSignableHeader(e)){var n=e.toLowerCase();0===n.indexOf("x-amz-meta-")?i[n]=t:0===n.indexOf("x-amz-")&&(i[e]=t)}}));var o=this.request.path.indexOf("?")>=0?"&":"?";this.request.path+=o+r.util.queryParamsToString(i)},authorization:function(e,t){var n=[],r=this.credentialString(t);return n.push(this.algorithm+" Credential="+e.accessKeyId+"/"+r),n.push("SignedHeaders="+this.signedHeaders()),n.push("Signature="+this.signature(e,t)),n.join(", ")},signature:function(e,t){var n=i.getSigningKey(e,t.substr(0,8),this.request.region,this.serviceName,this.signatureCache);return r.util.crypto.hmac(n,this.stringToSign(t),"hex")},stringToSign:function(e){var t=[];return t.push("AWS4-HMAC-SHA256"),t.push(e),t.push(this.credentialString(e)),t.push(this.hexEncodedHash(this.canonicalString())),t.join("\n")},canonicalString:function(){var e=[],t=this.request.pathname();return"s3"!==this.serviceName&&"s3v4"!==this.signatureVersion&&(t=r.util.uriEscapePath(t)),e.push(this.request.method),e.push(t),e.push(this.request.search()),e.push(this.canonicalHeaders()+"\n"),e.push(this.signedHeaders()),e.push(this.hexEncodedBodyHash()),e.join("\n")},canonicalHeaders:function(){var e=[];r.util.each.call(this,this.request.headers,(function(t,n){e.push([t,n])})),e.sort((function(e,t){return e[0].toLowerCase()<t[0].toLowerCase()?-1:1}));var t=[];return r.util.arrayEach.call(this,e,(function(e){var n=e[0].toLowerCase();if(this.isSignableHeader(n)){var i=e[1];if(null==i||"function"!=typeof i.toString)throw r.util.error(new Error("Header "+n+" contains invalid value"),{code:"InvalidHeader"});t.push(n+":"+this.canonicalHeaderValues(i.toString()))}})),t.join("\n")},canonicalHeaderValues:function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},signedHeaders:function(){var e=[];return r.util.each.call(this,this.request.headers,(function(t){t=t.toLowerCase(),this.isSignableHeader(t)&&e.push(t)})),e.sort().join(";")},credentialString:function(e){return i.createScope(e.substr(0,8),this.request.region,this.serviceName)},hexEncodedHash:function(e){return r.util.crypto.sha256(e,"hex")},hexEncodedBodyHash:function(){var e=this.request;return this.isPresigned()&&"s3"===this.serviceName&&!e.body?"UNSIGNED-PAYLOAD":e.headers["X-Amz-Content-Sha256"]?e.headers["X-Amz-Content-Sha256"]:this.hexEncodedHash(this.request.body||"")},unsignableHeaders:["authorization","content-type","content-length","user-agent","presigned-expires","expect","x-amzn-trace-id"],isSignableHeader:function(e){return 0===e.toLowerCase().indexOf("x-amz-")||this.unsignableHeaders.indexOf(e)<0},isPresigned:function(){return!!this.request.headers["presigned-expires"]}}),t.exports=r.Signers.V4},{"../core":20,"./v4_credentials":71}],71:[function(e,t,n){var r=e("../core"),i={},o=[];t.exports={createScope:function(e,t,n){return[e.substr(0,8),t,n,"aws4_request"].join("/")},getSigningKey:function(e,t,n,a,s){var c=[r.util.crypto.hmac(e.secretAccessKey,e.accessKeyId,"base64"),t,n,a].join("_");if((s=!1!==s)&&c in i)return i[c];var u=r.util.crypto.hmac("AWS4"+e.secretAccessKey,t,"buffer"),l=r.util.crypto.hmac(u,n,"buffer"),d=r.util.crypto.hmac(l,a,"buffer"),f=r.util.crypto.hmac(d,"aws4_request","buffer");return s&&(i[c]=f,o.push(c),o.length>50&&delete i[o.shift()]),f},emptyCache:function(){i={},o=[]}}},{"../core":20}],72:[function(e,t,n){function r(e,t){this.currentState=t||null,this.states=e||{}}r.prototype.runTo=function(e,t,n,r){"function"==typeof e&&(r=n,n=t,t=e,e=null);var i=this,o=i.states[i.currentState];o.fn.call(n||i,r,(function(r){if(r){if(!o.fail)return t?t.call(n,r):null;i.currentState=o.fail}else{if(!o.accept)return t?t.call(n):null;i.currentState=o.accept}if(i.currentState===e)return t?t.call(n,r):null;i.runTo(e,t,n,r)}))},r.prototype.addState=function(e,t,n,r){return"function"==typeof t?(r=t,t=null,n=null):"function"==typeof n&&(r=n,n=null),this.currentState||(this.currentState=e),this.states[e]={accept:t,fail:n,fn:r},this},t.exports=r},{}],73:[function(e,t,n){(function(n,r){(function(){var i,a={environment:"nodejs",engine:function(){if(a.isBrowser()&&"undefined"!=typeof navigator)return navigator.userAgent;var e=n.platform+"/"+n.version;return n.env.AWS_EXECUTION_ENV&&(e+=" exec-env/"+n.env.AWS_EXECUTION_ENV),e},userAgent:function(){var t=a.environment,n="aws-sdk-"+t+"/"+e("./core").VERSION;return"nodejs"===t&&(n+=" "+a.engine()),n},uriEscape:function(e){var t=encodeURIComponent(e);return(t=t.replace(/[^A-Za-z0-9_.~\-%]+/g,escape)).replace(/[*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))},uriEscapePath:function(e){var t=[];return a.arrayEach(e.split("/"),(function(e){t.push(a.uriEscape(e))})),t.join("/")},urlParse:function(e){return a.url.parse(e)},urlFormat:function(e){return a.url.format(e)},queryStringParse:function(e){return a.querystring.parse(e)},queryParamsToString:function(e){var t=[],n=a.uriEscape,r=Object.keys(e).sort();return a.arrayEach(r,(function(r){var i=e[r],o=n(r),s=o+"=";if(Array.isArray(i)){var c=[];a.arrayEach(i,(function(e){c.push(n(e))})),s=o+"="+c.sort().join("&"+o+"=")}else null!=i&&(s=o+"="+n(i));t.push(s)})),t.join("&")},readFileSync:function(t){return a.isBrowser()?null:e("fs").readFileSync(t,"utf-8")},base64:{encode:function(e){if("number"==typeof e)throw a.error(new Error("Cannot base64 encode number "+e));return null==e?e:a.buffer.toBuffer(e).toString("base64")},decode:function(e){if("number"==typeof e)throw a.error(new Error("Cannot base64 decode number "+e));return null==e?e:a.buffer.toBuffer(e,"base64")}},buffer:{toBuffer:function(e,t){return"function"==typeof a.Buffer.from&&a.Buffer.from!==Uint8Array.from?a.Buffer.from(e,t):new a.Buffer(e,t)},alloc:function(e,t,n){if("number"!=typeof e)throw new Error("size passed to alloc must be a number.");if("function"==typeof a.Buffer.alloc)return a.Buffer.alloc(e,t,n);var r=new a.Buffer(e);return void 0!==t&&"function"==typeof r.fill&&r.fill(t,void 0,void 0,n),r},toStream:function(e){a.Buffer.isBuffer(e)||(e=a.buffer.toBuffer(e));var t=new a.stream.Readable,n=0;return t._read=function(r){if(n>=e.length)return t.push(null);var i=n+r;i>e.length&&(i=e.length),t.push(e.slice(n,i)),n=i},t},concat:function(e){var t,n,r=0,i=0;for(t=0;t<e.length;t++)r+=e[t].length;for(n=a.buffer.alloc(r),t=0;t<e.length;t++)e[t].copy(n,i),i+=e[t].length;return n}},string:{byteLength:function(t){if(null==t)return 0;if("string"==typeof t&&(t=a.buffer.toBuffer(t)),"number"==typeof t.byteLength)return t.byteLength;if("number"==typeof t.length)return t.length;if("number"==typeof t.size)return t.size;if("string"==typeof t.path)return e("fs").lstatSync(t.path).size;throw a.error(new Error("Cannot determine length of "+t),{object:t})},upperFirst:function(e){return e[0].toUpperCase()+e.substr(1)},lowerFirst:function(e){return e[0].toLowerCase()+e.substr(1)}},ini:{parse:function(e){var t,n={};return a.arrayEach(e.split(/\r?\n/),(function(e){var r=(e=e.split(/(^|\s)[;#]/)[0]).match(/^\s*\[([^\[\]]+)\]\s*$/);if(r)t=r[1];else if(t){var i=e.match(/^\s*(.+?)\s*=\s*(.+?)\s*$/);i&&(n[t]=n[t]||{},n[t][i[1]]=i[2])}})),n}},fn:{noop:function(){},callback:function(e){if(e)throw e},makeAsync:function(e,t){return t&&t<=e.length?e:function(){var t=Array.prototype.slice.call(arguments,0);t.pop()(e.apply(null,t))}}},date:{getDate:function(){return i||(i=e("./core")),i.config.systemClockOffset?new Date((new Date).getTime()+i.config.systemClockOffset):new Date},iso8601:function(e){return void 0===e&&(e=a.date.getDate()),e.toISOString().replace(/\.\d{3}Z$/,"Z")},rfc822:function(e){return void 0===e&&(e=a.date.getDate()),e.toUTCString()},unixTimestamp:function(e){return void 0===e&&(e=a.date.getDate()),e.getTime()/1e3},from:function(e){return"number"==typeof e?new Date(1e3*e):new Date(e)},format:function(e,t){return t||(t="iso8601"),a.date[t](a.date.from(e))},parseTimestamp:function(e){if("number"==typeof e)return new Date(1e3*e);if(e.match(/^\d+$/))return new Date(1e3*e);if(e.match(/^\d{4}/))return new Date(e);if(e.match(/^\w{3},/))return new Date(e);throw a.error(new Error("unhandled timestamp format: "+e),{code:"TimestampParserError"})}},crypto:{crc32Table:[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],crc32:function(e){var t=a.crypto.crc32Table,n=-1;"string"==typeof e&&(e=a.buffer.toBuffer(e));for(var r=0;r<e.length;r++)n=n>>>8^t[255&(n^e.readUInt8(r))];return(-1^n)>>>0},hmac:function(e,t,n,r){return n||(n="binary"),"buffer"===n&&(n=void 0),r||(r="sha256"),"string"==typeof t&&(t=a.buffer.toBuffer(t)),a.crypto.lib.createHmac(r,e).update(t).digest(n)},md5:function(e,t,n){return a.crypto.hash("md5",e,t,n)},sha256:function(e,t,n){return a.crypto.hash("sha256",e,t,n)},hash:function(e,t,n,r){var i=a.crypto.createHash(e);n||(n="binary"),"buffer"===n&&(n=void 0),"string"==typeof t&&(t=a.buffer.toBuffer(t));var s=a.arraySliceFn(t),c=a.Buffer.isBuffer(t);if(a.isBrowser()&&"undefined"!=typeof ArrayBuffer&&t&&t.buffer instanceof ArrayBuffer&&(c=!0),r&&"object"==o(t)&&"function"==typeof t.on&&!c)t.on("data",(function(e){i.update(e)})),t.on("error",(function(e){r(e)})),t.on("end",(function(){r(null,i.digest(n))}));else{if(!r||!s||c||"undefined"==typeof FileReader){a.isBrowser()&&"object"==o(t)&&!c&&(t=new a.Buffer(new Uint8Array(t)));var u=i.update(t).digest(n);return r&&r(null,u),u}var l=0,d=new FileReader;d.onerror=function(){r(new Error("Failed to read data."))},d.onload=function(){var e=new a.Buffer(new Uint8Array(d.result));i.update(e),l+=e.length,d._continueReading()},d._continueReading=function(){if(l>=t.size)r(null,i.digest(n));else{var e=l+524288;e>t.size&&(e=t.size),d.readAsArrayBuffer(s.call(t,l,e))}},d._continueReading()}},toHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push(("0"+e.charCodeAt(n).toString(16)).substr(-2,2));return t.join("")},createHash:function(e){return a.crypto.lib.createHash(e)}},abort:{},each:function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.call(this,n,e[n])===a.abort)break},arrayEach:function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.call(this,e[n],parseInt(n,10))===a.abort)break},update:function(e,t){return a.each(t,(function(t,n){e[t]=n})),e},merge:function(e,t){return a.update(a.copy(e),t)},copy:function(e){if(null==e)return e;var t={};for(var n in e)t[n]=e[n];return t},isEmpty:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},arraySliceFn:function(e){var t=e.slice||e.webkitSlice||e.mozSlice;return"function"==typeof t?t:null},isType:function(e,t){return"function"==typeof t&&(t=a.typeName(t)),Object.prototype.toString.call(e)==="[object "+t+"]"},typeName:function(e){if(Object.prototype.hasOwnProperty.call(e,"name"))return e.name;var t=e.toString(),n=t.match(/^\s*function (.+)\(/);return n?n[1]:t},error:function(e,t){var n=null;return"string"==typeof e.message&&""!==e.message&&("string"==typeof t||t&&t.message)&&((n=a.copy(e)).message=e.message),e.message=e.message||null,"string"==typeof t?e.message=t:"object"==o(t)&&null!==t&&(a.update(e,t),t.message&&(e.message=t.message),(t.code||t.name)&&(e.code=t.code||t.name),t.stack&&(e.stack=t.stack)),"function"==typeof Object.defineProperty&&(Object.defineProperty(e,"name",{writable:!0,enumerable:!1}),Object.defineProperty(e,"message",{enumerable:!0})),e.name=String(t&&t.name||e.name||e.code||"Error"),e.time=new Date,n&&(e.originalError=n),e},inherit:function(e,t){var n=null;if(void 0===t)t=e,e=Object,n={};else{var r=function(){};r.prototype=e.prototype,n=new r}return t.constructor===Object&&(t.constructor=function(){if(e!==Object)return e.apply(this,arguments)}),t.constructor.prototype=n,a.update(t.constructor.prototype,t),t.constructor.__super__=e,t.constructor},mixin:function(){for(var e=arguments[0],t=1;t<arguments.length;t++)for(var n in arguments[t].prototype){var r=arguments[t].prototype[n];"constructor"!==n&&(e.prototype[n]=r)}return e},hideProperties:function(e,t){"function"==typeof Object.defineProperty&&a.arrayEach(t,(function(t){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0})}))},property:function(e,t,n,r,i){var o={configurable:!0,enumerable:void 0===r||r};"function"!=typeof n||i?(o.value=n,o.writable=!0):o.get=n,Object.defineProperty(e,t,o)},memoizedProperty:function(e,t,n,r){var i=null;a.property(e,t,(function(){return null===i&&(i=n()),i}),r)},hoistPayloadMember:function(e){var t=e.request,n=t.operation,r=t.service.api.operations[n],i=r.output;if(i.payload&&!r.hasEventOutput){var o=i.members[i.payload],s=e.data[i.payload];"structure"===o.type&&a.each(s,(function(t,n){a.property(e.data,t,n,!1)}))}},computeSha256:function(t,n){if(a.isNode()){var r=a.stream.Stream,i=e("fs");if("function"==typeof r&&t instanceof r){if("string"!=typeof t.path)return n(new Error("Non-file stream objects are not supported with SigV4"));var o={};"number"==typeof t.start&&(o.start=t.start),"number"==typeof t.end&&(o.end=t.end),t=i.createReadStream(t.path,o)}}a.crypto.sha256(t,"hex",(function(e,t){e?n(e):n(null,t)}))},isClockSkewed:function(e){if(e)return a.property(i.config,"isClockSkewed",Math.abs((new Date).getTime()-e)>=3e5,!1),i.config.isClockSkewed},applyClockOffset:function(e){e&&(i.config.systemClockOffset=e-(new Date).getTime())},extractRequestId:function(e){var t=e.httpResponse.headers["x-amz-request-id"]||e.httpResponse.headers["x-amzn-requestid"];!t&&e.data&&e.data.ResponseMetadata&&(t=e.data.ResponseMetadata.RequestId),t&&(e.requestId=t),e.error&&(e.error.requestId=t)},addPromises:function(e,t){var n=!1;void 0===t&&i&&i.config&&(t=i.config.getPromisesDependency()),void 0===t&&"undefined"!=typeof Promise&&(t=Promise),"function"!=typeof t&&(n=!0),Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var o=e[r];n?o.deletePromisesFromClass&&o.deletePromisesFromClass():o.addPromisesToClass&&o.addPromisesToClass(t)}},promisifyMethod:function(e,t){return function(){var n=this,r=Array.prototype.slice.call(arguments);return new t((function(t,i){r.push((function(e,n){e?i(e):t(n)})),n[e].apply(n,r)}))}},isDualstackAvailable:function(t){if(!t)return!1;var n=e("../apis/metadata.json");return"string"!=typeof t&&(t=t.serviceIdentifier),!("string"!=typeof t||!n.hasOwnProperty(t)||!n[t].dualstackAvailable)},calculateRetryDelay:function(e,t,n){t||(t={});var r=t.customBackoff||null;if("function"==typeof r)return r(e,n);var i="number"==typeof t.base?t.base:100;return Math.random()*(Math.pow(2,e)*i)},handleRequestWithRetries:function(e,t,n){t||(t={});var r=i.HttpClient.getInstance(),o=t.httpOptions||{},s=0,c=function(e){var r=t.maxRetries||0;if(e&&"TimeoutError"===e.code&&(e.retryable=!0),e&&e.retryable&&s<r){var i=a.calculateRetryDelay(s,t.retryDelayOptions,e);if(i>=0)return s++,void setTimeout(u,i+(e.retryAfter||0))}n(e)},u=function(){var t="";r.handleRequest(e,o,(function(e){e.on("data",(function(e){t+=e.toString()})),e.on("end",(function(){var r=e.statusCode;if(r<300)n(null,t);else{var i=1e3*parseInt(e.headers["retry-after"],10)||0,o=a.error(new Error,{statusCode:r,retryable:r>=500||429===r});i&&o.retryable&&(o.retryAfter=i),c(o)}}))}),c)};i.util.defer(u)},uuid:{v4:function(){return e("uuid").v4()}},convertPayloadToString:function(e){var t=e.request,n=t.operation,r=t.service.api.operations[n].output||{};r.payload&&e.data[r.payload]&&(e.data[r.payload]=e.data[r.payload].toString())},defer:function(e){"object"==o(n)&&"function"==typeof n.nextTick?n.nextTick(e):"function"==typeof r?r(e):setTimeout(e,0)},getRequestPayloadShape:function(e){var t=e.service.api.operations;if(t){var n=(t||{})[e.operation];if(n&&n.input&&n.input.payload)return n.input.members[n.input.payload]}},getProfilesFromSharedConfig:function(e,t){function r(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++)e[r[n]]=t[r[n]];return e}var i={},o={};n.env[a.configOptInEnv]&&(o=e.loadFrom({isConfig:!0,filename:n.env[a.sharedConfigFileEnv]}));for(var s=e.loadFrom({filename:t||n.env[a.configOptInEnv]&&n.env[a.sharedCredentialsFileEnv]}),c=0,u=Object.keys(o);c<u.length;c++)i[u[c]]=r(i[u[c]]||{},o[u[c]]);for(c=0,u=Object.keys(s);c<u.length;c++)i[u[c]]=r(i[u[c]]||{},s[u[c]]);return i},ARN:{validate:function(e){return e&&0===e.indexOf("arn:")&&e.split(":").length>=6},parse:function(e){var t=e.split(":");return{partition:t[1],service:t[2],region:t[3],accountId:t[4],resource:t.slice(5).join(":")}},build:function(e){if(void 0===e.service||void 0===e.region||void 0===e.accountId||void 0===e.resource)throw a.error(new Error("Input ARN object is invalid"));return"arn:"+(e.partition||"aws")+":"+e.service+":"+e.region+":"+e.accountId+":"+e.resource}},defaultProfile:"default",configOptInEnv:"AWS_SDK_LOAD_CONFIG",sharedCredentialsFileEnv:"AWS_SHARED_CREDENTIALS_FILE",sharedConfigFileEnv:"AWS_CONFIG_FILE",imdsDisabledEnv:"AWS_EC2_METADATA_DISABLED"};t.exports=a}).call(this)}).call(this,e("_process"),e("timers").setImmediate)},{"../apis/metadata.json":5,"./core":20,_process:87,fs:81,timers:95,uuid:100}],74:[function(e,t,n){function r(){}function i(e,t){for(var n=e.getElementsByTagName(t),r=0,i=n.length;r<i;r++)if(n[r].parentNode===e)return n[r]}function o(e,t){switch(t||(t={}),t.type){case"structure":return a(e,t);case"map":return function(e,t){for(var n={},r=t.key.name||"key",a=t.value.name||"value",s=t.flattened?t.name:"entry",c=e.firstElementChild;c;){if(c.nodeName===s){var u=i(c,r).textContent,l=i(c,a);n[u]=o(l,t.value)}c=c.nextElementSibling}return n}(e,t);case"list":return function(e,t){for(var n=[],r=t.flattened?t.name:t.member.name||"member",i=e.firstElementChild;i;)i.nodeName===r&&n.push(o(i,t.member)),i=i.nextElementSibling;return n}(e,t);case void 0:case null:return function(e){if(null==e)return"";if(!e.firstElementChild)return null===e.parentNode.parentNode?{}:0===e.childNodes.length?"":e.textContent;for(var t={type:"structure",members:{}},n=e.firstElementChild;n;){var r=n.nodeName;Object.prototype.hasOwnProperty.call(t.members,r)?t.members[r].type="list":t.members[r]={name:r},n=n.nextElementSibling}return a(e,t)}(e);default:return function(e,t){if(e.getAttribute){var n=e.getAttribute("encoding");"base64"===n&&(t=new c.create({type:n}))}var r=e.textContent;return""===r&&(r=null),"function"==typeof t.toType?t.toType(r):r}(e,t)}}function a(e,t){var n={};return null===e||s.each(t.members,(function(r,a){if(a.isXmlAttribute){if(Object.prototype.hasOwnProperty.call(e.attributes,a.name)){var s=e.attributes[a.name].value;n[r]=o({textContent:s},a)}}else{var c=a.flattened?e:i(e,a.name);c?n[r]=o(c,a):a.flattened||"list"!==a.type||t.api.xmlNoDefaultLists||(n[r]=a.defaultValue)}})),n}var s=e("../util"),c=e("../model/shape");r.prototype.parse=function(e,t){if(""===e.replace(/^\s+/,""))return{};var n,r;try{if(window.DOMParser){try{n=(new DOMParser).parseFromString(e,"text/xml")}catch(e){throw s.error(new Error("Parse error in document"),{originalError:e,code:"XMLParserError",retryable:!0})}if(null===n.documentElement)throw s.error(new Error("Cannot parse empty document."),{code:"XMLParserError",retryable:!0});var a=n.getElementsByTagName("parsererror")[0];if(a&&(a.parentNode===n||"body"===a.parentNode.nodeName||a.parentNode.parentNode===n||"body"===a.parentNode.parentNode.nodeName)){var c=a.getElementsByTagName("div")[0]||a;throw s.error(new Error(c.textContent||"Parser error in document"),{code:"XMLParserError",retryable:!0})}}else{if(!window.ActiveXObject)throw new Error("Cannot load XML parser");if((n=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,!n.loadXML(e))throw s.error(new Error("Parse error in document"),{code:"XMLParserError",retryable:!0})}}catch(e){r=e}if(n&&n.documentElement&&!r){var u=o(n.documentElement,t),l=i(n.documentElement,"ResponseMetadata");return l&&(u.ResponseMetadata=o(l,{})),u}if(r)throw s.error(r||new Error,{code:"XMLParserError",retryable:!0});return{}},t.exports=r},{"../model/shape":45,"../util":73}],75:[function(e,t,n){function r(){}function i(e,t,n){switch(n.type){case"structure":return function(e,t,n){a.arrayEach(n.memberNames,(function(r){var a=n.members[r];if("body"===a.location){var c=t[r],u=a.name;if(null!=c)if(a.isXmlAttribute)e.addAttribute(u,c);else if(a.flattened)i(e,c,a);else{var l=new s(u);e.addChildNode(l),o(l,a),i(l,c,a)}}}))}(e,t,n);case"map":return function(e,t,n){var r=n.key.name||"key",o=n.value.name||"value";a.each(t,(function(t,a){var c=new s(n.flattened?n.name:"entry");e.addChildNode(c);var u=new s(r),l=new s(o);c.addChildNode(u),c.addChildNode(l),i(u,t,n.key),i(l,a,n.value)}))}(e,t,n);case"list":return function(e,t,n){n.flattened?a.arrayEach(t,(function(t){var r=n.member.name||n.name,o=new s(r);e.addChildNode(o),i(o,t,n.member)})):a.arrayEach(t,(function(t){var r=n.member.name||"member",o=new s(r);e.addChildNode(o),i(o,t,n.member)}))}(e,t,n);default:return function(e,t,n){e.addChildNode(new c(n.toWireFormat(t)))}(e,t,n)}}function o(e,t,n){var r,i="xmlns";t.xmlNamespaceUri?(r=t.xmlNamespaceUri,t.xmlNamespacePrefix&&(i+=":"+t.xmlNamespacePrefix)):n&&t.api.xmlNamespaceUri&&(r=t.api.xmlNamespaceUri),r&&e.addAttribute(i,r)}var a=e("../util"),s=e("./xml-node").XmlNode,c=e("./xml-text").XmlText;r.prototype.toXML=function(e,t,n,r){var a=new s(n);return o(a,t,!0),i(a,e,t),a.children.length>0||r?a.toString():""},t.exports=r},{"../util":73,"./xml-node":78,"./xml-text":79}],76:[function(e,t,n){t.exports={escapeAttribute:function(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}}},{}],77:[function(e,t,n){t.exports={escapeElement:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}},{}],78:[function(e,t,n){function r(e,t){void 0===t&&(t=[]),this.name=e,this.children=t,this.attributes={}}var i=e("./escape-attribute").escapeAttribute;r.prototype.addAttribute=function(e,t){return this.attributes[e]=t,this},r.prototype.addChildNode=function(e){return this.children.push(e),this},r.prototype.removeAttribute=function(e){return delete this.attributes[e],this},r.prototype.toString=function(){for(var e=Boolean(this.children.length),t="<"+this.name,n=this.attributes,r=0,o=Object.keys(n);r<o.length;r++){var a=o[r],s=n[a];null!=s&&(t+=" "+a+'="'+i(""+s)+'"')}return t+(e?">"+this.children.map((function(e){return e.toString()})).join("")+"</"+this.name+">":"/>")},t.exports={XmlNode:r}},{"./escape-attribute":76}],79:[function(e,t,n){function r(e){this.value=e}var i=e("./escape-element").escapeElement;r.prototype.toString=function(){return i(""+this.value)},t.exports={XmlText:r}},{"./escape-element":77}],80:[function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function i(e){return a[e>>18&63]+a[e>>12&63]+a[e>>6&63]+a[63&e]}function o(e,t,n){for(var r,o=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(i(r));return o.join("")}n.byteLength=function(e){var t=r(e),n=t[0],i=t[1];return 3*(n+i)/4-i},n.toByteArray=function(e){var t,n,i=r(e),o=i[0],a=i[1],u=new c(function(e,t,n){return 3*(t+n)/4-n}(0,o,a)),l=0,d=a>0?o-4:o;for(n=0;n<d;n+=4)t=s[e.charCodeAt(n)]<<18|s[e.charCodeAt(n+1)]<<12|s[e.charCodeAt(n+2)]<<6|s[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===a&&(t=s[e.charCodeAt(n)]<<2|s[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===a&&(t=s[e.charCodeAt(n)]<<10|s[e.charCodeAt(n+1)]<<4|s[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},n.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],s=0,c=n-r;s<c;s+=16383)i.push(o(e,s,s+16383>c?c:s+16383));return 1===r?(t=e[n-1],i.push(a[t>>2]+a[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"=")),i.join("")};for(var a=[],s=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,d=u.length;l<d;++l)a[l]=u[l],s[u.charCodeAt(l)]=l;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},{}],81:[function(e,t,n){},{}],82:[function(e,t,n){(function(t,r){(function(){"use strict";function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=o.prototype:(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t).__proto__=o.prototype:e=u(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n),a=(e=i(e,r)).write(t,n);return a!==r&&(e=e.slice(0,a)),e}(e,t,n):function(e,t){if(o.isBuffer(t)){var n=0|l(t.length);return 0===(e=i(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?i(e,0):u(e,t);if("Buffer"===t.type&&V(t.data))return u(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t){if(s(t),e=i(e,t<0?0:0|l(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function u(e,t){var n=t.length<0?0:0|l(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function l(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function d(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return L(e).length;t=(""+t).toLowerCase(),r=!0}}function f(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return _(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function h(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var a,s=1,c=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,c/=2,u/=2,n/=2}if(i){var l=-1;for(a=n;a<c;a++)if(o(e,a)===o(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*s}else-1!==l&&(a-=a-l),l=-1}else for(n+u>c&&(n=c-u),a=n;a>=0;a--){for(var d=!0,f=0;f<u;f++)if(o(e,a+f)!==o(t,f)){d=!1;break}if(d)return a}return-1}function g(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return F(L(t,e.length-n),e,n,r)}function v(e,t,n,r){return F(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function y(e,t,n,r){return v(e,t,n,r)}function S(e,t,n,r){return F(U(t),e,n,r)}function w(e,t,n,r){return F(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?j.fromByteArray(e):j.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,c,u=e[i],l=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=n)switch(d){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return function(e){var t=e.length;if(t<=q)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=q));return n}(r)}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function _(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=N(e[o]);return i}function k(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function x(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function P(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,i){return i||P(e,0,n,4),B.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,i){return i||P(e,0,n,8),B.write(e,t,n,r,52,8),n+8}function N(e){return e<16?"0"+e.toString(16):e.toString(16)}function L(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){return j.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}var j=e("base64-js"),B=e("ieee754"),V=e("isarray");n.Buffer=o,n.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},n.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return function(e,t,n,r){return s(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}(null,e,t,n)},o.allocUnsafe=function(e){return c(null,e)},o.allocUnsafeSlow=function(e){return c(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!V(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=d,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):f.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),c=Math.min(a,s),u=this.slice(r,i),l=e.slice(t,n),d=0;d<c;++d)if(u[d]!==l[d]){a=u[d],s=l[d];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return h(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return h(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var q=4096;o.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),o.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=o.prototype;else{var i=t-e;n=new o(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),B.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),B.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),B.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),B.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:L(new o(e,r).toString()),c=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%c]}return this};var H=/[^+\/0-9A-Za-z-_]/g}).call(this)}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"base64-js":80,buffer:82,ieee754:84,isarray:85}],83:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function a(e){return"object"==o(e)&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(s(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(a(n))for(o=Array.prototype.slice.call(arguments,1),r=(u=n.slice()).length,c=0;c<r;c++)u[c].apply(this,o);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],84:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=u}return(p?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*m}},{}],85:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],86:[function(e,t,n){!function(e){"use strict";function t(e){return null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e,i){if(e===i)return!0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(i))return!1;if(!0===t(e)){if(e.length!==i.length)return!1;for(var o=0;o<e.length;o++)if(!1===r(e[o],i[o]))return!1;return!0}if(!0===n(e)){var a={};for(var s in e)if(hasOwnProperty.call(e,s)){if(!1===r(e[s],i[s]))return!1;a[s]=!0}for(var c in i)if(hasOwnProperty.call(i,c)&&!0!==a[c])return!1;return!0}return!1}function i(e){if(""===e||!1===e||null===e)return!0;if(t(e)&&0===e.length)return!0;if(n(e)){for(var r in e)if(e.hasOwnProperty(r))return!1;return!0}return!1}function o(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e}function a(e){return e>="0"&&e<="9"||"-"===e}function s(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e}function c(){}function u(){}function l(e){this.runtime=e}function d(e){this._interpreter=e,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[p]}]},avg:{_func:this._functionAvg,_signature:[{types:[y]}]},ceil:{_func:this._functionCeil,_signature:[{types:[p]}]},contains:{_func:this._functionContains,_signature:[{types:[m,g]},{types:[h]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[m]},{types:[m]}]},floor:{_func:this._functionFloor,_signature:[{types:[p]}]},length:{_func:this._functionLength,_signature:[{types:[m,g,b]}]},map:{_func:this._functionMap,_signature:[{types:[v]},{types:[g]}]},max:{_func:this._functionMax,_signature:[{types:[y,S]}]},merge:{_func:this._functionMerge,_signature:[{types:[b],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[g]},{types:[v]}]},sum:{_func:this._functionSum,_signature:[{types:[y]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[m]},{types:[m]}]},min:{_func:this._functionMin,_signature:[{types:[y,S]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[g]},{types:[v]}]},type:{_func:this._functionType,_signature:[{types:[h]}]},keys:{_func:this._functionKeys,_signature:[{types:[b]}]},values:{_func:this._functionValues,_signature:[{types:[b]}]},sort:{_func:this._functionSort,_signature:[{types:[S,y]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[g]},{types:[v]}]},join:{_func:this._functionJoin,_signature:[{types:[m]},{types:[S]}]},reverse:{_func:this._functionReverse,_signature:[{types:[m,g]}]},to_array:{_func:this._functionToArray,_signature:[{types:[h]}]},to_string:{_func:this._functionToString,_signature:[{types:[h]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[h]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[h],variadic:!0}]}}}var f;f="function"==typeof String.prototype.trimLeft?function(e){return e.trimLeft()}:function(e){return e.match(/^\s*(.*)/)[1]};var p=0,h=1,m=2,g=3,b=4,v=6,y=8,S=9,w={".":"Dot","*":"Star",",":"Comma",":":"Colon","{":"Lbrace","}":"Rbrace","]":"Rbracket","(":"Lparen",")":"Rparen","@":"Current"},E={"<":!0,">":!0,"=":!0,"!":!0},C={" ":!0,"\t":!0,"\n":!0};c.prototype={tokenize:function(e){var t,n,r,i=[];for(this._current=0;this._current<e.length;)if(o(e[this._current]))t=this._current,n=this._consumeUnquotedIdentifier(e),i.push({type:"UnquotedIdentifier",value:n,start:t});else if(void 0!==w[e[this._current]])i.push({type:w[e[this._current]],value:e[this._current],start:this._current}),this._current++;else if(a(e[this._current]))r=this._consumeNumber(e),i.push(r);else if("["===e[this._current])r=this._consumeLBracket(e),i.push(r);else if('"'===e[this._current])t=this._current,n=this._consumeQuotedIdentifier(e),i.push({type:"QuotedIdentifier",value:n,start:t});else if("'"===e[this._current])t=this._current,n=this._consumeRawStringLiteral(e),i.push({type:"Literal",value:n,start:t});else if("`"===e[this._current]){t=this._current;var s=this._consumeLiteral(e);i.push({type:"Literal",value:s,start:t})}else if(void 0!==E[e[this._current]])i.push(this._consumeOperator(e));else if(void 0!==C[e[this._current]])this._current++;else if("&"===e[this._current])t=this._current,this._current++,"&"===e[this._current]?(this._current++,i.push({type:"And",value:"&&",start:t})):i.push({type:"Expref",value:"&",start:t});else{if("|"!==e[this._current]){var c=new Error("Unknown character:"+e[this._current]);throw c.name="LexerError",c}t=this._current,this._current++,"|"===e[this._current]?(this._current++,i.push({type:"Or",value:"||",start:t})):i.push({type:"Pipe",value:"|",start:t})}return i},_consumeUnquotedIdentifier:function(e){var t=this._current;for(this._current++;this._current<e.length&&s(e[this._current]);)this._current++;return e.slice(t,this._current)},_consumeQuotedIdentifier:function(e){var t=this._current;this._current++;for(var n=e.length;'"'!==e[this._current]&&this._current<n;){var r=this._current;"\\"!==e[r]||"\\"!==e[r+1]&&'"'!==e[r+1]?r++:r+=2,this._current=r}return this._current++,JSON.parse(e.slice(t,this._current))},_consumeRawStringLiteral:function(e){var t=this._current;this._current++;for(var n=e.length;"'"!==e[this._current]&&this._current<n;){var r=this._current;"\\"!==e[r]||"\\"!==e[r+1]&&"'"!==e[r+1]?r++:r+=2,this._current=r}return this._current++,e.slice(t+1,this._current-1).replace("\\'","'")},_consumeNumber:function(e){var t=this._current;this._current++;for(var n=e.length;a(e[this._current])&&this._current<n;)this._current++;return{type:"Number",value:parseInt(e.slice(t,this._current)),start:t}},_consumeLBracket:function(e){var t=this._current;return this._current++,"?"===e[this._current]?(this._current++,{type:"Filter",value:"[?",start:t}):"]"===e[this._current]?(this._current++,{type:"Flatten",value:"[]",start:t}):{type:"Lbracket",value:"[",start:t}},_consumeOperator:function(e){var t=this._current,n=e[t];return this._current++,"!"===n?"="===e[this._current]?(this._current++,{type:"NE",value:"!=",start:t}):{type:"Not",value:"!",start:t}:"<"===n?"="===e[this._current]?(this._current++,{type:"LTE",value:"<=",start:t}):{type:"LT",value:"<",start:t}:">"===n?"="===e[this._current]?(this._current++,{type:"GTE",value:">=",start:t}):{type:"GT",value:">",start:t}:"="===n&&"="===e[this._current]?(this._current++,{type:"EQ",value:"==",start:t}):void 0},_consumeLiteral:function(e){this._current++;for(var t,n=this._current,r=e.length;"`"!==e[this._current]&&this._current<r;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&"`"!==e[i+1]?i++:i+=2,this._current=i}var o=f(e.slice(n,this._current));return o=o.replace("\\`","`"),t=this._looksLikeJSON(o)?JSON.parse(o):JSON.parse('"'+o+'"'),this._current++,t},_looksLikeJSON:function(e){if(""===e)return!1;if('[{"'.indexOf(e[0])>=0)return!0;if(["true","false","null"].indexOf(e)>=0)return!0;if(!("-0123456789".indexOf(e[0])>=0))return!1;try{return JSON.parse(e),!0}catch(e){return!1}}};var T={EOF:0,UnquotedIdentifier:0,QuotedIdentifier:0,Rbracket:0,Rparen:0,Comma:0,Rbrace:0,Number:0,Current:0,Expref:0,Pipe:1,Or:2,And:3,EQ:5,GT:5,LT:5,GTE:5,LTE:5,NE:5,Flatten:9,Star:20,Filter:21,Dot:40,Not:45,Lbrace:50,Lbracket:55,Lparen:60};u.prototype={parse:function(e){this._loadTokens(e),this.index=0;var t=this.expression(0);if("EOF"!==this._lookahead(0)){var n=this._lookaheadToken(0),r=new Error("Unexpected token type: "+n.type+", value: "+n.value);throw r.name="ParserError",r}return t},_loadTokens:function(e){var t=(new c).tokenize(e);t.push({type:"EOF",value:"",start:e.length}),this.tokens=t},expression:function(e){var t=this._lookaheadToken(0);this._advance();for(var n=this.nud(t),r=this._lookahead(0);e<T[r];)this._advance(),n=this.led(r,n),r=this._lookahead(0);return n},_lookahead:function(e){return this.tokens[this.index+e].type},_lookaheadToken:function(e){return this.tokens[this.index+e]},_advance:function(){this.index++},nud:function(e){var t,n;switch(e.type){case"Literal":return{type:"Literal",value:e.value};case"UnquotedIdentifier":return{type:"Field",name:e.value};case"QuotedIdentifier":var r={type:"Field",name:e.value};if("Lparen"===this._lookahead(0))throw new Error("Quoted identifier not allowed for function names.");return r;case"Not":return{type:"NotExpression",children:[t=this.expression(T.Not)]};case"Star":return t=null,{type:"ValueProjection",children:[{type:"Identity"},t="Rbracket"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(T.Star)]};case"Filter":return this.led(e.type,{type:"Identity"});case"Lbrace":return this._parseMultiselectHash();case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[{type:"Identity"}]},t=this._parseProjectionRHS(T.Flatten)]};case"Lbracket":return"Number"===this._lookahead(0)||"Colon"===this._lookahead(0)?(t=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},t)):"Star"===this._lookahead(0)&&"Rbracket"===this._lookahead(1)?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},t=this._parseProjectionRHS(T.Star)]}):this._parseMultiselectList();case"Current":return{type:"Current"};case"Expref":return{type:"ExpressionReference",children:[n=this.expression(T.Expref)]};case"Lparen":for(var i=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(n={type:"Current"},this._advance()):n=this.expression(0),i.push(n);return this._match("Rparen"),i[0];default:this._errorToken(e)}},led:function(e,t){var n;switch(e){case"Dot":var r=T.Dot;return"Star"!==this._lookahead(0)?{type:"Subexpression",children:[t,n=this._parseDotRHS(r)]}:(this._advance(),{type:"ValueProjection",children:[t,n=this._parseProjectionRHS(r)]});case"Pipe":return{type:"Pipe",children:[t,n=this.expression(T.Pipe)]};case"Or":return{type:"OrExpression",children:[t,n=this.expression(T.Or)]};case"And":return{type:"AndExpression",children:[t,n=this.expression(T.And)]};case"Lparen":for(var i,o=t.name,a=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(i={type:"Current"},this._advance()):i=this.expression(0),"Comma"===this._lookahead(0)&&this._match("Comma"),a.push(i);return this._match("Rparen"),{type:"Function",name:o,children:a};case"Filter":var s=this.expression(0);return this._match("Rbracket"),{type:"FilterProjection",children:[t,n="Flatten"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(T.Filter),s]};case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[t]},this._parseProjectionRHS(T.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(t,e);case"Lbracket":var c=this._lookaheadToken(0);return"Number"===c.type||"Colon"===c.type?(n=this._parseIndexExpression(),this._projectIfSlice(t,n)):(this._match("Star"),this._match("Rbracket"),{type:"Projection",children:[t,n=this._parseProjectionRHS(T.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(e){if(this._lookahead(0)!==e){var t=this._lookaheadToken(0),n=new Error("Expected "+e+", got: "+t.type);throw n.name="ParserError",n}this._advance()},_errorToken:function(e){var t=new Error("Invalid token ("+e.type+'): "'+e.value+'"');throw t.name="ParserError",t},_parseIndexExpression:function(){if("Colon"===this._lookahead(0)||"Colon"===this._lookahead(1))return this._parseSliceExpression();var e={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match("Rbracket"),e},_projectIfSlice:function(e,t){var n={type:"IndexExpression",children:[e,t]};return"Slice"===t.type?{type:"Projection",children:[n,this._parseProjectionRHS(T.Star)]}:n},_parseSliceExpression:function(){for(var e=[null,null,null],t=0,n=this._lookahead(0);"Rbracket"!==n&&t<3;){if("Colon"===n)t++,this._advance();else{if("Number"!==n){var r=this._lookahead(0),i=new Error("Syntax error, unexpected token: "+r.value+"("+r.type+")");throw i.name="Parsererror",i}e[t]=this._lookaheadToken(0).value,this._advance()}n=this._lookahead(0)}return this._match("Rbracket"),{type:"Slice",children:e}},_parseComparator:function(e,t){return{type:"Comparator",name:t,children:[e,this.expression(T[t])]}},_parseDotRHS:function(e){var t=this._lookahead(0);return["UnquotedIdentifier","QuotedIdentifier","Star"].indexOf(t)>=0?this.expression(e):"Lbracket"===t?(this._match("Lbracket"),this._parseMultiselectList()):"Lbrace"===t?(this._match("Lbrace"),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(e){var t;if(T[this._lookahead(0)]<10)t={type:"Identity"};else if("Lbracket"===this._lookahead(0))t=this.expression(e);else if("Filter"===this._lookahead(0))t=this.expression(e);else{if("Dot"!==this._lookahead(0)){var n=this._lookaheadToken(0),r=new Error("Sytanx error, unexpected token: "+n.value+"("+n.type+")");throw r.name="ParserError",r}this._match("Dot"),t=this._parseDotRHS(e)}return t},_parseMultiselectList:function(){for(var e=[];"Rbracket"!==this._lookahead(0);){var t=this.expression(0);if(e.push(t),"Comma"===this._lookahead(0)&&(this._match("Comma"),"Rbracket"===this._lookahead(0)))throw new Error("Unexpected token Rbracket")}return this._match("Rbracket"),{type:"MultiSelectList",children:e}},_parseMultiselectHash:function(){for(var e,t,n,r=[],i=["UnquotedIdentifier","QuotedIdentifier"];;){if(e=this._lookaheadToken(0),i.indexOf(e.type)<0)throw new Error("Expecting an identifier token, got: "+e.type);if(t=e.value,this._advance(),this._match("Colon"),n={type:"KeyValuePair",name:t,value:this.expression(0)},r.push(n),"Comma"===this._lookahead(0))this._match("Comma");else if("Rbrace"===this._lookahead(0)){this._match("Rbrace");break}}return{type:"MultiSelectHash",children:r}}},l.prototype={search:function(e,t){return this.visit(e,t)},visit:function(e,o){var a,s,c,u,l,d,f,p,h;switch(e.type){case"Field":return null===o?null:n(o)?void 0===(d=o[e.name])?null:d:null;case"Subexpression":for(c=this.visit(e.children[0],o),h=1;h<e.children.length;h++)if(null===(c=this.visit(e.children[1],c)))return null;return c;case"IndexExpression":return f=this.visit(e.children[0],o),this.visit(e.children[1],f);case"Index":if(!t(o))return null;var m=e.value;return m<0&&(m=o.length+m),void 0===(c=o[m])&&(c=null),c;case"Slice":if(!t(o))return null;var g=e.children.slice(0),b=this.computeSliceParams(o.length,g),v=b[0],y=b[1],S=b[2];if(c=[],S>0)for(h=v;h<y;h+=S)c.push(o[h]);else for(h=v;h>y;h+=S)c.push(o[h]);return c;case"Projection":var w=this.visit(e.children[0],o);if(!t(w))return null;for(p=[],h=0;h<w.length;h++)null!==(s=this.visit(e.children[1],w[h]))&&p.push(s);return p;case"ValueProjection":if(!n(w=this.visit(e.children[0],o)))return null;p=[];var E=function(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n}(w);for(h=0;h<E.length;h++)null!==(s=this.visit(e.children[1],E[h]))&&p.push(s);return p;case"FilterProjection":if(!t(w=this.visit(e.children[0],o)))return null;var C=[],T=[];for(h=0;h<w.length;h++)i(a=this.visit(e.children[2],w[h]))||C.push(w[h]);for(var _=0;_<C.length;_++)null!==(s=this.visit(e.children[1],C[_]))&&T.push(s);return T;case"Comparator":switch(u=this.visit(e.children[0],o),l=this.visit(e.children[1],o),e.name){case"EQ":c=r(u,l);break;case"NE":c=!r(u,l);break;case"GT":c=u>l;break;case"GTE":c=u>=l;break;case"LT":c=u<l;break;case"LTE":c=u<=l;break;default:throw new Error("Unknown comparator: "+e.name)}return c;case"Flatten":var I=this.visit(e.children[0],o);if(!t(I))return null;var k=[];for(h=0;h<I.length;h++)t(s=I[h])?k.push.apply(k,s):k.push(s);return k;case"Identity":return o;case"MultiSelectList":if(null===o)return null;for(p=[],h=0;h<e.children.length;h++)p.push(this.visit(e.children[h],o));return p;case"MultiSelectHash":if(null===o)return null;var A;for(p={},h=0;h<e.children.length;h++)p[(A=e.children[h]).name]=this.visit(A.value,o);return p;case"OrExpression":return i(a=this.visit(e.children[0],o))&&(a=this.visit(e.children[1],o)),a;case"AndExpression":return!0===i(u=this.visit(e.children[0],o))?u:this.visit(e.children[1],o);case"NotExpression":return i(u=this.visit(e.children[0],o));case"Literal":return e.value;case"Pipe":return f=this.visit(e.children[0],o),this.visit(e.children[1],f);case"Current":return o;case"Function":var O=[];for(h=0;h<e.children.length;h++)O.push(this.visit(e.children[h],o));return this.runtime.callFunction(e.name,O);case"ExpressionReference":var x=e.children[0];return x.jmespathType="Expref",x;default:throw new Error("Unknown node type: "+e.type)}},computeSliceParams:function(e,t){var n=t[0],r=t[1],i=t[2],o=[null,null,null];if(null===i)i=1;else if(0===i){var a=new Error("Invalid slice, step cannot be 0");throw a.name="RuntimeError",a}var s=i<0;return n=null===n?s?e-1:0:this.capSliceRange(e,n,i),r=null===r?s?-1:e:this.capSliceRange(e,r,i),o[0]=n,o[1]=r,o[2]=i,o},capSliceRange:function(e,t,n){return t<0?(t+=e)<0&&(t=n<0?-1:0):t>=e&&(t=n<0?e-1:e),t}},d.prototype={callFunction:function(e,t){var n=this.functionTable[e];if(void 0===n)throw new Error("Unknown function: "+e+"()");return this._validateArgs(e,t,n._signature),n._func.call(this,t)},_validateArgs:function(e,t,n){var r;if(n[n.length-1].variadic){if(t.length<n.length)throw r=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes at least"+n.length+r+" but received "+t.length)}else if(t.length!==n.length)throw r=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes "+n.length+r+" but received "+t.length);for(var i,o,a,s=0;s<n.length;s++){a=!1,i=n[s].types,o=this._getTypeName(t[s]);for(var c=0;c<i.length;c++)if(this._typeMatches(o,i[c],t[s])){a=!0;break}if(!a)throw new Error("TypeError: "+e+"() expected argument "+(s+1)+" to be type "+i+" but received type "+o+" instead.")}},_typeMatches:function(e,t,n){if(t===h)return!0;if(t!==S&&t!==y&&t!==g)return e===t;if(t===g)return e===g;if(e===g){var r;t===y?r=p:t===S&&(r=m);for(var i=0;i<n.length;i++)if(!this._typeMatches(this._getTypeName(n[i]),r,n[i]))return!1;return!0}},_getTypeName:function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return m;case"[object Number]":return p;case"[object Array]":return g;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return"Expref"===e.jmespathType?v:b}},_functionStartsWith:function(e){return 0===e[0].lastIndexOf(e[1])},_functionEndsWith:function(e){var t=e[0],n=e[1];return-1!==t.indexOf(n,t.length-n.length)},_functionReverse:function(e){if(this._getTypeName(e[0])===m){for(var t=e[0],n="",r=t.length-1;r>=0;r--)n+=t[r];return n}var i=e[0].slice(0);return i.reverse(),i},_functionAbs:function(e){return Math.abs(e[0])},_functionCeil:function(e){return Math.ceil(e[0])},_functionAvg:function(e){for(var t=0,n=e[0],r=0;r<n.length;r++)t+=n[r];return t/n.length},_functionContains:function(e){return e[0].indexOf(e[1])>=0},_functionFloor:function(e){return Math.floor(e[0])},_functionLength:function(e){return n(e[0])?Object.keys(e[0]).length:e[0].length},_functionMap:function(e){for(var t=[],n=this._interpreter,r=e[0],i=e[1],o=0;o<i.length;o++)t.push(n.visit(r,i[o]));return t},_functionMerge:function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];for(var i in r)t[i]=r[i]}return t},_functionMax:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===p)return Math.max.apply(Math,e[0]);for(var t=e[0],n=t[0],r=1;r<t.length;r++)n.localeCompare(t[r])<0&&(n=t[r]);return n}return null},_functionMin:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===p)return Math.min.apply(Math,e[0]);for(var t=e[0],n=t[0],r=1;r<t.length;r++)t[r].localeCompare(n)<0&&(n=t[r]);return n}return null},_functionSum:function(e){for(var t=0,n=e[0],r=0;r<n.length;r++)t+=n[r];return t},_functionType:function(e){switch(this._getTypeName(e[0])){case p:return"number";case m:return"string";case g:return"array";case b:return"object";case 5:return"boolean";case v:return"expref";case 7:return"null"}},_functionKeys:function(e){return Object.keys(e[0])},_functionValues:function(e){for(var t=e[0],n=Object.keys(t),r=[],i=0;i<n.length;i++)r.push(t[n[i]]);return r},_functionJoin:function(e){var t=e[0];return e[1].join(t)},_functionToArray:function(e){return this._getTypeName(e[0])===g?e[0]:[e[0]]},_functionToString:function(e){return this._getTypeName(e[0])===m?e[0]:JSON.stringify(e[0])},_functionToNumber:function(e){var t,n=this._getTypeName(e[0]);return n===p?e[0]:n!==m||(t=+e[0],isNaN(t))?null:t},_functionNotNull:function(e){for(var t=0;t<e.length;t++)if(7!==this._getTypeName(e[t]))return e[t];return null},_functionSort:function(e){var t=e[0].slice(0);return t.sort(),t},_functionSortBy:function(e){var t=e[0].slice(0);if(0===t.length)return t;var n=this._interpreter,r=e[1],i=this._getTypeName(n.visit(r,t[0]));if([p,m].indexOf(i)<0)throw new Error("TypeError");for(var o=this,a=[],s=0;s<t.length;s++)a.push([s,t[s]]);a.sort((function(e,t){var a=n.visit(r,e[1]),s=n.visit(r,t[1]);if(o._getTypeName(a)!==i)throw new Error("TypeError: expected "+i+", received "+o._getTypeName(a));if(o._getTypeName(s)!==i)throw new Error("TypeError: expected "+i+", received "+o._getTypeName(s));return a>s?1:a<s?-1:e[0]-t[0]}));for(var c=0;c<a.length;c++)t[c]=a[c][1];return t},_functionMaxBy:function(e){for(var t,n,r=e[1],i=e[0],o=this.createKeyFunction(r,[p,m]),a=-1/0,s=0;s<i.length;s++)(n=o(i[s]))>a&&(a=n,t=i[s]);return t},_functionMinBy:function(e){for(var t,n,r=e[1],i=e[0],o=this.createKeyFunction(r,[p,m]),a=1/0,s=0;s<i.length;s++)(n=o(i[s]))<a&&(a=n,t=i[s]);return t},createKeyFunction:function(e,t){var n=this,r=this._interpreter;return function(i){var o=r.visit(e,i);if(t.indexOf(n._getTypeName(o))<0){var a="TypeError: expected one of "+t+", received "+n._getTypeName(o);throw new Error(a)}return o}}},e.tokenize=function(e){return(new c).tokenize(e)},e.compile=function(e){return(new u).parse(e)},e.search=function(e,t){var n=new u,r=new d,i=new l(r);r._interpreter=i;var o=n.parse(t);return i.search(o,e)},e.strictDeepEqual=r}(void 0===n?this.jmespath={}:n)},{}],87:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(){m&&p&&(m=!1,p.length?h=p.concat(h):g=-1,h.length&&s())}function s(){if(!m){var e=o(a);m=!0;for(var t=h.length;t;){for(p=h,h=[];++g<t;)p&&p[g].run();g=-1,t=h.length}p=null,m=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,d,f=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var p,h=[],m=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||m||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],88:[function(a,s,c){(function(r){(function(){!function(a){function u(e){throw RangeError(L[e])}function l(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function d(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+l((e=e.replace(N,".")).split("."),t).join(".")}function f(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function p(e){return l(e,(function(e){var t="";return e>65535&&(t+=j((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+j(e)})).join("")}function h(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:_}function m(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function g(e,t,n){var r=0;for(e=n?F(e/O):e>>1,e+=F(e/t);e>U*k>>1;r+=_)e=F(e/U);return F(r+(U+1)*e/(e+A))}function b(e){var t,n,r,i,o,a,s,c,l,d,f=[],m=e.length,b=0,v=R,y=x;for((n=e.lastIndexOf(P))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&u("not-basic"),f.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(o=b,a=1,s=_;i>=m&&u("invalid-input"),((c=h(e.charCodeAt(i++)))>=_||c>F((T-b)/a))&&u("overflow"),b+=c*a,!(c<(l=s<=y?I:s>=y+k?k:s-y));s+=_)a>F(T/(d=_-l))&&u("overflow"),a*=d;y=g(b-o,t=f.length+1,0==o),F(b/t)>T-v&&u("overflow"),v+=F(b/t),b%=t,f.splice(b++,0,v)}return p(f)}function v(e){var t,n,r,i,o,a,s,c,l,d,p,h,b,v,y,S=[];for(h=(e=f(e)).length,t=R,n=0,o=x,a=0;a<h;++a)(p=e[a])<128&&S.push(j(p));for(r=i=S.length,i&&S.push(P);r<h;){for(s=T,a=0;a<h;++a)(p=e[a])>=t&&p<s&&(s=p);for(s-t>F((T-n)/(b=r+1))&&u("overflow"),n+=(s-t)*b,t=s,a=0;a<h;++a)if((p=e[a])<t&&++n>T&&u("overflow"),p==t){for(c=n,l=_;!(c<(d=l<=o?I:l>=o+k?k:l-o));l+=_)y=c-d,v=_-d,S.push(j(m(d+y%v,0))),c=F(y/v);S.push(j(m(c,0))),o=g(n,b,r==i),n=0,++r}++n,++t}return S.join("")}var y="object"==o(c)&&c&&!c.nodeType&&c,S="object"==o(s)&&s&&!s.nodeType&&s,w="object"==o(r)&&r;w.global!==w&&w.window!==w&&w.self!==w||(a=w);var E,C,T=2147483647,_=36,I=1,k=26,A=38,O=700,x=72,R=128,P="-",M=/^xn--/,D=/[^\x20-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},U=_-I,F=Math.floor,j=String.fromCharCode;if(E={version:"1.3.2",ucs2:{decode:f,encode:p},decode:b,encode:v,toASCII:function(e){return d(e,(function(e){return D.test(e)?"xn--"+v(e):e}))},toUnicode:function(e){return d(e,(function(e){return M.test(e)?b(e.slice(4).toLowerCase()):e}))}},"object"==o(n(3))&&n(3))void 0===(i=function(){return E}.call(t,n,t,e))||(e.exports=i);else if(y&&S)if(s.exports==y)S.exports=E;else for(C in E)E.hasOwnProperty(C)&&(y[C]=E[C]);else a.punycode=E}(this)}).call(this)}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],89:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var d,f,p,h,m=e[l].replace(s,"%20"),g=m.indexOf(n);g>=0?(d=m.substr(0,g),f=m.substr(g+1)):(d=m,f=""),p=decodeURIComponent(d),h=decodeURIComponent(f),r(a,p)?i(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],90:[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(o(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,c){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==o(e)?r(s(e),(function(o){var s=encodeURIComponent(i(o))+n;return a(e[o])?r(e[o],(function(e){return s+encodeURIComponent(i(e))})).join(t):s+encodeURIComponent(i(e[o]))})).join(t):c?encodeURIComponent(i(c))+n+encodeURIComponent(i(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],91:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":89,"./encode":90}],92:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,i){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var u=0;u<c;++u){var l,d,f,p,h=e[u].replace(a,"%20"),m=h.indexOf(n);m>=0?(l=h.substr(0,m),d=h.substr(m+1)):(l=h,d=""),f=decodeURIComponent(l),p=decodeURIComponent(d),r(o,f)?Array.isArray(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o}},{}],93:[function(e,t,n){"use strict";var r=function(e){switch(o(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,i){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==o(e)?Object.keys(e).map((function(i){var o=encodeURIComponent(r(i))+n;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(r(e))})).join(t):o+encodeURIComponent(r(e[i]))})).join(t):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(e)):""}},{}],94:[function(e,t,n){arguments[4][91][0].apply(n,arguments)},{"./decode":92,"./encode":93,dup:91}],95:[function(e,t,n){(function(t,r){(function(){function i(e,t){this._id=e,this._clearFn=t}var o=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,c={},u=0;n.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&s.call(arguments,1);return c[t]=!0,o((function(){c[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete c[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":87,timers:95}],96:[function(e,t,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&s(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function a(e){return"string"==typeof e}function s(e){return"object"==o(e)&&null!==e}function c(e){return null===e}var u=e("punycode");n.parse=i,n.resolve=function(e,t){return i(e,!1,!0).resolve(t)},n.resolveObject=function(e,t){return e?i(e,!1,!0).resolveObject(t):t},n.format=function(e){return a(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)},n.Url=r;var l=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,f=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),p=["'"].concat(f),h=["%","/","?",";","#"].concat(p),m=["/","?","#"],g=/^[a-z0-9A-Z_-]{0,63}$/,b=/^([a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=e("querystring");r.prototype.parse=function(e,t,n){if(!a(e))throw new TypeError("Parameter 'url' must be a string, not "+o(e));var r=e;r=r.trim();var i=l.exec(r);if(i){var s=(i=i[0]).toLowerCase();this.protocol=s,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===r.substr(0,2);!c||i&&y[i]||(r=r.substr(2),this.slashes=!0)}if(!y[i]&&(c||i&&!S[i])){for(var d=-1,f=0;f<m.length;f++)-1!==(T=r.indexOf(m[f]))&&(-1===d||T<d)&&(d=T);var E,C;for(-1!==(C=-1===d?r.lastIndexOf("@"):r.lastIndexOf("@",d))&&(E=r.slice(0,C),r=r.slice(C+1),this.auth=decodeURIComponent(E)),d=-1,f=0;f<h.length;f++){var T;-1!==(T=r.indexOf(h[f]))&&(-1===d||T<d)&&(d=T)}-1===d&&(d=r.length),this.host=r.slice(0,d),r=r.slice(d),this.parseHost(),this.hostname=this.hostname||"";var _="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!_)for(var I=this.hostname.split(/\./),k=(f=0,I.length);f<k;f++){var A=I[f];if(A&&!A.match(g)){for(var O="",x=0,R=A.length;x<R;x++)A.charCodeAt(x)>127?O+="x":O+=A[x];if(!O.match(g)){var P=I.slice(0,f),M=I.slice(f+1),D=A.match(b);D&&(P.push(D[1]),M.unshift(D[2])),M.length&&(r="/"+M.join(".")+r),this.hostname=P.join(".");break}}}if(this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),!_){var N=this.hostname.split("."),L=[];for(f=0;f<N.length;++f){var U=N[f];L.push(U.match(/[^A-Za-z0-9_-]/)?"xn--"+u.encode(U):U)}this.hostname=L.join(".")}var F=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+F,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!v[s])for(f=0,k=p.length;f<k;f++){var B=p[f],V=encodeURIComponent(B);V===B&&(V=escape(B)),r=r.split(B).join(V)}var q=r.indexOf("#");-1!==q&&(this.hash=r.substr(q),r=r.slice(0,q));var H=r.indexOf("?");return-1!==H?(this.search=r.substr(H),this.query=r.substr(H+1),t&&(this.query=w.parse(this.query)),r=r.slice(0,H)):t&&(this.search="",this.query={}),r&&(this.pathname=r),S[s]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(F=this.pathname||"",U=this.search||"",this.path=F+U),this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&s(this.query)&&Object.keys(this.query).length&&(o=w.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||S[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(a(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach((function(e){n[e]=this[e]}),this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach((function(t){"protocol"!==t&&(n[t]=e[t])})),S[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!S[e.protocol])return Object.keys(e).forEach((function(t){n[t]=e[t]})),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||y[e.protocol])n.pathname=e.pathname;else{for(var i=(e.pathname||"").split("/");i.length&&!(e.host=i.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var o=n.pathname||"",s=n.search||"";n.path=o+s}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var u=n.pathname&&"/"===n.pathname.charAt(0),l=e.host||e.pathname&&"/"===e.pathname.charAt(0),d=l||u||n.host&&e.pathname,f=d,p=n.pathname&&n.pathname.split("/")||[],h=(i=e.pathname&&e.pathname.split("/")||[],n.protocol&&!S[n.protocol]);if(h&&(n.hostname="",n.port=null,n.host&&(""===p[0]?p[0]=n.host:p.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===i[0]?i[0]=e.host:i.unshift(e.host)),e.host=null),d=d&&(""===i[0]||""===p[0])),l)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,p=i;else if(i.length)p||(p=[]),p.pop(),p=p.concat(i),n.search=e.search,n.query=e.query;else if(!function(e){return null==e}(e.search))return h&&(n.hostname=n.host=p.shift(),(w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=w.shift(),n.host=n.hostname=w.shift())),n.search=e.search,n.query=e.query,c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!p.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var m=p.slice(-1)[0],g=(n.host||e.host)&&("."===m||".."===m)||""===m,b=0,v=p.length;v>=0;v--)"."==(m=p[v])?p.splice(v,1):".."===m?(p.splice(v,1),b++):b&&(p.splice(v,1),b--);if(!d&&!f)for(;b--;b)p.unshift("..");!d||""===p[0]||p[0]&&"/"===p[0].charAt(0)||p.unshift(""),g&&"/"!==p.join("/").substr(-1)&&p.push("");var w,E=""===p[0]||p[0]&&"/"===p[0].charAt(0);return h&&(n.hostname=n.host=E?"":p.length?p.shift():"",(w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=w.shift(),n.host=n.hostname=w.shift())),(d=d||n.host&&p.length)&&!E&&p.unshift(""),p.length?n.pathname=p.join("/"):(n.pathname=null,n.path=null),c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=d.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{punycode:88,querystring:91}],97:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],98:[function(e,t,n){t.exports=function(e){return e&&"object"==o(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],99:[function(e,t,n){(function(t,r){(function(){function i(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(t)?r.showHidden=t:t&&n._extend(r,t),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),c(r,e,r.depth)}function a(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function s(e,t){return e}function c(e,t,r){if(e.customInspect&&t&&E(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return g(i)||(i=c(e,i,r)),i}var o=u(e,t);if(o)return o;var a=Object.keys(t),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),w(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(t);if(0===a.length){if(E(t)){var p=t.name?": "+t.name:"";return e.stylize("[Function"+p+"]","special")}if(v(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(S(t))return e.stylize(Date.prototype.toString.call(t),"date");if(w(t))return l(t)}var h,m="",b=!1,y=["{","}"];return f(t)&&(b=!0,y=["[","]"]),E(t)&&(m=" [Function"+(t.name?": "+t.name:"")+"]"),v(t)&&(m=" "+RegExp.prototype.toString.call(t)),S(t)&&(m=" "+Date.prototype.toUTCString.call(t)),w(t)&&(m=" "+l(t)),0!==a.length||b&&0!=t.length?r<0?v(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),h=b?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)I(t,String(a))?o.push(d(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))})),o}(e,t,r,s,a):a.map((function(n){return d(e,t,r,s,n,b)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(h,m,y)):y[0]+m+y[1]}function u(e,t){if(b(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return m(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),I(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=h(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),b(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function h(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function b(e){return void 0===e}function v(e){return y(e)&&"[object RegExp]"===C(e)}function y(e){return"object"==o(e)&&null!==e}function S(e){return y(e)&&"[object Date]"===C(e)}function w(e){return y(e)&&("[object Error]"===C(e)||e instanceof Error)}function E(e){return"function"==typeof e}function C(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}function _(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),x[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var k=/%[sdj%]/g;n.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(k,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),s=r[n];n<o;s=r[++n])h(s)||!y(s)?a+=" "+s:a+=" "+i(s);return a},n.deprecate=function(e,i){if(b(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}};var A,O={};n.debuglog=function(e){if(b(A)&&(A=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!O[e])if(new RegExp("\\b"+e+"\\b","i").test(A)){var r=t.pid;O[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else O[e]=function(){};return O[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=f,n.isBoolean=p,n.isNull=h,n.isNullOrUndefined=function(e){return null==e},n.isNumber=m,n.isString=g,n.isSymbol=function(e){return"symbol"==o(e)},n.isUndefined=b,n.isRegExp=v,n.isObject=y,n.isDate=S,n.isError=w,n.isFunction=E,n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==o(e)||void 0===e},n.isBuffer=e("./support/isBuffer");var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",_(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!y(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this)}).call(this,e("_process"),void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":98,_process:87,inherits:97}],100:[function(e,t,n){var r=e("./v1"),i=e("./v4"),o=i;o.v1=r,o.v4=i,t.exports=o},{"./v1":103,"./v4":104}],101:[function(e,t,n){for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);t.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},{}],102:[function(e,t,n){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var i=new Uint8Array(16);t.exports=function(){return r(i),i}}else{var o=new Array(16);t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},{}],103:[function(e,t,n){var r,i,o=e("./lib/rng"),a=e("./lib/bytesToUuid"),s=0,c=0;t.exports=function(e,t,n){var u=t&&n||0,l=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==f){var p=o();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:c+1,g=h-s+(m-c)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=m,i=f;var b=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;l[u++]=b>>>24&255,l[u++]=b>>>16&255,l[u++]=b>>>8&255,l[u++]=255&b;var v=h/4294967296*1e4&268435455;l[u++]=v>>>8&255,l[u++]=255&v,l[u++]=v>>>24&15|16,l[u++]=v>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var y=0;y<6;++y)l[u+y]=d[y];return t||a(l)}},{"./lib/bytesToUuid":101,"./lib/rng":102}],104:[function(e,t,n){var r=e("./lib/rng"),i=e("./lib/bytesToUuid");t.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},{"./lib/bytesToUuid":101,"./lib/rng":102}],105:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./utils/LRU"),i=function(){function e(e){void 0===e&&(e=1e3),this.maxSize=e,this.cache=new r.LRUCache(e)}return Object.defineProperty(e.prototype,"size",{get:function(){return this.cache.length},enumerable:!0,configurable:!0}),e.prototype.put=function(t,n){var r="string"!=typeof t?e.getKeyString(t):t,i=this.populateValue(n);this.cache.put(r,i)},e.prototype.get=function(t){var n="string"!=typeof t?e.getKeyString(t):t,r=Date.now(),i=this.cache.get(n);if(i)for(var o=0;o<i.length;o++)if(i[o].Expire<r)return void this.cache.remove(n);return i},e.getKeyString=function(e){for(var t=[],n=Object.keys(e).sort(),r=0;r<n.length;r++){var i=n[r];void 0!==e[i]&&t.push(e[i])}return t.join(" ")},e.prototype.populateValue=function(e){var t=Date.now();return e.map((function(e){return{Address:e.Address||"",Expire:t+60*(e.CachePeriodInMinutes||1)*1e3}}))},e.prototype.empty=function(){this.cache.empty()},e.prototype.remove=function(t){var n="string"!=typeof t?e.getKeyString(t):t;this.cache.remove(n)},e}();n.EndpointCache=i},{"./utils/LRU":106}],106:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t){this.key=e,this.value=t},i=function(){function e(e){if(this.nodeMap={},this.size=0,"number"!=typeof e||e<1)throw new Error("Cache size can only be positive number");this.sizeLimit=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.size},enumerable:!0,configurable:!0}),e.prototype.prependToList=function(e){this.headerNode?(this.headerNode.prev=e,e.next=this.headerNode):this.tailNode=e,this.headerNode=e,this.size++},e.prototype.removeFromTail=function(){if(this.tailNode){var e=this.tailNode,t=e.prev;return t&&(t.next=void 0),e.prev=void 0,this.tailNode=t,this.size--,e}},e.prototype.detachFromList=function(e){this.headerNode===e&&(this.headerNode=e.next),this.tailNode===e&&(this.tailNode=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.next=void 0,e.prev=void 0,this.size--},e.prototype.get=function(e){if(this.nodeMap[e]){var t=this.nodeMap[e];return this.detachFromList(t),this.prependToList(t),t.value}},e.prototype.remove=function(e){if(this.nodeMap[e]){var t=this.nodeMap[e];this.detachFromList(t),delete this.nodeMap[e]}},e.prototype.put=function(e,t){if(this.nodeMap[e])this.remove(e);else if(this.size===this.sizeLimit){var n=this.removeFromTail().key;delete this.nodeMap[n]}var i=new r(e,t);this.nodeMap[e]=i,this.prependToList(i)},e.prototype.empty=function(){for(var e=Object.keys(this.nodeMap),t=0;t<e.length;t++){var n=e[t],r=this.nodeMap[n];this.detachFromList(r),delete this.nodeMap[n]}},e}();n.LRUCache=i},{}],107:[function(e,t,n){e("./browser_loader");var r=e("./core");"undefined"!=typeof window&&(window.AWS=r),void 0!==t&&(t.exports=r),"undefined"!=typeof self&&(self.AWS=r),Object.prototype.hasOwnProperty.call(r,"ConnectParticipant")||(r.apiLoader.services.connectparticipant={},r.ConnectParticipant=r.Service.defineService("connectparticipant",["2018-09-07"])),r.apiLoader.services.connectparticipant["2018-09-07"]=e("../apis/connectparticipant-2018-09-07.min"),r.apiLoader.services.connectparticipant["2018-09-07"].paginators=e("../apis/connectparticipant-2018-09-07.paginators").pagination,Object.prototype.hasOwnProperty.call(r,"STS")||(r.apiLoader.services.sts={},r.STS=r.Service.defineService("sts",["2011-06-15"]),e("./services/sts"))},{"../apis/connectparticipant-2018-09-07.min":3,"../apis/connectparticipant-2018-09-07.paginators":4,"../apis/sts-2011-06-15.min":6,"./browser_loader":17,"./core":20,"./services/sts":63}]},{},[107])}).call(this,n(0))}])},function(e,t,n){var r=n(220),i=n(221);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],c=t.base?o[0]+t.base:o[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var d=s(l),f={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:l,updater:g(f,t),references:1}),r.push(l)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,d=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function f(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function p(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,m=0;function g(e,t){var n,r,i;if(t.singleton){var o=m++;n=h||(h=u(t)),r=f.bind(null,n,o,!1),i=f.bind(null,n,o,!0)}else n=u(t),r=p.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=s(n[r]);a[i].references--}for(var o=c(e,t),u=0;u<n.length;u++){var l=s(n[u]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=o}}}},function(e,t,n){(t=n(222)(!1)).push([e.i,'#agent-chat-window {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n  }\n  \n  .btn-toggle-video {\n    position: absolute;\n    right: 5px;\n    top: 10rem;\n    display: none;\n  }\n\n  .agent-view {\n    display: none;\n    position: absolute;\n    right: 5px;\n    top: 12rem;\n    height: 26rem;\n    border-radius: 0.2rem;\n    width: 18rem;\n    margin: auto;\n    text-align: center;\n    background-color: #272727;\n  }\n\n  .div-help-desk-remote-video {\n    margin: 1rem 2rem 1rem 2rem;\n  }\n\n  .div-help-desk-local-video{\n    margin: 1rem 2rem 1rem 2rem;\n  }\n\n  .help-desk-remote-video, .help-desk-local-video {\n    height: 8rem;\n    border-top-left-radius: 0.2rem;\n    border-top-right-radius: 0.2rem;\n  }\n\n  .video-tile--nameplate {\n    width: 14.25rem;\n    font-size: 14px;\n    padding-left: 2px;\n    text-align: left;\n    background: #131212;\n    color: #d0d0d0;\n    border-bottom-left-radius: 0.2rem;\n    border-bottom-right-radius: 0.2rem;\n  }\n\n  .video-wrapper {\n    margin: auto;\n    width: auto;\n    height: auto;\n  }\n\n  .meeting-controls {\n    margin: 0.25rem 1.5rem;\n    display: flex;\n  }\n\n  .video-loader {\n    position: absolute;\n    left: 4rem;\n    right: 4rem;\n    margin: auto;\n    border-width: 5px;\n    border-color: #2879ff transparent transparent;\n    border-radius: 100%;\n    animation: rotation .8s infinite linear;\n    border-style: solid;\n    height: 40px;\n    width: 40px;\n  }\n\n  @keyframes rotation {\n    0% {\n      transform: rotate(0deg);\n    }\n\n    100% {\n      transform: rotate(359deg);\n    }\n  }\n\n  .remote-video-loader {\n    top: 4rem;\n    display: block;\n  }\n\n  .local-video-loader {\n    top: 15rem;\n    display: block;\n  }\n\n  .controlBtn {\n    content: "";\n    display: block;\n    height: 40px;\n    width: 40px;\n    margin: 0 10px;\n    border: none;\n    border-radius: 100%;\n    background: #1d1c1c;\n    transition: all 180ms ease;\n  }\n\n  .controlBtn:hover {\n    transform: translateY(-4px);\n    background-color: #101010;\n  }\n\n  .controlBtn img {\n    width: 30px;\n  }\n\n  .alert-agent-end-meeting {\n    display: none;\n    position: absolute !important;\n    margin: 0;\n    left: 40%;\n    top: 13%;\n  }\n',""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([i]).join("\n")}var a,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=function(){function e(e,t){void 0===t&&(t=r.default.WARN),this.name=e,this.level=t}return e.prototype.info=function(e){this.log(r.default.INFO,e)},e.prototype.warn=function(e){this.log(r.default.WARN,e)},e.prototype.error=function(e){this.log(r.default.ERROR,e)},e.prototype.debug=function(e){r.default.DEBUG<this.level||this.log(r.default.DEBUG,"string"==typeof e?e:e())},e.prototype.setLogLevel=function(e){this.level=e},e.prototype.getLogLevel=function(){return this.level},e.prototype.log=function(e,t){if(!(e<this.level)){var n=(new Date).toISOString()+" ["+r.default[e]+"] "+this.name+" - "+t;switch(e){case r.default.ERROR:console.error(n);break;case r.default.WARN:console.warn(n);break;case r.default.DEBUG:console.debug(n.replace(/\\r\\n/g,"\n"));break;case r.default.INFO:console.info(n)}}},e}();t.default=i},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"BrowserInfo",(function(){return i})),n.d(t,"NodeInfo",(function(){return o})),n.d(t,"SearchBotDeviceInfo",(function(){return a})),n.d(t,"BotInfo",(function(){return s})),n.d(t,"ReactNativeInfo",(function(){return c})),n.d(t,"detect",(function(){return f})),n.d(t,"browserName",(function(){return h})),n.d(t,"parseUserAgent",(function(){return m})),n.d(t,"detectOS",(function(){return g})),n.d(t,"getNodeVersion",(function(){return b}));var r=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},i=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},o=function(t){this.version=t,this.type="node",this.name="node",this.os=e.platform},a=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},s=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},u=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,l=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return e?m(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!=typeof navigator?m(navigator.userAgent):b()}function p(e){return""!==e&&l.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]}),!1)}function h(e){var t=p(e);return t?t[0]:null}function m(e){var t=p(e);if(!t)return null;var n=t[0],o=t[1];if("searchbot"===n)return new s;var c=o[1]&&o[1].split(".").join("_").split("_").slice(0,3);c?c.length<3&&(c=r(r([],c,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-c.length),!0)):c=[];var l=c.join("."),d=g(e),f=u.exec(e);return f&&f[1]?new a(n,l,d,f[1]):new i(n,l,d)}function g(e){for(var t=0,n=d.length;t<n;t++){var r=d[t],i=r[0];if(r[1].exec(e))return i}return null}function b(){return void 0!==e&&e.version?new o(e.version.slice(1)):null}}.call(this,n(94))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){void 0===e&&(e=.9),void 0===t&&(t=.01),void 0===n&&(n=.2),void 0===r&&(r=.2),this.speakerWeight=e,this.cutoffThreshold=t,this.silenceThreshold=n,this.takeoverRate=r,this.volumes={}}return e.prototype.calculateScore=function(e,t,n){(n||null===t)&&(t=0),this.volumes.hasOwnProperty(e)||(this.volumes[e]=0),t=t>this.silenceThreshold?1:0;var r=this.volumes[e]*this.speakerWeight+t*(1-this.speakerWeight);for(var i in this.volumes[e]=r,this.volumes)i!==e&&(this.volumes[i]=Math.max(this.volumes[i]-this.takeoverRate*t,0));return r<this.cutoffThreshold?0:r},e.prototype.prioritizeVideoSendBandwidthForActiveSpeaker=function(){return!0},e}();t.default=r},function(e,t,n){var r;!function(i,o){"use strict";var a="model",s="name",c="type",u="vendor",l="version",d="mobile",f="tablet",p="smarttv",h=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},m=function(e,t){return"string"==typeof e&&-1!==g(t).indexOf(g(e))},g=function(e){return e.toLowerCase()},b=function(e,t){if("string"==typeof e)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),void 0===t?e:e.substring(0,255)},v=function(e,t){for(var n,r,i,o,a,s,c=0;c<t.length&&!a;){var u=t[c],l=t[c+1];for(n=r=0;n<u.length&&!a;)if(a=u[n++].exec(e))for(i=0;i<l.length;i++)s=a[++r],"object"==typeof(o=l[i])&&o.length>0?2===o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3===o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):void 0:this[o[0]]=s?o[1].call(this,s,o[2]):void 0:4===o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):this[o]=s||void 0;c+=2}},y=function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(m(t[n][r],e))return"?"===n?void 0:n}else if(m(t[n],e))return"?"===n?void 0:n;return e},S={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},w={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[l,[s,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[l,[s,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[s,l],[/opios[\/ ]+([\w\.]+)/i],[l,[s,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[l,[s,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[s,l],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[l,[s,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[l,[s,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[l,[s,"WeChat"]],[/konqueror\/([\w\.]+)/i],[l,[s,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[l,[s,"IE"]],[/yabrowser\/([\w\.]+)/i],[l,[s,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[s,/(.+)/,"$1 Secure Browser"],l],[/\bfocus\/([\w\.]+)/i],[l,[s,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[l,[s,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[l,[s,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[l,[s,"Dolphin"]],[/coast\/([\w\.]+)/i],[l,[s,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[l,[s,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[l,[s,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[s,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[s,/(.+)/,"$1 Browser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],l],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[s,l],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[s],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[s,"Facebook"],l],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[s,l],[/\bgsa\/([\w\.]+) .*safari\//i],[l,[s,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[l,[s,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[s,"Chrome WebView"],l],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[l,[s,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[s,l],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[l,[s,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[l,s],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[s,[l,y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[s,l],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[s,"Netscape"],l],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[l,[s,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[s,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",g]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",g]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",g]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[a,[u,"Samsung"],[c,f]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[a,[u,"Samsung"],[c,d]],[/\((ip(?:hone|od)[\w ]*);/i],[a,[u,"Apple"],[c,d]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[a,[u,"Apple"],[c,f]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[a,[u,"Huawei"],[c,f]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[a,[u,"Huawei"],[c,d]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[a,/_/g," "],[u,"Xiaomi"],[c,d]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[a,/_/g," "],[u,"Xiaomi"],[c,f]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[a,[u,"OPPO"],[c,d]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[a,[u,"Vivo"],[c,d]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[a,[u,"Realme"],[c,d]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[a,[u,"Motorola"],[c,d]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[a,[u,"Motorola"],[c,f]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[a,[u,"LG"],[c,f]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[a,[u,"LG"],[c,d]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[a,[u,"Lenovo"],[c,f]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[a,/_/g," "],[u,"Nokia"],[c,d]],[/(pixel c)\b/i],[a,[u,"Google"],[c,f]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[a,[u,"Google"],[c,d]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[u,"Sony"],[c,d]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[a,"Xperia Tablet"],[u,"Sony"],[c,f]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[a,[u,"OnePlus"],[c,d]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[a,[u,"Amazon"],[c,f]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[a,/(.+)/g,"Fire Phone $1"],[u,"Amazon"],[c,d]],[/(playbook);[-\w\),; ]+(rim)/i],[a,u,[c,f]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[a,[u,"BlackBerry"],[c,d]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[a,[u,"ASUS"],[c,f]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[a,[u,"ASUS"],[c,d]],[/(nexus 9)/i],[a,[u,"HTC"],[c,f]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[u,[a,/_/g," "],[c,d]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[a,[u,"Acer"],[c,f]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[a,[u,"Meizu"],[c,d]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[a,[u,"Sharp"],[c,d]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[u,a,[c,d]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[u,a,[c,f]],[/(surface duo)/i],[a,[u,"Microsoft"],[c,f]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[a,[u,"Fairphone"],[c,d]],[/(u304aa)/i],[a,[u,"AT&T"],[c,d]],[/\bsie-(\w*)/i],[a,[u,"Siemens"],[c,d]],[/\b(rct\w+) b/i],[a,[u,"RCA"],[c,f]],[/\b(venue[\d ]{2,7}) b/i],[a,[u,"Dell"],[c,f]],[/\b(q(?:mv|ta)\w+) b/i],[a,[u,"Verizon"],[c,f]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[a,[u,"Barnes & Noble"],[c,f]],[/\b(tm\d{3}\w+) b/i],[a,[u,"NuVision"],[c,f]],[/\b(k88) b/i],[a,[u,"ZTE"],[c,f]],[/\b(nx\d{3}j) b/i],[a,[u,"ZTE"],[c,d]],[/\b(gen\d{3}) b.+49h/i],[a,[u,"Swiss"],[c,d]],[/\b(zur\d{3}) b/i],[a,[u,"Swiss"],[c,f]],[/\b((zeki)?tb.*\b) b/i],[a,[u,"Zeki"],[c,f]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[u,"Dragon Touch"],a,[c,f]],[/\b(ns-?\w{0,9}) b/i],[a,[u,"Insignia"],[c,f]],[/\b((nxa|next)-?\w{0,9}) b/i],[a,[u,"NextBook"],[c,f]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[u,"Voice"],a,[c,d]],[/\b(lvtel\-)?(v1[12]) b/i],[[u,"LvTel"],a,[c,d]],[/\b(ph-1) /i],[a,[u,"Essential"],[c,d]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[a,[u,"Envizen"],[c,f]],[/\b(trio[-\w\. ]+) b/i],[a,[u,"MachSpeed"],[c,f]],[/\btu_(1491) b/i],[a,[u,"Rotor"],[c,f]],[/(shield[\w ]+) b/i],[a,[u,"Nvidia"],[c,f]],[/(sprint) (\w+)/i],[u,a,[c,d]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[u,"Microsoft"],[c,d]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[a,[u,"Zebra"],[c,f]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[a,[u,"Zebra"],[c,d]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[u,a,[c,"console"]],[/droid.+; (shield) bui/i],[a,[u,"Nvidia"],[c,"console"]],[/(playstation [345portablevi]+)/i],[a,[u,"Sony"],[c,"console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[a,[u,"Microsoft"],[c,"console"]],[/smart-tv.+(samsung)/i],[u,[c,p]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[u,"Samsung"],[c,p]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[u,"LG"],[c,p]],[/(apple) ?tv/i],[u,[a,"Apple TV"],[c,p]],[/crkey/i],[[a,"Chromecast"],[u,"Google"],[c,p]],[/droid.+aft(\w)( bui|\))/i],[a,[u,"Amazon"],[c,p]],[/\(dtv[\);].+(aquos)/i],[a,[u,"Sharp"],[c,p]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[u,b],[a,b],[c,p]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[c,p]],[/((pebble))app/i],[u,a,[c,"wearable"]],[/droid.+; (glass) \d/i],[a,[u,"Google"],[c,"wearable"]],[/droid.+; (wt63?0{2,3})\)/i],[a,[u,"Zebra"],[c,"wearable"]],[/(quest( 2)?)/i],[a,[u,"Facebook"],[c,"wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[u,[c,"embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[a,[c,d]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[a,[c,f]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[c,f]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[c,d]],[/(android[-\w\. ]{0,9});.+buil/i],[a,[u,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[l,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[s,l],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[l,s]],os:[[/microsoft (windows) (vista|xp)/i],[s,l],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[s,[l,y,S]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[s,"Windows"],[l,y,S]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[l,/_/g,"."],[s,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[s,"Mac OS"],[l,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[l,s],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[s,l],[/\(bb(10);/i],[l,[s,"BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[l,[s,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[l,[s,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[l,[s,"webOS"]],[/crkey\/([\d\.]+)/i],[l,[s,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[s,"Chromium OS"],l],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[s,l],[/(sunos) ?([\w\.\d]*)/i],[[s,"Solaris"],l],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[s,l]]},E=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof E))return new E(e,t).getResult();var n=e||(void 0!==i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(w,t):w;return this.getBrowser=function(){var e,t={};return t[s]=void 0,t[l]=void 0,v.call(t,n,r.browser),t.major="string"==typeof(e=t.version)?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0,t},this.getCPU=function(){var e={architecture:void 0};return v.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return v.call(e,n,r.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return v.call(e,n,r.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return v.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n="string"==typeof e&&e.length>255?b(e,255):e,this},this.setUA(n),this};E.VERSION="0.7.31",E.BROWSER=h([s,l,"major"]),E.CPU=h(["architecture"]),E.DEVICE=h([a,u,c,"console",d,p,f,"wearable","embedded"]),E.ENGINE=E.OS=h([s,l]),void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=E),t.UAParser=E):n(228)?void 0===(r=function(){return E}.call(t,n,t,e))||(e.exports=r):void 0!==i&&(i.UAParser=E);var C=void 0!==i&&(i.jQuery||i.Zepto);if(C&&!C.ua){var T=new E;C.ua=T.getResult(),C.ua.get=function(){return T.getUA()},C.ua.set=function(e){T.setUA(e);var t=T.getResult();for(var n in t)C.ua[n]=t[n]}}}("object"==typeof window?window:this)},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={dirty:!1,raw:"v1.22.0-0-g39a4e73",hash:"g39a4e73",distance:0,tag:"v1.22.0",semver:{options:{loose:!1,includePrerelease:!1},loose:!1,raw:"v1.22.0",major:1,minor:22,patch:0,prerelease:[],build:[],version:"1.22.0"},suffix:"0-g39a4e73",semverString:"1.22.0"}},function(e,t,n){"use strict";var r=t;function i(){r.Reader._configure(r.BufferReader),r.util._configure()}r.build="minimal",r.Writer=n(110),r.BufferWriter=n(239),r.Reader=n(111),r.BufferReader=n(240),r.util=n(11),r.rpc=n(241),r.roots=n(243),r.configure=i,r.Writer._configure(r.BufferWriter),i()},function(e,t,n){"use strict";e.exports=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,o=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,a){n[r]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,a(e))}}))}},function(e,t,n){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var i=new Array(64),o=new Array(123),a=0;a<64;)o[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(e,t,n){for(var r,o=null,a=[],s=0,c=0;t<n;){var u=e[t++];switch(c){case 0:a[s++]=i[u>>2],r=(3&u)<<4,c=1;break;case 1:a[s++]=i[r|u>>4],r=(15&u)<<2,c=2;break;case 2:a[s++]=i[r|u>>6],a[s++]=i[63&u],c=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=i[r],a[s++]=61,1===c&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};r.decode=function(e,t,n){for(var r,i=n,a=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&a>1)break;if(void 0===(c=o[c]))throw Error("invalid encoding");switch(a){case 0:r=c,a=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,a=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,a=3;break;case 3:t[n++]=(3&r)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return n-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,n){"use strict";function r(){this._listeners={}}e.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},function(e,t,n){"use strict";function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:o,e.writeFloatBE=r?o:i,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,o=r>>>23&255,a=8388607&r;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=n.bind(null,a),e.readFloatBE=n.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:o,e.writeDoubleBE=r?o:i,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a}():function(){function t(e,t,n,r,i,o){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,i,o+t),e(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(r>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=r*Math.pow(2,-c))>>>0,i,o+t),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,i,o+n)}}}function n(e,t,n,r,i){var o=e(r,i+t),a=e(r,i+n),s=2*(a>>31)+1,c=a>>>20&2047,u=4294967296*(1048575&a)+o;return 2047===c?u?NaN:s*(1/0):0===c?5e-324*s*u:s*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=n.bind(null,a,0,4),e.readDoubleBE=n.bind(null,s,4,0)}(),e}function i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function o(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,n){"use strict";var r=t;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],a=0;t<n;)(r=e[t++])<128?o[a++]=r:r>191&&r<224?o[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},r.write=function(e,t,n){for(var r,i,o=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-o}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){if(n<1||n>i)return e(n);a+n>r&&(o=e(r),a=0);var s=t.call(o,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},function(e,t,n){"use strict";e.exports=i;var r=n(11);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},function(e,t,n){"use strict";e.exports=a;var r=n(110);(a.prototype=Object.create(r.prototype)).constructor=a;var i=n(11),o=i.Buffer;function a(){r.call(this)}a.alloc=function(e){return(a.alloc=i._Buffer_allocUnsafe)(e)};var s=o&&o.prototype instanceof Uint8Array&&"set"===o.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]};function c(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write(e,n)}a.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s,t,e),this},a.prototype.string=function(e){var t=o.byteLength(e);return this.uint32(t),t&&this._push(c,t,e),this}},function(e,t,n){"use strict";e.exports=o;var r=n(111);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(11);function o(e){r.call(this,e)}i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice),o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},function(e,t,n){"use strict";t.Service=n(242)},function(e,t,n){"use strict";e.exports=i;var r=n(11);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,n,i,o);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,n){if(e)return s.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",n,t),a(null,n)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(57),a=function(){function e(e,t){this.logger=e,this.maxInputBytes=t}return e.prototype.newController=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,(e=new o.default(this.logger,this.maxInputBytes)).init()];case 1:return t.sent(),[2,e]}}))}))},e}();t.default=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(40),c=n(3),u=n(37),l=n(39),d=n(8),f=n(0),p=n(48),h=n(79),m=n(80),g=n(81),b=n(82),v=n(83),y=n(84),S=n(85),w=n(86),E=n(87),C=n(165),T=function(){function e(e,t,n){void 0===n&&(n=new C.default),this.logger=e,this.meetingSession=t,this.configuration=n,this.browserBehavior=new c.default}return e.delay=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){return new d.default(e).start(t)}))];case 1:return t.sent(),[2]}}))}))},e.prototype.checkAudioInput=function(e){return o(this,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),[4,this.meetingSession.audioVideo.chooseAudioInputDevice(e)];case 1:return(t=r.sent())!==l.default.PermissionDeniedByBrowser&&t!==l.default.PermissionDeniedByUser?[3,2]:[2,m.default.PermissionDenied];case 2:return[4,this.meetingSession.audioVideo.chooseAudioInputDevice(null)];case 3:return r.sent(),[2,m.default.Succeeded];case 4:return[3,6];case 5:return n=r.sent(),this.logger.error("MeetingReadinessChecker: Audio input check failed with error "+n),[2,m.default.Failed];case 6:return[2]}}))}))},e.prototype.checkAudioOutput=function(e,t,n){return void 0===n&&(n=null),o(this,void 0,void 0,(function(){var r,i;return a(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,3,4]),r=e&&e.deviceId?e.deviceId:"",this.playTone(r,440,n),[4,t()];case 1:return o.sent()?[2,g.default.Succeeded]:[2,g.default.Failed];case 2:return i=o.sent(),this.logger.error("MeetingReadinessChecker: Audio output check failed with error: "+i),[2,g.default.Failed];case 3:return this.stopTone(),[7];case 4:return[2]}}))}))},e.prototype.playTone=function(e,t,n){this.oscillatorNode&&this.stopTone(),this.audioContext=u.default.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=0,this.oscillatorNode=this.audioContext.createOscillator(),this.oscillatorNode.frequency.value=t,this.oscillatorNode.connect(this.gainNode),this.destinationStream=this.audioContext.createMediaStreamDestination(),this.gainNode.connect(this.destinationStream);var r=this.audioContext.currentTime+.1;this.gainNode.gain.linearRampToValueAtTime(0,r),this.gainNode.gain.linearRampToValueAtTime(.1,r+.1),this.oscillatorNode.start();var i=new s.default;i.bindAudioDevice({deviceId:e}),i.bindAudioElement(n||new Audio),i.bindAudioStream(this.destinationStream.stream)},e.prototype.stopTone=function(){if(this.audioContext&&this.gainNode&&this.oscillatorNode&&this.destinationStream){var e=this.audioContext.currentTime;this.gainNode.gain.linearRampToValueAtTime(.1,e+.1+1),this.gainNode.gain.linearRampToValueAtTime(0,e+.2+1),this.oscillatorNode.stop(),this.oscillatorNode.disconnect(this.gainNode),this.gainNode.disconnect(this.destinationStream),this.oscillatorNode=null,this.gainNode=null,this.destinationStream=null}},e.prototype.checkVideoInput=function(e){return o(this,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),[4,this.meetingSession.audioVideo.chooseVideoInputDevice(e)];case 1:return(t=r.sent())!==l.default.PermissionDeniedByBrowser&&t!==l.default.PermissionDeniedByUser?[3,2]:[2,E.default.PermissionDenied];case 2:return[4,this.meetingSession.audioVideo.chooseVideoInputDevice(null)];case 3:return r.sent(),[2,E.default.Succeeded];case 4:return[3,6];case 5:return n=r.sent(),this.logger.error("MeetingReadinessChecker: Video check failed with error "+n),[2,E.default.Failed];case 6:return[2]}}))}))},e.prototype.checkCameraResolution=function(e,t,n){return o(this,void 0,void 0,(function(){var r,i,o;return a(this,(function(a){switch(a.label){case 0:r={video:this.calculateVideoConstraint(e,t,n)},a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,navigator.mediaDevices.getUserMedia(r)];case 2:return i=a.sent(),[3,5];case 3:return o=a.sent(),this.logger.error("MeetingReadinessChecker: Camera resolution check with width: "+t+" height "+n+" failed with error "+o),o&&"OverconstrainedError"===o.name?[2,b.default.ResolutionNotSupported]:o&&"NotAllowedError"===o.name?[2,b.default.PermissionDenied]:[2,b.default.Failed];case 4:return i&&i.getTracks().forEach((function(e){e.stop()})),[7];case 5:return[2,b.default.Succeeded]}}))}))},e.prototype.calculateVideoConstraint=function(e,t,n){var r=this.browserBehavior.requiresResolutionAlignment(t,n),i={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?(i.deviceId=e.deviceId,i.width=t,i.height=n):(i.deviceId={exact:e.deviceId},i.width={exact:r[0]},i.height={exact:r[1]}),i},e.prototype.checkContentShareConnectivity=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i,s,c=this;return a(this,(function(u){switch(u.label){case 0:t=!1,n=!1,r={contentShareDidStart:function(){t=!0}},i={audioVideoDidStart:function(){n=!0}},u.label=1;case 1:return u.trys.push([1,5,6,7]),this.meetingSession.audioVideo.addObserver(i),this.meetingSession.audioVideo.start(),this.meetingSession.audioVideo.addContentShareObserver(r),[4,this.meetingSession.audioVideo.startContentShareFromScreenCapture(e)];case 2:return u.sent(),[4,this.executeTimeoutTask((function(){return o(c,void 0,void 0,(function(){return a(this,(function(e){return[2,n&&t]}))}))}))];case 3:return u.sent(),n?[4,this.stopMeeting()]:[2,v.default.ConnectionFailed];case 4:return u.sent(),[2,t?v.default.Succeeded:v.default.TimedOut];case 5:return s=u.sent(),this.logger.error("MeetingReadinessChecker: Content share check failed with error "+s),"NotAllowedError"===s.name?[2,v.default.PermissionDenied]:[2,v.default.Failed];case 6:return this.meetingSession.audioVideo.removeObserver(i),this.meetingSession.audioVideo.stopContentShare(),this.meetingSession.audioVideo.removeContentShareObserver(r),[7];case 7:return[2]}}))}))},e.prototype.checkAudioConnectivity=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i,s,c=this;return a(this,(function(u){switch(u.label){case 0:t=!1,n=this.meetingSession.audioVideo,r=function(e,n,r,i){e===c.meetingSession.configuration.credentials.attendeeId&&n&&(t=!0)},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.chooseAudioInputDevice(e)];case 2:return(i=u.sent())===l.default.PermissionDeniedByBrowser||i===l.default.PermissionDeniedByUser?[2,h.default.AudioInputPermissionDenied]:[3,4];case 3:return s=u.sent(),this.logger.error("MeetingReadinessChecker: Failed to get audio input device with error "+s),[2,h.default.AudioInputRequestFailed];case 4:return n.realtimeSubscribeToAttendeeIdPresence(r),[4,this.startMeeting()];case 5:return u.sent()?[3,7]:(n.realtimeUnsubscribeToAttendeeIdPresence(r),[4,this.meetingSession.audioVideo.chooseAudioInputDevice(null)]);case 6:return u.sent(),[2,h.default.ConnectionFailed];case 7:return[4,this.executeTimeoutTask((function(){return o(c,void 0,void 0,(function(){return a(this,(function(e){return[2,t]}))}))}))];case 8:return u.sent(),n.realtimeUnsubscribeToAttendeeIdPresence(r),[4,this.stopMeeting()];case 9:return u.sent(),[4,this.meetingSession.audioVideo.chooseAudioInputDevice(null)];case 10:return u.sent(),[2,t?h.default.Succeeded:h.default.AudioNotReceived]}}))}))},e.prototype.checkVideoConnectivity=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i,s=this;return a(this,(function(c){switch(c.label){case 0:t=this.meetingSession.audioVideo,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,t.chooseVideoInputDevice(e)];case 2:return(n=c.sent())===l.default.PermissionDeniedByBrowser||n===l.default.PermissionDeniedByUser?[2,w.default.VideoInputPermissionDenied]:[3,4];case 3:return r=c.sent(),this.logger.error("MeetingReadinessChecker: Failed to get video input device with error "+r),[2,w.default.VideoInputRequestFailed];case 4:return[4,this.startMeeting()];case 5:return c.sent()?(i=0,t.startLocalVideoTile(),[4,this.executeTimeoutTask((function(){return o(s,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return[4,t.getRTCPeerConnectionStats()];case 1:return(e=n.sent())&&e.forEach((function(e){"outbound-rtp"===e.type&&"video"===e.mediaType&&(i=e.packetsSent)})),[2,i>0]}}))}))}))]):[2,w.default.ConnectionFailed];case 6:return c.sent(),t.stopLocalVideoTile(),[4,this.stopMeeting()];case 7:return c.sent(),i<=0?[2,w.default.VideoNotSent]:[2,w.default.Succeeded]}}))}))},e.prototype.checkNetworkUDPConnectivity=function(){return o(this,void 0,void 0,(function(){var e,t,n=this;return a(this,(function(r){switch(r.label){case 0:try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(e){return this.logger.error("MeetingSessionConfiguration.urls doesn't exist. Error: "+e),[2,S.default.MeetingSessionURLsNotInitialized]}return this.meetingSession.configuration.urls.urlRewriter=function(e){var t=n.originalURLRewriter(e);return t.includes("transport=tcp")?"":t},e=this.meetingSession.audioVideo,[4,this.startMeeting()];case 1:return r.sent()?(t=!1,[4,this.executeTimeoutTask((function(){return o(n,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return[4,e.getRTCPeerConnectionStats()];case 1:return(n=r.sent())&&n.forEach((function(e){"candidate-pair"===e.type&&"succeeded"===e.state&&(t=!0)})),[2,t]}}))}))}))]):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,[2,S.default.ConnectionFailed]);case 2:return r.sent(),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,[4,this.stopMeeting()];case 3:return r.sent(),t?[2,S.default.Succeeded]:[2,S.default.ICENegotiationFailed]}}))}))},e.prototype.checkNetworkTCPConnectivity=function(){return o(this,void 0,void 0,(function(){var e,t,n=this;return a(this,(function(r){switch(r.label){case 0:try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(e){return this.logger.error("MeetingSessionConfiguration.urls doesn't exist. Error: "+e),[2,y.default.MeetingSessionURLsNotInitialized]}return this.meetingSession.configuration.urls.urlRewriter=function(e){var t=n.originalURLRewriter(e);return t.includes("transport=udp")?"":t},e=this.meetingSession.audioVideo,[4,this.startMeeting()];case 1:return r.sent()?(t=!1,[4,this.executeTimeoutTask((function(){return o(n,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return[4,e.getRTCPeerConnectionStats()];case 1:return(n=r.sent())&&n.forEach((function(e){"candidate-pair"===e.type&&"succeeded"===e.state&&(t=!0)})),[2,t]}}))}))}))]):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,[2,y.default.ConnectionFailed]);case 2:return r.sent(),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,[4,this.stopMeeting()];case 3:return r.sent(),t?[2,y.default.Succeeded]:[2,y.default.ICENegotiationFailed]}}))}))},e.prototype.startMeeting=function(){return o(this,void 0,void 0,(function(){var e,t,n=this;return a(this,(function(r){switch(r.label){case 0:return e=!1,t={audioVideoDidStart:function(){e=!0}},this.meetingSession.audioVideo.addObserver(t),this.meetingSession.audioVideo.start(),[4,this.executeTimeoutTask((function(){return o(n,void 0,void 0,(function(){return a(this,(function(t){return[2,e]}))}))}))];case 1:return r.sent(),this.meetingSession.audioVideo.removeObserver(t),[2,e]}}))}))},e.prototype.stopMeeting=function(){return o(this,void 0,void 0,(function(){var e,t,n=this;return a(this,(function(r){switch(r.label){case 0:return e=!1,t={audioVideoDidStop:function(t){e=!0}},this.meetingSession.audioVideo.addObserver(t),this.meetingSession.audioVideo.stop(),[4,this.executeTimeoutTask((function(){return o(n,void 0,void 0,(function(){return a(this,(function(t){return[2,e]}))}))}))];case 1:return r.sent(),this.meetingSession.audioVideo.removeObserver(t),[2,e]}}))}))},e.prototype.executeTimeoutTask=function(t){return o(this,void 0,void 0,(function(){var n,r;return a(this,(function(s){switch(s.label){case 0:return n=!1,r=function(r){function s(e,t){var n=r.call(this,e)||this;return n.waitDurationMs=t,n.isCancelled=!1,n}return i(s,r),s.prototype.cancel=function(){this.isCancelled=!0},s.prototype.run=function(){return o(this,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return this.isCancelled?[3,3]:[4,t()];case 1:return r.sent()?(n=!0,[3,3]):[4,e.delay(this.waitDurationMs)];case 2:return r.sent(),[3,0];case 3:return[2]}}))}))},s}(f.default),[4,new p.default(this.logger,new r(this.logger,this.configuration.waitDurationMs),this.configuration.timeoutMs).run()];case 1:return s.sent(),[2,n]}}))}))},e}();t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(41),i=n(157),o=n(23),a=n(3),s=n(93),c=n(158),u=n(58),l=n(166),d=n(179),f=n(72),p=function(){function e(t,n,a){this._configuration=t,this._logger=n,this.checkBrowserSupportAndFeatureConfiguration(),this._deviceController=a,this._deviceController.enableWebAudio(t.enableWebAudio),this.audioVideoController=new r.default(this._configuration,this._logger,new f.default(this._logger),a,new u.default(e.RECONNECT_TIMEOUT_MS,new o.default(e.RECONNECT_FIXED_WAIT_MS,e.RECONNECT_SHORT_BACKOFF_MS,e.RECONNECT_LONG_BACKOFF_MS))),a.bindToAudioVideoController(this.audioVideoController),this.screenShareFacade=new l.default(this._configuration,this._logger,a),this.screenShareViewFacade=new d.default(this._configuration,this._logger);var p=new s.default(this._logger);this.contentShareController=new c.default(p,new r.default(c.default.createContentShareMeetingSessionConfigure(this._configuration),this._logger,new f.default(this._logger),p,new u.default(e.RECONNECT_TIMEOUT_MS,new o.default(e.RECONNECT_FIXED_WAIT_MS,e.RECONNECT_SHORT_BACKOFF_MS,e.RECONNECT_LONG_BACKOFF_MS))),this.audioVideoController),this.audioVideoFacade=new i.default(this.audioVideoController,this.audioVideoController.videoTileController,this.audioVideoController.realtimeController,this.audioVideoController.audioMixController,this._deviceController,this.contentShareController)}return Object.defineProperty(e.prototype,"configuration",{get:function(){return this._configuration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"audioVideo",{get:function(){return this.audioVideoFacade},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contentShare",{get:function(){return this.contentShareController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenShare",{get:function(){return this.screenShareFacade},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenShareView",{get:function(){return this.screenShareViewFacade},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceController",{get:function(){return this._deviceController},enumerable:!1,configurable:!0}),e.prototype.checkBrowserSupportAndFeatureConfiguration=function(){var e=new a.default,t=e.name()+" "+e.majorVersion()+" ("+e.version()+")";this.logger.info("browser is "+t),e.isSupported()||this.logger.warn("this browser is not currently supported. Stability may suffer. Supported browsers are: "+e.supportString()+"."),this._configuration.enableUnifiedPlanForChromiumBasedBrowsers&&(e.hasChromiumWebRTC()?this.logger.info("WebRTC unified plan for Chromium-based browsers is enabled"):this.logger.info("WebRTC unified plan is required for "+e.name())),this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(this._configuration.enableUnifiedPlanForChromiumBasedBrowsers?e.hasChromiumWebRTC()?this.logger.info("Simulcast is enabled for "+e.name()):(this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.logger.info("Simulcast requires WebRTC Unified Plan and is only supported on Chromium-based browsers")):(this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.logger.info("Simulcast requires enabling WebRTC Unified Plan for Chromium-based browsers")))},e.RECONNECT_TIMEOUT_MS=12e4,e.RECONNECT_FIXED_WAIT_MS=0,e.RECONNECT_SHORT_BACKOFF_MS=1e3,e.RECONNECT_LONG_BACKOFF_MS=5e3,e}();t.default=p},function(e,t,n){"use strict";var r=n(109),i=r.Reader,o=r.Writer,a=r.util,s=r.roots.default||(r.roots.default={});s.SdkScreenSignalingMessage=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.attendeeId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&t.uint32(10).string(e.attendeeId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.SdkScreenSignalingMessage;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.attendeeId=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&!a.isString(e.attendeeId)?"attendeeId: string expected":null},e.fromObject=function(e){if(e instanceof s.SdkScreenSignalingMessage)return e;var t=new s.SdkScreenSignalingMessage;return null!=e.attendeeId&&(t.attendeeId=String(e.attendeeId)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.attendeeId=""),null!=e.attendeeId&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(249),i=n(250),o=[],a=function(){function e(e){this.$$observationTargets=[],this.$$activeTargets=[],this.$$skippedTargets=[];var t=function(e){if(void 0===e)return"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.";if("function"!=typeof e)return"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function."}(e);if(t)throw TypeError(t);this.$$callback=e}return e.prototype.observe=function(e){var t,n=c("observe",e);if(n)throw TypeError(n);u(this.$$observationTargets,e)>=0||(this.$$observationTargets.push(new r.ResizeObservation(e)),t=this,o.indexOf(t)<0&&(o.push(t),m()))},e.prototype.unobserve=function(e){var t=c("unobserve",e);if(t)throw TypeError(t);var n=u(this.$$observationTargets,e);n<0||(this.$$observationTargets.splice(n,1),0===this.$$observationTargets.length&&s(this))},e.prototype.disconnect=function(){this.$$observationTargets=[],this.$$activeTargets=[],s(this)},e}();function s(e){var t=o.indexOf(e);t>=0&&(o.splice(t,1),b())}function c(e,t){return void 0===t?"Failed to execute '"+e+"' on 'ResizeObserver': 1 argument required, but only 0 present.":t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.Element?void 0:"Failed to execute '"+e+"' on 'ResizeObserver': parameter 1 is not of type 'Element'."}function u(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1}t.ResizeObserver=a;var l,d=function(e){o.forEach((function(t){t.$$activeTargets=[],t.$$skippedTargets=[],t.$$observationTargets.forEach((function(n){n.isActive()&&(p(n.target)>e?t.$$activeTargets.push(n):t.$$skippedTargets.push(n))}))}))},f=function(){var e=1/0;return o.forEach((function(t){if(t.$$activeTargets.length){var n=[];t.$$activeTargets.forEach((function(t){var r=new i.ResizeObserverEntry(t.target);n.push(r),t.$$broadcastWidth=r.contentRect.width,t.$$broadcastHeight=r.contentRect.height;var o=p(t.target);o<e&&(e=o)})),t.$$callback(n,t),t.$$activeTargets=[]}})),e},p=function(e){for(var t=0;e.parentNode;)e=e.parentNode,t+=1;return t},h=function(){var e,t=0;for(d(t);o.some((function(e){return!!e.$$activeTargets.length}));)t=f(),d(t);o.some((function(e){return!!e.$$skippedTargets.length}))&&(e=new window.ErrorEvent("ResizeLoopError",{message:"ResizeObserver loop completed with undelivered notifications."}),window.dispatchEvent(e))},m=function(){l||g()},g=function(){l=window.requestAnimationFrame((function(){h(),g()}))},b=function(){l&&!o.some((function(e){return!!e.$$observationTargets.length}))&&(window.cancelAnimationFrame(l),l=void 0)};t.install=function(){return window.ResizeObserver=a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(181),i=function(){function e(e){this.target=e,this.$$broadcastWidth=this.$$broadcastHeight=0}return Object.defineProperty(e.prototype,"broadcastWidth",{get:function(){return this.$$broadcastWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"broadcastHeight",{get:function(){return this.$$broadcastHeight},enumerable:!0,configurable:!0}),e.prototype.isActive=function(){var e=r.ContentRect(this.target);return!!e&&(e.width!==this.broadcastWidth||e.height!==this.broadcastHeight)},e}();t.ResizeObservation=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(181),i=function(e){this.target=e,this.contentRect=r.ContentRect(e)};t.ResizeObserverEntry=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){var r=e.call(this,n)||this;return r.defaultJPEGDecoderController=t,r.logger=n,r}return i(t,e),t.prototype.run=function(){return this.defaultJPEGDecoderController.init()},t}(n(0).default);t.default=o},function(e,t,n){"use strict";(function(e){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=n(10),s=n(200),c=function(){function t(t,n,r,i,s,c){var u=this;void 0===c&&(c=o.default.WARN),this.name=t,this.configuration=n,this.batchSize=r,this.intervalMs=i,this.url=s,this.level=c,this.logCapture=[],this.sequenceNumber=0,this.lock=!1,this.intervalScheduler=new a.default(this.intervalMs),this.startLogPublishScheduler(this.batchSize),e.window.addEventListener&&window.addEventListener("unload",(function(){u.stop()}))}return t.prototype.debug=function(e){o.default.DEBUG<this.level||this.log(o.default.DEBUG,e())},t.prototype.info=function(e){this.log(o.default.INFO,e)},t.prototype.warn=function(e){this.log(o.default.WARN,e)},t.prototype.error=function(e){this.log(o.default.ERROR,e)},t.prototype.setLogLevel=function(e){this.level=e},t.prototype.getLogLevel=function(){return this.level},t.prototype.getLogCaptureSize=function(){return this.logCapture.length},t.prototype.startLogPublishScheduler=function(e){var t=this;this.intervalScheduler.start((function(){return r(t,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:if(!0===this.lock||0===this.getLogCaptureSize())return[2];this.lock=!0,t=this.logCapture.slice(0,e),n=this.makeRequestBody(t),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,fetch(this.url,{method:"POST",body:n})];case 2:return 200===i.sent().status&&(this.logCapture=this.logCapture.slice(t.length)),[3,5];case 3:return r=i.sent(),console.warn("[MeetingSessionPOSTLogger] "+r.message),[3,5];case 4:return this.lock=!1,[7];case 5:return[2]}}))}))}))},t.prototype.stop=function(){this.intervalScheduler.stop();var e=this.makeRequestBody(this.logCapture);navigator.sendBeacon(this.url,e)},t.prototype.makeRequestBody=function(e){return JSON.stringify({meetingId:this.configuration.meetingId,attendeeId:this.configuration.credentials.attendeeId,appName:this.name,logs:e})},t.prototype.log=function(e,t){if(!(e<this.level)){var n=new Date;this.logCapture.push(new s.default(this.sequenceNumber,t,n.getTime(),o.default[e])),this.sequenceNumber+=1}},t}();t.default=c}).call(this,n(9))},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),o=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._loggers=e}return e.prototype.info=function(e){var t,n;try{for(var i=r(this._loggers),o=i.next();!o.done;o=i.next()){o.value.info(e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.warn=function(e){var t,n;try{for(var i=r(this._loggers),o=i.next();!o.done;o=i.next()){o.value.warn(e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.error=function(e){var t,n;try{for(var i=r(this._loggers),o=i.next();!o.done;o=i.next()){o.value.error(e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.debug=function(e){var t,n,i,o="string"==typeof e?e:function(){return i||(i=e()),i};try{for(var a=r(this._loggers),s=a.next();!s.done;s=a.next()){s.value.debug(o)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e.prototype.setLogLevel=function(e){var t,n;try{for(var i=r(this._loggers),o=i.next();!o.done;o=i.next()){o.value.setLogLevel(e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.getLogLevel=function(){var e,t;try{for(var n=r(this._loggers),o=n.next();!o.done;o=n.next()){return o.value.getLogLevel()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return i.default.OFF},e}();t.default=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),a=n(201),s=n(73),c=n(54),u=n(30),l=n(55),d=n(58),f=n(72),p=function(e){function t(t){var n=new c.default;return n.meetingId="",n.externalMeetingId="",n.credentials=new u.default,n.credentials.attendeeId="",n.credentials.joinToken="",n.urls=new l.default,n.urls.turnControlURL="",n.urls.audioHostURL="",n.urls.screenViewingURL="",n.urls.screenDataURL="",n.urls.screenSharingURL="wss://localhost/",n.urls.signalingURL="wss://localhost/",e.call(this,t||n,new a.default,new f.default(new a.default),new s.default,new d.default(0,new o.default(0,0,0)))||this}return i(t,e),t.prototype.start=function(){},t.prototype.stop=function(){},t}(n(41).default);t.default=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.listAudioInputDevices=function(){return Promise.resolve([])},t.prototype.listVideoInputDevices=function(){return Promise.resolve([])},t.prototype.listAudioOutputDevices=function(){return Promise.resolve([])},t.prototype.chooseAudioInputDevice=function(e){return Promise.reject()},t.prototype.chooseVideoInputDevice=function(e){return Promise.reject()},t.prototype.chooseAudioOutputDevice=function(e){return Promise.reject()},t.prototype.addDeviceChangeObserver=function(e){},t.prototype.removeDeviceChangeObserver=function(e){},t.prototype.createAnalyserNodeForAudioInput=function(){return null},t.prototype.startVideoPreviewForVideoInput=function(e){},t.prototype.stopVideoPreviewForVideoInput=function(e){},t.prototype.setDeviceLabelTrigger=function(e){},t.prototype.mixIntoAudioInput=function(e){return null},t.prototype.chooseVideoInputQuality=function(e,t,n,r){},t.prototype.getVideoInputQualitySettings=function(){return null},t.prototype.enableWebAudio=function(e){},t}(n(73).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.cancel=function(){},e.prototype.name=function(){return"NoOpTask"},e.prototype.run=function(){},e.prototype.setParent=function(e){},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.create=function(){return{clientWidth:400,clientHeight:300,width:400,height:300,videoWidth:400,videoHeight:300,style:{transform:""},hasAttribute:function(){return!1},removeAttribute:function(){},setAttribute:function(){},srcObject:!1,pause:function(){}}},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=function(){function e(){}return e.prototype.reset=function(){},e.prototype.updateIndex=function(e){},e.prototype.updateMetrics=function(e){},e.prototype.wantsResubscribe=function(){return!1},e.prototype.chooseSubscriptions=function(){return new r.default},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),i=function(){function e(){}return e.prototype.updateConnectionMetric=function(e){},e.prototype.chooseMediaTrackConstraints=function(){return{}},e.prototype.chooseEncodingParameters=function(){return new Map},e.prototype.updateIndex=function(e){},e.prototype.wantsResubscribe=function(){return!1},e.prototype.chooseCaptureAndEncodeParameters=function(){return new r.default(0,0,0,0,!1)},e.prototype.maxBandwidthKbps=function(){return 0},e.prototype.setIdealMaxBandwidthKbps=function(e){},e.prototype.setHasBandwidthPriority=function(e){},e}();t.default=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,n,r){var i=e.call(this,r)||this;return i.signalingSession=t,i.connectionRequest=n,i.logger=r,i.taskName="OpenScreenSignalingSessionTask",i}return i(t,e),t.prototype.run=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){return this.logger.info("OpenScreenSignalingSessionTask: Opening connection"),[2,this.signalingSession.open(this.connectionRequest).then((function(){}))]}))}))},t}(n(0).default);t.default=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,n,r){var i=e.call(this,r)||this;return i.client=t,i.connectionRequest=n,i.logger=r,i.taskName="OpenScreenViewingConnectionTask",i}return i(t,e),t.prototype.run=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){return this.logger.info("OpenScreenViewingConnectionTask: Opening connection"),[2,this.client.openConnection(this.connectionRequest).then((function(){}))]}))}))},t}(n(0).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){this.attendeeIndex=null,this.attendeesInFrame=null};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(64),i=function(){function e(){this.memo=null}return e.prototype.screenShareStreamingFactory=function(){return this.memo=this.memo||new r.default,this.memo},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){};t.default=r},function(e,t,n){"use strict";var r=n(25);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(203)),o=r(n(266)),a=r(n(267)),s={},c=function e(t){return Object.keys(t).forEach((function(n){return t[n]&&"object"===(0,i.default)(t[n])&&e(t[n])||void 0===t[n]&&delete t[n]})),t};s.newClient=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},n=(e=Object.assign({accessKey:"",secretKey:"",sessionToken:"",region:"",apiKey:"",invokeUrl:"",service:"execute-api",defaultContentType:"application/json",defaultAcceptType:"application/json",systemClockOffset:0,headers:{},host:void 0},c(e))).invokeUrl;if(!n)throw new Error("invokeUrl must be specified!");var r=/(^https?:\/\/[^/]+)/g.exec(n)[1],i=n.substring(r.length),s={accessKey:e.accessKey,secretKey:e.secretKey,sessionToken:e.sessionToken,serviceName:e.service,region:e.region,endpoint:r,defaultContentType:e.defaultContentType,defaultAcceptType:e.defaultAcceptType,systemClockOffset:e.systemClockOffset,retries:e.retries,retryCondition:e.retryCondition,retryDelay:e.retryDelay,host:e.host},u="NONE";void 0!==s.accessKey&&""!==s.accessKey&&void 0!==s.secretKey&&""!==s.secretKey&&(u="AWS_IAM");var l={endpoint:r,defaultContentType:e.defaultContentType,defaultAcceptType:e.defaultAcceptType,retries:e.retries,retryCondition:e.retryCondition,retryDelay:e.retryDelay,headers:e.headers},d=a.default.newClient(l,s);return t.invokeApi=function(t,n,r,a,s){void 0===a&&(a={}),void 0===s&&(s="");var c={verb:r.toUpperCase(),path:i+o.default.parse(n).expand(t),headers:a.headers||{},timeout:a.timeout||0,queryParams:a.queryParams,body:s};return d.makeRequest(c,u,a,e.apiKey)},t};var u=s;t.default=u},function(e,t,n){e.exports=function(){function e(){}return e.prototype.encodeReserved=function(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map((function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e})).join("")},e.prototype.encodeUnreserved=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))},e.prototype.encodeValue=function(e,t,n){return t="+"===e||"#"===e?this.encodeReserved(t):this.encodeUnreserved(t),n?this.encodeUnreserved(n)+"="+t:t},e.prototype.isDefined=function(e){return null!=e},e.prototype.isKeyOperator=function(e){return";"===e||"&"===e||"?"===e},e.prototype.getValues=function(e,t,n,r){var i=e[n],o=[];if(this.isDefined(i)&&""!==i)if("string"==typeof i||"number"==typeof i||"boolean"==typeof i)i=i.toString(),r&&"*"!==r&&(i=i.substring(0,parseInt(r,10))),o.push(this.encodeValue(t,i,this.isKeyOperator(t)?n:null));else if("*"===r)Array.isArray(i)?i.filter(this.isDefined).forEach((function(e){o.push(this.encodeValue(t,e,this.isKeyOperator(t)?n:null))}),this):Object.keys(i).forEach((function(e){this.isDefined(i[e])&&o.push(this.encodeValue(t,i[e],e))}),this);else{var a=[];Array.isArray(i)?i.filter(this.isDefined).forEach((function(e){a.push(this.encodeValue(t,e))}),this):Object.keys(i).forEach((function(e){this.isDefined(i[e])&&(a.push(this.encodeUnreserved(e)),a.push(this.encodeValue(t,i[e].toString())))}),this),this.isKeyOperator(t)?o.push(this.encodeUnreserved(n)+"="+a.join(",")):0!==a.length&&o.push(a.join(","))}else";"===t?this.isDefined(i)&&o.push(this.encodeUnreserved(n)):""!==i||"&"!==t&&"?"!==t?""===i&&o.push(""):o.push(this.encodeUnreserved(n)+"=");return o},e.prototype.parse=function(e){var t=this,n=["+","#",".","/",";","?","&"];return{expand:function(r){return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,(function(e,i,o){if(i){var a=null,s=[];if(-1!==n.indexOf(i.charAt(0))&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach((function(e){var n=/([^:\*]*)(?::(\d+)|(\*))?/.exec(e);s.push.apply(s,t.getValues(r,a,n[1],n[2]||n[3]))})),a&&"+"!==a){var c=",";return"?"===a?c="&":"#"!==a&&(c=a),(0!==s.length?a:"")+s.join(c)}return s.join(",")}return t.encodeReserved(o)}))}}},new e}()},function(e,t,n){"use strict";var r=n(25);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(74)),o=r(n(272)),a=r(n(302)),s={newClient:function(e,t){var n={},r=o.default.newClient(t),s=a.default.newClient(e);return n.makeRequest=function(e,t,n,o){var a=s;return void 0!==o&&""!==o&&null!==o&&(e.headers["x-api-key"]=o),void 0!==e.body&&""!==e.body&&null!==e.body&&0!==Object.keys(e.body).length||(e.body=void 0),e.headers=i.default.mergeInto(e.headers,n.headers),e.queryParams=i.default.mergeInto(e.queryParams,n.queryParams),e.timeout=i.default.mergeInto(e.timeout,n.timeout),"AWS_IAM"===t&&(a=r),a.makeRequest(e)},n}},c=s;t.default=c},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(269),i=n(270),o=n(271);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var d=!0,f=0;f<c;f++)if(u(e,o+f)!==u(t,f)){d=!1;break}if(d)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function S(e,t,n,r){return q(B(t,e.length-n),e,n,r)}function w(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return w(e,t,n,r)}function C(e,t,n,r){return q(V(t),e,n,r)}function T(e,t,n,r){return q(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function _(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,c,u=e[i],l=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=n)switch(d){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=e.slice(t,n),d=0;d<s;++d)if(u[d]!==l[d]){o=u[d],a=l[d];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=j(e[o]);return i}function x(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:B(new c(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(9))},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=u}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r=n(25);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(204)),o=r(n(205)),a=r(n(214)),s=r(n(215)),c=r(n(292)),u=r(n(293)),l=r(n(295)),d=r(n(74));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={};h.newClient=function(e){function t(e){return(0,s.default)(e)}function n(e){return e.toString(c.default)}function r(e,t){return(0,u.default)(t,e,{asBytes:!0})}function i(e,r,i,o,a){return e+"\n"+(encodeURI(r)+"\n")+f(i)+"\n"+function(e){var t="",n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(r);n.sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}));for(var i=0;i<n.length;i++)t+=n[i].toLowerCase()+":"+e[n[i]]+"\n";return t}(o)+"\n"+h(o)+"\n"+n(t(a))}function f(e){if(Object.keys(e).length<1)return"";var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);t.sort();for(var r,i="",o=0;o<t.length;o++)i+=t[o]+"="+(r=e[t[o]],encodeURIComponent(r).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))+"&");return i.substr(0,i.length-1)}function h(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n.toLowerCase());return t.sort(),t.join(";")}var m={};return void 0===e.accessKey||void 0===e.secretKey||(m.accessKey=d.default.assertDefined(e.accessKey,"accessKey"),m.secretKey=d.default.assertDefined(e.secretKey,"secretKey"),m.sessionToken=e.sessionToken,m.serviceName=d.default.assertDefined(e.serviceName,"serviceName"),m.region=d.default.assertDefined(e.region,"region"),m.endpoint=d.default.assertDefined(e.endpoint,"endpoint"),m.retries=e.retries,m.retryCondition=e.retryCondition,m.retryDelay=e.retryDelay,m.host=e.host,m.makeRequest=function(s){var c=d.default.assertDefined(s.verb,"verb"),u=d.default.assertDefined(s.path,"path"),g=d.default.copy(s.queryParams),b=d.default.copy(s.timeout);void 0===g&&(g={}),void 0===b&&(b=0);var v=d.default.copy(s.headers);void 0===v&&(v={}),void 0===v["Content-Type"]&&(v["Content-Type"]=e.defaultContentType),void 0===v.Accept&&(v.Accept=e.defaultAcceptType);var y=d.default.copy(s.body);y&&v["Content-Type"]&&"application/json"===v["Content-Type"]&&(y=JSON.stringify(y)),""!==y&&null!=y||delete v["Content-Type"];var S=new Date((new Date).getTime()+e.systemClockOffset).toISOString().replace(/\.\d{3}Z$/,"Z").replace(/[:-]|\.\d{3}/g,"");if(v["x-amz-date"]=S,m.host)v.host=m.host;else{var w=l.default.parse(m.endpoint);v.host=w.hostname}var E=function(e){return n(t(e))}(i(c,u,g,v,y)),C=function(e,t,n){return e.substr(0,8)+"/"+t+"/"+n+"/aws4_request"}(S,m.region,m.serviceName),T=function(e,t,n){return"AWS4-HMAC-SHA256\n"+e+"\n"+t+"\n"+n}(S,C,E),_=function(e,t){return n(r(e,t))}(function(e,t,n,i){return r(r(r(r("AWS4"+e,t.substr(0,8)),n),i),"aws4_request")}(m.secretKey,S,m.region,m.serviceName),T);v.Authorization=function(e,t,n,r){return"AWS4-HMAC-SHA256 Credential="+e+"/"+t+", SignedHeaders="+h(n)+", Signature="+r}(m.accessKey,C,v,_),void 0!==m.sessionToken&&""!==m.sessionToken&&(v["x-amz-security-token"]=m.sessionToken),delete v.host;var I=e.endpoint+u,k=f(g);""!==k&&(I+="?"+k),void 0===v["Content-Type"]&&(v["Content-Type"]=e.defaultContentType);var A={headers:v,timeout:b,data:y,method:c,url:I};if(void 0!==e.retries){A.baseURL=I;var O=o.default.create(A),x=function(){return 0};return"exponential"===e.retryDelay?x=a.default.exponentialDelay:"number"==typeof e.retryDelay?x=function(){return parseInt(e.retryDelay)}:"function"==typeof e.retryDelay&&(x=e.retryDelay),(0,a.default)(O,p(p({},e),{},{retryCondition:e.retryCondition,retryDelay:x})),O.request(A)}return(0,o.default)(A)}),m};var m=h;t.default=m},function(e,t,n){"use strict";var r=n(5),i=n(206),o=n(274),a=n(212);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var c=s(n(75));c.Axios=o,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=n(213),c.CancelToken=n(288),c.isCancel=n(211),c.all=function(e){return Promise.all(e)},c.spread=n(289),c.isAxiosError=n(290),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";var r=n(5),i=n(207),o=n(275),a=n(276),s=n(212),c=n(286),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var l=[a,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(o),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var d=e;n.length;){var f=n.shift(),p=n.shift();try{d=f(d)}catch(e){p(e);break}}try{i=a(d)}catch(e){return Promise.reject(e)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},function(e,t,n){"use strict";var r=n(5);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(5),i=n(277),o=n(211),a=n(75);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(5),i=n(75);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},function(e,t,n){"use strict";var r=n(5);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(210);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(5);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(282),i=n(283);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(5),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(5);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(287),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={},a=r.version.split(".");function s(e,t){for(var n=t?t.split("."):a,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}i.transitional=function(e,t,n){var i=t&&s(t);function a(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(a(r," has been removed in "+t));return i&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],c=void 0===s||a(s,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},function(e){e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(e,t,n){"use strict";var r=n(213);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},function(e,t){},function(e,t,n){var r;e.exports=(r=n(32),r.enc.Hex)},function(e,t,n){var r;e.exports=(r=n(32),n(215),n(294),r.HmacSHA256)},function(e,t,n){var r,i,o,a;e.exports=(r=n(32),o=(i=r).lib.Base,a=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=a.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),o=this._iKey=t.clone(),s=i.words,c=o.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},function(e,t,n){"use strict";var r=n(296),i=n(298);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=y(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),d=["%","/","?",";","#"].concat(l),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(299);function y(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var y=e=u.join(s);if(y=y.trim(),!n&&1===e.split("#").length){var S=c.exec(y);if(S)return this.path=y,this.href=y,this.pathname=S[1],S[2]?(this.search=S[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(y);if(w){var E=(w=w[0]).toLowerCase();this.protocol=E,y=y.substr(w.length)}if(n||w||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===y.substr(0,2);!C||w&&g[w]||(y=y.substr(2),this.slashes=!0)}if(!g[w]&&(C||w&&!b[w])){for(var T,_,I=-1,k=0;k<f.length;k++){-1!==(A=y.indexOf(f[k]))&&(-1===I||A<I)&&(I=A)}-1!==(_=-1===I?y.lastIndexOf("@"):y.lastIndexOf("@",I))&&(T=y.slice(0,_),y=y.slice(_+1),this.auth=decodeURIComponent(T)),I=-1;for(k=0;k<d.length;k++){var A;-1!==(A=y.indexOf(d[k]))&&(-1===I||A<I)&&(I=A)}-1===I&&(I=y.length),this.host=y.slice(0,I),y=y.slice(I),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var x=this.hostname.split(/\./),R=(k=0,x.length);k<R;k++){var P=x[k];if(P&&!P.match(p)){for(var M="",D=0,N=P.length;D<N;D++)P.charCodeAt(D)>127?M+="x":M+=P[D];if(!M.match(p)){var L=x.slice(0,k),U=x.slice(k+1),F=P.match(h);F&&(L.push(F[1]),U.unshift(F[2])),U.length&&(y="/"+U.join(".")+y),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+j,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!m[E])for(k=0,R=l.length;k<R;k++){var V=l[k];if(-1!==y.indexOf(V)){var q=encodeURIComponent(V);q===V&&(q=escape(V)),y=y.split(V).join(q)}}var H=y.indexOf("#");-1!==H&&(this.hash=y.substr(H),y=y.slice(0,H));var W=y.indexOf("?");if(-1!==W?(this.search=y.substr(W),this.query=y.substr(W+1),t&&(this.query=v.parse(this.query)),y=y.slice(0,W)):t&&(this.search="",this.query={}),y&&(this.pathname=y),b[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var z=this.search||"";this.path=j+z}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=v.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||b[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return b[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!b[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var p=d[f];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),S=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=S||y||n.host&&e.pathname,E=w,C=n.pathname&&n.pathname.split("/")||[],T=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!b[n.protocol]);if(T&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),w=w&&(""===h[0]||""===C[0])),S)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=h;else if(h.length)C||(C=[]),C.pop(),C=C.concat(h),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(T)n.hostname=n.host=C.shift(),(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!C.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=C.slice(-1)[0],I=(n.host||e.host||C.length>1)&&("."===_||".."===_)||""===_,k=0,A=C.length;A>=0;A--)"."===(_=C[A])?C.splice(A,1):".."===_?(C.splice(A,1),k++):k&&(C.splice(A,1),k--);if(!w&&!E)for(;k--;k)C.unshift("..");!w||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),I&&"/"!==C.join("/").substr(-1)&&C.push("");var O,x=""===C[0]||C[0]&&"/"===C[0].charAt(0);T&&(n.hostname=n.host=x?"":C.length?C.shift():"",(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift()));return(w=w||n.host&&C.length)&&!x&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,c=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function m(e){throw new RangeError(f[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function b(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(d,".")).split("."),t).join(".")}function v(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function y(e){return g(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function S(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=36)e=p(e/35);return p(r+36*e/(e+38))}function E(e){var t,n,r,i,o,a,s,u,l,d,f,h=[],g=e.length,b=0,v=128,S=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),h.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=b,a=1,s=36;i>=g&&m("invalid-input"),((u=(f=e.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||u>p((c-b)/a))&&m("overflow"),b+=u*a,!(u<(l=s<=S?1:s>=S+26?26:s-S));s+=36)a>p(c/(d=36-l))&&m("overflow"),a*=d;S=w(b-o,t=h.length+1,0==o),p(b/t)>c-v&&m("overflow"),v+=p(b/t),b%=t,h.splice(b++,0,v)}return y(h)}function C(e){var t,n,r,i,o,a,s,u,l,d,f,g,b,y,E,C=[];for(g=(e=v(e)).length,t=128,n=0,o=72,a=0;a<g;++a)(f=e[a])<128&&C.push(h(f));for(r=i=C.length,i&&C.push("-");r<g;){for(s=c,a=0;a<g;++a)(f=e[a])>=t&&f<s&&(s=f);for(s-t>p((c-n)/(b=r+1))&&m("overflow"),n+=(s-t)*b,t=s,a=0;a<g;++a)if((f=e[a])<t&&++n>c&&m("overflow"),f==t){for(u=n,l=36;!(u<(d=l<=o?1:l>=o+26?26:l-o));l+=36)E=u-d,y=36-d,C.push(h(S(d+E%y,0))),u=p(E/y);C.push(h(S(u,0))),o=w(n,b,r==i),n=0,++r}++n,++t}return C.join("")}s={version:"1.4.1",ucs2:{decode:v,encode:y},decode:E,encode:C,toASCII:function(e){return b(e,(function(e){return l.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return b(e,(function(e){return u.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(297)(e),n(9))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(300),t.encode=t.stringify=n(301)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var d,f,p,h,m=e[l].replace(s,"%20"),g=m.indexOf(n);g>=0?(d=m.substr(0,g),f=m.substr(g+1)):(d=m,f=""),p=decodeURIComponent(d),h=decodeURIComponent(f),r(a,p)?i(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";var r=n(25);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(204)),o=r(n(205)),a=r(n(214)),s=r(n(74));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={};l.newClient=function(e){var t={};return t.endpoint=s.default.assertDefined(e.endpoint,"endpoint"),t.makeRequest=function(t){var n=s.default.assertDefined(t.verb,"verb"),r=s.default.assertDefined(t.path,"path"),i=s.default.copy(t.queryParams),c=s.default.copy(t.timeout);void 0===i&&(i={}),void 0===c&&(c=0);var l=u(u({},s.default.copy(t.headers)),e.headers);void 0===l["Content-Type"]&&(l["Content-Type"]=e.defaultContentType),void 0===l.Accept&&(l.Accept=e.defaultAcceptType);var d=s.default.copy(t.body),f=e.endpoint+r,p=function(e){if(Object.keys(e).length<1)return"";var t="";for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&");return t.substr(0,t.length-1)}(i);""!==p&&(f+="?"+p);var h={headers:l,timeout:c,data:d,method:n,url:f};if(void 0!==e.retries){h.baseURL=f;var m=o.default.create(h),g=function(){return 0};return"exponential"===e.retryDelay?g=a.default.exponentialDelay:"number"==typeof e.retryDelay?g=function(){return parseInt(e.retryDelay)}:"function"==typeof e.retryDelay&&(g=e.retryDelay),(0,a.default)(m,u(u({},e),{},{retryCondition:"function"==typeof e.retryCondition?e.retryCondition:a.default.isNetworkOrIdempotentRequestError,retryDelay:g})),m.request(h)}return(0,o.default)(h)},t};var d=l;t.default=d},function(e,t,n){"use strict";n.r(t);n(217),n(218),n(219);var r=n(16),i=n(17);const o="https://"+i.hlc302Customer.InstanceId+".my.connect.aws/connect/ccp-v2/chat",a=i.hlc302Agent.Region;var s={invokeUrl:i.hlc302Agent.AgentRestApiEndpoint6FFF7D2B,accessKey:i.hlc302Agent.ChimeDemoUserAccessKey,secretKey:i.hlc302Agent.ChimeDemoUserSecretKey,region:a};const c=n(265).default.newClient(s);function u(e){return document.getElementsByClassName(e)[0]}function l(e){const t=u(e);t.style.display="block",t.setAttribute("show","true")}function d(e){const t=u(e);t.style.display="none",t.setAttribute("show","false")}async function f(e){if(e){const t={},n="/meeting",r="DELETE",i={queryParams:{meetingId:e.Meeting.MeetingId}},o={};"meeting deleted successfully"==(await c.invokeApi(t,n,r,i,o)).data?(l("alert-agent-end-meeting"),setTimeout((function(){d("alert-agent-end-meeting")}),5e3)):console.log("In endMeeting meetingDelete Error:",err)}}let p=null,h=null,m=null,g=null,b=null,v=null;async function y(e){const t=e.target;"Join Video"===t.innerHTML?(null==b&&await async function(){const e=new r.ConsoleLogger("SDK",r.LogLevel.OFF);b=new r.DefaultMeetingSession(new r.MeetingSessionConfiguration(m,p),e,new r.DefaultDeviceController(e)),b.audioVideo.addObserver(g);const t=(await b.audioVideo.listAudioInputDevices())[0].deviceId;await b.audioVideo.chooseAudioInputDevice(t);const n=(await b.audioVideo.listVideoInputDevices())[0].deviceId;await b.audioVideo.chooseVideoInputDevice(n),b.audioVideo.bindAudioElement(u("help-desk-audio")),b.audioVideo.start()}(),l("agent-view"),t.innerHTML="Hide Video"):"Hide Video"===t.innerHTML&&(d("agent-view"),t.innerHTML="Join Video")}function S(e){console.log("Agent connected:",e),window.agent=e}function w(e){e.onAccepted(E(e)),e.onEnded(async function(e){e?console.log("[contact.onEnded] Contact has ended."):console.log("[contact.onEnded] Contact has ended. Null contact passed to event handler");await f(m),T()}(e))}window.contact=window.contact||{},window.connect=window.connect||{},window.agent=window.agent||{},window.addEventListener("load",()=>{!function(){const e=document.getElementById("agent-chat-window");connect.core.initCCP(e,{ccpUrl:o,region:a}),window.connect=connect,connect.agent(S),connect.contact(w)}(),function(){null==b&&d("btn-toggle-video");u("btn-toggle-video").addEventListener("click",y);u("btn-end-meeting").addEventListener("click",_)}()});const E=e=>async({contactId:t})=>{v=await async function(){return(await c.invokeApi({},"/meeting","POST",{},{})).data}(),function(e){try{e&&"string"==typeof e&&(e=JSON.parse(e)),m=e.meeting,p=e.agentAttendee,h=e.customerAttendee}catch(e){console.log("error parsing json",e)}}(v);const n=await e.getAgentConnection().getMediaController();setTimeout(C("Meeting Info: "+JSON.stringify(v.meeting),n),5e3),setTimeout(C("CustomerAttendee Info: "+JSON.stringify(v.customerAttendee),n),1e4),setTimeout(l("btn-toggle-video"),1e4)};function C(e,t){const n={message:e,contentType:"text/plain"};t.sendMessage(n)}function T(){b&&b.audioVideo.stop(),b=null,m=null,p=null,h=null,l("local-video-loader"),l("remote-video-loader"),d("agent-view"),u("btn-toggle-video").innerHTML="Join Video",d("btn-toggle-video")}async function _(){await f(m),T()}g={audioVideoDidStart:()=>{b&&b.audioVideo.startLocalVideoTile()},videoTileDidUpdate:e=>{const{videoElement:t,loader:n}=e.localTile?{videoElement:"help-desk-local-video",loader:"local-video-loader"}:{videoElement:"help-desk-remote-video",loader:"remote-video-loader"};b&&b.audioVideo.bindVideoElement(e.tileId,u(t)),d(n),l(t)},audioVideoDidStop:e=>{console.log("Audio video communication stopped",e)}}}]);